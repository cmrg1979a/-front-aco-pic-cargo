(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f0460"],{"9c55":function(t,s,a){"use strict";a.r(s);var e=a("c6a6"),o=a("8336"),r=a("b0af"),l=a("99d9"),i=a("ac7c"),u=a("4bd4"),c=a("132d"),d=a("67b6"),n=a("43a6"),g=a("2fa4"),b=a("b73d"),$=a("8654"),p=function(){var t=this,s=t._self._c;return s(r["a"],[s(l["d"],{attrs:{"primary-title":""}},[t._v(" "+t._s(t.getName())+" "),s(g["a"]),s(o["a"],{attrs:{icon:"",color:"default"},on:{click:function(s){t.$store.state.subgasto.drawer=!t.$store.state.subgasto.drawer}}},[s(c["a"],[t._v("mdi-close")])],1)],1),"filter"==t.$store.state.subgasto.tipo?s(l["c"],[s("div",{staticClass:"col-12 py-1"},[s(e["a"],{attrs:{label:"Tipo de Gasto",items:t.$store.state.gastos.list,"item-text":"description","item-value":"id",clearable:""},model:{value:t.$store.state.subgasto.filtros.id_gasto,callback:function(s){t.$set(t.$store.state.subgasto.filtros,"id_gasto",s)},expression:"$store.state.subgasto.filtros.id_gasto"}})],1),s("div",{staticClass:"col-12 py-1"},[s($["a"],{attrs:{label:"Código",clearable:"ver"!=t.$store.state.subgasto.tipo},model:{value:t.$store.state.subgasto.filtros.code,callback:function(s){t.$set(t.$store.state.subgasto.filtros,"code",s)},expression:"$store.state.subgasto.filtros.code"}})],1),s("div",{staticClass:"col-12 py-1"},[s($["a"],{attrs:{label:"Descripción",clearable:"ver"!=t.$store.state.subgasto.tipo},model:{value:t.$store.state.subgasto.filtros.description,callback:function(s){t.$set(t.$store.state.subgasto.filtros,"description",s)},expression:"$store.state.subgasto.filtros.description"}})],1),s("div",{staticClass:"col-12 py-1"},[s("span",[t._v(" Se calcula en Reportes")]),s(n["a"],{attrs:{row:"",dense:""},model:{value:t.$store.state.subgasto.filtros.calculoflag,callback:function(s){t.$set(t.$store.state.subgasto.filtros,"calculoflag",s)},expression:"$store.state.subgasto.filtros.calculoflag"}},[s(d["a"],{attrs:{label:"Si",color:"green",value:!0}}),s(d["a"],{attrs:{label:"No",color:"red",value:!1}}),s(d["a"],{attrs:{label:"Todos",color:"blue",value:"null"}})],1)],1),s("div",{staticClass:"col-12 py-1"},[s("span",[t._v(" Se muestra en Reportes")]),s(n["a"],{attrs:{row:"",dense:""},model:{value:t.$store.state.subgasto.filtros.mostrarflag,callback:function(s){t.$set(t.$store.state.subgasto.filtros,"mostrarflag",s)},expression:"$store.state.subgasto.filtros.mostrarflag"}},[s(d["a"],{attrs:{label:"Si",color:"green",value:!0}}),s(d["a"],{attrs:{label:"No",color:"red",value:!1}}),s(d["a"],{attrs:{label:"Todos",color:"blue",value:"null"}})],1)],1),s("div",{staticClass:"col-12 py-1"},[s("span",[t._v(" Estado")]),s(n["a"],{attrs:{row:"",dense:""},model:{value:t.$store.state.subgasto.filtros.status,callback:function(s){t.$set(t.$store.state.subgasto.filtros,"status",s)},expression:"$store.state.subgasto.filtros.status"}},[s(d["a"],{attrs:{label:"Activo",color:"green",value:!0}}),s(d["a"],{attrs:{label:"Inactivo",color:"red",value:!1}}),s(d["a"],{attrs:{label:"Todos",color:"blue",value:"null"}})],1)],1)]):s(l["c"],[s(u["a"],{ref:"frmDML"},[s("div",{staticClass:"col-12 py-1"},[s(e["a"],{attrs:{label:"Tipo de Gasto (*)",items:t.$store.state.gastos.list,"item-text":"description","item-value":"id",rules:[t=>!!t||"Dato Requerido"],readonly:"ver"==t.$store.state.subgasto.tipo,"item-disabled":t=>!t.status},model:{value:t.$store.state.subgasto.model.id_gasto,callback:function(s){t.$set(t.$store.state.subgasto.model,"id_gasto",s)},expression:"$store.state.subgasto.model.id_gasto"}})],1),s("div",{staticClass:"col-12 py-1"},[s($["a"],{attrs:{readonly:"nuevo"!=t.$store.state.subgasto.tipo,label:"Código (*)","error-messages":t.err,rules:[t=>!!t||"Dato Requerido",t=>!!t&&t.length<=5||"El codigo no puede exceder los 5 caracteres."]},on:{blur:function(s){return t.validateCodigo()}},model:{value:t.$store.state.subgasto.model.code,callback:function(s){t.$set(t.$store.state.subgasto.model,"code",s)},expression:"$store.state.subgasto.model.code"}})],1),s("div",{staticClass:"col-12 py-1"},[s($["a"],{attrs:{readonly:"ver"==t.$store.state.subgasto.tipo,label:"Descripción (*)",clearable:"ver"!=t.$store.state.subgasto.tipo,rules:[t=>!!t||"Dato Requerido",t=>!!t&&t.length<=50||"La descripción no puede exceder los 50 caracteres."]},model:{value:t.$store.state.subgasto.model.description,callback:function(s){t.$set(t.$store.state.subgasto.model,"description",s)},expression:"$store.state.subgasto.model.description"}})],1),s("div",{staticClass:"col-12 py-1"},[s(i["a"],{attrs:{label:"Se calcula en Reportes"},model:{value:t.$store.state.subgasto.model.calculoflag,callback:function(s){t.$set(t.$store.state.subgasto.model,"calculoflag",s)},expression:"$store.state.subgasto.model.calculoflag"}})],1),s("div",{staticClass:"col-12 py-1"},[s(i["a"],{attrs:{label:"Se Muestra en Reportes"},model:{value:t.$store.state.subgasto.model.mostrarflag,callback:function(s){t.$set(t.$store.state.subgasto.model,"mostrarflag",s)},expression:"$store.state.subgasto.model.mostrarflag"}})],1),s("div",{staticClass:"col-12 py-1"},[s("span",[t._v(" Estado")]),s(b["a"],{attrs:{readonly:"ver"==t.$store.state.subgasto.tipo,label:"Estado: "+(t.$store.state.subgasto.model.status?"Activo":"Inactivo"),color:"success"},model:{value:t.$store.state.subgasto.model.status,callback:function(s){t.$set(t.$store.state.subgasto.model,"status",s)},expression:"$store.state.subgasto.model.status"}})],1)])],1),s(l["a"],[s(g["a"]),"filter"==t.$store.state.subgasto.tipo?s(o["a"],{staticClass:"mx-1",attrs:{color:"success",loading:t.loading},on:{click:function(s){return t.Filtrar()}}},[t._v("Aceptar")]):t._e(),"filter"==t.$store.state.subgasto.tipo?s(o["a"],{staticClass:"mx-1",attrs:{color:"default",loading:t.loading},on:{click:function(s){return t.Limpiar()}}},[t._v("Limpiar")]):t._e(),"filter"!=t.$store.state.subgasto.tipo&&"ver"!=t.$store.state.subgasto.tipo?s(o["a"],{staticClass:"mx-1",attrs:{color:"success",loading:t.loading},on:{click:function(s){return t.Aceptar()}}},[t._v("Aceptar")]):t._e(),s(o["a"],{staticClass:"mx-1",attrs:{color:"warning",loading:t.loading},on:{click:function(s){t.$store.state.subgasto.drawer=!t.$store.state.subgasto.drawer}}},[t._v("Cerrar")])],1)],1)},f=[],m=a("2f62"),v={data(){return{loading:!1,loadingEstado:!1,loadingCity:!1,model:"",err:""}},methods:{...Object(m["b"])(["GetListSubGasto","getValidateCodeSubGasto","setSubGasto","ActualizarSubGasto"]),getName(){return"ver"==this.$store.state.subgasto.tipo?`Tipo de Subgasto ${this.model.description} – Modo Vista`:"nuevo"==this.$store.state.subgasto.tipo?"Nuevo Tipo de Subgasto":"editar"==this.$store.state.subgasto.tipo?"Modificar Tipo Subgasto: "+this.model.description:"filter"==this.$store.state.subgasto.tipo?"Filtrar Registros":void 0},async Filtrar(){this.loading=!0,await this.GetListSubGasto(),this.loading=!1,this.$store.state.subgasto.drawer=!this.$store.state.subgasto.drawer},async Limpiar(){this.$store.state.subgasto.filtros={id:"",id_gasto:"",code:"",description:"",status:!0,id_branch:"",calculoflag:"null",mostrarflag:"null"},this.loading=!0,await this.GetListSubGasto(),this.loading=!1,this.$store.state.subgasto.drawer=!this.$store.state.subgasto.drawer},async validateCodigo(){if(this.err="","nuevo"==this.$store.state.subgasto.tipo){let t=await this.getValidateCodeSubGasto();this.err=t.mensaje,t.estadoflag&&(this.$store.state.subgasto.model.code="")}},async Aceptar(){"nuevo"==this.$store.state.subgasto.tipo&&this.$refs.frmDML.validate()&&(this.loading=!0,await this.setSubGasto(),await this.GetListSubGasto(),this.loading=!1),"editar"==this.$store.state.subgasto.tipo&&(this.loading=!0,this.$refs.frmDML.validate()&&(await this.ActualizarSubGasto(),await this.GetListSubGasto()),this.loading=!1),"ver"==this.$store.state.subgasto.tipo&&(this.$store.state.subgasto.drawer=!this.$store.state.subgasto.drawer)}},computed:{drawer:{get(){return this.$store.state.subgasto.drawer},set(t){return this.$store.state.subgasto.drawer=drawer}}},watch:{drawer(){this.model={...this.$store.state.subgasto.model},this.$refs.frmDML.resetValidation()}}},h=v,w=a("2877"),C=Object(w["a"])(h,p,f,!1,null,null,null);s["default"]=C.exports}}]);