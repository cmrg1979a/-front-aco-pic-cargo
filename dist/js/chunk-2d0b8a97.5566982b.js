(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b8a97"],{3048:function(e,t,a){"use strict";a.r(t);var o=a("8336"),n=a("62ad"),s=a("a523"),r=a("8fea"),c=a("23a7"),i=a("0fd9"),l=function(){var e=this,t=e._self._c;return t(s["a"],{attrs:{fluid:""}},[1==e.step?t(i["a"],[t(n["a"],{attrs:{cols:"6"}},[t(c["a"],{attrs:{id:"excel"},on:{change:function(t){return e.obtenerDatosExcel()}}}),t(o["a"],{attrs:{color:"success",disabled:0==e.items.length},on:{click:function(t){return e.generar()}}},[e._v("Generar")])],1),t(n["a"],{attrs:{cols:"6"}},[t(r["a"],{attrs:{headers:e.headers,items:e.items,dense:""}})],1)],1):e._e(),2==e.step?t(i["a"],[t(r["a"],{attrs:{headers:e.headersStep2,items:e.$store.state.consolidacion.lstConsolidacion,dense:""}}),t(o["a"],{attrs:{color:"success"},on:{click:function(t){e.step=1}}},[e._v("Volver")])],1):e._e()],1)},h=[],d=(a("14d9"),a("e9f5"),a("7d54"),a("8134")),u=a("c1df"),f=a.n(u),p=a("2f62"),m={data(){return{step:1,files:null,headers:[{text:"Fecha",value:"fecha"},{text:"Nro Operación",value:"nroop"},{text:"Monto",value:"monto"}],items:[],headersStep2:[{text:"Fecha/ PIC",value:"fecha_operacion_sistema"},{text:"Fecha/ Banco",value:"fecha_operacion_banco"},{text:"Proveedor",value:"name_proveedor"},{text:"Ingreso/ PIC",value:"monto_sistema"},{text:"Ingreso/ Banco",value:"monto_banco"},{text:"Nro Operación ",value:"nro_operacion"}],consolidacion:[]}},methods:{...Object(p["b"])(["generarConsolidacion"]),obtenerDatosExcel(){const e=document.getElementById("excel");try{Object(d["a"])(e.files[0]).then(e=>{this.guardarDatos(e)})}catch(t){console.error(t)}},guardarDatos(e){let t=f()(new Date).format("YYYY"),a="",o="";e.forEach(e=>{a=e[33].toString(),o="-"==a.substring(a.length-1,a.length)?"-"+a.replace(",","").substring(0,a.length-1):e[33],this.items.push({fecha:e[0]+"-"+t,nroop:e[18],monto:parseFloat(o).toFixed(4)})})},async generar(){let e=this.items.sort((e,t)=>e.fecha<t.fecha?-1:e.fecha>t.fecha?1:0);await this.generarConsolidacion({fecha_inicio:f()(e[0].fecha).format("YYYY-MM-DD"),fecha_fin:f()(e[e.length-1].fecha).format("YYYY-MM-DD"),cost:this.items})}}},g=m,v=a("2877"),_=Object(v["a"])(g,l,h,!1,null,null,null);t["default"]=_.exports}}]);