(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fca2392"],{"17b3":function(t,e,a){},"891e":function(t,e,a){"use strict";a("17b3");var i=a("9d26"),o=a("dc22"),s=a("a9ad"),l=a("de2c"),n=a("7560"),r=a("58df");e["a"]=Object(r["a"])(s["a"],Object(l["a"])({onVisible:["init"]}),n["a"]).extend({name:"v-pagination",directives:{Resize:o["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:t=>t%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return{"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled,...this.themeClasses}},items(){const t=parseInt(this.totalVisible,10);if(0===t||isNaN(this.length)||this.length>Number.MAX_SAFE_INTEGER)return[];const e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);const a=e%2===0?1:0,i=Math.floor(e/2),o=this.length-i+1+a;if(this.value>i&&this.value<o){const t=1,e=this.length,o=this.value-i+2,s=this.value+i-2-a,l=o-1===t+1?2:"...",n=s+1===e-1?s+1:"...";return[1,l,...this.range(o,s),n,this.length]}if(this.value===i){const t=this.value+i-1-a;return[...this.range(1,t),"...",this.length]}if(this.value===o){const t=this.value-i+1;return[1,"...",...this.range(t,this.length)]}return[...this.range(1,i),"...",...this.range(o,this.length)]}},watch:{value(){this.init()}},beforeMount(){this.init()},methods:{init(){this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout(()=>this.selected=this.value,100)},onResize(){const t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(t,e){const a=[];t=t>0?t:1;for(let i=t;i<=e;i++)a.push(i);return a},genIcon(t,e,a,o,s){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":a},attrs:{disabled:a,type:"button","aria-label":s},on:a?{}:{click:o}},[t(i["a"],[e])])])},genItem(t,e){const a=e===this.value&&(this.color||"primary"),i=e===this.value,o=i?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(a,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":i,"aria-label":this.$vuetify.lang.t(o,e)},on:{click:()=>this.$emit("input",e)}}),[e.toString()])},genItems(t){return this.items.map((e,a)=>t("li",{key:a},[isNaN(Number(e))?t("span",{class:"v-pagination__more"},[e.toString()]):this.genItem(t,e)]))},genList(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render(t){const e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}})},cba6:function(t,e,a){"use strict";a.r(e);var i=a("c6a6"),o=a("8336"),s=a("b0af"),l=a("99d9"),n=a("62ad"),r=a("a523"),c=a("169a"),u=a("4bd4"),d=a("132d"),p=a("891e"),h=a("0fd9"),m=a("2fa4"),v=a("8654"),g=function(){var t=this,e=t._self._c;return e(r["a"],{attrs:{fluid:""}},[e(h["a"],[e(n["a"],{attrs:{cols:"12"}},[e(p["a"],{attrs:{length:2,circle:""},model:{value:t.opcionCalculadora,callback:function(e){t.opcionCalculadora=e},expression:"opcionCalculadora"}})],1),e(n["a"],{attrs:{cols:"12",md:"12"}},[e("p",{staticStyle:{padding:"0 0 0 10%","text-transform":"uppercase","font-weight":"bold"}},[t._v(" Costos: "),e(o["a"],{attrs:{color:"info",icon:""},on:{click:function(e){return t.abrirModalNuevoCosto({tipo:1})}}},[e(d["a"],[t._v("mdi-plus")])],1)],1),t._l(t.$store.state.calculadoras.lstTipoCosto,(function(a,i){return e("ExpandMontos",{key:i,staticClass:"py-1",attrs:{tipo:a,id:"TipoCostoCostos"+i,lstMontos:t.getCosto({tipo:a.id})}})}))],2)],1),e(c["a"],{attrs:{persistent:"","max-width":"40%"},model:{value:t.dialogNuevoCosto,callback:function(e){t.dialogNuevoCosto=e},expression:"dialogNuevoCosto"}},[e(s["a"],[e(l["d"],[t._v(" Nuevo Concepto - Opción "+t._s(t.opcionCalculadora))]),e(l["c"],[e(u["a"],{ref:"frmConcepto"},[e(h["a"],[e(n["a"],{attrs:{cols:"12"}},[e(i["a"],{attrs:{dense:"",label:"Servicio",placeholder:"Servicio",items:t.$store.state.calculadoras.lstServicio,"item-value":"id","item-text":"descripcion",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.id_service,callback:function(e){t.id_service=e},expression:"id_service"}})],1),e(n["a"],{attrs:{cols:"12"}},[e(i["a"],{attrs:{dense:"",label:"Sección",placeholder:"Sección",items:t.$store.state.calculadoras.lstTipoCosto,"item-value":"id","item-text":"nombre",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.id_tipocosto,callback:function(e){t.id_tipocosto=e},expression:"id_tipocosto"}})],1),e(n["a"],{attrs:{cols:"12"}},[e(v["a"],{attrs:{dense:"",label:"Concepto",placeholder:"Concepto",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.concepto,callback:function(e){t.concepto=e},expression:"concepto"}})],1),e(n["a"],{attrs:{cols:"12"}},[e(i["a"],{attrs:{dense:"",label:"Multiplcador",placeholder:"Multiplicador",items:t.$store.state.calculadoras.lstMultiplicador,"item-value":"id","item-text":"name",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.id_multiplicador,callback:function(e){t.id_multiplicador=e},expression:"id_multiplicador"}})],1),e(n["a"],{attrs:{cols:"12"}},[e(v["a"],{attrs:{dense:"",label:"Costo Unitado",placeholder:"Costo Unitario",rules:[t=>!!t||"Dato Requerido"],type:"number",step:"0.01"},model:{value:t.punitario,callback:function(e){t.punitario=e},expression:"punitario"}})],1),e(n["a"],{attrs:{cols:"12"}},[e(v["a"],{attrs:{dense:"",label:"Costo Mínimo ",placeholder:"Costo Mínimo",rules:[t=>!!t||"Dato Requerido"],type:"number",step:"0.01"},model:{value:t.pcostoMinimo,callback:function(e){t.pcostoMinimo=e},expression:"pcostoMinimo"}})],1),e(n["a"],{attrs:{cols:"12"}},[e(v["a"],{attrs:{type:"date",dense:"",label:"Fecha Validez",placeholder:"Fecha Validez",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.fechavalidez,callback:function(e){t.fechavalidez=e},expression:"fechavalidez"}})],1)],1)],1)],1),e(l["a"],[e(m["a"]),e(o["a"],{attrs:{small:"",color:"success",loading:t.loading},on:{click:t.guardarConcepto}},[t._v("Agregar Nuevo Costo")]),e(o["a"],{attrs:{small:"",color:"error"},on:{click:function(e){t.dialogNuevoCosto=!1}}},[t._v(" Cancelar ")])],1)],1)],1)],1)},f=[],b=a("2f62"),C=a("cd55"),_=a("49e2"),y=a("c865"),x=a("0393"),$=a("1f4f"),M=function(){var t=this,e=t._self._c;return e(r["a"],[e(x["a"],{attrs:{accordion:""}},[e(C["a"],[e(y["a"],[t._v(t._s(t.tipo.nombre))]),e(_["a"],[e($["a"],[e("thead",[e("tr",[e("th",[t._v("Multiplicador")]),e("th",[t._v("Concepto")]),e("th",[t._v("Monto")]),e("th",[t._v("Monto Mínimo")]),e("th",[t._v("Fecha Validez")]),e("th")])]),e("tbody",t._l(t.lstMontos,(function(a,s){return e("tr",{key:s},[e("td",[e(i["a"],{attrs:{dense:"",items:t.$store.state.calculadoras.lstMultiplicador,"item-value":"id","item-text":"name",rules:[t=>!!t||"Dato Requerido"],"hide-details":"",disabled:a.bloqueadoflag},model:{value:a.id_multiplicador,callback:function(e){t.$set(a,"id_multiplicador",e)},expression:"Monto.id_multiplicador"}})],1),e("td",[e(v["a"],{attrs:{dense:"","hide-details":"",disabled:a.bloqueadoflag},model:{value:a.concepto,callback:function(e){t.$set(a,"concepto",e)},expression:"Monto.concepto"}})],1),e("td",[e(v["a"],{attrs:{dense:"","hide-details":"",type:"number",disabled:a.bloqueadoflag},model:{value:a.punitario,callback:function(e){t.$set(a,"punitario",e)},expression:"Monto.punitario"}})],1),e("td",[e(v["a"],{attrs:{dense:"","hide-details":"",disabled:a.bloqueadoflag,type:"number"},model:{value:a.costominimo,callback:function(e){t.$set(a,"costominimo",e)},expression:"Monto.costominimo"}})],1),e("td",[e(v["a"],{attrs:{dense:"","hide-details":"",type:"date",disabled:a.bloqueadoflag},model:{value:a.fechavalidez,callback:function(e){t.$set(a,"fechavalidez",e)},expression:"Monto.fechavalidez"}})],1),e("td",[a.bloqueadoflag?e(o["a"],{attrs:{icon:"",small:"",color:"info"},on:{click:function(t){a.bloqueadoflag=!1}}},[e(d["a"],[t._v("mdi-pencil")])],1):e(o["a"],{attrs:{icon:"",small:"",color:"warning"},on:{click:function(e){return t.actualizarCosto(a)}}},[e(d["a"],[t._v("mdi-content-save")])],1),e(o["a"],{attrs:{icon:"",small:"",color:"error"},on:{click:function(e){return t.elimimarCosto(a)}}},[e(d["a"],[t._v("mdi-delete")])],1)],1)])})),0)])],1)],1)],1)],1)},k=[],z=a("3d20"),N=a.n(z),E={props:{lstMontos:{type:Array,default:()=>[]},tipo:{type:Object,default:{}}},methods:{...Object(b["b"])(["ActualizarCosto","EliminarCosto"]),actualizarCosto(t){this.ActualizarCosto(t)},elimimarCosto(t){N.a.fire({icon:"error",title:"Eliminar",text:"Desea Eliminar Registro.",showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonText:"Si, Eliminar",allowEnterKey:!1,allowOutsideClick:!1,allowEscapeKey:!1}).then(e=>{e.isConfirmed&&this.EliminarCosto(t)})}}},w=E,S=a("2877"),L=Object(S["a"])(w,M,k,!1,null,"6a05ee6d",null),q=L.exports,A={components:{ExpandMontos:q},props:{type:{default:"FCL",type:String},id_modality:{default:1,type:Number}},data(){return{dialogNuevoCosto:!1,id_service:null,id_tipocosto:null,concepto:null,id_multiplicador:null,punitario:null,pcostoMinimo:null,fechavalidez:null,EsCostoFlag:!0,EsVentaFlag:!0,loading:!1}},methods:{...Object(b["b"])(["PostCalcCosto"]),abrirModalNuevoCosto({tipo:t=1}){this.dialogNuevoCosto=!0,this.$refs.frmConcepto.reset(),this.EsCostoFlag=!0},getCosto({tipo:t=null}){let e=[...this.$store.state.calculadoras.lstCostos];return e.filter(e=>e.id_tipocosto==t&&e.opcion==this.$store.state.calculadoras.opcionCalculadora&&e.escostoflag)},getVenta({tipo:t=null}){let e=[...this.$store.state.calculadoras.lstCostos];return e.filter(e=>e.id_tipocosto==t&&e.opcion==this.$store.state.calculadoras.opcionCalculadora&&e.esventaflag)},async guardarConcepto(){if(this.$refs.frmConcepto.validate()){let t={id_service:this.id_service,id_tipocosto:this.id_tipocosto,concepto:this.concepto,id_multiplicador:this.id_multiplicador,unitario:this.punitario,costominimo:this.pcostoMinimo,fechavalidez:this.fechavalidez,opcion:this.$store.state.calculadoras.opcionCalculadora,EsCostoFlag:this.EsCostoFlag,EsVentaFlag:this.EsVentaFlag};this.loading=!0,await this.PostCalcCosto(t),this.loading=!1,this.dialogNuevoCosto=!1}}},computed:{opcionCalculadora:{get(){return this.$store.state.calculadoras.opcionCalculadora},set(t){this.$store.commit("setOpcion",t)}}}},I=A,R=Object(S["a"])(I,g,f,!1,null,null,null);e["default"]=R.exports}}]);