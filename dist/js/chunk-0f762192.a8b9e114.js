(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f762192"],{"1d7b":function(t,e,i){"use strict";var a=i("c6a6"),s=function(){var t=this,e=t._self._c;return e(a["a"],{attrs:{items:t.itemsPais,"auto-select-first":t.autoSelectFirst,chips:t.chips,clearable:t.clearable,"deletable-chips":t.deletableChips,multiple:t.multiple,"small-chips":t.smallChips,dense:t.dense,filled:t.filled,rounded:t.rounded,solo:t.solo,outlined:t.outlined,"item-value":"id","item-text":"name",label:"País","hide-details":!t.errorPais,"error-messages":t.errorPais},on:{change:function(e){return t.$emit("paisSeleccionado",t.id)}},model:{value:t.id,callback:function(e){t.id=e},expression:"id"}})},o=[],r=i("2f62"),n={props:{errorPais:{type:String,default:""},autoSelectFirst:{type:Boolean,default:!1},chips:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},deletableChips:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},smallChips:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},filled:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},solo:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1},newId:{type:Number,default:null}},data(){return{id:""}},async mounted(){await this._getPais()},methods:{...Object(r["b"])(["_getPais"])},computed:{...Object(r["c"])(["itemsPais"])},watch:{newId(){this.newId&&(this.id=this.newId)},errorPais(){this.$forceUpdate()}}},l=n,c=i("2877"),d=Object(c["a"])(l,s,o,!1,null,null,null);e["a"]=d.exports},"318f":function(t,e,i){"use strict";i("3b4a")},"36b9":function(t,e,i){"use strict";i("8a72")},"3b4a":function(t,e,i){},"5c39":function(t,e,i){"use strict";i("84a0")},"6d1b":function(t,e,i){},"82a7":function(t,e,i){"use strict";i("f00e")},"84a0":function(t,e,i){},"8a72":function(t,e,i){},"915d":function(t,e,i){"use strict";i("6d1b")},"971e":function(t,e,i){},ba38:function(t,e,i){"use strict";i.r(e);var a=i("8336"),s=i("b0af"),o=i("62ad"),r=i("a523"),n=i("169a"),l=i("ce7e"),c=i("132d"),d=i("0fd9"),m=i("7e85"),u=i("e516"),p=i("9c54"),h=i("56a4"),f=function(){var t=this,e=t._self._c;return e("div",{},[t.dialog?t._e():e(r["a"],{staticClass:"pt-0 mt-0 pb-0 altContainer",staticStyle:{height:"120vh"},attrs:{fluid:""}},[e(m["a"],{attrs:{"alt-labels":""},model:{value:t.e1,callback:function(e){t.e1=e},expression:"e1"}},[e(p["a"],[e(h["a"],{attrs:{step:"1",complete:t.e1>1,editable:t.editarEmpresa}},[e("center",[t._v("CONFIGURA TU EMPRESA")])],1),e(l["a"]),e(h["a"],{attrs:{step:"2",complete:t.e1>2,editable:t.editarProveedor}},[e("center",[t._v("CONFIGURACIÓN PROVEEDORES")])],1),e(l["a"]),e(h["a"],{attrs:{step:"3",complete:t.e1>3,editable:t.editarCliente}},[e("center",[t._v("CONFIGURACIÓN CLIENTES")])],1),e(l["a"]),e(h["a"],{attrs:{step:"4",complete:t.e1>4,editable:t.editarConfig}},[e("center",[t._v("CONFIGURACIÓN DE SERVICIO")])],1)],1),e(p["b"],[e(u["a"],{attrs:{step:"1"}},[1==t.e1?e("ConfiguraciónDatosEmpresaComponent",{on:{GuardarDatosEmpresa:function(e){return t.guardarDatosEmpresa()},omitir:function(e){return t.omitirStep()}}}):t._e()],1),e(u["a"],{attrs:{step:"2"}},[2==t.e1?e("ConfiguracionCargaProveedorComponent",{on:{continuarClientes:function(e){return t.continuarStepClientes()},omitir:function(e){return t.omitirStep()},regresar:function(e){return t.regresarStep()}}}):t._e()],1),e(u["a"],{attrs:{step:"3"}},[3==t.e1?e("ConfiguracionCargaClienteComponent",{on:{continuarConfigurarTarifario:function(e){return t.continuarStepConfigurarTarifario()},omitir:function(e){return t.omitirStep()},regresar:function(e){return t.regresarStep()}}}):t._e()],1),e(u["a"],{attrs:{step:"4"}},[4==t.e1?e("ConfiguracionCostosComponent",{on:{finalizar:function(e){return t.finalizar()},omitir:function(e){return t.omitirStep()},regresar:function(e){return t.regresarStep()}}}):t._e()],1)],1)],1),t.dialog?t._e():e(d["a"],{staticClass:"btn-actions py-5"},[e(o["a"],{staticClass:"mt-info mt-5",attrs:{cols:"1"}},[e("BotonChateaConNosotros")],1)],1)],1),e(n["a"],{attrs:{scrollable:"",fullscreen:"",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(s["a"],[e(d["a"],{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[e(o["a"],{attrs:{cols:"12",md:"8"}},[e("div",{staticStyle:{"text-align":"center",padding:"auto"}},[e("h1",{staticClass:"my-3",staticStyle:{"font-weight":"normal"}},[t._v(" Hola, queremos conocer tu negocio. ")]),e("p",{staticClass:"my-3"},[t._v("Te llevará menos de 2 minutos")]),e(a["a"],{staticClass:"my-3",attrs:{color:"info"},on:{click:function(e){t.dialog=!t.dialog}}},[t._v(" Comenzar ")]),e("p",[e(c["a"],[t._v("mdi-clock")]),t._v(" Dura 1 minuto 30 segundos")],1)],1)])],1)],1)],1)],1)},g=[],_=function(){var t=this,e=t._self._c;return e(a["a"],{staticClass:"mt-10 py-6 btnChatea",attrs:{color:"success",fixed:"",bottom:"",right:""},on:{click:function(e){return t.abriChat()}}},[e(c["a"],{staticClass:"mx-5",attrs:{"x-large":""}},[t._v("mdi-whatsapp")]),t._v(" Chatea con nosotros ")],1)},C=[],v={data(){return{numero:"51998146389"}},methods:{abriChat(){let t=`https://api.whatsapp.com/send/?phone=${this.numero}&text=Hola, ACO. Me gustaría contactar con alguien&type=phone_number&app_absent=0`;window.open(t)}}},x=v,b=(i("915d"),i("2877")),E=Object(b["a"])(x,_,C,!1,null,"091c44fc",null),y=E.exports,S=i("99d9"),$=i("8fea"),k=i("23a7"),w=i("2fa4"),O=function(){var t=this,e=t._self._c;return e(d["a"],[t.subirCliente?e(o["a"],{staticClass:"my-1",attrs:{cols:"12"}},[e(d["a"],[e(o["a"],{attrs:{cols:"8"}},[e(c["a"],{attrs:{size:"40",color:"red"}},[t._v("mdi-alert")]),t._v(" Encuentra los pasos a seguir en el tutorial adjunto ")],1),e(o["a"],{attrs:{cols:"4"}},[e(a["a"],{attrs:{color:"#5E9AD6",dark:"",small:""},on:{click:function(e){t.dialog=!0}}},[t._v(" Ver Tutorial ")])],1),e(s["a"],[e(S["d"],[t._v(" LISTADO DE CLIENTES "),e(w["a"]),e(a["a"],{staticClass:"mx-1",attrs:{color:"#7d8288",dark:"","x-small":""},on:{click:function(e){return t.descargarFormato()}}},[t._v(" Descargar Plantilla ")]),e(a["a"],{staticClass:"mx-1",attrs:{color:"#062c52",dark:"","x-small":""},on:{click:function(e){return t.openFileInput()}}},[t._v(" Cargar Clientes ")]),e(k["a"],{staticStyle:{display:"none"},attrs:{id:"fileInput",accept:".xlsx, .xls"},on:{change:t.handleFileChange},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}})],1),e($["a"],{staticClass:"elevation-5",attrs:{headers:t.headers,items:t.$store.state.configEmpresa.lstClientes,"pagination.sync":"pagination","item-key":"index"},scopedSlots:t._u([{key:"item.action",fn:function({item:i,index:s}){return[e(a["a"],{attrs:{icon:"",color:"red"},on:{click:function(e){return t.eliminar(s)}}},[e(c["a"],[t._v("mdi-delete")])],1)]}}],null,!0)})],1)],1)],1):e(d["a"],{staticClass:"mx-1 my-1"},[e(o["a"],{attrs:{cols:"12",md:"6","offset-md":"4"}},[e("div",{staticStyle:{"text-align":"center"}},[e(c["a"],{staticStyle:{color:"#f57c00"},attrs:{"x-large":""}},[t._v("mdi-account")])],1),e("div",{staticStyle:{"text-align":"center"}},[e("h2",{staticStyle:{color:"#f57c00"}},[t._v("CARGA MASIVA DE CLIENTES")])]),e("div",{},[e("table",[e("tr",[e("td",{staticStyle:{"text-align":"left","vertical-align":"top"}},[e(c["a"],{staticStyle:{color:"#1976d2"}},[t._v("mdi-check-circle")])],1),e("td",{staticStyle:{"text-align":"justify","vertical-align":"top"}},[t._v(" Permite subir todos los clientes de una sola vez. ")])]),e("tr",[e("td",{staticStyle:{"text-align":"left","vertical-align":"top"}},[e(c["a"],{staticStyle:{color:"#1976d2"}},[t._v("mdi-check-circle")])],1),e("td",{staticStyle:{"text-align":"justify","vertical-align":"top"}},[t._v(" Te entregamos una plantilla para hacerlo ")])]),e("tr",[e("td",{staticStyle:{"text-align":"left","vertical-align":"top"}},[e(c["a"],{staticStyle:{color:"#1976d2"}},[t._v("mdi-check-circle")])],1),e("td",{staticStyle:{"text-align":"justify","vertical-align":"top"}},[t._v(" Ahorra tiempo y trabajo en próximas configuraciones. ")])]),e("tr",[e("td",{staticStyle:{"text-align":"left","vertical-align":"top"}},[e(c["a"],{staticStyle:{color:"#388e3c"}},[t._v("mdi-check-circle")])],1),e("td",{staticStyle:{"text-align":"justify","vertical-align":"top"}},[t._v(" Ideal si ya tienes tu base de datos lista. ")])]),e("tr",[e("td",{staticStyle:{"text-align":"left","vertical-align":"top"}},[e(c["a"],{staticStyle:{color:"#388e3c"}},[t._v("mdi-check-circle")])],1),e("td",{staticStyle:{"text-align":"justify","vertical-align":"top"}},[t._v(" Podrás cargar o modificar tus proveedores más adelante desde el módulo de ficheros. ")])])])]),e("div",{staticStyle:{"align-items":"center","align-content":"center","text-align":"center"}},[e(a["a"],{staticClass:"my-1 mx-1 button",attrs:{color:"#7E7E7E",dark:"","x-small":""},on:{click:function(e){t.subirCliente=!t.subirCliente}}},[t._v(" CARGA MASIVA ")]),e(a["a"],{staticClass:"my-1 mx-1 buttonDosFilas",attrs:{color:"#1A237E",dark:"","x-small":""},on:{click:t.omitir}},[t._v(" CONTINUAR "),e("br",{staticClass:"ocultarPc"}),t._v(" LO HARÉ DESPUÉS ")])],1)])],1),e(o["a"],{staticStyle:{"text-align":"center"},attrs:{cols:"12",md:"6","offset-md":"4"}},[e(a["a"],{staticClass:"mx-5 mt-1 mb-10",attrs:{color:"#78909C",dark:""},on:{click:function(e){return t.$emit("regresar")}}},[t._v(" REGRESAR A LA ANTERIOR ")]),t.subirCliente?e(a["a"],{staticClass:"mx-10 mt-1 mb-10",attrs:{color:"#1A237E",dark:t.subirCliente},on:{click:function(e){return t.continuar()}}},[t._v(" Guardar y Continuar ")]):t._e()],1),t.dialog?e(n["a"],{attrs:{scrollable:"",persistent:"","max-width":"60%"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(s["a"],[e(S["d"],{attrs:{"primary-title":""}},[e(w["a"]),e(a["a"],{attrs:{icon:""},on:{click:function(e){t.dialog=!t.dialog}}},[e(c["a"],[t._v("mdi-close")])],1)],1),e(S["c"],[e("iframe",{attrs:{width:"800",height:"400",src:"https://www.youtube.com/embed/XHTTTYsE1UA",title:"Tutorial Carga Cliente",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""}})])],1)],1):t._e()],1)},I=[],N=(i("14d9"),i("e9f5"),i("ab43"),i("8134")),T=i("2f62"),A=i("3d20"),P=i.n(A),R={data(){return{dialog:!1,subirCliente:!1,headers:[{text:"Acción",value:"action"},{text:"TAX ID / RUC /  VAT / RIF",value:"document"},{text:"Razón social/Nombre Comercial",value:"nombre_completo"},{text:"Dirección",value:"direccion"},{text:"Email",value:"emailaddress"},{text:"Persona Contacto 1",value:"contacto_1"},{text:"Teléfono Contacto 1",value:"contacto_telf_1"},{text:"Persona Contacto 2",value:"contacto_2"},{text:"Teléfono Contacto 2",value:"contacto_telf_2"},{text:"Teléfono adicional 1",value:"telefono_1"},{text:"Teléfono adicional 2",value:"telefono_2"}],files:[],mostrarGuardar:!1,index_nombre_completo:0,index_nombre_fiscal:1,index_document:2,index_direccion:3,index_emailaddress:4,index_contacto_1:5,index_contacto_telf_1:6,index_contacto_2:7,index_contacto_telf_2:8,index_telefono_1:9,index_telefono_2:10,loading:!1}},methods:{...Object(T["b"])(["actualizarDatoCMCliente","OmitirConfiguracionCost"]),omitir(){this.$store.state.enterprises.datoClienteFlag=!1,this.$store.state.enterprises.step++,this.$store.state.enterprises.inicioFlag=!0},scrollToSubirCostos(){window.scrollTo({top:0,behavior:"smooth"})},async continuar(){if(this.scrollToSubirCostos(),this.$store.state.dialogProcessing=!0,this.$store.state.configEmpresa.lstClientes.length>0){for(const t of this.dividirEnSubconjuntos())await this.actualizarDatoCMCliente(t);P.a.fire({icon:"success",text:"Registro Correcto",showCancelButton:!1,confirmButtonText:"Ok",allowEnterKey:!1,allowOutsideClick:!1,allowEscapeKey:!1}).then(t=>{t.isConfirmed&&(this.$emit("continuarConfigurarTarifario"),this.OmitirConfiguracionCost())})}else P.a.fire({icon:"warning",text:"NO HA CARGADO NINGUN ARCHIVO",showCancelButton:!1,confirmButtonText:"Ok",allowEnterKey:!1,allowOutsideClick:!1,allowEscapeKey:!1}).then(t=>{t.isConfirmed&&(this.$emit("continuarConfigurarTarifario"),this.OmitirConfiguracionCost())});this.$store.state.dialogProcessing=!1},omitir(){this.OmitirConfiguracionCost(),this.$emit("omitir")},dividirEnSubconjuntos(){const t=100,e=[];for(let i=0;i<this.$store.state.configEmpresa.lstClientes.length;i+=t)e.push(this.$store.state.configEmpresa.lstClientes.slice(i,i+t));return e},openFileInput(){let t=document.getElementById("fileInput");t&&(this.files=[],t.click())},descargarFormato(){window.open("https://api.agentedecargaonline.com/uploads/Formato Cliente.xlsx","_blank")},handleFileChange(){this.$store.state.configEmpresa.lstClientes=[],Object(N["a"])(this.files).then(t=>{this.procesarDatosCliente(t)}),this.mostrarGuardar=!0,this.files=[]},procesarDatosCliente(t){for(let e=0;e<t[0].length;e++)"document"==t[0][e]&&(this.index_document=e),"nombre_completo"==t[0][e]&&(this.index_nombre_completo=e),"nombre_fiscal"==t[0][e]&&(this.index_nombre_fiscal=e),"direccion"==t[0][e]&&(this.index_direccion=e),"emailaddress"==t[0][e]&&(this.index_emailaddress=e),"contacto_1"==t[0][e]&&(this.index_contacto_1=e),"contacto_telf_1"==t[0][e]&&(this.index_contacto_telf_1=e),"contacto_2"==t[0][e]&&(this.index_contacto_2=e),"contacto_telf_2"==t[0][e]&&(this.index_contacto_telf_2=e),"telefono_1"==t[0][e]&&(this.index_telefono_1=e),"telefono_2"==t[0][e]&&(this.index_telefono_2=e);for(let e=1;e<t.length;e++)this.$store.state.configEmpresa.lstClientes.push({document:t[e][this.index_document],nombre_completo:t[e][this.index_nombre_completo],nombre_fiscal:t[e][this.index_nombre_fiscal],direccion:t[e][this.index_direccion],emailaddress:t[e][this.index_emailaddress],contacto_1:t[e][this.index_contacto_1],contacto_telf_1:t[e][this.index_contacto_telf_1],contacto_2:t[e][this.index_contacto_2],contacto_telf_2:t[e][this.index_contacto_telf_2],telefono_1:t[e][this.index_telefono_1],telefono_2:t[e][this.index_telefono_2]});this.files=[]},eliminar(t){this.$store.state.configEmpresa.lstClientes.splice(t,1)}},mounted(){this.ids_modality=this.$store.state.pricing.listModality.map(t=>t.id),this.ids_shipment=this.$store.state.pricing.listShipment.map(t=>t.id),this.id_modality=this.ids_modality[0],this.id_shipment=this.ids_shipment[0]}},D=R,M=(i("36b9"),Object(b["a"])(D,O,I,!1,null,"cf1ca6a0",null)),F=M.exports,j=function(){var t=this,e=t._self._c;return e(d["a"],[t.subirProveedor?e(o["a"],{staticClass:"my-1",attrs:{cols:"12"}},[e(d["a"],[e(o["a"],{attrs:{cols:"8"}},[e(c["a"],{attrs:{size:"40",color:"red"}},[t._v("mdi-alert")]),t._v(" Encuentra los pasos a seguir en el tutorial adjunto ")],1),e(o["a"],{attrs:{cols:"4"}},[e(a["a"],{attrs:{color:"#5E9AD6",dark:"",small:""},on:{click:function(e){t.dialog=!0}}},[t._v(" Ver Tutorial ")])],1),e(o["a"],{attrs:{cols:"12"}},[e(s["a"],[e(S["d"],[t._v(" LISTADO DE PROVEEDORES "),e(w["a"]),e(a["a"],{staticClass:"mx-1",attrs:{color:"#7d8288",dark:"","x-small":""},on:{click:function(e){return t.descargarFormato()}}},[t._v(" Descargar Plantilla ")]),e(a["a"],{staticClass:"mx-1",attrs:{color:"#062c52",dark:"","x-small":""},on:{click:function(e){return t.openFileInput()}}},[t._v(" Cargar Proveedores ")]),e(k["a"],{staticStyle:{display:"none"},attrs:{id:"fileInput",accept:".xlsx, .xls"},on:{change:t.handleFileChange},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}})],1),e($["a"],{staticClass:"elevation-5",attrs:{headers:t.headers,items:t.$store.state.configEmpresa.lstProveedor,"pagination.sync":"pagination","item-key":"index"},scopedSlots:t._u([{key:"item.action",fn:function({item:i,index:s}){return[e(a["a"],{attrs:{icon:"",color:"red"},on:{click:function(e){return t.eliminar(s)}}},[e(c["a"],[t._v("mdi-delete")])],1)]}}],null,!0)})],1)],1)],1)],1):e(d["a"],{staticClass:"mx-1 my-1"},[e(o["a"],{attrs:{cols:"12",md:"6","offset-md":"4"}},[e("div",{staticStyle:{"text-align":"center"}},[e(c["a"],{staticStyle:{color:"#1a237e"},attrs:{"x-large":""}},[t._v("mdi-account")])],1),e("div",{staticStyle:{"text-align":"center"}},[e("h2",{staticStyle:{color:"#1a237e"}},[t._v("CARGA MASIVA DE PROVEEDORES")])]),e("div",{},[e("table",[e("tr",[e("td",{staticStyle:{"text-align":"left","vertical-align":"top"}},[e(c["a"],{staticStyle:{color:"#1976d2"}},[t._v("mdi-check-circle")])],1),e("td",{staticStyle:{"text-align":"justify","vertical-align":"top"}},[t._v(" Permite subir todos los proveedores de una sola vez ")])]),e("tr",[e("td",{staticStyle:{"text-align":"left","vertical-align":"top"}},[e(c["a"],{staticStyle:{color:"#1976d2"}},[t._v("mdi-check-circle")])],1),e("td",{staticStyle:{"text-align":"justify","vertical-align":"top"}},[t._v(" Te entregamos una plantilla para hacerlo ")])]),e("tr",[e("td",{staticStyle:{"text-align":"left","vertical-align":"top"}},[e(c["a"],{staticStyle:{color:"#1976d2"}},[t._v("mdi-check-circle")])],1),e("td",{staticStyle:{"text-align":"justify","vertical-align":"top"}},[t._v(" Se evita tener que añadirlos uno por uno después ")])]),e("tr",[e("td",{staticStyle:{"text-align":"left","vertical-align":"top"}},[e(c["a"],{staticStyle:{color:"#388e3c"}},[t._v("mdi-check-circle")])],1),e("td",{staticStyle:{"text-align":"justify","vertical-align":"top"}},[t._v(" Podrás cargar o modificar tus proveedores más adelante desde el módulo de ficheros. ")])])])]),e("div",{staticStyle:{"align-items":"center","align-content":"center","text-align":"center"}},[e(a["a"],{staticClass:"my-1 mx-1 button",attrs:{color:"#7E7E7E",dark:"","x-small":""},on:{click:function(e){t.subirProveedor=!t.subirProveedor}}},[t._v(" CARGA MASIVA ")]),e(a["a"],{staticClass:"my-1 mx-1 buttonDosFilas",attrs:{color:"#1A237E",dark:"","x-small":""},on:{click:function(e){return t.$emit("omitir")}}},[t._v(" CONTINUAR "),e("br",{staticClass:"ocultarPc"}),t._v(" LO HARÉ DESPUÉS ")])],1)])],1),e(o["a"],{staticStyle:{"text-align":"center"},attrs:{cols:"12",md:"6","offset-md":"4"}},[e(a["a"],{staticClass:"mx-5 mt-1 mb-10",attrs:{color:"#78909C",dark:""},on:{click:function(e){return t.$emit("regresar")}}},[t._v(" REGRESAR A LA ANTERIOR ")]),t.subirProveedor?e(a["a"],{staticClass:"mx-5 mt-1 mb-10",attrs:{color:"#1A237E",dark:t.subirProveedor},on:{click:function(e){return t.continuar()}}},[t._v(" Guardar y Continuar ")]):t._e()],1),t.dialog?e(n["a"],{attrs:{scrollable:"",persistent:"","max-width":"60%"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(s["a"],[e(S["d"],{attrs:{"primary-title":""}},[e(w["a"]),e(a["a"],{attrs:{icon:""},on:{click:function(e){t.dialog=!t.dialog}}},[e(c["a"],[t._v("mdi-close")])],1)],1),e(S["c"],[e("iframe",{attrs:{width:"800",height:"400",src:"https://www.youtube.com/embed/Vk07cXLM2vo",title:"Tutorial Carga Proveedor",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""}})])],1)],1):t._e()],1)},G=[],z={data(){return{dialog:!1,subirProveedor:!1,files:[],headers:[{text:"Acción",value:"action"},{text:"TAX ID / RUC /  VAT / RIF",value:"nro_documento"},{text:"Razón social/Nombre Comercial",value:"nombre_comercial"},{text:"Email",value:"email"},{text:"Persona Contacto 1",value:"contacto_1"},{text:"Teléfono Contacto 1",value:"contacto_telf_1"},{text:"Persona Contacto 2",value:"contacto_2"},{text:"Teléfono Contacto 2",value:"contacto_telf_2"},{text:"Dirección",value:"direccion"},{text:"Teléfono adicional 1",value:"telefono_1"},{text:"Teléfono adicional 2",value:"telefono_2"}],mostrarGuardar:!1,index_nombre_comercial:0,index_nro_documento:1,index_contacto_1:2,index_contacto_telf_1:3,index_contacto_2:4,index_contacto_telf_2:5,index_direccion:6,index_telefono_1:7,index_telefono_2:8,index_email:9,loading:!1,subconjuntos:[]}},methods:{...Object(T["b"])(["actualizarDatoCMProveedor"]),omitir(){this.$store.state.enterprises.datoProveedorFlag=!1,this.$store.state.enterprises.datoClienteFlag=!0},scrollToSubirCostos(){window.scrollTo({top:0,behavior:"smooth"})},async continuar(){if(this.scrollToSubirCostos(),this.$store.state.dialogProcessing=!0,this.$store.state.configEmpresa.lstProveedor.length>0){this.dividirEnSubconjuntos();for(const t of this.dividirEnSubconjuntos())await this.actualizarDatoCMProveedor(t);P.a.fire({icon:"success",text:"Registro Correcto",showCancelButton:!1,confirmButtonText:"Ok",allowEnterKey:!1,allowOutsideClick:!1,allowEscapeKey:!1}).then(t=>{t.isConfirmed&&this.$emit("continuarClientes")})}else P.a.fire({icon:"warning",text:"NO HA CARGADO NINGUN ARCHIVO",showCancelButton:!1,confirmButtonText:"Ok",allowEnterKey:!1,allowOutsideClick:!1,allowEscapeKey:!1}).then(t=>{t.isConfirmed&&this.$emit("continuarClientes")});this.$store.state.dialogProcessing=!1},descargarFormato(){window.open("https://api.agentedecargaonline.com/uploads/Formato Proveedor.xlsx","_blank")},dividirEnSubconjuntos(){const t=100,e=[];for(let i=0;i<this.$store.state.configEmpresa.lstProveedor.length;i+=t)e.push(this.$store.state.configEmpresa.lstProveedor.slice(i,i+t));return e},openFileInput(){let t=document.getElementById("fileInput");t&&(this.files=[],t.click())},handleFileChange(){this.$store.state.configEmpresa.lstProveedor=[],Object(N["a"])(this.files).then(t=>{this.procesarDatosProveedor(t)}),this.mostrarGuardar=!0,this.files=[]},procesarDatosProveedor(t){for(let e=0;e<t[0].length;e++)"nombre_comercial"==t[0][e]&&(this.index_nombre_comercial=e),"nro_documento"==t[0][e]&&(this.index_nro_documento=e),"contacto_1"==t[0][e]&&(this.index_contacto_1=e),"contacto_telf_1"==t[0][e]&&(this.index_contacto_telf_1=e),"contacto_2"==t[0][e]&&(this.index_contacto_2=e),"contacto_telf_2"==t[0][e]&&(this.index_contacto_telf_2=e),"direccion"==t[0][e]&&(this.index_direccion=e),"telefono_1"==t[0][e]&&(this.index_telefono_1=e),"telefono_2"==t[0][e]&&(this.index_telefono_2=e),"email"==t[0][e]&&(this.index_email=e);for(let e=1;e<t.length;e++)this.$store.state.configEmpresa.lstProveedor.push({nombre_comercial:t[e][this.index_nombre_comercial],nro_documento:t[e][this.index_nro_documento],contacto_1:t[e][this.index_contacto_1],contacto_telf_1:t[e][this.index_contacto_telf_1],contacto_2:t[e][this.index_contacto_2],contacto_telf_2:t[e][this.index_contacto_telf_2],direccion:t[e][this.index_direccion],telefono_1:t[e][this.index_telefono_1],telefono_2:t[e][this.index_telefono_2],email:t[e][this.index_email]});this.files=[]},eliminar(t){this.$store.state.configEmpresa.lstProveedor.splice(t,1)}},mounted(){this.ids_modality=this.$store.state.pricing.listModality.map(t=>t.id),this.ids_shipment=this.$store.state.pricing.listShipment.map(t=>t.id),this.id_modality=this.ids_modality[0],this.id_shipment=this.ids_shipment[0]}},B=z,U=(i("318f"),Object(b["a"])(B,j,G,!1,null,"25e1c5ca",null)),L=U.exports,V=i("c6a6"),H=i("ac7c"),q=i("4bd4"),K=i("b974"),X=i("8654"),J=(i("910d"),i("a732"),function(){var t=this,e=t._self._c;return e(r["a"],{attrs:{fluid:""}},[t.finalizar?e("div",{ref:"subirCostos"},[e(d["a"],[e(o["a"],{attrs:{cols:"12"}},[e("center",[e("p",{staticClass:"text-azul"},[t._v("4. CONFIGURACIÓN TARIFAS DE SERVICIO")])])],1),t.subirCostos?e(o["a"],{attrs:{cols:"12"}},[e(s["a"],{staticClass:"px-5 mb-3",attrs:{elevation:"2"}},[e(d["a"],[e(o["a"],{attrs:{cols:"12",lg:"8",xl:"8"}},[t._v(" TARIFAS SEGÚN TIPO DE SERVICIO ")]),e(o["a"],{attrs:{cols:"12",lg:"4",xl:"4"}},[e(a["a"],{staticClass:"my-2",attrs:{outlined:"",dense:"","hide-details":"",color:"success",small:""},on:{click:function(e){return t.abrirNuevoCosto()}}},[t._v(" Agregar nuevo Costo "),e(c["a"],{attrs:{color:"green"}},[t._v("mdi-plus")])],1)],1),e(o["a"],{attrs:{cols:"12",lg:"3",xl:"3"}},[e("b",[t._v("Modalidad: ")]),e("span",{staticClass:"description"},[t._v(" "+t._s(t.$store.state.pricing.listModality.filter(e=>e.id==t.id_modality)[0].name)+" ")])]),e(o["a"],{attrs:{cols:"12",lg:"3",xl:"3"}},[e("b",[t._v("Tipo de Carga: ")]),e("span",{staticClass:"description"},[t._v(" "+t._s(t.$store.state.pricing.listShipment.filter(e=>e.id==t.id_shipment)[0].code)+" ")])]),e(o["a"],{attrs:{cols:"12"}},[e($["a"],{staticClass:"elevation-1 table_costos",attrs:{headers:t.headers,items:t.$store.state.configEmpresa.lstCostos,"item-key":"id",loading:t.loadingTable,"hide-default-footer":"","items-per-page":20,"disable-sort":"",mobile:""},scopedSlots:t._u([{key:"item.exwflag",fn:function({item:i}){return[i.exwflag?e(c["a"],{attrs:{color:"green"}},[t._v("mdi-check-bold")]):e(c["a"],{attrs:{color:"red"}},[t._v("mdi-close")])]}},{key:"item.fcaflag",fn:function({item:i}){return[i.fcaflag?e(c["a"],{attrs:{color:"green"}},[t._v("mdi-check-bold")]):e(c["a"],{attrs:{color:"red"}},[t._v("mdi-close")])]}},{key:"item.fobflag",fn:function({item:i}){return[i.fobflag?e(c["a"],{attrs:{color:"green"}},[t._v("mdi-check-bold")]):e(c["a"],{attrs:{color:"red"}},[t._v("mdi-close")])]}},{key:"item.cfrflag",fn:function({item:i}){return[i.cfrflag?e(c["a"],{attrs:{color:"green"}},[t._v("mdi-check-bold")]):e(c["a"],{attrs:{color:"red"}},[t._v("mdi-close")])]}},{key:"item.cifflag",fn:function({item:i}){return[i.cifflag?e(c["a"],{attrs:{color:"green"}},[t._v("mdi-check-bold")]):e(c["a"],{attrs:{color:"red"}},[t._v("mdi-close")])]}},{key:"item.ddpflag",fn:function({item:i}){return[i.ddpflag?e(c["a"],{attrs:{color:"green"}},[t._v("mdi-check-bold")]):e(c["a"],{attrs:{color:"red"}},[t._v("mdi-close")])]}},{key:"item.monto",fn:function({item:i}){return[i.concepto?e(X["a"],{staticClass:"my-2",attrs:{dense:"","hide-details":""},on:{blur:function(e){return t.reponerCero(i)}},model:{value:i.monto,callback:function(e){t.$set(i,"monto",e)},expression:"item.monto"}}):t._e()]}},{key:"item.multiplicador",fn:function({item:i}){return[i.concepto?e(V["a"],{staticClass:"my-2",attrs:{items:t.$store.state.configEmpresa.lstMultiplicador,dense:"","hide-details":"","item-value":"id"},model:{value:i.id_multiplicador,callback:function(e){t.$set(i,"id_multiplicador",e)},expression:"item.id_multiplicador"}}):t._e()]}},{key:"item.proveedor",fn:function({item:i}){return[i.concepto?e(V["a"],{staticClass:"my-2",attrs:{items:t.$store.state.itemsProveedorList,dense:"","hide-details":"","item-text":"namelong","item-value":"id"},model:{value:i.id_proveedor,callback:function(e){t.$set(i,"id_proveedor",e)},expression:"item.id_proveedor"}}):t._e()]}}],null,!0)})],1)],1)],1)],1):e(d["a"],{staticClass:"mx-10 my-1"},[e(o["a"],{attrs:{cols:"12"}},[e(d["a"],[e(o["a"],{staticClass:"ocultarMovil",attrs:{cols:"1"}},[e(c["a"],{attrs:{size:"50",color:"red"}},[t._v("mdi-alert")])],1),e(o["a"],{staticClass:"infoImportante",attrs:{cols:"12",lg:"11",xl:"11"}},[e("h2",[t._v("AUTOMATIZA LAS TARIFAS DE TUS PROVEEDORES")]),e("p",[t._v(" Con esta opción podrás agilizar tus cotizaciones. Olvídate de los cálculos manuales y evita errores. La configuración que realices se aplicará automáticamente en cada propuesta a tus clientes, ahorrándote tiempo y garantizando precisión en todas tus cotizaciones ")]),e("h2",{staticClass:"mt-10"},[t._v("SI DECIDES OMITIR ESTA CONFIGURACION")]),e("p",[t._v(" El sistema asignará conceptos predeterminados con precios en cero. "),e("span",{staticClass:"bg-yellow"},[t._v(" Podrás ajustarlas la configuración de las tarifas en cualquier momento desde el módulo de configuración ")])])])],1)],1),e(o["a"],{staticClass:"centrado",attrs:{cols:"12"}},[t.subirCostos?t._e():e(a["a"],{staticClass:"mt-1 mb-1",attrs:{color:"#7E7E7E",dark:""},on:{click:function(e){return t.OmitirConfiguracionCostos()}}},[t._v(" Omitir ")]),e(w["a"]),e(a["a"],{staticClass:"mt-1 mb-1",attrs:{color:"#5E9AD6",dark:""},on:{click:function(e){t.subirCostos=!t.subirCostos}}},[t._v(" CONFIGURAR TARIFAS ")])],1),e(o["a"],{staticClass:"centrado mt-10",attrs:{cols:"12"}},[t.subirCostos?t._e():e(a["a"],{staticClass:"mt-1 mb-1",attrs:{color:"#78909C",dark:""},on:{click:function(e){return t.retroceder()}}},[t._v(" REGRESAR A LA ANTERIOR ")])],1)],1)],1),e(o["a"],{staticClass:"centrado",attrs:{cols:"12"}},[t.subirCostos?e(a["a"],{staticClass:"mx-5 mt-1 mb-1",attrs:{color:"#7E7E7E",dark:""},on:{click:function(e){return t.omitir()}}},[t._v(" Omitir ")]):t._e(),t.subirCostos?e(a["a"],{staticClass:"mx-5 mt-1 mb-1",attrs:{color:"#1A237E",dark:t.subirCostos},on:{click:function(e){return t.guardarCosto()}}},[t._v(" Guardar y continuar ")]):t._e()],1),e(o["a"],{staticClass:"centrado",attrs:{cols:"12"}},[t.subirCostos?e(a["a"],{staticClass:"mx-5 mt-1 mb-1",attrs:{color:"#78909C",dark:""},on:{click:function(e){return t.retroceder()}}},[t._v(" REGRESAR A LA ANTERIOR ")]):t._e()],1)],1):e("div",[e(d["a"],[e(o["a"],{attrs:{cols:"12",md:"4","offset-md":"4"}},[e(s["a"],{staticClass:"pa-5",attrs:{elevation:"2"}},[e("center",{staticClass:"mb-5"},[e("h1",[e("img",{attrs:{src:"/img/png/trofeo.png",width:"30px",alt:"",srcset:""}}),t._v(" Tu empresa ha sido configurada ")])]),e("table",[e("tr",{staticStyle:{margin:"150px 0 !important"}},[e("td",{staticStyle:{"text-align":"left","vertical-align":"top"}},[e(c["a"],[t._v("mdi-check")])],1),e("td",{staticStyle:{"text-align":"justify","vertical-align":"top"}},[t._v(" Ya puedes comenzar a usar ACO ahora mismo. ")])]),e("tr",[e("td",{staticStyle:{height:"30px"},attrs:{colspan:"2"}})]),e("tr",{staticStyle:{margin:"150px 0 !important"}},[e("td",{staticStyle:{"text-align":"left","vertical-align":"top"}},[e(c["a"],[t._v("mdi-check")])],1),e("td",{staticStyle:{"text-align":"justify","vertical-align":"top"}},[t._v(" Para aplicar los últimos ajustes que realizaste (Tarifario, logo, Impuestos), solo debes volver a ingresar. ")])])]),e("div",{staticClass:"mt-5",staticStyle:{"text-align":"center"}},[e(a["a"],{staticClass:"my-1 mx-1 buttonDosFilas",attrs:{"x-small":"",dark:"",color:"#1A237E"},on:{click:function(e){return t.finalizarSinLogin()}}},[t._v(" INGRESAR Y EXPLORAR "),e("br",{staticClass:"ocultarPc"}),t._v(" LOS MÓDULOS ")]),e(a["a"],{staticClass:"my-1 mx-1 buttonDosFilas",attrs:{"x-small":""},on:{click:function(e){return t.finalizarConfig()}}},[t._v(" VOLVER A INGRESAR "),e("br",{staticClass:"ocultarPc"}),t._v(" PARA APLICAR CAMBIOS ")])],1)],1)],1)],1)],1),e(n["a"],{staticClass:"modalNuevoCosto",attrs:{scrollable:"","max-width":t.isMobile?"100%":"30%",transition:"dialog-transition",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(s["a"],[e(S["d"],{attrs:{"primary-title":""}},[t._v(" AGREGAR NUEVO COSTO "),e(w["a"]),e(c["a"],{attrs:{color:"default"},on:{click:function(e){t.dialog=!t.dialog}}},[t._v("mdi-close")])],1),e(q["a"],{ref:"frmNuevosCostos"},[e(S["c"],[e(K["a"],{staticClass:"my-2",attrs:{items:t.lstTramo,rules:[t=>!!t||"Dato obligatorio"],label:"Tramo*",outlined:"",dense:"","hide-details":""},model:{value:t.frmNuevoCosto.tramo,callback:function(e){t.$set(t.frmNuevoCosto,"tramo",e)},expression:"frmNuevoCosto.tramo"}}),e(X["a"],{staticClass:"my-2",attrs:{rules:[t=>!!t||"Dato obligatorio"],label:"Servicio*",outlined:"",dense:"","hide-details":""},model:{value:t.frmNuevoCosto.servicio,callback:function(e){t.$set(t.frmNuevoCosto,"servicio",e)},expression:"frmNuevoCosto.servicio"}}),e(V["a"],{staticClass:"my-2",attrs:{items:t.$store.state.configEmpresa.listTipoCostos,rules:[t=>!!t||"Dato obligatorio"],"item-value":"name",label:"Sección*","item-text":"name",outlined:"",dense:"","hide-details":""},model:{value:t.frmNuevoCosto.id_tipocosto,callback:function(e){t.$set(t.frmNuevoCosto,"id_tipocosto",e)},expression:"frmNuevoCosto.id_tipocosto"}}),e(X["a"],{staticClass:"my-2",attrs:{rules:[t=>!!t||"Dato obligatorio"],label:"Concepto*",outlined:"",dense:"","hide-details":""},model:{value:t.frmNuevoCosto.concepto,callback:function(e){t.$set(t.frmNuevoCosto,"concepto",e)},expression:"frmNuevoCosto.concepto"}}),e(V["a"],{staticClass:"my-2",attrs:{items:t.$store.state.configEmpresa.lstMultiplicador,rules:[t=>!!t||"Dato obligatorio"],"item-value":"id",label:"Multiplicador*",outlined:"",dense:"","hide-details":""},model:{value:t.frmNuevoCosto.id_multiplicador,callback:function(e){t.$set(t.frmNuevoCosto,"id_multiplicador",e)},expression:"frmNuevoCosto.id_multiplicador"}}),e(X["a"],{staticClass:"my-2",attrs:{label:"Monto",outlined:"",dense:"","hide-details":""},model:{value:t.frmNuevoCosto.monto,callback:function(e){t.$set(t.frmNuevoCosto,"monto",e)},expression:"frmNuevoCosto.monto"}}),e(V["a"],{staticClass:"my-2",attrs:{items:t.$store.state.itemsEntities,rules:[t=>!!t||"Dato obligatorio"],label:"Proveedor*","item-text":"namelong",outlined:"",dense:"","hide-details":"","item-value":"id"},model:{value:t.frmNuevoCosto.id_proveedor,callback:function(e){t.$set(t.frmNuevoCosto,"id_proveedor",e)},expression:"frmNuevoCosto.id_proveedor"}}),e("p",[t._v("Incoterms")]),e(d["a"],[this.$store.state.configEmpresa.lstCostos.some(t=>t.exwflag)?e(H["a"],{staticClass:"mx-5",attrs:{label:"EXW"},model:{value:t.frmNuevoCosto.exwflag,callback:function(e){t.$set(t.frmNuevoCosto,"exwflag",e)},expression:"frmNuevoCosto.exwflag"}}):t._e(),this.$store.state.configEmpresa.lstCostos.some(t=>t.fcaflag)?e(H["a"],{staticClass:"mx-5",attrs:{label:"FCA"},model:{value:t.frmNuevoCosto.fcaflag,callback:function(e){t.$set(t.frmNuevoCosto,"fcaflag",e)},expression:"frmNuevoCosto.fcaflag"}}):t._e(),this.$store.state.configEmpresa.lstCostos.some(t=>t.fobflag)?e(H["a"],{staticClass:"mx-5",attrs:{label:"FOB"},model:{value:t.frmNuevoCosto.fobflag,callback:function(e){t.$set(t.frmNuevoCosto,"fobflag",e)},expression:"frmNuevoCosto.fobflag"}}):t._e(),this.$store.state.configEmpresa.lstCostos.some(t=>t.cfrflag)?e(H["a"],{staticClass:"mx-5",attrs:{label:"CFR"},model:{value:t.frmNuevoCosto.cfrflag,callback:function(e){t.$set(t.frmNuevoCosto,"cfrflag",e)},expression:"frmNuevoCosto.cfrflag"}}):t._e(),this.$store.state.configEmpresa.lstCostos.some(t=>t.cifflag)?e(H["a"],{staticClass:"mx-5",attrs:{label:"CIF"},model:{value:t.frmNuevoCosto.cifflag,callback:function(e){t.$set(t.frmNuevoCosto,"cifflag",e)},expression:"frmNuevoCosto.cifflag"}}):t._e(),this.$store.state.configEmpresa.lstCostos.some(t=>t.ddpflag)?e(H["a"],{staticClass:"mx-5",attrs:{label:"DDP"},model:{value:t.frmNuevoCosto.ddpflag,callback:function(e){t.$set(t.frmNuevoCosto,"ddpflag",e)},expression:"frmNuevoCosto.ddpflag"}}):t._e()],1)],1)],1),e(S["a"],[e(w["a"]),e(a["a"],{staticClass:"mx-1 mt-1 mb-5",attrs:{color:"#923939",dark:""},on:{click:function(e){t.dialog=!t.dialog}}},[t._v(" CANCELAR ")]),e(a["a"],{staticClass:"mx-1 mt-1 mb-5",attrs:{color:"#346E3D",dark:""},on:{click:function(e){return t.agregarNuevoCosto()}}},[t._v(" AGREGAR ")])],1)],1)],1)],1)}),W=[],Y=(i("f665"),i("7d54"),i("1e70"),i("79a4"),i("c1a1"),i("8b00"),i("a4e7"),i("1e5a"),i("72c3"),i("d7a6")),Z={components:{Proceesing:()=>i.e("chunk-5ad39856").then(i.bind(null,"f1bc"))},data(){return{isMobile:!1,finalizar:!0,subirCostos:!1,dialogProcessing:!1,loadingTable:!1,loading:!1,items:[],headers:[{text:"TRAMO",value:"tramo"},{text:"SERVICIO",value:"servicio"},{text:"CONCEPTO",value:"concepto"},{text:"MULTIPLICADOR",value:"multiplicador"},{text:"MONTO",value:"monto"},{text:"PROVEEDOR",value:"proveedor"}],dialog:!1,ids_modality:[],ids_shipment:[],id_modality:"",id_shipment:"",lstTramo:[{id:"ORIGEN",text:"ORIGEN"},{id:"FLETE",text:"FLETE"},{id:"DESTINO",text:"DESTINO"},{id:"OPCIONAL",text:"OPCIONAL"}],frmNuevoCosto:{exwflag:!1,fcaflag:!1,fobflag:!1,cfrflag:!1,cifflag:!1,ddpflag:!1,tramo:"",servicio:"",concepto:"",id_multiplicador:"",monto:0,id_proveedor:""},indexShipment:0,indexModality:0,loading:!1,loadingTable:!1,finalizar:!1}},async mounted(){this.checkIfMobile(),this.loadingTable=!0,this.ids_modality=this.$store.state.pricing.listModality.map(t=>t.id),this.ids_shipment=this.$store.state.pricing.listShipment.map(t=>t.id),this.id_modality=this.ids_modality[0],this.id_shipment=this.ids_shipment[0],await this.obtenerConfigCostos({id_modality:this.id_modality,shipment:this.$store.state.pricing.listShipment.filter(t=>t.id==this.$store.state.pricing.listShipment.map(t=>t.id)[0])[0].code}),this.generarHeader(),await this.getMultiplicadorConfig({id_shipment:this.id_shipment}),this.loadingTable=!1,await this.generarSecciones()},methods:{...Object(Y["mapActions"])(["obtenerConfigCostos","getMultiplicadorConfig","getTipoCostosConfig","guardarCostos","finalizarConfiguracion","OmitirConfiguracionCost","_getMenuItem"]),async finalizarSinLogin(){P.a.fire({title:"Procesando...",text:"Por favor espera",allowOutsideClick:!1,showConfirmButton:!1,didOpen:()=>{this.$swal.showLoading()}});let t=JSON.parse(sessionStorage.getItem("dataBranch"));t[0].esnuevoflag=!1,sessionStorage.setItem("dataBranch",JSON.stringify(t)),await this._getMenuItem(),setTimeout(async()=>{this.$router.push({name:"Main"}),this.$swal.close(),window.location.reload()},1e3)},checkIfMobile(){this.isMobile=window.innerWidth<=600},scrollToSubirCostos(){window.scrollTo({top:0,behavior:"smooth"})},abrirNuevoCosto(){this.checkIfMobile(),this.dialog=!0,this.$refs.frmNuevosCostos.reset()},agregarNuevoCosto(){this.$refs.frmNuevosCostos.validate()&&(this.$store.state.configEmpresa.lstCostos.push({exwflag:this.frmNuevoCosto.exwflag,fcaflag:this.frmNuevoCosto.fcaflag,fobflag:this.frmNuevoCosto.fobflag,cfrflag:this.frmNuevoCosto.cfrflag,cifflag:this.frmNuevoCosto.cifflag,ddpflag:this.frmNuevoCosto.ddpflag,tramo:this.frmNuevoCosto.tramo,servicio:this.frmNuevoCosto.servicio,concepto:this.frmNuevoCosto.concepto,id_multiplicador:this.frmNuevoCosto.id_multiplicador,monto:this.frmNuevoCosto.monto,id_proveedor:this.frmNuevoCosto.id_proveedor,seccion:this.frmNuevoCosto.id_tipocosto,code:0}),this.dialog=!1,console.log(this.$store.state.configEmpresa.lstCostos))},OmitirConfiguracionCostos(){P.a.fire({icon:"warning",title:"OMITIR CONFIGURACIÓN DE COSTOS.",html:"Se usaran los valores predeterminado del sistema, con la finalidad de que puedas usar el istema. Podras editar estos valores mas adelante",allowEnterKey:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continuar",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&(this.OmitirConfiguracionCost(),this.finalizar=!0)})},omitir(){P.a.fire({icon:"warning",title:"OPCIÓN OMITIDA",html:"Se usaran los valores predeterminado del sistema, con la finalidad de que puedas usar el istema. Podras editar estos valores mas adelante",allowEnterKey:!1,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Continuar",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&this.guardarCostosPredefinidos()})},async guardarCostosPredefinidos(){this.$store.state.dialogProcessing=!0,await this.guardarCostos({id_modality:this.id_modality,id_shipment:this.id_shipment,lstCostos:this.$store.state.configEmpresa.lstCostos}),this.scrollToSubirCostos(),this.subirCostos?(this.loading=!this.loading,this.indexShipment<this.ids_shipment.length-1?(this.loadingTable=!0,this.indexShipment++,this.id_shipment=this.ids_shipment[this.indexShipment],await this.obtenerConfigCostos({id_modality:this.id_modality,shipment:this.$store.state.pricing.listShipment.find(t=>t.id===this.id_shipment).code}),await this.getMultiplicadorConfig({id_shipment:this.id_shipment}),this.generarHeader(),this.loadingTable=!1):this.indexModality<this.ids_modality.length-1?(this.loadingTable=!0,this.indexModality++,this.id_modality=this.ids_modality[this.indexModality],this.indexShipment=0,this.ids_shipment=this.$store.state.pricing.listShipment.map(t=>t.id),this.id_shipment=this.ids_shipment[this.indexShipment],await this.obtenerConfigCostos({id_modality:this.id_modality,shipment:this.$store.state.pricing.listShipment.find(t=>t.id===this.id_shipment).code}),await this.getMultiplicadorConfig({id_shipment:this.id_shipment}),this.generarHeader(),this.loadingTable=!1):this.finalizar=!0,this.generarSecciones(),this.loading=!this.loading):this.finalizar=!0,setTimeout(()=>{this.$store.state.dialogProcessing=!1},300)},async retroceder(){this.$store.state.dialogProcessing=!0,this.scrollToSubirCostos(),this.subirCostos?(this.loading=!this.loading,this.indexShipment>0?(this.loadingTable=!0,this.indexShipment--,this.id_shipment=this.ids_shipment[this.indexShipment],await this.obtenerConfigCostos({id_modality:this.id_modality,shipment:this.$store.state.pricing.listShipment.find(t=>t.id===this.id_shipment).code}),await this.getMultiplicadorConfig({id_shipment:this.id_shipment}),this.generarHeader(),this.loadingTable=!1):this.indexModality>0?(this.loadingTable=!0,this.indexModality--,this.id_modality=this.ids_modality[this.indexModality],this.indexShipment=this.ids_shipment.length-1,this.ids_shipment=this.$store.state.pricing.listShipment.map(t=>t.id),this.id_shipment=this.ids_shipment[this.indexShipment],await this.obtenerConfigCostos({id_modality:this.id_modality,shipment:this.$store.state.pricing.listShipment.find(t=>t.id===this.id_shipment).code}),await this.getMultiplicadorConfig({id_shipment:this.id_shipment}),this.generarHeader(),this.loadingTable=!1):this.$emit("regresar"),this.generarSecciones(),this.loading=!this.loading):this.$emit("regresar"),setTimeout(()=>{this.$store.state.dialogProcessing=!1},300)},async guardarCosto(){this.scrollToSubirCostos(),this.loading=!this.loading,this.$store.state.dialogProcessing=!0,await this.guardarCostos({id_modality:this.id_modality,id_shipment:this.id_shipment,lstCostos:this.$store.state.configEmpresa.lstCostos}),this.indexShipment<this.ids_shipment.length-1?(this.loadingTable=!0,this.indexShipment++,this.id_shipment=this.ids_shipment[this.indexShipment],await this.obtenerConfigCostos({id_modality:this.id_modality,shipment:this.$store.state.pricing.listShipment.find(t=>t.id===this.id_shipment).code}),await this.getMultiplicadorConfig({id_shipment:this.id_shipment}),this.generarHeader(),this.loadingTable=!1):this.indexModality<this.ids_modality.length-1?(this.loadingTable=!0,this.indexModality++,this.id_modality=this.ids_modality[this.indexModality],this.indexShipment=0,this.ids_shipment=this.$store.state.pricing.listShipment.map(t=>t.id),this.id_shipment=this.ids_shipment[this.indexShipment],await this.obtenerConfigCostos({id_modality:this.id_modality,shipment:this.$store.state.pricing.listShipment.find(t=>t.id===this.id_shipment).code}),await this.getMultiplicadorConfig({id_shipment:this.id_shipment}),this.generarHeader(),this.loadingTable=!1):this.finalizar=!0,this.loading=!this.loading,this.$store.state.dialogProcessing=!1,this.generarSecciones(),this.$nextTick(()=>{const t=this.$refs.frmRegistro;t&&t.$el&&(t.$el.scrollTop=0)})},generarHeader(){this.headers=[],this.$store.state.configEmpresa.lstCostos.some(t=>t.exwflag)&&this.headers.push({text:"EXW",value:"exwflag"}),this.$store.state.configEmpresa.lstCostos.some(t=>t.fcaflag)&&this.headers.push({text:"FCA",value:"fcaflag"}),this.$store.state.configEmpresa.lstCostos.some(t=>t.fobflag)&&this.headers.push({text:"FOB",value:"fobflag"}),this.$store.state.configEmpresa.lstCostos.some(t=>t.cfrflag)&&this.headers.push({text:"CFR",value:"cfrflag"}),this.$store.state.configEmpresa.lstCostos.some(t=>t.cifflag)&&this.headers.push({text:"CIF",value:"cifflag"}),this.$store.state.configEmpresa.lstCostos.some(t=>t.ddpflag)&&this.headers.push({text:"DDP",value:"ddpflag"}),this.headers.push({text:"TRAMO",value:"tramo"}),this.headers.push({text:"SERVICIO",value:"servicio"}),this.headers.push({text:"CONCEPTO",value:"concepto"}),this.headers.push({text:"MULTIPLICADOR",value:"multiplicador"}),this.headers.push({text:"MONTO",value:"monto"}),this.headers.push({text:"PROVEEDOR",value:"proveedor"})},generarSecciones(){this.$store.state.configEmpresa.listTipoCostos=[];let t=this.$store.state.configEmpresa.lstCostos.map(t=>t.seccion),e=new Set(t),i=[];e.forEach(t=>{t&&i.push({name:t})}),i.push({name:"DESTINO: GASTOS DE TERCEROS"}),this.$store.state.configEmpresa.listTipoCostos=i},async finalizarConfig(){await this.finalizarConfiguracion(),sessionStorage.getItem("auth-token")&&sessionStorage.removeItem("auth-token"),sessionStorage.getItem("dataUser")&&sessionStorage.removeItem("dataUser"),sessionStorage.getItem("dataBranch")&&sessionStorage.removeItem("dataBranch"),this.$router.push({name:"Login"}),window.location.reload(!0)},reponerCero(t){""!=t.monto&&null!=t.monto&&void 0!=t.monto||(t.monto=0),this.$forceUpdate()}},watch:{loading(){}}},Q=Z,tt=(i("82a7"),Object(b["a"])(Q,J,W,!1,null,"475b434b",null)),et=tt.exports,it=i("67b6"),at=i("43a6"),st=function(){var t=this,e=t._self._c;return e(d["a"],{staticClass:"my-2 frmConfigEmpresa"},[e(o["a"],{attrs:{cols:"12"}},[e("center",[e("p",{staticClass:"text-azul"},[t._v("1. CONFIGURA TU EMPRESA")])])],1),e(o["a"],{attrs:{cols:"12"}},[e(X["a"],{staticClass:"mayuscula",attrs:{outlined:"",label:"Nombre de la empresa *","hide-details":"",dense:""},model:{value:t.$store.state.configEmpresa.datoEmpresa.trade_name,callback:function(e){t.$set(t.$store.state.configEmpresa.datoEmpresa,"trade_name",e)},expression:"$store.state.configEmpresa.datoEmpresa.trade_name"}})],1),e(o["a"],{attrs:{cols:"12"}},[e(k["a"],{ref:"fileInput",attrs:{outlined:"",accept:"image/png, image/jpeg, image/bmp",placeholder:"Subir tu logo te ayudará a personalizar tus documentos","append-icon":"mdi-camera","hide-details":"","prepend-icon":"",dense:""},on:{change:function(e){return t.cargarLogo()},"click:append":t.abrirSelector},model:{value:t.$store.state.configEmpresa.datoEmpresa.img,callback:function(e){t.$set(t.$store.state.configEmpresa.datoEmpresa,"img",e)},expression:"$store.state.configEmpresa.datoEmpresa.img"}})],1),e(o["a"],{attrs:{cols:"12"}},[e("CboPais",{attrs:{outlined:!0,dense:!0,hideDetails:!0,newId:t.$store.state.configEmpresa.datoEmpresa.id_pais},on:{paisSeleccionado:function(e){t.$store.state.configEmpresa.datoEmpresa.id_pais=e}}})],1),e(o["a"],{attrs:{cols:"12",lg:"8",xl:"4"}},[e(V["a"],{attrs:{label:"Impuestos a las Ventas en tu País",items:t.$store.state.masterusuarios.lstImpRenta,"item-value":"id","item-text":"descripcion",outlined:"",dense:"","error-messages":t.errorImp,"hide-details":!t.errorImp,placeholder:"Indicanos el Nombre","persistent-placeholder":""},on:{change:function(e){t.errorImp=""}},scopedSlots:t._u([{key:"selection",fn:function(i){return[i.item?e("span",[t._v(t._s(i.item.codigo))]):t._e()]}}]),model:{value:t.$store.state.configEmpresa.datoEmpresa.tipoimpuesto,callback:function(e){t.$set(t.$store.state.configEmpresa.datoEmpresa,"tipoimpuesto",e)},expression:"$store.state.configEmpresa.datoEmpresa.tipoimpuesto"}})],1),e(o["a"],{attrs:{cols:"12",lg:"4",xl:"4"}},[e(X["a"],{attrs:{type:"number",label:"Porcentaje",step:"0.1",suffix:"%",outlined:"",dense:"","hide-details":""},model:{value:t.$store.state.configEmpresa.datoEmpresa.impuesto,callback:function(e){t.$set(t.$store.state.configEmpresa.datoEmpresa,"impuesto",e)},expression:"$store.state.configEmpresa.datoEmpresa.impuesto"}})],1),e(o["a"],{attrs:{cols:"12"}},[t.mostrarImpOtro()?e("p",{staticClass:"my-0 py-0",staticStyle:{color:"red"}},[e("strong",[t._v(" Nota:")]),t._v(" Seleccione esta opción si el impuesto a las ventas que necesitas no aparece en la lista ")]):t._e(),e("p",{staticClass:"my-0 py-0",staticStyle:{background:"#58cced",padding:"5%"}},[e("strong",[t._v(" Nota:")]),t._v(" Esto calculará automáticamente el costo del servicio en las ofertas para tus clientes, así como tus propios costos operativos y administrativos. ")])]),e(o["a"],{staticClass:"py-0",attrs:{cols:"12"}},[t._v(" Deseas que Aplique al Calculo de Impuestos de Aduana para tu clientes "),e(at["a"],{attrs:{row:""},model:{value:t.$store.state.configEmpresa.datoEmpresa.usarclientes,callback:function(e){t.$set(t.$store.state.configEmpresa.datoEmpresa,"usarclientes",e)},expression:"$store.state.configEmpresa.datoEmpresa.usarclientes"}},[e(it["a"],{attrs:{label:"Si",value:!0}}),e(it["a"],{attrs:{label:"No",value:!1}})],1)],1),e(o["a"],{staticClass:"py-0",attrs:{cols:"12"}},[t._v(" Deseas que aplique este para tus costos opertivos y administrativos "),e(at["a"],{attrs:{row:""},model:{value:t.$store.state.configEmpresa.datoEmpresa.usaropadmin,callback:function(e){t.$set(t.$store.state.configEmpresa.datoEmpresa,"usaropadmin",e)},expression:"$store.state.configEmpresa.datoEmpresa.usaropadmin"}},[e(it["a"],{attrs:{label:"Si",value:!0}}),e(it["a"],{attrs:{label:"No",value:!1}})],1)],1),e(o["a"],{attrs:{cols:"12"}},[e(X["a"],{attrs:{outlined:"",label:"Dirección fiscal (Opcional)","hide-details":"",dense:""},model:{value:t.$store.state.configEmpresa.datoEmpresa.address,callback:function(e){t.$set(t.$store.state.configEmpresa.datoEmpresa,"address",e)},expression:"$store.state.configEmpresa.datoEmpresa.address"}})],1),e(o["a"],{attrs:{cols:"12"}},[e("p",[e("b",[t._v("Administrador del Sistema")])]),e("p",[e("b",[t._v("Nombre:")]),t._v(" "+t._s(t.$store.state.configEmpresa.dataUsuario.names)+" "+t._s(t.$store.state.configEmpresa.dataUsuario.surname)+" "+t._s(t.$store.state.configEmpresa.dataUsuario.second_surname)+" ")]),e("p",[e("b",[t._v("Teléfono:")]),t._v(" "+t._s(t.$store.state.configEmpresa.dataUsuario.phone))]),e("p",[e("b",[t._v("Email:")]),t._v(" "+t._s(t.$store.state.configEmpresa.dataUsuario.email))])]),e(o["a"],{staticStyle:{"align-items":"center","text-align":"center"},attrs:{cols:"12"}},[e(a["a"],{staticClass:"mx-10",attrs:{color:"#7E7E7E",dark:""},on:{click:function(e){return t.$emit("omitir")}}},[t._v(" Omitir ")]),e(a["a"],{staticClass:"mx-10",attrs:{color:"#1A237E",dark:""},on:{click:function(e){return t.guardarEmpresa()}}},[t._v(" Guardar y Continuar ")])],1)],1)},ot=[],rt=i("1d7b"),nt={components:{CboPais:rt["a"]},data(){return{datosEmpresa:{id_pais:null},errorImp:""}},watch:{"$store.state.configEmpresa.datoEmpresa.impuesto"(t){void 0!==t&&null!==t||(this.$store.state.configEmpresa.datoEmpresa.impuesto=0)}},methods:{...Object(T["b"])(["actualizarDatoEmpresa","_uploadFile","cargarImpuestoRenta"]),guardarEmpresa(){if(this.errorImp="",!this.$store.state.configEmpresa.datoEmpresa.tipoimpuesto)return this.errorImp="Dato Requerido",!1;this.$emit("GuardarDatosEmpresa")},abrirSelector(){this.$refs.fileInput.$el.querySelector('input[type="file"]').click()},async cargarLogo(){await this._uploadFile(this.$store.state.configEmpresa.datoEmpresa.img),this.$store.state.configEmpresa.datoEmpresa.id_logo=this.$store.state.files.datosPath.insertid,this.$store.state.configEmpresa.datoEmpresa.logo=this.$store.state.files.datosPath.ruta},mostrarImpOtro(){if(this.$store.state.configEmpresa.datoEmpresa.tipoimpuesto){let t=this.$store.state.masterusuarios.lstImpRenta.filter(t=>t.id==this.$store.state.configEmpresa.datoEmpresa.tipoimpuesto)[0].codigo01;return"9"==t}return!1}},async mounted(){await this.cargarImpuestoRenta(),this.$store.state.configEmpresa.datoEmpresa=JSON.parse(sessionStorage.getItem("dataBranch"))[0],this.$store.state.configEmpresa.dataUsuario=JSON.parse(sessionStorage.getItem("dataUser"))[0]}},lt=nt,ct=(i("5c39"),Object(b["a"])(lt,st,ot,!1,null,"7a275d2a",null)),dt=ct.exports,mt={components:{"ConfiguraciónDatosEmpresaComponent":dt,ConfiguracionCargaProveedorComponent:L,ConfiguracionCargaClienteComponent:F,ConfiguracionCostosComponent:et,BotonChateaConNosotros:y},data(){return{e1:1,steps:2,editarEmpresa:!0,editarProveedor:!1,editarCliente:!1,editarConfig:!1,dialog:!0}},async mounted(){this.$store.state.drawer=!1,this.$store.state.spinner=!0,await this.getModality(),await this.getShipment(),await this.getIncoterms(),await this._getDocumentsPais(),await this._getProveedor(),this.$store.state.spinner=!1,await this.ObtenerDatosConfig()},methods:{...Object(T["b"])(["getModality","getShipment","getIncoterms","_getDocumentsPais","_getPais","_getProveedor","finalizarConfiguracion","actualizarDatoEmpresa","ObtenerDatosConfig"]),async guardarDatosEmpresa(){this.$store.state.dialogProcessing=!0,await this.actualizarDatoEmpresa(),this.$store.state.dialogProcessing=!1,this.editarProveedor=!0,this.e1=2},continuarStepClientes(){this.editarCliente=!0,this.e1=3},continuarStepConfigurarTarifario(){this.editarConfig=!0,this.e1=4},omitirStep(){switch(console.log(this.e1),this.e1){case 1:this.editarProveedor=!0;break;case 2:this.editarCliente=!0;break;case 3:this.editarConfig=!0;break;case 4:this.editarConfig=!0;break;default:this.editarConfig=!0;break}this.e1++},regresarStep(){this.e1--}}},ut=mt,pt=(i("ea27"),Object(b["a"])(ut,f,g,!1,null,"a0993324",null));e["default"]=pt.exports},ea27:function(t,e,i){"use strict";i("971e")},f00e:function(t,e,i){}}]);