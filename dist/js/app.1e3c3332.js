(function(t){function e(e){for(var o,i,n=e[0],l=e[1],c=e[2],d=0,u=[];d<n.length;d++)i=n[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&u.push(s[i][0]),s[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);p&&p(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],o=!0,i=1;i<a.length;i++){var n=a[i];0!==s[n]&&(o=!1)}o&&(r.splice(e--,1),t=l(l.s=a[0]))}return t}var o={},i={app:0},s={app:0},r=[];function n(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-079c0f2e":"91a2cd45","chunk-22800d3a":"c5c1dd3b","chunk-2d0a45f1":"3015952c","chunk-2d0a4f40":"7decce6b","chunk-2d0aada3":"b986dea5","chunk-2d0ab439":"ea7306f4","chunk-2d0ab667":"28284f7a","chunk-2d0abbdd":"8f9d7f74","chunk-2d0af430":"e0d4fbcb","chunk-2d0af866":"8ad0cf23","chunk-2d0b341c":"3362d7b3","chunk-2d0b60d1":"6e3979c6","chunk-2d0b8e48":"1b6968bb","chunk-2d0b9989":"dc47d3c5","chunk-2d0b9ba2":"d5d662fb","chunk-2d0c0311":"511f6c1c","chunk-2d0c0ec0":"bab5dc79","chunk-2d0c1f5a":"3d5c845f","chunk-2d0c4677":"ca630b96","chunk-2d0c7ba0":"811256be","chunk-2d0c8463":"b4562870","chunk-2d0c8480":"32b4181d","chunk-2d0c8862":"25bb8cbd","chunk-2d0ce790":"9fac7453","chunk-2d0ce82e":"320288f6","chunk-2d0cec0f":"8b004b03","chunk-2d0cf297":"08778921","chunk-2d0cf32d":"d8670143","chunk-2d0d053d":"3a9b0631","chunk-2d0d317f":"5eaeaea1","chunk-2d0d63e1":"0718ced9","chunk-2d0d6776":"c33d5787","chunk-2d0d6ad1":"1265ce28","chunk-2d0d76a6":"df368630","chunk-2d0db095":"f489d327","chunk-2d0dd410":"b4ac33b8","chunk-2d21f07e":"be3894f0","chunk-0f762192":"a8b9e114","chunk-2d0de6e3":"2c66fdf9","chunk-2d0de907":"18308a6d","chunk-2d0deb21":"9388055d","chunk-2d0deb7d":"728a59fd","chunk-2d0decd6":"fade247f","chunk-2d0e1741":"e42e8b00","chunk-2d0e1842":"dce442f1","chunk-2d0e2720":"d9eedc64","chunk-2d0e5259":"c1617d02","chunk-2d0e5386":"254762d9","chunk-2d0e5967":"5bb3b1e3","chunk-2d0e9220":"9206c6be","chunk-2d0f0c1b":"235c9bc9","chunk-2d0f1004":"1a057004","chunk-2d0f1512":"16feca8d","chunk-2d2079b1":"592b8ef8","chunk-2d20fc80":"2413789c","chunk-2d2102c7":"4f0c3f74","chunk-2d213b33":"b709a648","chunk-2d218001":"e2d6cfbe","chunk-2d21e7f3":"80ee5731","chunk-2d21eb47":"ca950d41","chunk-2d21eb74":"11e63f16","chunk-2d21ebd3":"5ca36286","chunk-2d221f7b":"ca33d678","chunk-2d225633":"54bfdbea","chunk-2d22892f":"4c4cb8a2","chunk-2d228bf7":"8171ddea","chunk-2d229240":"52766352","chunk-2d22976c":"410d16b2","chunk-2d22c6d7":"8e0eb896","chunk-2d22ca3b":"5fe23b7f","chunk-2d230f88":"16a2326e","chunk-3189ac44":"170e6a18","chunk-368417d2":"6a943d8b","chunk-2d0cc680":"729214a7","chunk-2d0d03e9":"397e13bd","chunk-2d0da92e":"8c22c004","chunk-2d2094f7":"895a472c","chunk-2d215cff":"9b4983a4","chunk-2d21d871":"3b81bbc0","chunk-3062201f":"af226b38","chunk-37ee2b3e":"6d0e40e5","chunk-3fa7a68d":"b160fe8a","chunk-43df26c1":"bc95f4b5","chunk-646e6daa":"a474adc3","chunk-740826fc":"2fd6aa61","chunk-3f4d7796":"1aa03e3b","chunk-421d34fe":"91b1928c","chunk-42bac527":"5b4305fd","chunk-4c7c5a42":"92fdff0e","chunk-5a6bdfa1":"b5a51b07","chunk-72afdc30":"09a9dc2a","chunk-4b05d6fe":"45342417","chunk-58d1dc87":"8ed09ea0","chunk-743eabfe":"47ece1d1","chunk-7e5b967f":"c852302e","chunk-102d32fa":"c5103150","chunk-9f9e72d4":"05c3634d","chunk-20a74364":"f3df9521","chunk-471603d8":"de260c77","chunk-a464b914":"32590e3c","chunk-c6e784f2":"4bf88cc5","chunk-e18d85b4":"66ad1816","chunk-5909e318":"ed562de9","chunk-cd92fa2e":"cded358b","chunk-778075b6":"d64f7fbe","chunk-2d0bd52b":"ad00d684","chunk-2d0dad34":"89870cf1","chunk-2d20f3de":"db621ff1","chunk-2d224ac2":"0c08d4c7","chunk-2d0ce7cb":"fbac1b2d","chunk-0d7c5806":"e35a6540","chunk-2d226945":"f2e80420","chunk-04801704":"9f3d1a68","chunk-2d21eab1":"9d5fa6d6","chunk-2d0c72d4":"6ca4f2ab","chunk-2d212bb2":"b0ee6864","chunk-2d0b6003":"d286e13e","chunk-2d21b4f9":"dc6a13a8","chunk-2d22497c":"cc61ad30","chunk-2d0c19ba":"3c34faab","chunk-2d0dac96":"a216945f","chunk-2d213ef3":"4a6363ab","chunk-2d0b8e08":"01fd7be8","chunk-2d21e987":"980b6344","chunk-2d222525":"f04e1415","chunk-2d20f388":"24b07da3","chunk-4206bbe6":"c20bbdac","chunk-686c06e7":"dfd3448c","chunk-2824f134":"53b1ddfe","chunk-2d0d642e":"df19e8bf","chunk-2d0ccf9a":"07bb97af","chunk-2d0ced61":"6af655df","chunk-2d217699":"0ff16601","chunk-5022acc6":"58e6d7c4","chunk-7080abb3":"1e054254","chunk-71a3bffe":"532f51cc","chunk-8a5a53fa":"cf5e847e","chunk-e3b101cc":"8f5f5b53","chunk-2d0bae0b":"05569b66","chunk-2d0d0076":"af4f3e90","chunk-64352fdf":"0f815dc6","chunk-2d0aeebb":"303b62dc","chunk-2d0be6da":"84e75947","chunk-3a34dfe6":"9729a080","chunk-2d0b1da7":"42de967d","chunk-0eb3c8f2":"f455ae06","chunk-b91fb7e8":"b199194a","chunk-2d0e9d73":"70d261c0","chunk-2d0efcef":"d374e38a","chunk-2d0e8864":"c577dba7","chunk-2d238036":"9bb013ae","chunk-2849501a":"76d1e9e9","chunk-5ad39856":"68e3ff46","chunk-df1d65f8":"cc57157c","chunk-2d0ae8ce":"729e5fbf","chunk-925845c8":"ac01a9f4","chunk-2d224897":"3d6d1ac0","chunk-2d0f0460":"dbd99c7f","chunk-2d22fcd8":"e7cbae51","chunk-0ee65734":"b8b0913e","chunk-2d0b3d75":"6135fca2","chunk-2d0d3352":"9fe809dc","chunk-2d2093cd":"fabc7042","chunk-46616d5c":"dd334c53","chunk-5f45b51e":"ce960381","chunk-dbcbc9f0":"228430f8","chunk-e8c35558":"704011de","chunk-2d0a34cd":"34672766","chunk-2d2178d8":"184343b0","chunk-46683383":"49706ae3","chunk-2d0de8c6":"f4a965ae","chunk-2d0a4ee7":"558739c1","chunk-2d22c54f":"6b815e37","chunk-2d0b8a97":"5566982b","chunk-2d0f1166":"b7d83cd4","chunk-2d0c51d9":"8eefc67e","chunk-2d0cba88":"58de964f","chunk-2d0e9584":"357751ee","chunk-2d208701":"186d3502","chunk-a17a88f0":"7dc1f2ce","chunk-2d21843f":"317da1e3","chunk-ef310de6":"206c42ec","chunk-2d0bae7e":"3463bca5","chunk-2d0e1f84":"4bd17859","chunk-87c19530":"d7ab00e0","chunk-2d0bce74":"5998abb3","chunk-2d21ae7c":"87395a9b","chunk-2d0f00ae":"db70fa27","chunk-2d213767":"b7fa2cbd","chunk-2d0da3d2":"bc71e095","chunk-2d0bac2d":"89315adf","chunk-24f8de72":"e3a59bfd","chunk-2d0d7267":"8030ed72","chunk-2d0aeada":"a0a9e5b2","chunk-67fc1753":"c3e52dee","chunk-2d0b64dc":"624628ce","chunk-2d20f553":"a4578d42","chunk-2d0aeef7":"f6bb62bd","chunk-2d21a97a":"2ba64bd2","chunk-2d0e59ed":"490a903c","chunk-2ff40744":"d26feea4","chunk-2d0b35ec":"5a0fbcf7","chunk-2d0c14f9":"581d516b","chunk-2d0f0db4":"e29cc708","chunk-8308ff34":"0d4f8d02","chunk-c08c8c3a":"a3e3bde4","chunk-08bfc922":"8bd610a3","chunk-2d0c2145":"7fa0d63a","chunk-eb272f92":"5910d0ac","chunk-2d21402c":"bf38eb26","chunk-7fca2392":"356fcc4b","chunk-867f82c8":"bd12377e","chunk-d2634670":"21b9f1be","chunk-9770f24c":"48f3a9a1","chunk-c39e5026":"0a450c62","chunk-2d0d5b95":"d956c599","chunk-fb4a559e":"78946ba4","chunk-29db9803":"66d36cbe","chunk-2d229265":"35d83754","chunk-73b7296e":"df97cd2c","chunk-b171b1fc":"d93a4b99","chunk-46de8d57":"a1ac4299","chunk-2d0db43c":"b61e0d00","chunk-129fcc08":"aa797d50","chunk-2d0c7b72":"76f5d378","chunk-79b62dc7":"474628f4","chunk-0f662be1":"8e01d1cb","chunk-2d207830":"058f03ef","chunk-7ded4ac4":"efe20411","chunk-03fe0ab0":"45939aff","chunk-2d0c8db4":"9625c076","chunk-7f0c24b3":"288990e6"}[t]+".js"}function l(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={"chunk-079c0f2e":1,"chunk-22800d3a":1,"chunk-0f762192":1,"chunk-3189ac44":1,"chunk-368417d2":1,"chunk-3f4d7796":1,"chunk-421d34fe":1,"chunk-42bac527":1,"chunk-4c7c5a42":1,"chunk-5a6bdfa1":1,"chunk-72afdc30":1,"chunk-4b05d6fe":1,"chunk-58d1dc87":1,"chunk-7e5b967f":1,"chunk-102d32fa":1,"chunk-9f9e72d4":1,"chunk-20a74364":1,"chunk-471603d8":1,"chunk-a464b914":1,"chunk-c6e784f2":1,"chunk-e18d85b4":1,"chunk-5909e318":1,"chunk-cd92fa2e":1,"chunk-778075b6":1,"chunk-0d7c5806":1,"chunk-04801704":1,"chunk-4206bbe6":1,"chunk-686c06e7":1,"chunk-2824f134":1,"chunk-5022acc6":1,"chunk-7080abb3":1,"chunk-71a3bffe":1,"chunk-8a5a53fa":1,"chunk-e3b101cc":1,"chunk-64352fdf":1,"chunk-3a34dfe6":1,"chunk-0eb3c8f2":1,"chunk-b91fb7e8":1,"chunk-2849501a":1,"chunk-5ad39856":1,"chunk-df1d65f8":1,"chunk-0ee65734":1,"chunk-46616d5c":1,"chunk-5f45b51e":1,"chunk-dbcbc9f0":1,"chunk-e8c35558":1,"chunk-46683383":1,"chunk-a17a88f0":1,"chunk-ef310de6":1,"chunk-87c19530":1,"chunk-24f8de72":1,"chunk-67fc1753":1,"chunk-2ff40744":1,"chunk-c08c8c3a":1,"chunk-08bfc922":1,"chunk-7fca2392":1,"chunk-867f82c8":1,"chunk-d2634670":1,"chunk-9770f24c":1,"chunk-fb4a559e":1,"chunk-29db9803":1,"chunk-73b7296e":1,"chunk-b171b1fc":1,"chunk-46de8d57":1,"chunk-129fcc08":1,"chunk-79b62dc7":1,"chunk-0f662be1":1,"chunk-7ded4ac4":1,"chunk-03fe0ab0":1,"chunk-7f0c24b3":1};i[t]?e.push(i[t]):0!==i[t]&&a[t]&&e.push(i[t]=new Promise((function(e,a){for(var o="css/"+({}[t]||t)+"."+{"chunk-079c0f2e":"85fb9b24","chunk-22800d3a":"d1e1d257","chunk-2d0a45f1":"31d6cfe0","chunk-2d0a4f40":"31d6cfe0","chunk-2d0aada3":"31d6cfe0","chunk-2d0ab439":"31d6cfe0","chunk-2d0ab667":"31d6cfe0","chunk-2d0abbdd":"31d6cfe0","chunk-2d0af430":"31d6cfe0","chunk-2d0af866":"31d6cfe0","chunk-2d0b341c":"31d6cfe0","chunk-2d0b60d1":"31d6cfe0","chunk-2d0b8e48":"31d6cfe0","chunk-2d0b9989":"31d6cfe0","chunk-2d0b9ba2":"31d6cfe0","chunk-2d0c0311":"31d6cfe0","chunk-2d0c0ec0":"31d6cfe0","chunk-2d0c1f5a":"31d6cfe0","chunk-2d0c4677":"31d6cfe0","chunk-2d0c7ba0":"31d6cfe0","chunk-2d0c8463":"31d6cfe0","chunk-2d0c8480":"31d6cfe0","chunk-2d0c8862":"31d6cfe0","chunk-2d0ce790":"31d6cfe0","chunk-2d0ce82e":"31d6cfe0","chunk-2d0cec0f":"31d6cfe0","chunk-2d0cf297":"31d6cfe0","chunk-2d0cf32d":"31d6cfe0","chunk-2d0d053d":"31d6cfe0","chunk-2d0d317f":"31d6cfe0","chunk-2d0d63e1":"31d6cfe0","chunk-2d0d6776":"31d6cfe0","chunk-2d0d6ad1":"31d6cfe0","chunk-2d0d76a6":"31d6cfe0","chunk-2d0db095":"31d6cfe0","chunk-2d0dd410":"31d6cfe0","chunk-2d21f07e":"31d6cfe0","chunk-0f762192":"26df1134","chunk-2d0de6e3":"31d6cfe0","chunk-2d0de907":"31d6cfe0","chunk-2d0deb21":"31d6cfe0","chunk-2d0deb7d":"31d6cfe0","chunk-2d0decd6":"31d6cfe0","chunk-2d0e1741":"31d6cfe0","chunk-2d0e1842":"31d6cfe0","chunk-2d0e2720":"31d6cfe0","chunk-2d0e5259":"31d6cfe0","chunk-2d0e5386":"31d6cfe0","chunk-2d0e5967":"31d6cfe0","chunk-2d0e9220":"31d6cfe0","chunk-2d0f0c1b":"31d6cfe0","chunk-2d0f1004":"31d6cfe0","chunk-2d0f1512":"31d6cfe0","chunk-2d2079b1":"31d6cfe0","chunk-2d20fc80":"31d6cfe0","chunk-2d2102c7":"31d6cfe0","chunk-2d213b33":"31d6cfe0","chunk-2d218001":"31d6cfe0","chunk-2d21e7f3":"31d6cfe0","chunk-2d21eb47":"31d6cfe0","chunk-2d21eb74":"31d6cfe0","chunk-2d21ebd3":"31d6cfe0","chunk-2d221f7b":"31d6cfe0","chunk-2d225633":"31d6cfe0","chunk-2d22892f":"31d6cfe0","chunk-2d228bf7":"31d6cfe0","chunk-2d229240":"31d6cfe0","chunk-2d22976c":"31d6cfe0","chunk-2d22c6d7":"31d6cfe0","chunk-2d22ca3b":"31d6cfe0","chunk-2d230f88":"31d6cfe0","chunk-3189ac44":"8198d8e0","chunk-368417d2":"336faf06","chunk-2d0cc680":"31d6cfe0","chunk-2d0d03e9":"31d6cfe0","chunk-2d0da92e":"31d6cfe0","chunk-2d2094f7":"31d6cfe0","chunk-2d215cff":"31d6cfe0","chunk-2d21d871":"31d6cfe0","chunk-3062201f":"31d6cfe0","chunk-37ee2b3e":"31d6cfe0","chunk-3fa7a68d":"31d6cfe0","chunk-43df26c1":"31d6cfe0","chunk-646e6daa":"31d6cfe0","chunk-740826fc":"31d6cfe0","chunk-3f4d7796":"93713eca","chunk-421d34fe":"ad19619d","chunk-42bac527":"98f32667","chunk-4c7c5a42":"51653fb8","chunk-5a6bdfa1":"eaa9aa6b","chunk-72afdc30":"f1adb1b0","chunk-4b05d6fe":"5774bf94","chunk-58d1dc87":"dba9acb3","chunk-743eabfe":"31d6cfe0","chunk-7e5b967f":"e4bdf160","chunk-102d32fa":"79831ca8","chunk-9f9e72d4":"7b451979","chunk-20a74364":"24be86ce","chunk-471603d8":"e50c51ac","chunk-a464b914":"66f535c0","chunk-c6e784f2":"435c66ea","chunk-e18d85b4":"c41178f5","chunk-5909e318":"79831ca8","chunk-cd92fa2e":"4699332f","chunk-778075b6":"f1f76cd2","chunk-2d0bd52b":"31d6cfe0","chunk-2d0dad34":"31d6cfe0","chunk-2d20f3de":"31d6cfe0","chunk-2d224ac2":"31d6cfe0","chunk-2d0ce7cb":"31d6cfe0","chunk-0d7c5806":"5b653db1","chunk-2d226945":"31d6cfe0","chunk-04801704":"65abfa25","chunk-2d21eab1":"31d6cfe0","chunk-2d0c72d4":"31d6cfe0","chunk-2d212bb2":"31d6cfe0","chunk-2d0b6003":"31d6cfe0","chunk-2d21b4f9":"31d6cfe0","chunk-2d22497c":"31d6cfe0","chunk-2d0c19ba":"31d6cfe0","chunk-2d0dac96":"31d6cfe0","chunk-2d213ef3":"31d6cfe0","chunk-2d0b8e08":"31d6cfe0","chunk-2d21e987":"31d6cfe0","chunk-2d222525":"31d6cfe0","chunk-2d20f388":"31d6cfe0","chunk-4206bbe6":"51c842ce","chunk-686c06e7":"443039a2","chunk-2824f134":"8e3e5459","chunk-2d0d642e":"31d6cfe0","chunk-2d0ccf9a":"31d6cfe0","chunk-2d0ced61":"31d6cfe0","chunk-2d217699":"31d6cfe0","chunk-5022acc6":"98d52933","chunk-7080abb3":"8b515e4b","chunk-71a3bffe":"0b94f07b","chunk-8a5a53fa":"5aa89d7a","chunk-e3b101cc":"3c6f750d","chunk-2d0bae0b":"31d6cfe0","chunk-2d0d0076":"31d6cfe0","chunk-64352fdf":"c60a9493","chunk-2d0aeebb":"31d6cfe0","chunk-2d0be6da":"31d6cfe0","chunk-3a34dfe6":"1599eb50","chunk-2d0b1da7":"31d6cfe0","chunk-0eb3c8f2":"5d014ada","chunk-b91fb7e8":"bc9639ac","chunk-2d0e9d73":"31d6cfe0","chunk-2d0efcef":"31d6cfe0","chunk-2d0e8864":"31d6cfe0","chunk-2d238036":"31d6cfe0","chunk-2849501a":"b75bf511","chunk-5ad39856":"4ee3ec27","chunk-df1d65f8":"298f0116","chunk-2d0ae8ce":"31d6cfe0","chunk-925845c8":"31d6cfe0","chunk-2d224897":"31d6cfe0","chunk-2d0f0460":"31d6cfe0","chunk-2d22fcd8":"31d6cfe0","chunk-0ee65734":"0266dcd5","chunk-2d0b3d75":"31d6cfe0","chunk-2d0d3352":"31d6cfe0","chunk-2d2093cd":"31d6cfe0","chunk-46616d5c":"5aa89d7a","chunk-5f45b51e":"0b94f07b","chunk-dbcbc9f0":"ed7afb3d","chunk-e8c35558":"d87f6b26","chunk-2d0a34cd":"31d6cfe0","chunk-2d2178d8":"31d6cfe0","chunk-46683383":"38ef5e83","chunk-2d0de8c6":"31d6cfe0","chunk-2d0a4ee7":"31d6cfe0","chunk-2d22c54f":"31d6cfe0","chunk-2d0b8a97":"31d6cfe0","chunk-2d0f1166":"31d6cfe0","chunk-2d0c51d9":"31d6cfe0","chunk-2d0cba88":"31d6cfe0","chunk-2d0e9584":"31d6cfe0","chunk-2d208701":"31d6cfe0","chunk-a17a88f0":"8d17551f","chunk-2d21843f":"31d6cfe0","chunk-ef310de6":"8e3e5459","chunk-2d0bae7e":"31d6cfe0","chunk-2d0e1f84":"31d6cfe0","chunk-87c19530":"e279dd35","chunk-2d0bce74":"31d6cfe0","chunk-2d21ae7c":"31d6cfe0","chunk-2d0f00ae":"31d6cfe0","chunk-2d213767":"31d6cfe0","chunk-2d0da3d2":"31d6cfe0","chunk-2d0bac2d":"31d6cfe0","chunk-24f8de72":"2404a2b7","chunk-2d0d7267":"31d6cfe0","chunk-2d0aeada":"31d6cfe0","chunk-67fc1753":"ef9cb046","chunk-2d0b64dc":"31d6cfe0","chunk-2d20f553":"31d6cfe0","chunk-2d0aeef7":"31d6cfe0","chunk-2d21a97a":"31d6cfe0","chunk-2d0e59ed":"31d6cfe0","chunk-2ff40744":"79831ca8","chunk-2d0b35ec":"31d6cfe0","chunk-2d0c14f9":"31d6cfe0","chunk-2d0f0db4":"31d6cfe0","chunk-8308ff34":"31d6cfe0","chunk-c08c8c3a":"5498462e","chunk-08bfc922":"b75bf511","chunk-2d0c2145":"31d6cfe0","chunk-eb272f92":"31d6cfe0","chunk-2d21402c":"31d6cfe0","chunk-7fca2392":"0b94f07b","chunk-867f82c8":"0b94f07b","chunk-d2634670":"0b94f07b","chunk-9770f24c":"f1678e2d","chunk-c39e5026":"31d6cfe0","chunk-2d0d5b95":"31d6cfe0","chunk-fb4a559e":"f1f76cd2","chunk-29db9803":"79831ca8","chunk-2d229265":"31d6cfe0","chunk-73b7296e":"bfbc9ccf","chunk-b171b1fc":"6ddde818","chunk-46de8d57":"34db7784","chunk-2d0db43c":"31d6cfe0","chunk-129fcc08":"d65d9c97","chunk-2d0c7b72":"31d6cfe0","chunk-79b62dc7":"2fc34fff","chunk-0f662be1":"0d6612ac","chunk-2d207830":"31d6cfe0","chunk-7ded4ac4":"efbb5af9","chunk-03fe0ab0":"cff7ec60","chunk-2d0c8db4":"31d6cfe0","chunk-7f0c24b3":"a6601182"}[t]+".css",s=l.p+o,r=document.getElementsByTagName("link"),n=0;n<r.length;n++){var c=r[n],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===o||d===s))return e()}var u=document.getElementsByTagName("style");for(n=0;n<u.length;n++){c=u[n],d=c.getAttribute("data-href");if(d===o||d===s)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var o=e&&e.target&&e.target.src||s,r=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=o,delete i[t],p.parentNode.removeChild(p),a(r)},p.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){i[t]=0})));var o=s[t];if(0!==o)if(o)e.push(o[2]);else{var r=new Promise((function(e,a){o=s[t]=[e,a]}));e.push(o[2]=r);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=n(t);var u=new Error;c=function(e){d.onerror=d.onload=null,clearTimeout(p);var a=s[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",u.name="ChunkLoadError",u.type=o,u.request=i,a[1](u)}s[t]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},l.m=t,l.c=o,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)l.d(a,o,function(e){return t[e]}.bind(null,o));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var p=d;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0091":function(t,e,a){},"0127":function(t,e,a){"use strict";a("f21c")},"03e1":function(t,e,a){"use strict";a("b77f")},"065d":function(t,e,a){},"0831":function(t,e,a){"use strict";a("1144")},"0860":function(t,e,a){},"0b57":function(t,e,a){"use strict";a.r(e);var o=a("8336"),i=a("b0af"),s=a("99d9"),r=a("ac7c"),n=a("cc20"),l=a("62ad"),c=a("a523"),d=a("8fea"),u=a("169a"),p=a("132d"),m=a("0fd9"),h=a("2fa4"),_=a("8654"),g=a("a844"),f=function(){var t=this,e=t._self._c;return e("div",[e(i["a"],{staticClass:"mx-auto",attrs:{elevation:"0"}},[e(s["b"],[e(_["a"],{attrs:{"append-icon":"mdi-magnify",label:"Buscar abono","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e(d["a"],{attrs:{headers:t.headersdebs,items:t.itemsDebsClient,search:t.search},scopedSlots:t._u([{key:"item.status",fn:function({item:a}){return[1==a.status?e(n["a"],{staticClass:"ma-2",attrs:{color:"orange","text-color":"white"}},[t._v(" "+t._s(1==a.status?"Por Confirmar":"")+" ")]):t._e(),2==a.status?e(n["a"],{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[t._v(" "+t._s(2==a.status?"Confirmado":"")+" ")]):t._e()]}},{key:"item.accion",fn:function({item:a}){return[e(p["a"],{staticClass:"mr-2",on:{click:function(e){return t.viewPdf(a.path)}}},[t._v(" mdi-eye ")])]}},{key:"item.instructivo",fn:function({item:a}){return[e(p["a"],{staticClass:"mr-2",attrs:{color:"info"},on:{click:function(e){return t.editControl(a.code_master)}}},[t._v(" mdi-pencil ")])]}},{key:"item.accions",fn:function({item:a}){return[1==a.status?e(p["a"],{staticClass:"mr-2",attrs:{color:"blue-grey darken-2"},on:{click:function(e){return t.processPayment(a.id,a.path,a.nro_master,a.monto_letra,a.name)}}},[t._v(" mdi-check-circle ")]):t._e(),2==a.status&&1==t.security?e(p["a"],{staticClass:"mr-2",attrs:{color:"blue-grey darken-2"},on:{click:function(e){return t.reversar(a)}}},[t._v(" mdi-undo-variant ")]):t._e(),3==a.status?e(p["a"],{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.openPaymentFile(a.id,a.pathfile,a.namelong)}}},[t._v(" mdi-eye ")]):t._e()]}}],null,!0)})],1),e(u["a"],{attrs:{width:"700",persistent:""},model:{value:t.dialogProcess,callback:function(e){t.dialogProcess=e},expression:"dialogProcess"}},[e(i["a"],[e(s["d"],[e("h3",[t._v(" Aprobar Pago por el Monto de "+t._s(t.paymentmonto)+" "),e("br"),t._v(" "+t._s(t.nameproveedor)+" ")])]),e(s["c"],[e(c["a"],[e(m["a"],{attrs:{dense:""}},[e(l["a"],{attrs:{cols:"12"}},[e("iframe",{attrs:{width:"100%",height:"400px",src:t.pathRuta,frameborder:"0"}})]),e(l["a"],{attrs:{cols:"12",md:"6"}},[e(_["a"],{attrs:{label:"Nro operacion en Cuenta de Banco",required:"","error-messages":t.errorNroOp},model:{value:t.nro_operacion,callback:function(e){t.nro_operacion=e},expression:"nro_operacion"}})],1),e(l["a"],{attrs:{cols:"12",md:"6"}},[e(r["a"],{attrs:{label:"Aplica comisión"},model:{value:t.checkComision,callback:function(e){t.checkComision=e},expression:"checkComision"}})],1),e(l["a"],{attrs:{cols:"12",md:"6"}},[t.checkComision?e(_["a"],{attrs:{type:"number",label:"Monto de la comisión"},model:{value:t.montocomision,callback:function(e){t.montocomision=e},expression:"montocomision"}}):t._e()],1),e(l["a"],{attrs:{cols:"12",md:"12"}},[e(g["a"],{attrs:{label:"Comentario",rows:"3"},model:{value:t.comentarioadmin,callback:function(e){t.comentarioadmin=e},expression:"comentarioadmin"}})],1)],1)],1)],1),e(s["a"],[e(o["a"],{attrs:{color:"primary"},on:{click:function(e){return t._setCheckDebsClient()}}},[t._v("Aprobar Pago")]),e(h["a"]),e(o["a"],{attrs:{outlined:"",color:"red"},on:{click:function(e){t.dialogProcess=!t.dialogProcess}}},[t._v("Cerrar")])],1)],1)],1),e(u["a"],{attrs:{width:"80%"},model:{value:t.dialogPath,callback:function(e){t.dialogPath=e},expression:"dialogPath"}},[e(i["a"],[e(s["d"]),e(s["c"],[e(m["a"],[e(l["a"],{attrs:{cols:"4"}},[e("h2",[t._v("Proveedor")]),e("p",{staticClass:"text-h4 mt-2"},[t._v(t._s(t.nameproveedor))]),e("h2",[t._v("Conceptos pagados")]),t._l(t.itemsSPaymentConceptos,(function(a){return e("p",{key:a.id,staticClass:"mt-5"},[t._v(" "+t._s(a.name)+" ")])}))],2),e(l["a"],{attrs:{cols:"8"}},[e("iframe",{attrs:{src:t.pathfileAll,width:"100%",height:"800px",frameborder:"0"}})])],1)],1)],1)],1)],1)},v=[],b=(a("14d9"),a("bc3a")),C=a.n(b),k=a("3d20"),S=a.n(k),y=a("2f62"),I={name:"checkDebs",data:()=>({itemsSPayment:[],search:"",dialogProcess:!1,date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),menu:!1,modal:!1,menu2:!1,security:JSON.parse(sessionStorage.getItem("security")),checkComision:!1,montocomision:"",comentarioadmin:"",payfile:"",pathRuta:"",itemsSPaymentConceptos:[],dialogPath:!1,pathfile:"",sPaymentId:"",paymentname:"",paymentMaster:"",paymentmonto:"",payPath:"",nameproveedor:"",dialogListInvoince:!1,itemsListInvoice:[],itemsDebsClient:[],pathfileAll:"",boolFile:!1,headersInvoice:[{text:"Nombre",value:"originalname"},{text:"Fecha",value:"date_letra"},{text:"Ver",value:"path"}],errorNroOp:"",nro_operacion:"",headersdebs:[{text:"Documento",align:"start",sortable:!1,value:"name"},{text:"Expediente",value:"nro_master"},{text:"Nro Operación",value:"nro_operacion"},{text:"Cliente",value:"nameconsigner"},{text:"Fecha",value:"date"},{text:"Monto Factura Cliente (USD)",value:"monto_letra_pic"},{text:"Tipo de Cambio",value:"tipocambio"},{text:"Monto ingresado al Banco",value:"monto_letra"},{text:"Monto a pagar a proveedores",value:"monto_pagar_pro"},{text:"Comentario del solicitante",value:"comentario_usuario"},{text:"Status",value:"status"},{text:"Ver",value:"accion"},{text:"Instructivo",value:"instructivo"},{text:"Acciones",value:"accions"}],headersPdf:[{text:"Nombre",align:"start",sortable:!1,value:"path"},{text:"Expediente",value:"nro_master"},{text:"Quote",value:"id_cot"},{text:"Monto",value:"monto_letra"},{text:"Ver Facturas",value:"invoice"},{text:"Ver Solicitud",value:"accion"},{text:"Status",value:"status"},{text:"Adjuntar",value:"accions"}],dataList:!1}),async mounted(){this.$store.state.spiner=!0,await this._getDebsClient(),await this._getBanksList(),await this._getCoinsList(),this.$store.state.spiner=!1},methods:{...Object(y["b"])(["_getBanksList","_getCoinsList"]),getDebs(){this.$store.state.spiner=!0,this._getDebsClient(),this.$store.state.spiner=!1},editControl(t){this.$router.push({name:"editControlGasto",params:{code_master:t,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}})},processPayment(t,e,a,o,i){this.sPaymentId=t,this.paymentname=e,this.pathRuta=e,this.paymentMaster=a,this.paymentmonto=o,this.nameproveedor=i,this._getRequestPaymentConceptos(this.sPaymentId),this.dialogProcess=!0},openDoc(t){window.open(t,"_blank")},async reversar(t){S.a.fire({title:"Aviso",text:"¿Esta seguro que quiere reversar la confirmación de esta cuenta por cobrar?",icon:"question",confirmButtonText:"Si",denyButtonText:"No",showDenyButton:!0}).then(e=>{e.isConfirmed&&this.reversarProceso(t)})},async reversarProceso(t){let e=this;var a={method:"put",url:"https://api.agentedecargaonline.com/reversar_debscliente",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id:t.id}};await C()(a).then((function(t){let a=t.data.data;S.a.fire({title:"Aviso",text:a[0].mensaje,icon:"info"}),e.getDebs()})).catch((function(t){console.log(t)}))},openPaymentFile(t,e,a){this.pathfileAll=e,this.dialogPath=!0,this.nameproveedor=a,this._getRequestPaymentConceptos(t)},openInvoice(t,e,a){this._getInvoice(t,e),this.nameproveedor=a},async _getDebsClient(){var t=this;let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/getDebsClientList",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await C()(a).then((function(e){t.dataList=!0,t.itemsDebsClient=e.data.data})).catch((function(t){console.log(t)}))},_uploadFile(){var t=a("5a30"),e=(a("3e8f"),new t),o=this;e.append("name","Prueba"),e.append("file",o.payfile);var i={method:"post",url:"https://api.agentedecargaonline.com/uploadAllPath",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};C()(i).then((function(t){o.boolFile=!0,o.payPath=JSON.stringify(t.data.data[0].insertid)})).catch((function(t){console.log(t)}))},cleandData(){this.date="",this.payoperacion="",this.paybanco="",this.paymoneda="",this.paymonto="",this.payPath="",this.montocomision="",this.checkComision="",this.comentarioadmin=""},async _setCheckDebsClient(){var t=this;if(t.nro_operacion){t.$swal({icon:"info",title:"Aprobando el pago...",text:"Por favor espere"});var e={comentario_admin:t.comentarioadmin&&""!=t.comentarioadmin?t.comentarioadmin:null,checkComision:t.checkComision&&""!=t.checkComision?t.checkComision:null,comision:t.montocomision&&""!=t.montocomision?t.montocomision:null,status:2,nro_operacion:t.nro_operacion,id:t.sPaymentId},a={method:"post",url:"https://api.agentedecargaonline.com/setCheckDebsClient/",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await C()(a).then((function(e){t._getDebsClient(),t.$swal({icon:"success",title:"Pago Aprobado",text:"El pago ha sido Aprobado correctamente"}),t.cleandData(),t.dialogProcess=!1})).catch((function(t){console.log(t)}))}else this.errorNroOp="Dato Requerido."},async _getRequestPayment(){var t=this,e={method:"post",url:"https://api.agentedecargaonline.com/getRequestPayment",data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await C()(e).then((function(e){t.itemsSPayment=e.data.data,t.dataList=!0})).catch((function(t){console.log(t)}))},async _getRequestPaymentConceptos(t){var e=this,a={method:"post",url:"https://api.agentedecargaonline.com/getRequestPaymentConceptos/"+t,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await C()(a).then((function(t){e.itemsSPaymentConceptos=t.data.data})).catch((function(t){console.log(t)}))},viewPdf(t){window.open(t,"_blank")}}},P=I,x=a("2877"),T=Object(x["a"])(P,f,v,!1,null,null,null);e["default"]=T.exports},"0bd5":function(t,e,a){t.exports=a.p+"img/power.0d923bc9.svg"},1049:function(t,e,a){"use strict";a("ce1f")},1144:function(t,e,a){},1293:function(t,e,a){},1676:function(t,e,a){},"1da1":function(t,e,a){"use strict";a("a8c3")},"1dc9":function(t,e,a){"use strict";a("f0e3")},"217c":function(t,e,a){},2535:function(t,e,a){},"25a7":function(t,e,a){"use strict";a("a9a8")},"264b":function(t,e,a){"use strict";a("5a85")},"2b30":function(t,e,a){},"345c":function(t,e,a){"use strict";a("2535")},"38c0":function(t,e,a){"use strict";a("d3f3")},"394d":function(t,e,a){},"3cbe":function(t,e,a){"use strict";a("f586")},4360:function(t,e,a){"use strict";a("14d9"),a("e9f5"),a("7d54"),a("ab43");var o=a("2b0e"),i=a("2f62"),s=a("bc3a"),r=a.n(s),n=a("a18c"),l=a("6976"),c=a.n(l),u=a("4ce8"),p=a.n(u),m=a("55d6"),h=a.n(m),_=a("e035"),g=a.n(_),f=a("f9d5"),v=a.n(f),b=(a("4413"),a("910d"),a("a732"),a("1e70"),a("79a4"),a("c1a1"),a("8b00"),a("a4e7"),a("1e5a"),a("72c3"),a("88a7"),a("271a"),a("5494"),a("3d20")),C=a.n(b),k=a("54e1"),S=a("c1df"),y=a.n(S);const I={tipo:"filter",drawer:!1,lstCanales:[],lstTipoProveedor:[],lstPercepcionAduana:[],lstTipoTransaccion:[],lstTipoTelefono:[],lstImpuesto:[],lstNotasQuote:[],lstTipoPersona:[],lstImpRenta:[],filtros:{id:"",id_master:"",valorcodigo:"",codigo01:"",codigo02:"",description:"",status:!0,escomunflag:!1},model:{id:"",id_master:"",valorcodigo:"",codigo01:"",codigo02:"",description:"",status:!0,id_branch:"",escomunflag:""}},P={SET_CARGAR_CANALES(t,e){t.lstCanales=e},SET_CARGAR_TIPO_PROVEEDOR(t,e){t.lstTipoProveedor=e},SET_CARGAR_PERCEPCION_ADUANA(t,e){t.lstPercepcionAduana=e},SET_CARGAR_TIPO_TRANSACCION(t,e){t.lstTipoTransaccion=e},SET_CARGAR_TIPO_TELEFONO(t,e){t.lstTipoTelefono=e},SET_CARGAR_TIPO_PERSONA(t,e){t.lstTipoPersona=e},SET_LISTAR_IMPUESTOS(t,e){t.lstImpuesto=e},SET_LISTAR_NOTAS_COSTO(t,e){t.lstNotasQuote=e},SET_CARGAR_IMPUESTO_RENTA(t,e){t.lstImpRenta=e}},x={async ActualizarMasterDetalle({commit:t}){var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_master_detalle",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:I.model};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async GetListImpuestos({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/listar_master_detalle_impuesto?&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_master=${I.filtros.id_master}&valorcodigo=${""==I.filtros.valorcodigo||null==I.filtros.valorcodigo?"":I.filtros.valorcodigo}&codigo01=${""==I.filtros.codigo01||null==I.filtros.codigo01?"":I.filtros.codigo01}&codigo02=${I.filtros.codigo02}&description=${""==I.filtros.description||null==I.filtros.description?"":I.filtros.description}&status=${I.filtros.status}&escomunflag=${I.filtros.escomunflag}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LISTAR_IMPUESTOS",a.data):(t("SET_LISTAR_IMPUESTOS",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async GetListNotasCotizacion({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/listar_master_detalle_notas_cotizacion?&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_master=${I.filtros.id_master}&valorcodigo=${""==I.filtros.valorcodigo||null==I.filtros.valorcodigo?"":I.filtros.valorcodigo}&codigo01=${I.filtros.codigo01}&codigo02=${""==I.filtros.codigo02||null==I.filtros.codigo02?"":I.filtros.codigo02}&description=${""==I.filtros.description||null==I.filtros.description?"":I.filtros.description}&status=${null==I.filtros.status?"":I.filtros.status}&escomunflag=${I.filtros.escomunflag}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LISTAR_NOTAS_COSTO",a.data):(t("SET_LISTAR_NOTAS_COSTO",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async GetListTipoTelefono({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/listar_master_detalle_tipotelefono?&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_master=${I.filtros.id_master}&valorcodigo=${""==I.filtros.valorcodigo||null==I.filtros.valorcodigo?"":I.filtros.valorcodigo}&codigo01=${""==I.filtros.codigo01||null==I.filtros.codigo01?"":I.filtros.codigo01}&codigo02=${I.filtros.codigo02}&description=${""==I.filtros.description||null==I.filtros.description?"":I.filtros.description}&status=${I.filtros.status}&escomunflag=${I.filtros.escomunflag}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_CARGAR_TIPO_TELEFONO",a.data):(t("SET_CARGAR_TIPO_TELEFONO",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async cargarMasterDetalleCanal({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={method:"post",url:"https://api.agentedecargaonline.com/cargar_master_detalle_canal?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:e};r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_CARGAR_CANALES",e.data.data):t("SET_CARGAR_CANALES",[])})},async cargarMasterDetalleTipoProveedor({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={method:"post",url:"https://api.agentedecargaonline.com/cargar_master_detalle_tipo_proveedor?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:e};r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_CARGAR_TIPO_PROVEEDOR",e.data.data):t("SET_CARGAR_TIPO_PROVEEDOR",[])})},async cargarMasterDetallePercepcionAduana({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={method:"get",url:"https://api.agentedecargaonline.com/cargar_master_detalle_percepcion_aduana?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:e};r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_CARGAR_PERCEPCION_ADUANA",e.data.data):t("SET_CARGAR_PERCEPCION_ADUANA",[])})},async cargarMasterDetalleTipoTransaccion({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={method:"get",url:"https://api.agentedecargaonline.com/cargar_master_detalle_tipo_percepcion?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:e};r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_CARGAR_TIPO_TRANSACCION",e.data.data):t("SET_CARGAR_TIPO_TRANSACCION",[])})},async cargarTipoTelefono({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={method:"get",url:"https://api.agentedecargaonline.com/cargar_master_detalle_tipo_telefono?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:e};r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_CARGAR_TIPO_TELEFONO",e.data.data):t("SET_CARGAR_TIPO_TELEFONO",[])})},async RegistrarMasterDetalleTipoTelefono({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/insertar_master_detalle_tipotelefono",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:I.model};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async RegistrarMasterDetalleNotasCotizacion({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/insertar_master_detalle_notas_cotizacion",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:I.model};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async cargarTipoPersona({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={method:"get",url:"https://api.agentedecargaonline.com/cargar_master_detalle_tipo_persona?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_CARGAR_TIPO_PERSONA",e.data.data):t("SET_CARGAR_TIPO_PERSONA",[])})},async cargarImpuestoRenta({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={method:"get",url:"https://api.agentedecargaonline.com/cargar_master_detalle_impuesto_renta?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_CARGAR_IMPUESTO_RENTA",e.data.data):t("SET_CARGAR_IMPUESTO_RENTA",[])})}};var T={namespace:!0,state:I,mutations:P,actions:x};let $={tipo:"filter",drawer:!1,lstUsers:[],filtros:{users:"",nombrecompleto:"",id_document:"",document:"",phone:"",email:"",status:"1"},model:{id:"",id_entitie:"",id_pais:"",id_city:"",id_state:"",id_town:"",users:"",id_document:"",document:"",id_sex:"",status:"1",departamento:"1",names:"",surname:"",second_surname:"",socialprincipal:"",socialsecundary:"",phone:"",address:"",birthday:"",email:"",cambiarClave:!1,clave:"",confirmclave:""},sucursales:[],positions:[]},E={SET_LIST_USERS(t,e){t.lstUsers=e}},w={async GetListUsers({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/listar_usuarios?&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&users=${$.filtros.users?$.filtros.users:""}&nombrecompleto=${$.filtros.nombrecompleto?$.filtros.nombrecompleto:""}&id_document=${$.filtros.id_document?$.filtros.id_document:""}&document=${$.filtros.document?$.filtros.document:""}&phone=${$.filtros.phone?$.filtros.phone:""}&email=${$.filtros.email?$.filtros.email:""}&status=${"null"===$.filtros.status?"":$.filtros.status}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_USERS",a.data):(t("SET_LIST_USERS",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))},async GetVerUsers({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/ver_usuario?&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id=${$.model.id}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(t){let e=t.data;1==e.estadoflag?($.model=e.data[0],$.positions=e.data[0].positions,$.sucursales=e.data[0].sucursales,sessionStorage.setItem("auth-token",e.token)):C.a.fire({icon:"warning",title:"Aviso",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){let t=a.response;throw C.a.fire({icon:"error",title:t.statusText,text:t.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(e=>{e.isConfirmed&&"401"==t.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}),a}},async validateUserUsuario(){var t={method:"get",url:"https://api.agentedecargaonline.com/validate_user_usuarios?users="+$.model.users,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{let e=await r()(t);return e.data}catch(e){console.error(e)}},async validateEmailUsuario(){var t={method:"get",url:"https://api.agentedecargaonline.com/validate_email_usuarios?email="+$.model.email,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{let e=await r()(t);return e.data}catch(e){console.error(e)}},async validateDocumentUsuario(){var t={method:"get",url:`https://api.agentedecargaonline.com/validate_document_usuarios?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_document=${$.model.id_document}&document=${$.model.document}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{let e=await r()(t);return e.data}catch(e){console.error(e)}},async setUsers({commit:t}){let e=$.model;e.id_branch=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,e.positions=$.positions,e.sucursales=$.sucursales;var a={method:"post",url:"https://api.agentedecargaonline.com/insertar_usuario",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};try{await r()(a).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje,allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(t=>{t.isConfirmed&&n["a"].push({name:"listUser"})})})).catch((function(t){console.error(t)}))}catch(o){console.error(o)}},async ActualizarUsers({commit:t}){let e=$.model;e.id_branch=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,e.positions=$.positions,e.sucursales=$.sucursales;var a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_usuario",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};try{await r()(a).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje,allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(t=>{t.isConfirmed&&n["a"].push({name:"listUser"})})})).catch((function(t){console.error(t)}))}catch(o){console.error(o)}},async cambiarEstadoUsers({commit:t}){var e={method:"put",url:"https://api.agentedecargaonline.com/cambiar_estado_usuario",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:$.model};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje,allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1})}))}catch(a){console.error(a)}}};var M={namespace:!0,state:$,mutations:E,actions:w};const O={response:{estadoflag:!0},errorClave:"",frmLogin:{user:"",password:"",id_sucursal:""},MostrarLogin:!0,MostrarSucursal:!1,lstSucursal:[]},F={SET_RESPONSE(t,e){t.response=e},SET_SUCURSAL_X_USUARIO(t,e){t.lstSucursal=e}},A={async ValidarToken({commit:t,dispatch:e}){let a=null;var o={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},i={method:"post",url:"https://api.agentedecargaonline.com/validToken",headers:o};return await r()(i).then(async t=>{a=t.data}),a},async ObtenerDatosConfig({commit:t,dispatch:e}){let a=null;var o={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},i={method:"get",url:"https://api.agentedecargaonline.com/obtener_existe_datos_config",params:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},headers:o};return await r()(i).then(async t=>{a=t.data,sessionStorage.setItem("ConfigEmpresa",JSON.stringify(t.data.data[0])),localStorage.setItem("ConfigEmpresa",JSON.stringify(t.data.data[0]))}),a},async singin({commit:t,dispatch:e}){O.errorClave="";var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={method:"post",url:"https://api.agentedecargaonline.com/singin",headers:a,data:O.frmLogin};return await r()(o).then(async t=>{let a=t.data;if(O.response.estadoflag=a.estadoflag,a.estadoflag){sessionStorage.setItem("security",t.data.data[0].id_secutiry),localStorage.setItem("security",t.data.data[0].id_secutiry),sessionStorage.setItem("auth-token",t.data.token),localStorage.setItem("auth-token",t.data.token);let a=t.data.data;if(a[0].id_user=t.data.data[0].id,a[0].id=t.data.data[0].id_entitie,sessionStorage.setItem("dataUser",JSON.stringify(a)),localStorage.setItem("dataUser",JSON.stringify(a)),await e("CargarBranch"),1==O.lstSucursal.length){let t=O.lstSucursal;sessionStorage.setItem("dataBranch",JSON.stringify(t)),localStorage.setItem("dataBranch",JSON.stringify(t));let a=JSON.parse(sessionStorage.getItem("dataUser"));a[0].id_branch=t[0].id,sessionStorage.setItem("dataUser",JSON.stringify(a)),localStorage.setItem("dataUser",JSON.stringify(a)),sessionStorage.setItem("iso_pais",t[0].iso_pais),localStorage.setItem("iso_pais",t[0].iso_pais),sessionStorage.setItem("dataBranch",JSON.stringify(t)),localStorage.setItem("dataBranch",JSON.stringify(t)),await setTimeout(async()=>{await e("_getMenuItem"),await e("ObtenerDatosConfig"),Do.state.lstMenu=JSON.parse(sessionStorage.getItem("menu"))},1e3),t[0].esnuevoflag?n["a"].push({name:"ConfiguracionInicial"},()=>{}):n["a"].push({name:"Main"},()=>{})}else O.MostrarLogin=!1,O.MostrarSucursal=!0}else O.errorClave=a.mensaje}),O.response},async CargarBranch({commit:t}){let e=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_user;var a={method:"get",url:"https://api.agentedecargaonline.com/CargarBranch/"+e,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){var a=e.data;t("SET_SUCURSAL_X_USUARIO",a.data)})).catch((function(t){console.log(t)}))},async ReEstablecerContrasenia({commit:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/recuperar_clave",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{email:O.frmLogin.user}};await r()(a).then((function(t){var e=t.data;console.log(e),C.a.fire({icon:e.estadoflag?"success":"error",html:e.mensaje})})).catch((function(t){console.log(t)}))},async _getMenuItem({commit:t}){this.state.dataMenu=!1;var e=JSON.parse(sessionStorage.getItem("dataUser")),a=JSON.stringify({id_entitie:e[0].id_user,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}),o={method:"post",url:"https://api.agentedecargaonline.com/getMenuModules",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await r()(o).then((function(e){sessionStorage.setItem("menu",JSON.stringify(e.data.data)),localStorage.setItem("menu",JSON.stringify(e.data.data)),t("_setItemsMenu",e.data.data)})).catch((function(t){console.log(t)}))},async validarUsuarioAdmin({commit:t},e){let a=null;var o={method:"post",url:"https://api.agentedecargaonline.com/validar_usuario_admin",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};return await r()(o).then((function(t){a=t.data})).catch((function(t){console.log(t)})),a}};var N={namespace:!0,state:O,mutations:F,actions:A};const D={lstCuentas:[],list:[],response:[],record:{},loading:!1,model:{id_logo:"",document:"",trade_name:"",business_name:"",phone:"",slogan:"",address:"",status:"1",id_pais:"",id_state:"",id_city:"",id_town:"",id_document:"",ic:""},data:{trade_name:"",id_pais:"",names:"",surname:"",second_surname:"",email:"",phone:"",clave:""},impuesto:{},step:1,inicioFlag:!0,datoEmpresaFlag:!1,datoAdminFlag:!1,datoProveedorFlag:!1,datoClienteFlag:!1,datoCostosFlag:!1},L={SET_LOADING(t,e){t.loading=e},SET_LIST_ENTERPRISE(t,e){t.list=e},SET_ENTERPRISE(t,e){t.record=e},SET_IMPUESTO_X_EMPRESA(t,e){t.impuesto=e[0]},SET_CUENTAS_X_EMPRESA(t,e){t.lstCuentas=e}},j={async fetchDataEnterprise({commit:t},e){t("SET_LOADING",!1);var a={method:"get",url:"https://api.agentedecargaonline.com/listar_enterprise?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch+"&document="+encodeURIComponent(e.document)+"&trade_name="+encodeURIComponent(e.trade_name)+"&business_name="+encodeURIComponent(e.business_name)+"&address="+encodeURIComponent(e.address)+"&status="+e.status+"&id_pais="+e.id_pais+"&id_state="+e.id_state+"&id_city="+e.id_city+"&id_town="+e.id_town+"&id_document="+e.id_document,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token);let o=a.estadoflag?a.data:[];t("SET_LIST_ENTERPRISE",o),t("SET_LOADING",!0),a.estadoflag||C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async insertEnterprise({commit:t}){let e={user:M.state.model,enterprise:D.model};console.log(M.state.model),console.log(D.model);var a={method:"post",url:"https://api.agentedecargaonline.com/insertar_enterprise",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};r()(a).then(t=>{let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{t.isConfirmed&&n["a"].push("listado")})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async readEnterprise({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/ver_enterprise?id="+e,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_ENTERPRISE",a.data[0]):C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async updateEnterprise({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_enterprise",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(e=>{const a=n["a"].currentRoute;if("listEnterprise"!==a.name)n["a"].push({name:"listEnterprise"});else{let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,document:"",trade_name:"",business_name:"",address:"",status:"",id_pais:"",id_state:"",id_city:"",id_town:"",id_document:"",status:1};t("fetchDataEnterprise",e)}})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async RegistroNuevaEmpresa({commit:t,dispatch:e}){var a={method:"post",url:"https://api.agentedecargaonline.com/registro_nueva_empresa",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:D.data};return await r()(a).then(t=>{sessionStorage.setItem("security",t.data.data[0].data_users.id_secutiry);let e=t.data.data[0].data_users,a=t.data.data[0].data_branch;e[0].id_user=e[0].id,e[0].id=e[0].id_entitie,sessionStorage.setItem("dataUser",JSON.stringify(e)),sessionStorage.setItem("auth-token",t.data.token),sessionStorage.setItem("dataBranch",JSON.stringify(a)),localStorage.setItem("dataUser",JSON.stringify(e)),localStorage.setItem("auth-token",t.data.token),localStorage.setItem("dataBranch",JSON.stringify(a))}).catch(t=>{console.log("Error al obtener los datos:",t)}),!0},async enviarCorreoValidacion(){var t={method:"get",url:"https://api.agentedecargaonline.com/enviar_codigo_validacion_email?email="+D.data.email,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:D.data};await r()(t).then(t=>{t.data}).catch(t=>{console.log("Error al obtener los datos:",t)})},async validarCodigoVerificacion({},t=!1){let e=[];var a={method:"get",url:`https://api.agentedecargaonline.com/validar_token_registro?email=${D.data.email}&codigo=${D.data.codigo}&eliminartoken=${t}`,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:D.data};return await r()(a).then(t=>{let a=t.data;e=a}).catch(t=>{console.log("Error al obtener los datos:",t)}),e},async validarCorreoRegistro(){let t=null;var e={method:"get",url:"https://api.agentedecargaonline.com/validar_correo_registro?email="+D.data.email,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:D.data};return await r()(e).then(e=>{let a=e.data;t=a}).catch(t=>{console.log("Error al obtener los datos:",t)}),t},async obtenerImpuestoXEmpresa({commit:t},e=null){let a=e||JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch;var o={method:"get",url:"https://api.agentedecargaonline.com/obtener_impuestos_branch?id_branch="+a,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(o).then((function(e){t("SET_IMPUESTO_X_EMPRESA",e.data.data)})).catch((function(t){console.log(t)}))},async listarCuentaEmpresa({commit:t},e=null){let a=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch;var o={method:"get",url:"https://api.agentedecargaonline.com/listado_cuentas_empresa?id_branch="+a,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(o).then((function(e){t("SET_CUENTAS_X_EMPRESA",e.data.data)})).catch((function(t){console.log(t)}))},async registrarCuentaEmpresa({commit:t,dispatch:e},a){let o=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch;a.id_branch=o;var i={method:"post",url:"https://api.agentedecargaonline.com/banco_registrar",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await r()(i).then((function(t){let a=t.data;C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}),e("listarCuentaEmpresa")})).catch((function(t){console.log(t)}))}};var R={namespace:!0,state:D,mutations:L,actions:j};const B={preServices:[],preCostos:[],itemsDataRoleList:[],listadoResumen:[],actualizarCostosFlag:!0,costoflag:!1,impuestoflag:!1,mostrarBtnActualizarFlag:!0,bloquearBtnImprimir:!0,vendedor:"",aprobadoflag:!1,totalIngresos:0,totalCostos:0,totalIngresosAprobar:[],totalCostosAprobar:[],tiporeporte:"",abrirModalContenedor:!1,index:0,cantidadOpcionesSeleccionadas:0,tab:1,llenadoCostos:!0,actualizarComparativa:!1,mostrarGuardarCostos:!1,actualizarNotas:!1,cancelarLlenadoNuevaOpcion:!1,recargarCostoSeleccionados:!1,reCalcularOpciones:!1,reset:!1,namesection:[],page:1,filtro:{id_marketing:"",id_status:"",id_entities:"",id_modality:"",id_shipment:"",id_incoterm:"",fechainicio:"",fechafin:"",estado:"activo"},filtroCalls:{id_marketing:"",id_status:"",id_entities:"",id_modality:"",id_shipment:"",id_incoterm:"",fechainicio:"",fechafin:"",estado:"activo"},ventaflag:!1,dataQuote:null,filtrarQuoteFlag:!1,filtrarCallsFlag:!1,btnRegistrar:!1,step2:!1,step3:!1,errfecha_fin:"",errtiempo_transito:"",id:"",nro_quote:"",urlFolder:"",mensaje:"",copy_quote:null,copylistServices:null,copylistCostos:null,copydatosPrincipales:{},datosPrincipales:{id_percepcionaduana:"",id_marketing:"",id_status:"",id_vendedor:JSON.parse(sessionStorage.getItem("dataUser"))?JSON.parse(sessionStorage.getItem("dataUser"))[0].id:"",id_pricing:JSON.parse(sessionStorage.getItem("dataUser"))?JSON.parse(sessionStorage.getItem("dataUser"))[0].id:"",cif:"",contacto:"",descripcionMercancia:"",begEndList:"",ejecutivo_ventas:"",fecha_fin:"",fecha_inicio:"",fullflag:!1,ganancia:0,id:"",id_entitie:"",iddestino:"",idincoterms:"",idorigen:"",idsentido:"",idtipocarga:"",monto:"",nameStatusQuote:"",nombre:"",numerobultos:"",peso:"",volumen:"",quote:"",rangeDays:"",seguro:"",statusMain:"",statusQuote:"",telefono:"",proveedor:"",telefonoproveedor:"",tiempo_transito:"",direccionproveedor:"",containers:[],iddistrito:"",idprovincia:""},opcionCostos:[{nro_propuesta:1,date_end:"",tiempo_transito:0,listCostos:[],listImpuestos:[],listNotasQuote:[],selected:!1}],datosEmpresa:[],listQuotes:[],listCall:[],listMarketing:[],listQuoteStatus:[],listEjecutivo:[],listModality:[],listShipment:[],listIncoterms:[],listPortBegin:[],listPortEnd:[],listServices:[],listCostos:[],listMultiplicador:[],listRoles:[],errorValorMercancia:"",totalFlete:0,listNotasQuote:[],totalCosto:0,totalVenta:0,listImpuestos:[],listInstructivo:[],listRecibidoCotizacion:[],listEnviadoCliente:[],listIngresosInstructivoAprobar:[],listCostosInstructivoAprobar:[],listServiciosInstructivo:[],listImpuestosInstructivoAprobar:[],listTipoCostos:[],listIngresosInstructivo:[],listCostosInstructivo:[],listImpuestosInstructivo:[],e1:1,step:1},U={SET_RESET(t){t.preServices=[],t.preCostos=[],t.itemsDataRoleList=[],t.listadoResumen=[],t.actualizarCostosFlag=!0,t.costoflag=!1,t.impuestoflag=!1,t.mostrarBtnActualizarFlag=!0,t.bloquearBtnImprimir=!0,t.vendedor="",t.aprobadoflag=!1,t.totalIngresos=0,t.totalCostos=0,t.totalIngresosAprobar=[],t.totalCostosAprobar=[],t.tiporeporte="",t.abrirModalContenedor=!1,t.index=0,t.cantidadOpcionesSeleccionadas=0,t.tab=1,t.llenadoCostos=!0,t.actualizarComparativa=!1,t.mostrarGuardarCostos=!1,t.actualizarNotas=!1,t.cancelarLlenadoNuevaOpcion=!1,t.recargarCostoSeleccionados=!1,t.reCalcularOpciones=!1,t.reset=!1,t.namesection=[],t.page=1,t.filtro={id_marketing:"",id_status:"",id_entities:"",id_modality:"",id_shipment:"",id_incoterm:"",fechainicio:"",fechafin:"",estado:"activo"},t.filtroCalls={id_marketing:"",id_status:"",id_entities:"",id_modality:"",id_shipment:"",id_incoterm:"",fechainicio:"",fechafin:"",estado:"activo"},t.ventaflag=!1,t.dataQuote=null,t.filtrarQuoteFlag=!1,t.filtrarCallsFlag=!1,t.btnRegistrar=!1,t.step2=!1,t.step3=!1,t.errfecha_fin="",t.errtiempo_transito="",t.id="",t.nro_quote="",t.urlFolder="",t.mensaje="",t.copy_quote=null,t.copylistServices=null,t.copylistCostos=null,t.copydatosPrincipales={},t.datosPrincipales={id_percepcionaduana:"",id_marketing:"",id_status:"",id_vendedor:JSON.parse(sessionStorage.getItem("dataUser"))?JSON.parse(sessionStorage.getItem("dataUser"))[0].id:"",id_pricing:JSON.parse(sessionStorage.getItem("dataUser"))?JSON.parse(sessionStorage.getItem("dataUser"))[0].id:"",cif:"",contacto:"",descripcionMercancia:"",begEndList:"",ejecutivo_ventas:"",fecha_fin:"",fecha_inicio:"",fullflag:!1,ganancia:0,id:"",id_entitie:"",iddestino:"",idincoterms:"",idorigen:"",idsentido:"",idtipocarga:"",monto:"",nameStatusQuote:"",nombre:"",numerobultos:"",peso:"",volumen:"",quote:"",rangeDays:"",seguro:"",statusMain:"",statusQuote:"",telefono:"",proveedor:"",telefonoproveedor:"",tiempo_transito:"",direccionproveedor:"",containers:[],iddistrito:"",idprovincia:""},t.opcionCostos=[{nro_propuesta:1,date_end:"",tiempo_transito:0,listCostos:[],listImpuestos:[],listNotasQuote:[],selected:!1}],t.datosEmpresa=[],t.listQuotes=[],t.listCall=[],t.listMarketing=[],t.listQuoteStatus=[],t.listEjecutivo=[],t.listModality=[],t.listShipment=[],t.listIncoterms=[],t.listPortBegin=[],t.listPortEnd=[],t.listServices=[],t.listCostos=[],t.listMultiplicador=[],t.listRoles=[],t.errorValorMercancia="",t.totalFlete=0,t.listNotasQuote=[],t.totalCosto=0,t.totalVenta=0,t.listImpuestos=[],t.listInstructivo=[],t.listRecibidoCotizacion=[],t.listEnviadoCliente=[],t.listIngresosInstructivoAprobar=[],t.listCostosInstructivoAprobar=[],t.listServiciosInstructivo=[],t.listImpuestosInstructivoAprobar=[],t.listTipoCostos=[],t.listIngresosInstructivo=[],t.listCostosInstructivo=[],t.listImpuestosInstructivo=[],t.e1=1,t.step=1},ACTUALIZAR_IMPUEST(t,e){t.listImpuestos=e},LISTADO_RESUMEN(t,e){t.listadoResumen=e},PRE_SERVICES(t,e){t.preServices=e},PRE_COSTOS(t,e){t.preCostos=e},SET_QUOTE(t){t.opcionCostos=[{nro_propuesta:1,date_end:"",tiempo_transito:0,listCostos:[],listImpuestos:[],listNotasQuote:[],selected:!1}],t.listServices=[],t.listCostos=[],t.btnRegistrar=!1,t.step2=!1,t.step3=!1,t.datosPrincipales={id_marketing:"",id_status:"",id_vendedor:JSON.parse(sessionStorage.getItem("dataUser"))?JSON.parse(sessionStorage.getItem("dataUser"))[0].id:"",id_pricing:JSON.parse(sessionStorage.getItem("dataUser"))?JSON.parse(sessionStorage.getItem("dataUser"))[0].id:"",cif:"",contacto:"",descripcionMercancia:"",ejecutivo_ventas:"",fecha_fin:"",fecha_inicio:"",fullflag:!1,ganancia:0,id:"",id_entitie:"",iddestino:"",idincoterms:"",idorigen:"",idsentido:"",idtipocarga:"",monto:"",nameStatusQuote:"",nombre:"",numerobultos:"",peso:"",volumen:"",quote:"",rangeDays:"",seguro:"",statusMain:"",statusQuote:"",telefono:"",proveedor:"",telefonoproveedor:"",tiempo_transito:"",direccionproveedor:"",containers:[],iddistrito:"",idprovincia:""}},SET_CARGAR_LIST_RECIBIDO_COTIZACION(t,e){t.listRecibidoCotizacion=e},SET_DATA_QUOTE_NO_ASIGNDA(t,e){t.dataQuote=e},SET_CARGAR_LIST_ENVIADO_CLIENTE(t,e){t.listEnviadoCliente=e},SET_LIST_QUOTES(t,e){t.listQuotes=e},SET_CARGAR_NOTAS_COTIZACION(t,e){t.listNotasQuote=e},SET_LIST_CALLS(t,e){t.listCall=e},SET_LIST_MARKETING(t,e){t.listMarketing=e},SET_LIST_QUOTE_STATUS(t,e){t.listQuoteStatus=e},SET_LIST_EJECUTIVO(t,e){t.listEjecutivo=e},SET_LIST_MODALITY(t,e){t.listModality=e},SET_LIST_SHIPMENT(t,e){t.listShipment=e},SET_LIST_INCOTERMS(t,e){t.listIncoterms=e},SET_LIST_PORT_BEGIN(t,e){t.listPortBegin=e},SET_LIST_PORT_END(t,e){t.listPortEnd=e},SET_LIST_SERVICES(t,e){t.listServices=e,t.copylistServices=e},SET_LIST_COSTES(t,e){t.listCostos=e},SET_STEP_3(t,e){t.step3=e},SET_MULTPLICADOR(t,e){t.listMultiplicador=e},SET_ROLE(t,e){t.listRoles=e},SET_CARGAR_IMPUESTOS(t,e){t.listImpuestos=e},setInstructivo(t,e){t.listInstructivo=e},setbegEndList(t,e){t.begEndList=e},SET_TIPO_COSTOS(t,e){t.listTipoCostos=e,t.namesection=e}},G={resetQuoteNew({commit:t}){t("SET_QUOTE")},async obtenerRoles({commit:t,rootState:e}){B.itemsDataRoleList=e.itemsDataRoleList},async ListarMontosFinalesQuoteMONGODB({commit:t}){try{const e={method:"get",url:"https://api.agentedecargaonline.com/listar_montos_finales_quote",params:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}},a=await r()(e),{estadoflag:o,token:i,data:s}=a.data;if(o){sessionStorage.setItem("auth-token",i);const e=s.map(t=>({...t,code:t.expediente}));t("SET_LIST_QUOTES",e)}}catch(e){console.error("Error al listar montos finales quote:",e)}},async getServices({commit:t}){let e={method:"get",url:"https://api.agentedecargaonline.com/obtener_servicio_pricing",params:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then(e=>{let a=e.data;a.estadoflag&&(sessionStorage.setItem("auth-token",a.token),t("PRE_SERVICES",a.data))})},async getResumenPorEstado({commit:t}){let e={method:"get",url:"https://api.agentedecargaonline.com/resumen_por_estado",params:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then(e=>{let a=e.data;a.estadoflag&&(sessionStorage.setItem("auth-token",a.token),t("LISTADO_RESUMEN",a.data))})},async getListQuote({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/getQuoteList?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_marketing=${B.filtro.id_marketing?B.filtro.id_marketing:""}&id_status=${B.filtro.id_status?B.filtro.id_status:""}&id_entities=${B.filtro.id_entities?B.filtro.id_entities:""}&id_modality=${B.filtro.id_modality?B.filtro.id_modality:""}&id_shipment=${B.filtro.id_shipment?B.filtro.id_shipment:""}&id_incoterm=${B.filtro.id_incoterm?B.filtro.id_incoterm:""}&fechainicio=${B.filtro.fechainicio?B.filtro.fechainicio:""}&fechafin=${B.filtro.fechafin?B.filtro.fechafin:""}&estado=${"activo"==B.filtro.estado?1:"eliminado"==B.filtro.estado?0:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}};await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?(a=a.data.map((t,e)=>({...t,index:e})),t("SET_LIST_QUOTES",a)):(t("SET_LIST_QUOTES",[]),C.a.fire({icon:"error",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.log(t)}))},async getTipoCostos({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/tipo_costo_x_embarque?id_shipment=${B.datosPrincipales.idtipocarga.id?B.datosPrincipales.idtipocarga.id:B.datosPrincipales.idtipocarga}&id_modality=${B.datosPrincipales.idsentido}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){let a=e.data;a.estadoflag?t("SET_TIPO_COSTOS",a.data):(t("SET_TIPO_COSTOS",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async getQuoteNoAsignadoHouse({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/quote_cargar_noasignadoshouse?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}};await r()(e).then((function(e){let a=e.data;a.estado?t("SET_LIST_QUOTES",a.data):t("SET_LIST_QUOTES",[])})).catch((function(t){console.log(t)}))},async getQuoteDataNoAsignadaHouse({commit:t},{id_quote:e=0}){var a={method:"get",url:"https://api.agentedecargaonline.com/quote_data_house?id_quote="+e,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){let a=e.data;a.estadoflag?t("SET_DATA_QUOTE_NO_ASIGNDA",a.data[0]):(t("SET_DATA_QUOTE_NO_ASIGNDA",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async getQuoteCall({commit:t},e){var a={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,id_estado:e.id_estado,id_sentido:e.id_sentido,id_carga:e.id_carga,id_incoterms:e.id_incoterms,desde:e.desde,hasta:e.hasta};let o={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"};var i={method:"get",url:`https://api.agentedecargaonline.com/listado_llamadas?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_marketing=${B.filtroCalls.id_marketing?B.filtroCalls.id_marketing:""}&id_status=${B.filtroCalls.id_status?B.filtroCalls.id_status:""}&id_entities=${B.filtroCalls.id_entities?B.filtroCalls.id_entities:""}&id_modality=${B.filtroCalls.id_modality?B.filtroCalls.id_modality:""}&id_shipment=${B.filtroCalls.id_shipment?B.filtroCalls.id_shipment:""}&id_incoterm=${B.filtroCalls.id_incoterm?B.filtroCalls.id_incoterm:""}&fechainicio=${B.filtroCalls.fechainicio?B.filtroCalls.fechainicio:""}&fechafin=${B.filtroCalls.fechafin?B.filtroCalls.fechafin:""}&estado=${"string"===typeof B.filtroCalls.estado?"activo"==B.filtroCalls.estado?1:0:""}`,headers:o,data:a};await r()(i).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_LIST_CALLS",a.data):(t("SET_LIST_CALLS",[]),C.a.fire({icon:"error",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.log(t)}))},async getMarketingList({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getMarketingList",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}};await r()(e).then((function(e){t("SET_LIST_MARKETING",e.data.data)})).catch((function(t){console.log(t)}))},async getQuoteStatus({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getQuoteStatus",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}};await r()(e).then((function(e){t("SET_LIST_QUOTE_STATUS",e.data.data)})).catch((function(t){console.log(t)}))},async getModulesEntities({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getModulesEntities",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,id_module:6}};await r()(e).then((function(e){t("SET_LIST_EJECUTIVO",e.data.data)})).catch((function(t){console.log(t)}))},async getCargarEjecutivo({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/cargar_ejecutivo",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},params:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,id_module:6}};await r()(e).then((function(e){t("SET_LIST_EJECUTIVO",e.data.data)})).catch((function(t){console.log(t)}))},async getPersonalPricing({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/get_personal_pricing?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("SET_LIST_EJECUTIVO",e.data.data)})).catch((function(t){console.log(t)}))},async getBegEndList({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},o={method:"post",url:"https://api.agentedecargaonline.com/getBegEndList",headers:e,data:a};await r()(o).then((function(e){let a=e.data.data;t("setbegEndList",a)})).catch((function(t){console.log(t)}))},async getModality({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getModality",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}};await r()(e).then((function(e){t("SET_LIST_MODALITY",e.data.data)})).catch((function(t){console.log(t)}))},async getShipment({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getShipment",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}};await r()(e).then((function(e){t("SET_LIST_SHIPMENT",e.data.data)})).catch((function(t){console.log(t)}))},async getIncoterms({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getIncoterms",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}};await r()(e).then((function(e){t("SET_LIST_INCOTERMS",e.data.data)})).catch((function(t){console.log(t)}))},async getPortBegin({commit:t},{id_transport:e=0,id:a=null,search:o=null}){var i={method:"post",url:"https://api.agentedecargaonline.com/getPortBegin",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,id_transport:e,id:a,search:o}};await r()(i).then((function(e){t("SET_LIST_PORT_BEGIN",e.data.data)})).catch((function(t){console.log(t)}))},async getPortEnd({commit:t},{id_transport:e=0,id:a=null,search:o=null}){var i={method:"post",url:"https://api.agentedecargaonline.com/getPortEnd",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,id_transport:e,id:a,search:o}};await r()(i).then((function(e){t("SET_LIST_PORT_END",e.data.data)})).catch((function(t){console.log(t)}))},async getItemsServices({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getItemsServices",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,id_incoterms:B.datosPrincipales.idincoterms,id_modality:B.datosPrincipales.idsentido,id_shipment:B.datosPrincipales.idtipocarga.id?B.datosPrincipales.idtipocarga.id:B.datosPrincipales.idtipocarga}};await r()(e).then((function(e){let a=e.data;a.data?t("SET_LIST_SERVICES",a.data):t("SET_LIST_SERVICES",[])})).catch((function(t){console.log(t)}))},async obtenerCostosPricing({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"};let a={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var o={method:"get",url:"https://api.agentedecargaonline.com/obtener_costos_pricing",headers:e,params:a};await r()(o).then((function(e){t("PRE_COSTOS",e.data.data)}))},async getItemsServicesDetails({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"};let a={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,id_incoterms:B.datosPrincipales.idincoterms,id_modality:B.datosPrincipales.idsentido,id_shipment:B.datosPrincipales.idtipocarga.id?B.datosPrincipales.idtipocarga.id:B.datosPrincipales.idtipocarga,services:B.listServices.filter(t=>1==t.status),containers:B.datosPrincipales.containers};var o={method:"post",url:"https://api.agentedecargaonline.com/getItemsServicesDetails",headers:e,data:a};await r()(o).then((function(e){let a=[],o=e.data.data;o?(o.forEach(t=>{a.push({id_groupservices:t.id_groupservices,id_incoterms:t.id_incoterms,id_modality:t.id_modality,id_multiplicador:t.id_multiplicador?t.id_multiplicador:"N",id_services:t.id_services,id_shipment:t.id_shipment,namebegend:t.namebegend,namegroupservice:t.namegroupservice,namemultiplicador:t.namemultiplicador,namerole:t.namerole,costounitario:t.price?t.price:0,id:t.id,id_begend:t.id_begend,nameservice:t.nameservice,status:1,id_role:t.id_role,statedelete:0,servicioFlag:1,costosflag:0,cif:parseFloat(.35),seguro:parseFloat(.45),id_proveedor:t.id_proveedor?t.id_proveedor:0,esopcionflag:1,esventaflag:0,esorigenflag:1==t.esorigenflag?1:0,eslocalflag:1==t.eslocalflag?1:0,esaduanaflag:1==t.esaduanaflag?1:0,esalmacenflag:1==t.esalmacenflag?1:0,esfleteflag:1==t.esfleteflag?1:0,esgastostercerosflag:1==t.esgastostercerosflag?1:0,code_cost:t.code_cost})}),o.forEach(t=>{a.push({id_groupservices:t.id_groupservices,id_incoterms:t.id_incoterms,id_modality:t.id_modality,id_multiplicador:t.id_multiplicador?t.id_multiplicador:"N",id_services:t.id_services,id_shipment:t.id_shipment,namebegend:t.namebegend,namegroupservice:t.namegroupservice,namemultiplicador:t.namemultiplicador,namerole:t.namerole,costounitario:0,id:t.id,id_begend:t.id_begend,nameservice:t.nameservice,status:1,id_role:t.id_role,statedelete:0,servicioFlag:1,costosflag:0,cif:0,seguro:0,id_proveedor:t.id_proveedor?t.id_proveedor:0,esopcionflag:0,esventaflag:1,esorigenflag:1==t.esorigenflag?1:0,eslocalflag:1==t.eslocalflag?1:0,esaduanaflag:1==t.esaduanaflag?1:0,esalmacenflag:1==t.esalmacenflag?1:0,esfleteflag:1==t.esfleteflag?1:0,esgastostercerosflag:1==t.esgastostercerosflag?1:0,categoria_role:t.categoria_role,code_cost:t.code_cost})})):C.a.fire({icon:"warning",title:"ADVERTENCIA",text:"No existen costos, para la combinación seleccionada de Sentido,Incoterms,Tipo de Embarque y la sucursal logueada."}),t("SET_LIST_COSTES",a.filter(t=>1==t.esorigenflag||1==t.eslocalflag||1==t.esaduanaflag||1==t.esfleteflag||1==t.esalmacenflag||1==t.esgastostercerosflag))}))},async getMultiplicador({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={id_shipment:B.datosPrincipales.idtipocarga.id?B.datosPrincipales.idtipocarga.id:B.datosPrincipales.idtipocarga,containers:(B.datosPrincipales.containers,B.datosPrincipales.containers),id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},o={method:"post",url:"https://api.agentedecargaonline.com/getMultiplicador",data:a,headers:e};await r()(o).then((function(e){let a=[];e.data.data.forEach(t=>{a.push({id:t.id,value:t.id,code:t.code,text:t.name,valor:t.valor?t.valor:0})}),t("SET_MULTPLICADOR",a)})).catch((function(t){console.log(t)}))},async getModuleRole({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a=JSON.stringify({id_module:6,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}),o={method:"post",url:"https://api.agentedecargaonline.com/getModuleRole",headers:e,data:a};await r()(o).then((function(e){let a=[];e.data.data.forEach(t=>{a.push({id:t.id,value:t.id_role,text:t.name,id_role:t.id_role})}),t("SET_ROLE",a)})).catch((function(t){console.log(t)}))},async getCargarMasterDetalleNotasCotizacion({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={method:"post",url:"https://api.agentedecargaonline.com/cargar_master_detalle_notas_cotizacion?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:e};r()(a).then(e=>{let a=e.data;1==a.estadoflag?t("SET_CARGAR_NOTAS_COTIZACION",e.data.data):(C.a.fire({icon:"error",text:a.mensaje}),t("SET_CARGAR_NOTAS_COTIZACION",[]))})},async getImpuestos({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={method:"post",url:"https://api.agentedecargaonline.com/cargar_master_detalle_impuesto?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:e};await r()(a).then(e=>{let a=e.data;1==a.estadoflag?t("SET_CARGAR_IMPUESTOS",e.data.data):(C.a.fire({icon:"error",text:a.mensaje}),t("SET_CARGAR_IMPUESTOS",[]))})},async registrarQuote(t,{fullflag:e=!0}){let a=B.listServices.filter(t=>"15"==t.code_service&&1==t.status),o=B.listShipment.some(t=>t.id==(B.datosPrincipales.idtipocarga.id?B.datosPrincipales.idtipocarga.id:B.datosPrincipales.idtipocarga)&&"FCL"==t.code),i=[];await B.opcionCostos.forEach(async t=>{let e=k["a"].methods.formatearCostos({costos:t.listCostos,services:B.listServices,multiplicadores:B.listMultiplicador,datosPrincipales:B.datosPrincipales,totalDeFlete:B.totalFlete}),o=k["a"].methods.formatearNotas({notas:t.listNotasQuote.filter(t=>1==t.estado)}),s=a.length>0?k["a"].methods.formatImp({impuestos:t.listImpuestos,datosPrincipales:B.datosPrincipales,totalFlete:B.totalFlete}):[];i.push({nro_propuesta:t.nro_propuesta,date_end:t.date_end,tiempo_transito:t.tiempo_transito,listCostos:e,listImpuestos:s,listNotasQuote:o,selected:t.selected})});let s={tiporeporte:B.tiporeporte?B.tiporeporte:"TOTAL",id_percepcionaduana:B.datosPrincipales.id_percepcionaduana,fullflag:e,id_marketing:B.datosPrincipales.id_marketing,statusquote:B.datosPrincipales.id_status,idVendedor:B.datosPrincipales.id_vendedor,idPricing:B.datosPrincipales.id_pricing,id_entitie:B.datosPrincipales.id_entitie,idsentido:B.datosPrincipales.idsentido,idtipocarga:B.datosPrincipales.idtipocarga.id?B.datosPrincipales.idtipocarga.id:B.datosPrincipales.idtipocarga,idincoterms:B.datosPrincipales.idincoterms,proveedor:B.datosPrincipales.proveedor,telefonoproveedor:B.datosPrincipales.telefonoproveedor,direccionproveedor:B.datosPrincipales.direccionproveedor,idorigen:B.datosPrincipales.idorigen,iddestino:B.datosPrincipales.iddestino,numerobultos:o?0:B.datosPrincipales.numerobultos,peso:o?0:B.datosPrincipales.peso,volumen:o?0:B.datosPrincipales.volumen,contenedores:o?k["a"].methods.formatearContainer({containers:B.datosPrincipales.containers}):[],serviciocotizacion:k["a"].methods.formatearServicios({services:B.listServices}),monto:B.datosPrincipales.amount,iddistrito:B.datosPrincipales.iddistrito,idprovincia:B.datosPrincipales.idprovincia,descripcionMercancia:B.datosPrincipales.descripcioncarga?B.datosPrincipales.descripcioncarga:"",ventascasillerodetalles:[],opcionCostos:i,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},n={method:"post",url:"https://api.agentedecargaonline.com/setQuote",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:s};await r()(n).then(async t=>{B.id=t.data.insertId,B.nro_quote=t.data.nro_quote,B.mensaje=t.data.msg,B.tiporeporte=""})},async copiarQuote(t,{fullflag:e=!0,id:a=null}){let o={id:a},i={method:"post",url:"https://api.agentedecargaonline.com/copiar_cotizacion",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:o};await r()(i).then(async t=>{console.log("id",t.data.data[0]),B.id=t.data.data[0].insertid,B.nro_quote=t.data.data[0].nro_quote,B.mensaje=t.data.data[0].mensaje,B.tiporeporte=""})},async crearCarpetaOneDrive(t,{nro_quote:e="",nombre:a=""}){let o=e+"-"+a,i={method:"get",url:"https://api.agentedecargaonline.com/crear-carpeta-cotizacion?nombrecotizacion="+o,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(i).then(async t=>{B.urlFolder=t.data.data})},async actualizarURLEnElQuote(t,{id:e="",url:a=""}){let o={method:"put",url:"https://api.agentedecargaonline.com/actualizar_quote_folderonedrive",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id:e,url:a}};await r()(o).then(async t=>t.data.data)},async getQuote(t,{id:e}){let a={method:"get",url:"https://api.agentedecargaonline.com/getQuoteId?id="+e,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then(async t=>{let e=t.data.data[0];B.copy_quote=e,B.id=e.id,B.nro_quote=e.quote,B.datosPrincipales.id_marketing=e.id_marketing,B.datosPrincipales.id_status=e.id_status,B.datosPrincipales.id_vendedor=e.id_vendedor,B.datosPrincipales.id_pricing=e.id_pricing,B.datosPrincipales.nombre=e.nombre,B.datosPrincipales.id_entitie=e.id_entitie,B.datosPrincipales.telefono=e.telefono,B.datosPrincipales.idsentido=e.idsentido,B.datosPrincipales.idtipocarga=e.idtipocarga,B.datosPrincipales.idincoterms=e.idincoterms,B.datosPrincipales.proveedor=e.proveedor,B.datosPrincipales.telefonoproveedor=e.telefonoproveedor,B.datosPrincipales.direccionproveedor=e.direccionproveedor,B.datosPrincipales.id_status=e.statusquote,B.datosPrincipales.descripcioncarga=e.descripcionmercancia,B.datosPrincipales.fecha_inicio=e.fecha_inicio,B.datosPrincipales.iddestino=e.iddestino,B.datosPrincipales.idorigen=e.idorigen,B.datosPrincipales.numerobultos=e.numerobultos,B.datosPrincipales.peso=e.peso,B.datosPrincipales.volumen=e.volumen,B.listServices=e.servicios,B.copylistServices=e.servicios,B.datosPrincipales.amount=e.monto,B.opcionCostos=[],e.opcioncostos.forEach(t=>{B.opcionCostos.push({id:t.id,nro_propuesta:t.nro_propuesta,date_end:t.date_end,tiempo_transito:t.tiempo_transito,listCostos:t.listcostos,listImpuestos:t.listimpuestos,listNotasQuote:t.listnotasquote,selected:t.selected})}),B.datosPrincipales.containers=e.containers,B.aprobadoflag=e.aprobadoflag,B.fullflag=e.fullflag,B.tiporeporte=e.tiporeporte,B.datosPrincipales.id_percepcionaduana=e.id_percepcionaduana,B.mostrarBtnActualizarFlag=!(0==e.statusmain||1==e.aprobadoflag)})},async getInstructivoId({commit:t},{id:e}){var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},i={method:"post",url:"https://api.agentedecargaonline.com/getInstructivoId/"+e,headers:a,data:o};await r()(i).then((function(e){t("setInstructivo",e.data.data)})).catch((function(t){console.log(t)}))},async obtenerDatosEmpresa(){var t={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"};let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/getBranch/"+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:t,data:e};await r()(a).then(t=>{let e=t.data.data;B.datosEmpresa=e})},async generarReporte(t,{tipo:e="",nro_propuesta:a=0}){let o=B.opcionCostos.filter(t=>t.nro_propuesta==a)[0],i=0,s=(JSON.parse(sessionStorage.getItem("iso_pais")),B.namesection.map(t=>({name:t.name,codigo:t.codigo}))),n=B.listModality.some(t=>t.id==B.datosPrincipales.idsentido&&"I"==t.code),l=0,c=[],d=[],u=[],p=[],m=[],h=[],_=[],g=[],f=[],v=[],b=[],S=[],y=[],I=[],P=[],x=[],T=0,$=0,E=0,w=0,M=0,O=0,F=o.listCostos.some(t=>1==t.esfleteflag&&1==t.status&&1==t.esventaflag),A=o.listCostos.some(t=>1==t.esorigenflag&&1==t.status&&1==t.esventaflag),N=o.listCostos.some(t=>1==t.eslocalflag&&1==t.status&&1==t.esventaflag),D=o.listCostos.some(t=>1==t.esaduanaflag&&1==t.status&&1==t.esventaflag),L=o.listCostos.some(t=>1==t.esalmacenflag&&1==t.status&&1==t.esventaflag),j=o.listCostos.some(t=>1==t.esgastostercerosflag&&1==t.status&&1==t.esventaflag);B.datosPrincipales.containers.forEach(t=>{f.push({name:t.description,valor:t.cantidad})}),B.listServices.forEach(t=>{1==t.status&&h.push({name:t.service}),1!=t.status&&_.push({name:t.service})}),o.listNotasQuote.filter(t=>1==t.estado&&1==t.statusincluye).forEach(t=>{h.push({name:t.descripcion})}),o.listNotasQuote.filter(t=>1==t.estado&&1==t.statusnoincluye).forEach(t=>{_.push({name:t.descripcion})});o.listCostos.some(t=>15==t.code_cost&&1==t.status&&1==t.esventaflag);if(B.listServices.forEach(t=>{"OR"==t.codebegend&&d.push({name:t.service,estado:1==t.status||1==t.status?"SI":"NO"}),"FL"==t.codebegend&&u.push({name:t.service,estado:1==t.status||1==t.status?"SI":"NO"}),"DE"==t.codebegend&&p.push({name:t.service,estado:1==t.status||1==t.status?"SI":"NO"}),"OP"==t.codebegend&&m.push({name:t.service,estado:1==t.status||1==t.status?"SI":"NO"})}),o.listNotasQuote.filter(t=>1==t.estado).forEach(t=>{g.push({name:t.descripcion})}),i=await z(o.listCostos),B.listServices.some(t=>15==t.code_service&&1==t.status)){let t=["05","06","07","08","09","10","11","12"];o.listImpuestos.filter(e=>t.includes(e.codigo)).forEach(t=>{c.push({type:t.codigo,name:t.descripcion,percentage:t.codigo01,valor:k["a"].methods.calcularImpuestos({impuestos:o.listImpuestos,item:t,totalFlete:i,datosPrincipales:B.datosPrincipales})}),l+=parseFloat(k["a"].methods.calcularImpuestos({impuestos:o.listImpuestos,item:t,totalFlete:i,datosPrincipales:B.datosPrincipales}))})}"AGRUPADO"==e&&(o.listCostos.filter(t=>1==t.status&&1==t.esventaflag).forEach(t=>{1==t.esfleteflag&&(b.push({name:t.nameservice,valor:""}),B.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?T+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):T+=k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esorigenflag&&(S.push({name:t.nameservice,valor:""}),B.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?$+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):$+=k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.eslocalflag&&(y.push({name:t.nameservice,valor:""}),5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?E+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):E+=k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esaduanaflag&&(I.push({name:t.nameservice,valor:""}),5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?w+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):w+=k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esalmacenflag&&(P.push({name:t.nameservice,valor:""}),5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?M+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):M+=k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esgastostercerosflag&&(x.push({name:t.nameservice,valor:""}),5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?O+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):O+=k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),1==F&&n&&o.listCostos.filter(t=>1==t.status&&1==t.esfleteflag&&1==t.esventaflag).forEach(t=>{v.filter(e=>e.name==t.nameservice)&&v.push({name:t.nameservice})}),1==A&&o.listCostos.filter(t=>1==t.status&&1==t.esorigenflag&&1==t.esventaflag).forEach(t=>{v.filter(e=>e.name==t.nameservice)&&v.push({name:t.nameservice})}),1==N&&o.listCostos.filter(t=>1==t.status&&1==t.eslocalflag&&1==t.esventaflag).forEach(t=>{v.filter(e=>e.name==t.nameservice)&&v.push({name:t.nameservice})}),1==D&&o.listCostos.filter(t=>1==t.status&&1==t.esaduanaflag&&1==t.esventaflag).forEach(t=>{v.filter(e=>e.name==t.nameservice)&&v.push({name:t.nameservice})}),1!=F||n||o.listCostos.filter(t=>1==t.status&&1==t.esfleteflag&&1==t.esventaflag).forEach(t=>{v.filter(e=>e.name==t.nameservice)&&v.push({name:t.nameservice})}),1==L&&o.listCostos.filter(t=>1==t.status&&1==t.esalmacenflag&&1==t.esventaflag).forEach(t=>{v.filter(e=>e.name==t.nameservice)&&v.push({name:t.nameservice})}),1==j&&o.listCostos.filter(t=>1==t.status&&1==t.esgastostercerosflag&&1==t.esventaflag).forEach(t=>{v.filter(e=>e.name==t.nameservice)&&v.push({name:t.nameservice})})),"DETALLE"==e&&o.listCostos.filter(t=>1==t.status&&1==t.esventaflag).forEach(t=>{1==t.esfleteflag&&(B.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(b.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount))}),T+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount)):(b.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),T+=k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esorigenflag&&(B.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(S.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount))}),$+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount)):(S.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),$+=k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.eslocalflag&&(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(y.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount))}),E+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount)):(y.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),E+=k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esaduanaflag&&(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(I.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount))}),w+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount)):(I.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),w+=k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esalmacenflag&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?(P.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount))}),M+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount)):(P.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),M+=k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esgastostercerosflag&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?(x.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount))}),O+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount)):(x.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),O+=k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)))}),"TOTAL"==e&&o.listCostos.filter(t=>1==t.status&&1==t.esventaflag).forEach(t=>{1==t.esfleteflag&&(b.push({name:t.nameservice,valor:""}),B.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?T+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):T+=k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esorigenflag&&(S.push({name:t.nameservice,valor:""}),B.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?$+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):$+=k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.eslocalflag&&(y.push({name:t.nameservice,valor:""}),B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?E+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):E+=k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esaduanaflag&&(I.push({name:t.nameservice,valor:""}),B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?w+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):w+=k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esalmacenflag&&(P.push({name:t.nameservice,valor:""}),5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?M+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):M+=k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esgastostercerosflag&&(x.push({name:t.nameservice,valor:""}),5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?O+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):O+=k["a"].methods.calcularValor(B.datosPrincipales.amount,i,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))});let U=0;U=n?(parseFloat(1==N?E:0)+parseFloat(1==D?w:0)+parseFloat(1==L?M:0)+parseFloat(1==j?O:0))*R.state.impuesto.impuesto/100:(parseFloat(1==A?$:0)+parseFloat(1==N?E:0)+parseFloat(1==D?w:0)+parseFloat(1==j?O:0))*R.state.impuesto.impuesto/100;let G=0;G=(1==F?T:0)+(1==A?$:0)+(1==N?E:0)+(1==D?w:0)+(1==L?M:0)+(1==j?O:0);let H={nombre_impuesto:R.state.impuesto.nombre_impuesto,impuesto:R.state.impuesto.impuesto/100,esunica:1==B.opcionCostos.filter(t=>t.selected).length,url_logo:JSON.parse(sessionStorage.getItem("dataUser"))[0].path,TipoCostos:s,index:a,isImport:n,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,code:B.nro_quote,business_name:B.datosEmpresa[0].business_name?B.datosEmpresa[0].business_name:"",nameEmpresa:JSON.parse(sessionStorage.getItem("dataBranch"))[0].trade_name,address:B.datosEmpresa[0].address,iso:B.datosEmpresa[0].iso_pais,iso_pais:B.datosEmpresa[0].iso_pais,pais:B.datosEmpresa[0].pais,document:B.datosEmpresa[0].document,phone:B.datosEmpresa[0].phone,tipo:e,cliente:B.datosPrincipales.nombre,slogancliente:B.datosPrincipales.slogan?B.datosPrincipales.slogan:"",fechafin:o.date_end,tiempoTransito:o.tiempo_transito,origen:B.listPortBegin.filter(t=>t.id_port==B.datosPrincipales.idorigen).length>0?B.listPortBegin.filter(t=>t.id_port==B.datosPrincipales.idorigen)[0].name:"",destino:B.listPortEnd.filter(t=>t.id_port==B.datosPrincipales.iddestino).length>0?B.listPortEnd.filter(t=>t.id_port==B.datosPrincipales.iddestino)[0].name:"",impuesto:B.listServices.filter(t=>15==t.code_service).length>0&&(1==B.listServices.filter(t=>15==t.code_service)[0].status||1==B.listServices.filter(t=>15==t.code_service)[0].status)?c:[],flete:d,almacen:m,aduana:p,local:u,totalImpuesto:k["a"].methods.currencyFormat(parseFloat(l).toFixed(2)),incluye:h,noincluye:_,importante:g,contenedor:f,conceptos:v,numerobultos:B.datosPrincipales.numerobultos,peso:B.datosPrincipales.peso,volumen:B.datosPrincipales.volumen,sentido:B.listModality.filter(t=>t.id==B.datosPrincipales.idsentido)[0].name,embarque:B.listShipment.filter(t=>t.id==(B.datosPrincipales.idtipocarga.id?B.datosPrincipales.idtipocarga.id:B.datosPrincipales.idtipocarga))[0].embarque,icoterm:B.listIncoterms.filter(t=>t.id==B.datosPrincipales.idincoterms)[0].name,datosFlete:1==F?b:[],datosOrigen:1==A?S:[],datosLocales:1==N?y:[],datosAduanas:1==D?I:[],datosAlmacenes:1==L?P:[],datosGastosTerceros:1==j?x:[],totalImpuestosIGV:k["a"].methods.currencyFormat(U),totalFlete:1==F?k["a"].methods.currencyFormat(T):k["a"].methods.currencyFormat(0),totalOrigen:1==A?k["a"].methods.currencyFormat($):k["a"].methods.currencyFormat(0),totalLocales:1==N?k["a"].methods.currencyFormat(E):k["a"].methods.currencyFormat(0),totalAduanas:1==D?k["a"].methods.currencyFormat(w):k["a"].methods.currencyFormat(0),totalAlmacenes:1==L?k["a"].methods.currencyFormat(M):k["a"].methods.currencyFormat(0),totalGastosTercero:1==j?k["a"].methods.currencyFormat(O):k["a"].methods.currencyFormat(0),totalServicios:k["a"].methods.currencyFormat(G),total:k["a"].methods.currencyFormat(parseFloat(G)+parseFloat(l)+parseFloat(U)),amount:B.datosPrincipales.amount},J={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"};await r.a.post("https://api.agentedecargaonline.com/quote_preview_totales",H,J).then(t=>{C.a.fire({icon:"success",title:"PDF Generado",text:"El PDF se descargará automaticamente",showConfirmButton:!0}),window.open("https://api.agentedecargaonline.com/"+t.data.path,"_blank")}).catch(t=>console.log(t))},async imprimiReporteListado(t,{filtro:e=[]}){let a,o={id_entities:B.filtro.id_entities,id_marketing:B.filtro.id_marketing,id_status:B.filtro.id_status,id_modality:B.filtro.id_modality,id_shipment:B.filtro.id_shipment,id_incoterm:B.filtro.id_incoterm,fechainicio:B.filtro.fechainicio,fechafin:B.filtro.fechafin,estado:"activo"==B.filtro.estado?"1":"eliminado"==B.filtro.estado?"0":""},i={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},s={filtro:o,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};C.a.fire({icon:"info",title:"Generando  PDF",text:"El PDF se descargará automaticamente",showConfirmButton:!1,allowOutsideClick:!1,timerProgressBar:!0,timer:null,didOpen:()=>{C.a.showLoading()}}).then(t=>{t.dismiss&&clearInterval(a)}),await r.a.post("https://api.agentedecargaonline.com/export_list_quote",s,i).then(t=>{C.a.fire({icon:"success",title:"PDF Generado",text:"El PDF se descargará automaticamente",showConfirmButton:!0}),window.open("https://api.agentedecargaonline.com/"+t.data.path,"_blank")}).catch(t=>console.log(t))},async exportarExcelListadoQuote(t,{filtro:e={}}){let a={id_entities:B.filtro.id_entities,id_marketing:B.filtro.id_marketing,id_status:B.filtro.id_status,id_modality:B.filtro.id_modality,id_shipment:B.filtro.id_shipment,id_incoterm:B.filtro.id_incoterm,fechainicio:B.filtro.fechainicio,fechafin:B.filtro.fechafin,estado:"activo"==B.filtro.estado?"1":"eliminado"==B.filtro.estado?"0":""},o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Accept:"aplication/json","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token, Authorization, Accept,charset,boundary,Content-Length",responseType:"arraybuffer"},i={filtro:a,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},s="https://api.agentedecargaonline.com/export_list_quote_xls";await r.a.post(s,i,o).then(t=>{const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download",`Reporte de Cotizaciones ${y()().format("DD-MM-YYYY hh:mm:ss")}.xlsx`),document.body.appendChild(a),a.click()})},async imprimirMercadeo(){let t,e={id_entities:B.filtro.id_entities?B.filtro.id_entities:"",id_marketing:B.filtro.id_marketing?B.filtro.id_marketing:"",id_status:B.filtro.id_status?B.filtro.id_status:"",id_modality:B.filtro.id_modality?B.filtro.id_modality:"",id_shipment:B.filtro.id_shipment?B.filtro.id_shipment:"",id_incoterm:B.filtro.id_incoterm?B.filtro.id_incoterm:"",fechainicio:B.filtro.fechainicio?B.filtro.fechainicio:"",fechafin:B.filtro.fechafin?B.filtro.fechafin:"",estado:"activo"==B.filtro.estado?"1":"eliminado"==B.filtro.estado?"0":""};sessionStorage.getItem("auth-token"),JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch;C.a.fire({icon:"info",title:"Generando  PDF",text:"El PDF se descargará automaticamente",showConfirmButton:!1,allowOutsideClick:!1,timerProgressBar:!0,timer:null,didOpen:()=>{C.a.showLoading()}}).then(e=>{e.dismiss&&clearInterval(t)});var a={method:"post",url:"https://api.agentedecargaonline.com/listado_cotizacion_mercadeo",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,filtro:e}};await r()(a).then(t=>{C.a.fire({icon:"success",title:"PDF Generado",text:"El PDF se descargará automaticamente",showConfirmButton:!0}),1==t.data.estadoflag?window.open("https://api.agentedecargaonline.com/"+t.data.path,"_blank"):C.a.fire({icon:"warning",title:"Advertencia",text:t.data.msg})}).catch(t=>console.log(t))},async imprimiReporteListadoCalls(t,{filtro:e=[]}){let a={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Accept:"aplication/json","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token, Authorization, Accept,charset,boundary,Content-Length",responseType:"arraybuffer"},o={filtro:e,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};await r.a.post(Object({NODE_ENV:"production",VUE_APP_URL_MAIN:"https://api.agentedecargaonline.com/",VUE_APP_VERSION:"5.7",BASE_URL:"/"}).VUE_APP_URL_REPORT+"reporte_llamadas_export",o,a).then(t=>{const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download",`Reporte de Cotizaciones ${y()().format("DD-MM-YYYY hh:mm:ss")}.pdf`),document.body.appendChild(a),a.click(),this.loading2=!1}).catch(t=>console.log(t))},async getListRecibidoCotizacion({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={method:"post",url:"https://api.agentedecargaonline.com/cargar_master_detalle_recibido?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:e};r()(a).then(e=>{let a=e.data;1==a.estadoflag?t("SET_CARGAR_LIST_RECIBIDO_COTIZACION",e.data.data):t("SET_CARGAR_LIST_RECIBIDO_COTIZACION",[])})},async getListEnviadoCliente({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={method:"post",url:"https://api.agentedecargaonline.com/cargar_master_detalle_enviado?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:e};r()(a).then(e=>{let a=e.data;1==a.estadoflag?t("SET_CARGAR_LIST_ENVIADO_CLIENTE",e.data.data):t("SET_CARGAR_LIST_ENVIADO_CLIENTE",[])})},async actualizarQuoteRecibidoEnviado(t,e){var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={method:"put",url:"https://api.agentedecargaonline.com/update_quote_recibido_enviado",headers:a,data:e};r()(o).then(t=>{let e=t.data;C.a.fire({icon:1==e.estado?"info":"error",text:e.mensaje})})},async guardarNotaQuote(t,e){var a={method:"post",url:"https://api.agentedecargaonline.com/setCalls",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).catch((function(t){console.log(t)}))},async updateQuote(){let t=B.listServices.filter(t=>"15"==t.code_service&&1==t.status),e=[];await B.opcionCostos.forEach(async a=>{let o=k["a"].methods.formatearCostosEditar({costos:a.listCostos,services:B.listServices,multiplicadores:B.listMultiplicador,datosPrincipales:B.datosPrincipales,totalDeFlete:B.totalFlete}),i=k["a"].methods.formatearNotas({notas:a.listNotasQuote.filter(t=>1==t.estado)}),s=t.length>0?k["a"].methods.formatImp({impuestos:a.listImpuestos,datosPrincipales:B.datosPrincipales,totalFlete:B.totalFlete}):[];e.push({id:a.id,nro_propuesta:a.nro_propuesta,date_end:a.date_end,tiempo_transito:a.tiempo_transito,listCostos:o,listImpuestos:s,listNotasQuote:i,selected:a.selected})});let a={tiporeporte:B.tiporeporte?B.tiporeporte:"TOTAL",id_percepcionaduana:B.datosPrincipales.id_percepcionaduana,id:B.id,id_quote:B.id,fullflag:!0,id_marketing:B.datosPrincipales.id_marketing,statusquote:B.datosPrincipales.id_status,idVendedor:B.datosPrincipales.id_vendedor,idPricing:B.datosPrincipales.id_pricing,id_entitie:B.datosPrincipales.id_entitie,idsentido:B.datosPrincipales.idsentido,idtipocarga:B.datosPrincipales.idtipocarga.id?B.datosPrincipales.idtipocarga.id:B.datosPrincipales.idtipocarga,idincoterms:B.datosPrincipales.idincoterms,proveedor:B.datosPrincipales.proveedor,telefonoproveedor:B.datosPrincipales.telefonoproveedor,direccionproveedor:B.datosPrincipales.direccionproveedor,idorigen:B.datosPrincipales.idorigen,iddestino:B.datosPrincipales.iddestino,numerobultos:B.datosPrincipales.numerobultos,peso:B.datosPrincipales.peso,volumen:B.datosPrincipales.volumen,contenedores:k["a"].methods.formatearContainer({containers:B.datosPrincipales.containers}),serviciocotizacion:k["a"].methods.formatearServicios({services:B.listServices}),monto:B.datosPrincipales.amount,iddistrito:B.datosPrincipales.iddistrito,idprovincia:B.datosPrincipales.idprovincia,descripcionMercancia:B.datosPrincipales.descripcioncarga?B.datosPrincipales.descripcioncarga:"",opcionCostos:e},o={method:"put",url:"https://api.agentedecargaonline.com/putQuote",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await r()(o).then(async t=>{let e=t.data;C.a.fire({icon:"info",text:e.mensaje})})},async eliminarRegistro(t,e){var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={method:"post",url:"https://api.agentedecargaonline.com/delQuote",headers:a,data:{id:e}};r()(o).then(t=>{t.data})},async predata(t,{tipo:e=""}){return new Promise(async(t,a)=>{JSON.parse(sessionStorage.getItem("iso_pais"));let o=B.namesection.map(t=>({name:t.name,codigo:t.codigo})),i=B.listModality.some(t=>t.id==B.datosPrincipales.idsentido&&"I"==t.code),s=0,r=[],n=[],l=[],c=[],d=[],u=[],p=[],m=[],h=[],_=[],g=0,f=[],v=[],b=[],C=[],S=[],y=[],I=[],P=0,x=0,T=0,$=0,E=0,w=0;B.datosPrincipales.containers.forEach(t=>{_.push({name:t.description,valor:t.cantidad})}),B.listServices.forEach(t=>{1==t.status&&u.push({name:t.service}),1!=t.status&&p.push({name:t.service})}),B.listServices.forEach(t=>{"OR"==t.codebegend&&n.push({name:t.service,estado:1==t.status||1==t.status?"SI":"NO"}),"FL"==t.codebegend&&l.push({name:t.service,estado:1==t.status||1==t.status?"SI":"NO"}),"DE"==t.codebegend&&c.push({name:t.service,estado:1==t.status||1==t.status?"SI":"NO"}),"OP"==t.codebegend&&d.push({name:t.service,estado:1==t.status||1==t.status?"SI":"NO"})}),B.opcionCostos.filter(t=>t.selected).forEach(t=>{setTimeout(async()=>{h=[],r=[],v=[],b=[],C=[],S=[],y=[],I=[],f=[],P=0,x=0,T=0,$=0,E=0,w=0,s=0,g=await z(t.listCostos);let a=0;if(t.listNotasQuote.filter(t=>1==t.estado).forEach(t=>{h.push({name:t.descripcion})}),B.listServices.some(t=>15==t.code_service&&1==t.status)){let e=["05","06","07","08","09","10","11","12"];t.listImpuestos.filter(t=>e.includes(t.codigo)).forEach(e=>{r.push({type:e.codigo,name:e.descripcion,percentage:e.codigo01,valor:k["a"].methods.calcularImpuestos({impuestos:t.listImpuestos,item:e,totalFlete:g,datosPrincipales:B.datosPrincipales})}),s+=parseFloat(k["a"].methods.calcularImpuestos({impuestos:t.listImpuestos,item:e,totalFlete:g,datosPrincipales:B.datosPrincipales}))})}let o=t.listCostos.some(t=>1==t.esfleteflag&&1==t.status&&1==t.esventaflag),n=t.listCostos.some(t=>1==t.esorigenflag&&1==t.status&&1==t.esventaflag),l=t.listCostos.some(t=>1==t.eslocalflag&&1==t.status&&1==t.esventaflag),c=t.listCostos.some(t=>1==t.esaduanaflag&&1==t.status&&1==t.esventaflag),d=t.listCostos.some(t=>1==t.esalmacenflag&&1==t.status&&1==t.esventaflag),u=t.listCostos.some(t=>1==t.esgastostercerosflag&&1==t.status&&1==t.esventaflag);"AGRUPADO"==e&&(t.listCostos.filter(t=>1==t.status&&1==t.esventaflag).forEach(t=>{1==t.esfleteflag&&(v.push({name:t.nameservice,valor:""}),B.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?P+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):P+=k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esorigenflag&&(b.push({name:t.nameservice,valor:""}),B.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?x+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):x+=k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.eslocalflag&&(C.push({name:t.nameservice,valor:""}),5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?T+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):T+=k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esaduanaflag&&(S.push({name:t.nameservice,valor:""}),5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?$+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):$+=k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esalmacenflag&&(y.push({name:t.nameservice,valor:""}),5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?E+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):E+=k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esgastostercerosflag&&(I.push({name:t.nameservice,valor:""}),5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?w+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):w+=k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),1==o&&i&&t.listCostos.filter(t=>1==t.status&&1==t.esfleteflag&&1==t.esventaflag).forEach(t=>{f.filter(e=>e.name==t.nameservice)&&f.push({name:t.nameservice})}),1==n&&t.listCostos.filter(t=>1==t.status&&1==t.esorigenflag&&1==t.esventaflag).forEach(t=>{f.filter(e=>e.name==t.nameservice)&&f.push({name:t.nameservice})}),1==l&&t.listCostos.filter(t=>1==t.status&&1==t.eslocalflag&&1==t.esventaflag).forEach(t=>{f.filter(e=>e.name==t.nameservice)&&f.push({name:t.nameservice})}),1==c&&t.listCostos.filter(t=>1==t.status&&1==t.esaduanaflag&&1==t.esventaflag).forEach(t=>{f.filter(e=>e.name==t.nameservice)&&f.push({name:t.nameservice})}),1!=o||i||t.listCostos.filter(t=>1==t.status&&1==t.esfleteflag&&1==t.esventaflag).forEach(t=>{f.filter(e=>e.name==t.nameservice)&&f.push({name:t.nameservice})}),1==d&&t.listCostos.filter(t=>1==t.status&&1==t.esalmacenflag&&1==t.esventaflag).forEach(t=>{f.filter(e=>e.name==t.nameservice)&&f.push({name:t.nameservice})}),1==u&&t.listCostos.filter(t=>1==t.status&&1==t.esgastostercerosflag&&1==t.esventaflag).forEach(t=>{f.filter(e=>e.name==t.nameservice)&&f.push({name:t.nameservice})})),"DETALLE"==e&&t.listCostos.filter(t=>1==t.status&&1==t.esventaflag).forEach(t=>{1==t.esfleteflag&&(B.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(v.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount))}),P+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount)):(v.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),P+=k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esorigenflag&&(B.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(b.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount))}),x+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount)):(b.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),x+=k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.eslocalflag&&(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(C.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount))}),T+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount)):(C.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),T+=k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esaduanaflag&&(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(S.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount))}),$+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount)):(S.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),$+=k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esalmacenflag&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?(y.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount))}),E+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount)):(y.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),E+=k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esgastostercerosflag&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?(I.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount))}),w+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount)):(I.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),w+=k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)))}),"TOTAL"==e&&(console.log("----------"),t.listCostos.filter(t=>1==t.status&&1==t.esventaflag).forEach(t=>{1==t.esfleteflag&&(v.push({name:t.nameservice,valor:""}),B.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?P+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):P+=k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esorigenflag&&(b.push({name:t.nameservice,valor:""}),B.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?x+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):x+=k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.eslocalflag&&(C.push({name:t.nameservice,valor:""}),B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?T+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):T+=k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esaduanaflag&&(S.push({name:t.nameservice,valor:""}),B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?$+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):$+=k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esalmacenflag&&(y.push({name:t.nameservice,valor:""}),5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?E+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):E+=k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esgastostercerosflag&&(I.push({name:t.nameservice,valor:""}),5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?w+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):w+=k["a"].methods.calcularValor(B.datosPrincipales.amount,g,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))})),a=(1==o?P:0)+(1==n?x:0)+(1==l?T:0)+(1==c?$:0)+(1==d?E:0)+(1==u?w:0);let p=0;p=i?(parseFloat(1==l?T:0)+parseFloat(1==c?$:0)+parseFloat(1==d?E:0)+parseFloat(1==u?w:0))*R.state.impuesto.impuesto/100:(parseFloat(1==n?x:0)+parseFloat(1==l?T:0)+parseFloat(1==c?$:0)+parseFloat(1==u?w:0))*R.state.impuesto.impuesto/100;let _=k["a"].methods.currencyFormat(parseFloat(a)+parseFloat(s)+parseFloat(p));m.push({nro_propuesta:t.nro_propuesta,importante:h,impuesto:r,datosFlete:1==o?v:[],datosOrigen:1==n?b:[],datosLocales:1==l?C:[],datosAduanas:1==c?S:[],datosAlmacenes:1==d?y:[],datosGastosTerceros:1==u?I:[],totalImpuestosIGV:k["a"].methods.currencyFormat(p),totalImpuesto:k["a"].methods.currencyFormat(parseFloat(s).toFixed(2)),total:_,totalFlete:1==o?k["a"].methods.currencyFormat(P):k["a"].methods.currencyFormat(0),totalOrigen:1==n?k["a"].methods.currencyFormat(x):k["a"].methods.currencyFormat(0),totalLocales:1==l?k["a"].methods.currencyFormat(T):k["a"].methods.currencyFormat(0),totalAduanas:1==c?k["a"].methods.currencyFormat($):k["a"].methods.currencyFormat(0),totalAlmacenes:1==d?k["a"].methods.currencyFormat(E):k["a"].methods.currencyFormat(0),totalGastosTercero:1==u?k["a"].methods.currencyFormat(w):k["a"].methods.currencyFormat(0),conceptos:f,totalServicios:k["a"].methods.currencyFormat(a),listServices:B.listServices,listNotasQuote:t.listNotasQuote})},10)});let M={TipoCostos:o,isImport:B.listModality.some(t=>t.id==B.datosPrincipales.idsentido&&"I"==t.code),id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,code:"########",business_name:B.datosEmpresa[0].business_name?B.datosEmpresa[0].business_name:"",address:B.datosEmpresa[0].address,iso:B.datosEmpresa[0].iso_pais,iso_pais:B.datosEmpresa[0].iso_pais,pais:B.datosEmpresa[0].pais,document:B.datosEmpresa[0].document,phone:B.datosEmpresa[0].phone,tipo:e,cliente:B.datosPrincipales.nombre,slogancliente:B.datosPrincipales.slogan?B.datosPrincipales.slogan:"",fechafin:B.datosPrincipales.fecha_fin,tiempoTransito:B.datosPrincipales.tiempo_transito,origen:B.listPortBegin.filter(t=>t.id_port==B.datosPrincipales.idorigen).length>0?B.listPortBegin.filter(t=>t.id_port==B.datosPrincipales.idorigen)[0].name:"",destino:B.listPortEnd.filter(t=>t.id_port==B.datosPrincipales.iddestino).length>0?B.listPortEnd.filter(t=>t.id_port==B.datosPrincipales.iddestino)[0].name:"",flete:n,almacen:d,aduana:c,local:l,incluye:u,noincluye:p,importante:h,contenedor:_,conceptos:f,numerobultos:B.datosPrincipales.numerobultos,peso:B.datosPrincipales.peso,volumen:B.datosPrincipales.volumen,sentido:B.listModality.filter(t=>t.id==B.datosPrincipales.idsentido)[0].name,embarque:B.listShipment.filter(t=>t.id==(B.datosPrincipales.idtipocarga.id?B.datosPrincipales.idtipocarga.id:B.datosPrincipales.idtipocarga))[0].embarque,icoterm:B.listIncoterms.filter(t=>t.id==B.datosPrincipales.idincoterms)[0].name,OpcionesSelecciondas:m};setTimeout(()=>{t(M)},1e3)})},validarCosto(){let t=!0,e=B.listCostos.filter(t=>1==t.esopcionflag);return e.forEach(e=>{let a=G.validateCost({costo:e});0==a?(t=!1,e.error="El costo que tiene un valor 0.00."):e.error=""}),t},validateCost({costo:t}){let e=B.listServices.filter(t=>1==t.status),a=B.listMultiplicador.filter(t=>G.comienzaNoConCaracter(t.text,"%")),o=a.map(t=>t.id),i=e.map(t=>t.id_groupservices);return!o.includes(t.id_multiplicador)||!i.includes(t.id_groupservices)||0!=t.costounitario},async aprobarCotizacion({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/aprobar_cotizacion",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then(async t=>{let e=t.data;e.data[0].nro_master,B.datosPrincipales.nombre;C.a.fire({icon:1==e.estadoflag?"success":"error",title:"Aviso",text:t.data.mensaje,timerProgressBar:!0,allowOutsideClick:!1,confirmButtonText:"Ir al control de gastos",denyButtonText:"Cerrar",showCancelButton:!1,showConfirmButton:!0,showDenyButton:!0,confirmButtonColor:"#004D40",denyButtonColor:"#DD2C00"}).then(t=>{t.isConfirmed&&n["a"].push({name:"editControlGasto",params:{id:e.data[0].id_master,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}}),t.isDenied&&window.location.reload()})})},comienzaNoConCaracter(t,e){return t.charAt(0).toUpperCase()!==e.toUpperCase()},comienzaConCaracter(t,e){return t.charAt(0).toUpperCase()===e.toUpperCase()},generaInstructivo({dispatch:t}){B.listServiciosInstructivo=[],B.listServices.forEach(t=>{B.listServiciosInstructivo.push({name:t.service,status:1==t.status?"SI":"NO"})}),B.vendedor=B.listEjecutivo.filter(t=>t.id_entitie==B.datosPrincipales.id_pricing)[0].name,H(B.tiporeporte),J(B.tiporeporte),V()},generaInstructivoparaguardata({dispatch:t}){B.listIngresosInstructivoAprobar=[];let e=B.listModality.some(t=>t.id==B.datosPrincipales.idsentido&&"I"==t.code),a=0;B.listInstructivo[0].sentido;B.vendedor=B.listEjecutivo.filter(t=>t.id_entitie==B.datosPrincipales.id_pricing)[0].name,B.opcionCostos.filter(t=>!!t.selected).forEach(async t=>{let o=0,i=0,s=0,r=0,n=0,l=0,c=0,d=[],u=[];a=await z(t.listCostos),t.listCostos.filter(t=>1==t.esventaflag&&1==t.status).forEach(t=>{let n=1,l="",c=0,u=[5,13,14];B.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&!u.includes(e.code))?c+=(B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):c+=k["a"].methods.calcularValor(B.datosPrincipales.amount,a,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0),1==t.esfleteflag&&e&&(l=B.listTipoCostos.length>0?B.listTipoCostos.filter(t=>"FL"==t.codigo)[0].name:"",n=1),1==t.esorigenflag&&(e||(i+=parseFloat(c)),l=B.listTipoCostos.length>0?B.listTipoCostos.filter(t=>"OR"==t.codigo)[0].name:"",n=2),1==t.eslocalflag&&(i+=parseFloat(c),l=B.listTipoCostos.length>0?B.listTipoCostos.filter(t=>"LO"==t.codigo)[0].name:"",n=3),1==t.esaduanaflag&&(i+=parseFloat(c),n=4,l=B.listTipoCostos.length>0?B.listTipoCostos.filter(t=>"AD"==t.codigo)[0].name:""),1!=t.esfleteflag||e||(l=B.listTipoCostos.length>0?B.listTipoCostos.filter(t=>"FL"==t.codigo)[0].name:"",n=5),1==t.esalmacenflag&&(e&&(i+=parseFloat(c)),n=6,l=B.listTipoCostos.length>0?B.listTipoCostos.filter(t=>"AL"==t.codigo)[0].name:""),d.push({descripcion:l,service:t.nameservice,valor:c,orden:n,igv:0,total:c}),o+=parseFloat(0),s+=parseFloat(c),r+=parseFloat(c)}),t.listCostos.filter(t=>1==t.esopcionflag&&1==t.status).forEach(t=>{let o=1,i="";1==t.esfleteflag&&e&&(i=B.listTipoCostos.length>0?B.listTipoCostos.filter(t=>"FL"==t.codigo)[0].name:"",o=1),1==t.esorigenflag&&(i=B.listTipoCostos.length>0?B.listTipoCostos.filter(t=>"OR"==t.codigo)[0].name:"",o=2),1==t.eslocalflag&&(i=B.listTipoCostos.length>0?B.listTipoCostos.filter(t=>"LO"==t.codigo)[0].name:"",o=3),1==t.esaduanaflag&&(o=4,i=B.listTipoCostos.length>0?B.listTipoCostos.filter(t=>"AD"==t.codigo)[0].name:""),1!=t.esfleteflag||e||(i=B.listTipoCostos.length>0?B.listTipoCostos.filter(t=>"FL"==t.codigo)[0].name:"",o=5),1==t.esalmacenflag&&(o=6,i=B.listTipoCostos.length>0?B.listTipoCostos.filter(t=>"AL"==t.codigo)[0].name:"");let s=0;B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?s+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):s+=k["a"].methods.calcularValor(B.datosPrincipales.amount,a,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0),u.push({proveedor:Do.state.provedores.filter(e=>e.id==t.id_proveedor)[0].namelong,service:t.nameservice,valor:s,orden:o,igv:0,total:s,id:Do.state.provedores.filter(e=>e.id==t.id_proveedor)[0].id}),n+=0,l+=parseFloat(s),c+=parseFloat(s)}),d=d.sort((t,e)=>t.orden<e.orden?-1:t.orden>e.orden?1:void 0);const p=[];let m=null,h=0,_=0,g=0;for(const e of d)null===m?(m=e.descripcion,h+=e.valor,_+=e.total,g+=0):m===e.descripcion?(h+=e.valor,_+=e.total,g+=0):(p.push({descripcion:"SubTotal",service:"",valor:h,igv:0,total:_}),m=e.descripcion,h=e.valor,_=e.total,g=0),p.push(e);p.push({descripcion:"SubTotal",service:"",valor:h,igv:0,total:_}),d=p,u=u.sort((t,e)=>t.proveedor<e.proveedor?-1:t.proveedor>e.proveedor?1:void 0);const f=[];let v=null,b=null,C=0,S=0,y=0;for(const e of u)null===b?(v=e.id,b=e.proveedor,S+=e.valor,C+=e.total,y+=0):b===e.proveedor?(v=e.id,S+=e.valor,C+=e.total,y+=0):(f.push({id:"",proveedor:"SubTotal",service:"",valor:S,orden:1,igv:0,total:C}),b=e.proveedor,S=e.valor,C=e.total,y=0),f.push(e);f.push({id:"",proveedor:"SubTotal",service:"",valor:S,orden:1,igv:"",total:C}),u=f;let I=JSON.parse(sessionStorage.getItem("iso_pais"));d.push({descripcion:"TOTAL",valor:parseFloat(s).toFixed(2),service:`Total sin ${R.state.impuesto.nombre_impuesto} ${k["a"].methods.currencyFormat(parseFloat(r).toFixed(2))}     |      ${R.state.impuesto.nombre_impuesto}: ${k["a"].methods.currencyFormat(parseFloat(i*R.state.impuesto.impuesto/100).toFixed(2))} `,igv:parseFloat(o).toFixed(2),total:9589==I?parseFloat(r)+parseFloat(i*R.state.impuesto.impuesto/100):parseFloat(r)}),u.push({proveedor:"TOTAL",valor:parseFloat(l).toFixed(2),igv:parseFloat(n).toFixed(2),total:parseFloat(l).toFixed(2)}),B.listIngresosInstructivoAprobar.push({nro_propuesta:t.nro_propuesta,dataIngresos:d,nro_propuesta:t.nro_propuesta,dataCostos:u,totalIngresos:r,totalCostos:c,dataVentas:d})})},async imprimirInstructivoQuote({},t){let e=B.listIngresosInstructivo.filter(e=>e.nro_propuesta==t)[0].opcion,a=B.listCostosInstructivo.filter(e=>e.nro_propuesta==t)[0].opcion,o=B.listImpuestosInstructivo.filter(e=>e.nro_propuesta==t)[0].opcion,i=B.datosPrincipales.id_percepcionaduana&&T.state.lstPercepcionAduana.length>0?T.state.lstPercepcionAduana.filter(t=>t.id==B.datosPrincipales.id_percepcionaduana)[0].descripcion:"",s=B.listInstructivo[0].notas,n={nro_propuesta:t,tipoimportacionaduana:i,containers:B.datosPrincipales.containers,numerobultos:B.datosPrincipales.numerobultos,peso:B.datosPrincipales.peso,volumen:B.datosPrincipales.volumen,totalIngresos:k["a"].methods.currencyFormat(parseFloat(B.totalIngresos).toFixed(2)),totalCostos:k["a"].methods.currencyFormat(parseFloat(B.totalCostos).toFixed(2)),profit:k["a"].methods.currencyFormat(parseFloat(B.totalIngresos).toFixed(2)-parseFloat(B.totalCostos).toFixed(2)),sucursal:JSON.parse(sessionStorage.getItem("dataBranch"))[0].trade_name,status:1==B.aprobadoflag?"APROBADO":B.listQuoteStatus.filter(t=>t.id==B.datosPrincipales.id_status)[0].name,code_house:B.listInstructivo[0].code_house?B.listInstructivo[0].code_house:"",code_master:B.listInstructivo[0].code_master?B.listInstructivo[0].code_master:"",notas:s,expediente:B.listInstructivo[0].expediente,sentido:B.listInstructivo[0].sentido,carga:B.listInstructivo[0].carga,incoterms:B.listInstructivo[0].incoterms,nombre:B.datosPrincipales.nombre,direccion:B.listInstructivo[0].direccion,telefono:B.datosPrincipales.telefono,vendedor:B.vendedor,proveedor:B.listInstructivo[0].proveedor,origen:B.listInstructivo[0].origen,destino:B.listInstructivo[0].destino,fiscal:B.listInstructivo[0].fiscal,ruc:B.listInstructivo[0].ruc,listServiciosInstructivo:B.listServiciosInstructivo,listIngresosInstructivo:e,listCostosInstructivo:a,listImpuestosInstructivo:o,aprobadoflag:B.aprobadoflag,url_logo:JSON.parse(sessionStorage.getItem("dataUser"))[0].path},l={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"};C.a.fire({icon:"info",title:"Generando  PDF",text:"El PDF se descargará automaticamente",showConfirmButton:!1,allowOutsideClick:!1,timerProgressBar:!0,timer:null,didOpen:()=>{C.a.showLoading()}}).then(t=>{t.dismiss&&clearInterval(timerInterval)}),await r.a.post("https://api.agentedecargaonline.com/quote_instructivo",n,l).then(t=>{C.a.fire({icon:"success",title:"PDF Generado",text:"El PDF se descargará automaticamente",showConfirmButton:!0}),window.open("https://api.agentedecargaonline.com/"+t.data.path,"_blank")}).catch(t=>C.a.fire({icon:"error",title:"Ocurrió un error",text:t,showConfirmButton:!0}))},async GuardaCostosFinalesQuote({dispatch:t}){await t("generaInstructivoparaguardata");let e=[];B.listServices.forEach(t=>{e.push({name:t.service,status:1==t.status?"SI":"NO"})});let a=[...B.listIngresosInstructivoAprobar[0].dataIngresos],o=[...B.listIngresosInstructivoAprobar[0].dataCostos],i={id:B.id,expediente:B.listInstructivo[0].expediente,sentido:B.listInstructivo[0].sentido,carga:B.listInstructivo[0].carga,incoterms:B.listInstructivo[0].incoterms,nombre:B.datosPrincipales.nombre,direccion:B.listInstructivo[0].direccion,telefono:B.datosPrincipales.telefono,vendedor:B.vendedor,proveedor:B.listInstructivo[0].proveedor,origen:B.listInstructivo[0].origen,destino:B.listInstructivo[0].destino,fiscal:B.listInstructivo[0].fiscal,ruc:B.listInstructivo[0].ruc,listServiciosInstructivo:e,listIngresosInstructivo:a,listCostosInstructivo:o,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},s={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"};await r.a.post("https://api.agentedecargaonline.com/insert_monto_finales_quote",i,s).then(t=>{t.data}).catch(t=>C.a.fire({icon:"error",title:"Ocurrió un error",text:t,showConfirmButton:!0}))},async setNoteQuote({},t){var e={method:"post",url:"https://api.agentedecargaonline.com/quote_note_insert",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:t};await r()(e).then((function(t){let e=t.data;C.a.fire({icon:1==e.estadoflag?"info":"error",title:"Aviso",text:e.mensaje})})).catch((function(t){console.log(t)}))}};function H(t){JSON.parse(sessionStorage.getItem("iso_pais"));let e=B.listModality.some(t=>t.id==B.datosPrincipales.idsentido&&"I"==t.code);B.opcionCostos.filter(t=>!!t.selected).forEach(async a=>{let o=0,i=a.listCostos.some(t=>1==t.esfleteflag&&1==t.status),s=a.listCostos.some(t=>1==t.esorigenflag&&1==t.status),r=a.listCostos.some(t=>1==t.eslocalflag&&1==t.status),n=a.listCostos.some(t=>1==t.esaduanaflag&&1==t.status),l=a.listCostos.some(t=>1==t.esalmacenflag&&1==t.status),c=a.listCostos.some(t=>1==t.esgastostercerosflag&&1==t.status);o=await z(a.listCostos);let d=[],u=[],p=[],m=[],h=[],_=[],g=[],f=0,v=0,b=0,C=0,S=0,y=0;"AGRUPADO"==t&&(a.listCostos.filter(t=>1==t.status&&1==t.esventaflag).forEach(t=>{1==t.esfleteflag&&(u.push({name:t.nameservice,valor:""}),B.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?f+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):f+=k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esorigenflag&&(p.push({name:t.nameservice,valor:""}),B.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?v+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):v+=k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.eslocalflag&&(m.push({name:t.nameservice,valor:""}),5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?b+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):b+=k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esaduanaflag&&(h.push({name:t.nameservice,valor:""}),5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?C+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):C+=k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esalmacenflag&&(_.push({name:t.nameservice,valor:""}),5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?S+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):S+=k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esgastostercerosflag&&(g.push({name:t.nameservice,valor:""}),5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?y+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):y+=k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),1==i&&a.listCostos.filter(t=>1==t.status&&1==t.esorigenflag&&1==t.esventaflag).forEach(t=>{d.filter(e=>e.name==t.nameservice)&&d.push({name:t.nameservice})}),1==r&&a.listCostos.filter(t=>1==t.status&&1==t.eslocalflag&&1==t.esventaflag).forEach(t=>{d.filter(e=>e.name==t.nameservice)&&d.push({name:t.nameservice})}),1==n&&a.listCostos.filter(t=>1==t.status&&1==t.esaduanaflag&&1==t.esventaflag).forEach(t=>{d.filter(e=>e.name==t.nameservice)&&d.push({name:t.nameservice})}),1==l&&a.listCostos.filter(t=>1==t.status&&1==t.esalmacenflag&&1==t.esventaflag).forEach(t=>{d.filter(e=>e.name==t.nameservice)&&d.push({name:t.nameservice})}),1==c&&a.listCostos.filter(t=>1==t.status&&1==t.esgastostercerosflag&&1==t.esventaflag).forEach(t=>{d.filter(e=>e.name==t.nameservice)&&d.push({name:t.nameservice})})),"DETALLE"==t&&a.listCostos.filter(t=>1==t.status&&1==t.esventaflag).forEach(t=>{1==t.esfleteflag&&(B.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(u.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount))}),f+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount)):(u.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),f+=k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esorigenflag&&(B.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(p.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount))}),v+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount)):(p.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),v+=k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.eslocalflag&&(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(m.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount))}),b+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount)):(m.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),b+=k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esaduanaflag&&(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(h.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount))}),C+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount)):(h.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),C+=k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esalmacenflag&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?(_.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount))}),S+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount)):(_.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),S+=k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esgastostercerosflag&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?(g.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount))}),y+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount)):(g.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),y+=k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)))}),"TOTAL"==t&&a.listCostos.filter(t=>1==t.status&&1==t.esventaflag).forEach(t=>{1==t.esfleteflag&&(u.push({name:t.nameservice,valor:""}),B.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?f+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):f+=k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esorigenflag&&(p.push({name:t.nameservice,valor:""}),B.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?v+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):v+=k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.eslocalflag&&(m.push({name:t.nameservice,valor:""}),B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?b+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):b+=k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esaduanaflag&&(h.push({name:t.nameservice,valor:""}),B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?C+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):C+=k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esalmacenflag&&(_.push({name:t.nameservice,valor:""}),5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?S+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):S+=k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esgastostercerosflag&&(g.push({name:t.nameservice,valor:""}),5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?y+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):y+=k["a"].methods.calcularValor(B.datosPrincipales.amount,o,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))});let I=[];"AGRUPADO"==t&&I.push({descripcion:"CONCEPTOS DE INGRESOS",service:"",igv:"",total:""}),u.length>0&&e&&("AGRUPADO"!=t&&I.push({descripcion:B.listTipoCostos.length>0?B.listTipoCostos.filter(t=>"FL"==t.codigo)[0].name:"",service:"",igv:"",total:""}),u.forEach(t=>{I.push({descripcion:"",service:t.name,igv:"",total:t.valor})}),"AGRUPADO"!=t&&I.push({descripcion:"",service:"SubTotal",igv:"",total:k["a"].methods.currencyFormat(parseFloat(f).toFixed(2))})),p.length>0&&("AGRUPADO"!=t&&I.push({descripcion:B.listTipoCostos.length>0?B.listTipoCostos.filter(t=>"OR"==t.codigo)[0].name:"",service:"",igv:"",total:""}),p.forEach(t=>{I.push({descripcion:"",service:t.name,igv:"",total:t.valor})}),"AGRUPADO"!=t&&I.push({descripcion:"",service:"SubTotal",igv:"",total:k["a"].methods.currencyFormat(parseFloat(v).toFixed(2))})),m.length>0&&("AGRUPADO"!=t&&I.push({descripcion:B.listTipoCostos.length>0?B.listTipoCostos.filter(t=>"LO"==t.codigo)[0].name:"",service:"",total:""}),m.forEach(t=>{I.push({descripcion:"",service:t.name,total:t.valor})}),"AGRUPADO"!=t&&I.push({descripcion:"",service:"SubTotal",total:k["a"].methods.currencyFormat(parseFloat(b).toFixed(2))})),h.length>0&&("AGRUPADO"!=t&&I.push({descripcion:B.listTipoCostos.length>0?B.listTipoCostos.filter(t=>"AD"==t.codigo)[0].name:"",service:"",total:""}),h.forEach(t=>{I.push({descripcion:"",service:t.name,total:t.valor})}),"AGRUPADO"!=t&&I.push({descripcion:"",service:"SubTotal",total:k["a"].methods.currencyFormat(parseFloat(C).toFixed(2))})),u.length>0&&!e&&("AGRUPADO"!=t&&I.push({descripcion:B.listTipoCostos.length>0?B.listTipoCostos.filter(t=>"FL"==t.codigo)[0].name:"",service:"",igv:"",total:""}),u.forEach(t=>{I.push({descripcion:"",service:t.name,igv:"",total:t.valor})}),"AGRUPADO"!=t&&I.push({descripcion:"",service:"SubTotal",igv:"",total:k["a"].methods.currencyFormat(parseFloat(f).toFixed(2))})),_.length>0&&("AGRUPADO"!=t&&I.push({descripcion:B.listTipoCostos.length>0?B.listTipoCostos.filter(t=>"AL"==t.codigo)[0].name:"",service:"",total:""}),_.forEach(t=>{I.push({descripcion:"",service:t.name,total:t.valor})}),"AGRUPADO"!=t&&I.push({descripcion:"",service:"SubTotal",total:k["a"].methods.currencyFormat(parseFloat(S).toFixed(2))})),g.length>0&&("AGRUPADO"!=t&&I.push({descripcion:B.listTipoCostos.length>0?B.listTipoCostos.filter(t=>"GT"==t.codigo)[0].name:"",service:"",total:""}),g.forEach(t=>{I.push({descripcion:"",service:t.name,total:t.valor})}),"AGRUPADO"!=t&&I.push({descripcion:"",service:"SubTotal",total:k["a"].methods.currencyFormat(parseFloat(S).toFixed(2))}));let P=parseFloat(f)+parseFloat(v)+parseFloat(b)+parseFloat(C)+parseFloat(y)+parseFloat(S),x=0;x=e?(parseFloat(1==r?b:0)+parseFloat(1==n?C:0)+parseFloat(1==c?y:0)+parseFloat(1==l?S:0))*R.state.impuesto.impuesto/100:(parseFloat(1==s?v:0)+parseFloat(1==r?b:0)+parseFloat(1==c?y:0)+parseFloat(1==n?C:0))*R.state.impuesto.impuesto/100,I.push({descripcion:"TOTAL",service:`TOTAL SIN ${R.state.impuesto.nombre_impuesto}: ${k["a"].methods.currencyFormat(P)}`,igv:`${R.state.impuesto.nombre_impuesto} ${k["a"].methods.currencyFormat(parseFloat(x))}`,total:k["a"].methods.currencyFormat(parseFloat(P)+parseFloat(x))}),B.listIngresosInstructivo.push({totalIngresos:parseFloat(P),opcion:I,nro_propuesta:a.nro_propuesta})})}async function J(t){B.opcionCostos.filter(t=>!!t.selected).forEach(async t=>{let e=[],a=await z(t.listCostos);t.listCostos.filter(t=>1==t.esopcionflag&&1==t.status).forEach(t=>{let o=0;B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?o+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount):o+=k["a"].methods.calcularValor(B.datosPrincipales.amount,a,B.listMultiplicador.some(e=>e.id==t.id_multiplicador)?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?B.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0),e.push({proveedor:Do.state.provedores.filter(e=>e.id==t.id_proveedor)[0].namelong,service:t.nameservice,valor:o})});let o=0,i=[];const s=new Set(e.map(t=>t.proveedor)),r=Array.from(s);r.forEach(t=>{let a=0;i.push({proveedor:t,service:"",igv:"",total:""}),e.filter(e=>e.proveedor==t).forEach(t=>{o+=t.valor,a+=t.valor,i.push({proveedor:"",service:t.service,total:k["a"].methods.currencyFormat(t.valor)})}),i.push({proveedor:"",service:"SubTotal",igv:"",total:k["a"].methods.currencyFormat(a)})}),i.push({proveedor:"TOTAL",service:"",igv:"",total:k["a"].methods.currencyFormat(o)}),B.totalCostos=o,B.listCostosInstructivo.push({totalCostos:o,opcion:i,nro_propuesta:t.nro_propuesta})})}function V(){let t=0,e=B.listServices.some(t=>15==t.code_service&&1==t.status);if(e){let e=0,a=["05","06","07","08","09","10","11","12"];B.opcionCostos.filter(t=>!!t.selected).forEach(async o=>{let i=[];await o.listImpuestos.filter(t=>a.includes(t.codigo)).forEach(async a=>{t=await z(o.listCostos),i.push({type:a.codigo,name:a.descripcion,percentage:a.codigo01?a.codigo01+" %":"0 %",valor:k["a"].methods.currencyFormat(k["a"].methods.calcularImpuestos({impuestos:o.listImpuestos,item:a,totalFlete:t,datosPrincipales:B.datosPrincipales}))}),e+=parseFloat(k["a"].methods.calcularImpuestos({impuestos:o.listImpuestos,item:a,totalFlete:t,datosPrincipales:B.datosPrincipales}))}),i.push({type:"",name:"TOTAL",percentage:"",valor:k["a"].methods.currencyFormat(e)}),e=0,B.listImpuestosInstructivo.push({nro_propuesta:o.nro_propuesta,opcion:i})})}}async function z(t){let e=0;return t.filter(t=>1==t.esfleteflag&&1==t.status&&1==t.esventaflag).forEach(async t=>{q(t,t.id_multiplicador)&&(e+=(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(B.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?B.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",B.datosPrincipales.volumen,B.datosPrincipales.peso,B.datosPrincipales.containers,B.datosPrincipales.amount))}),e}function q(t,e){let a=[5,13,14],o=B.listMultiplicador.some(t=>t.id==e&&a.includes(t.code));return!o}var K={namespace:!0,state:B,mutations:U,actions:G};const Q={listTotalCotizacion:[],listUser:[],cboStatus:[],datos:null,datosresumen:null,listTotalCotizacion:[],lstTipoCosto:[],lstServicio:[],lstMultiplicador:[],lstCostos:[],lstFlete:[],lstProfit:[],lstDepartamentos:[],lstDistritos:[],lstTransporte:[],opcionCalculadora:1},Y={setOpcion(t,e){console.log(e),t.opcionCalculadora=e},SET_LST_COSTOS_DEPARTAMENTOS(t,e){t.lstDepartamentos=e},SET_LST_COSTOS_DISTRITOS(t,e){t.lstDistritos=e},SET_LST_COSTOS_TRANSPORTE(t,e){t.lstTransporte=e},SET_LST_COSTOS_TOTALES(t,e){t.lstFlete=e},SET_LST_PROFIT(t,e){t.lstProfit=e},SET_TOTAL_COTIZACION(t,e){t.listTotalCotizacion=e},SET_SUCURSAL(t,e){t.listSucursal=e},setnavieraCalc(t,e){t.navieraCalc=e},setcontendedorCalc(t,e){t.contendedorCalc=e},SET_LIST_USER(t,e){t.listUser=e},SET_CBO_STATUS(t,e){t.cboStatus=e},SET_DATOS(t,e){t.datos=e},SET_DATOS_RESUMEN(t,e){t.datosresumen=e},SET_LST_TIPO_COSTO(t,e){t.lstTipoCosto=e},SET_LST_SERV(t,e){t.lstServicio=e},SET_LST_MULTIPLICADOR(t,e){t.lstMultiplicador=e},SET_LST_COSTOS(t,e){t.lstCostos=e}},X={async GetTotalCotizacion({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={method:"post",url:"https://api.agentedecargaonline.com/get_total_cotizacion",headers:e,data:{iso_pais:JSON.parse(sessionStorage.getItem("iso_pais"))}};await r()(a).then(e=>{t("SET_TOTAL_COTIZACION",e.data.data)})},async CargarPuertoPorTipoPorPais(t,e){var a=this;a.state.overlay=!0;var o={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},i={method:"get",url:`https://api.agentedecargaonline.com/CargarPuertoXPaisXTipo/${e.id_pais}/${e.tipo}`,headers:o};let s=await r()(i);return s.data.estadoflag?(a.state.overlay=!1,s.data.data):(C.a.fire({icon:"info",title:s.data.mensaje}),[])},async CargarnavieraCalc({commit:t}){var e=this;e.state.overlay=!0;var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={method:"get",url:"https://api.agentedecargaonline.com/cargar_navieras",headers:a};let i=await r()(o);i.data.estadoflag?t("setnavieraCalc",i.data.data):C.a.fire({icon:"info",title:i.data.mensaje}),e.state.overlay=!1},async CargarcontendedorCalc({commit:t}){var e=this;e.state.overlay=!0;var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={method:"get",url:"https://api.agentedecargaonline.com/cargar_contenedores",headers:a};let i=await r()(o);i.data.estadoflag?t("setcontendedorCalc",i.data.data):C.a.fire({icon:"info",title:i.data.mensaje}),e.state.overlay=!1},async CargarSucursal({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={method:"post",url:"https://api.agentedecargaonline.com/cargar_sucursal",headers:e};await r()(a).then(e=>{let a=e.data;a.estadoflag&&t("SET_SUCURSAL",a.data)})},async getListUserCalc({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={method:"post",url:"https://api.agentedecargaonline.com/listar_usuarios_calculadora",headers:e,data:{iso_pais:JSON.parse(sessionStorage.getItem("iso_pais"))}};let o=await r()(a);t("SET_LIST_USER",o.data.data)},async getCboStatus({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={method:"post",url:"https://api.agentedecargaonline.com/cargue_status",headers:e};let o=await r()(a);t("SET_CBO_STATUS",o.data.data)},async SetCall(t,e){var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={method:"post",url:"https://api.agentedecargaonline.com/insert_call",headers:a,data:e};await r()(o).then(t=>{C.a.fire({icon:"TMSGINF"==t.data.data[0].tipomensaje?"info":"error",title:t.data.data[0].mensaje})})},async ExportarListUser(){var t={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"blob"},e={method:"get",url:"https://api.agentedecargaonline.com/export_listar_usuarios_calculadora?id_pais="+JSON.parse(sessionStorage.getItem("iso_pais")),headers:t,responseType:"blob",data:{iso_pais:JSON.parse(sessionStorage.getItem("iso_pais"))}};await r()(e).then(t=>{const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download",`Listado Usuario Calculadora - ${Date.now()}.xlsx`),document.body.appendChild(a),a.click()})},async GetCotFCL({commit:t},e){var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={method:"get",url:"https://api.agentedecargaonline.com/get_cot_fcl?token="+e,headers:a};let i=await r()(o);t("SET_DATOS",i.data.data)},async GetCotLCL({commit:t},e){var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={method:"get",url:"https://api.agentedecargaonline.com/get_cot_lcl?token="+e,headers:a};let i=await r()(o);t("SET_DATOS",i.data.data)},async GetCotAereo({commit:t},e){var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={method:"get",url:"https://api.agentedecargaonline.com/get_cot_aereo?token="+e,headers:a};let i=await r()(o);t("SET_DATOS",i.data.data)},async GetCotFCLResumen({commit:t},e){var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={method:"get",url:"https://api.agentedecargaonline.com/get_cot_fcl_resumen?token="+e,headers:a};let i=await r()(o);t("SET_DATOS_RESUMEN",i.data.data)},async GetCotLCLResumen({commit:t},e){var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={method:"get",url:"https://api.agentedecargaonline.com/get_cot_lcl_resumen?token="+e,headers:a};let i=await r()(o);t("SET_DATOS_RESUMEN",i.data.data)},async GetCotAereoResumen({commit:t},e){var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={method:"get",url:"https://api.agentedecargaonline.com/get_cot_aereo_resumen?token="+e,headers:a};let i=await r()(o);t("SET_DATOS_RESUMEN",i.data.data)},async GetTipoCosto({commit:t},e){let a=JSON.parse(sessionStorage.getItem("dataBranch")),o=a[0].id_pais;e.id_pais=o;var i={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},s={method:"get",url:"https://api.agentedecargaonline.com/calc/tipo_costo",headers:i,params:e};let n=await r()(s);t("SET_LST_TIPO_COSTO",n.data.data)},async GetCalcServicio({commit:t},e){let a=JSON.parse(sessionStorage.getItem("dataBranch")),o=a[0].id_pais,i={id_pais:o};var s={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},n={method:"get",url:"https://api.agentedecargaonline.com/calc/servicio",headers:s,params:i};let l=await r()(n);t("SET_LST_SERV",l.data.data)},async GetCalcMultiplicador({commit:t},e){let a=JSON.parse(sessionStorage.getItem("dataBranch"));e.id_branch=a[0].id;var o={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},i={method:"get",url:"https://api.agentedecargaonline.com/calc/multiplicador",headers:o,params:e};let s=await r()(i);t("SET_LST_MULTIPLICADOR",s.data.data)},async PostCalcServicio({dispatch:t},e){let a=JSON.parse(sessionStorage.getItem("dataBranch"));a[0].id_pais;var o={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},i={method:"post",url:"https://api.agentedecargaonline.com/calc/servicio/guardar",headers:o,data:e};let s=await r()(i);s.data.estadoflag&&t("GetCalcServicio")},async PostCalcCosto({dispatch:t},e){let a=JSON.parse(sessionStorage.getItem("dataBranch")),o=JSON.parse(sessionStorage.getItem("dataUser")),i=a[0].id_pais;e.id_pais=i,e.users=o[0].users;var s={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},n={method:"post",url:"https://api.agentedecargaonline.com/calc/costos/insertar",headers:s,data:e};let l=await r()(n);l.data.estadoflag&&t("GetCotCostos")},async GetCotCostos({commit:t},e){var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"};let o=JSON.parse(sessionStorage.getItem("dataBranch")),i=o[0].id_pais,s={id_pais:i};var n={method:"get",url:"https://api.agentedecargaonline.com/calc/costos",headers:a,params:s};let l=await r()(n),c=l.data.data;c=c.map(t=>({...t,bloqueadoflag:!0})),t("SET_LST_COSTOS",c)},async GetCotValLCL({commit:t},e){let a=[];var o={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},i={method:"post",url:"https://api.agentedecargaonline.com/calc/val_data_lcl",headers:o,data:{data:e}};let s=await r()(i);return s.data.estadoflag&&(a=s.data.data),a},async postGuardarCostos({commit:t,dispatch:e},a){let o=JSON.parse(sessionStorage.getItem("dataUser"));a.user=o[0].users;let i=[];var s={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},n={method:"post",url:"https://api.agentedecargaonline.com/calc/costos_calc",headers:s,data:a};let l=await r()(n);l.data.estadoflag&&(i=l.data.data,C.a.fire({icon:"success",title:"Registro Correcto",allowEnterKey:!0,allowOutsideClick:!0,allowEscapeKey:!0}).then(t=>{t.isConfirmed&&window.location.reload()}))},async getCostosList({commit:t},e){let a=JSON.parse(sessionStorage.getItem("dataBranch")),o=a[0].id_pais;e.id_pais=o;var i={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},s={method:"get",url:"https://api.agentedecargaonline.com/calc/costos_list",headers:i,params:e};let n=await r()(s);n.data.estadoflag&&t("SET_LST_COSTOS_TOTALES",n.data.data)},async getProfitList({commit:t},e){let a=JSON.parse(sessionStorage.getItem("dataBranch")),o=a[0].id_pais;e.id_pais=o;var i={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},s={method:"get",url:"https://api.agentedecargaonline.com/calc/profit_list",headers:i,params:e};let n=await r()(s);n.data.estadoflag&&t("SET_LST_PROFIT",n.data.data)},async postGuardarProfit({dispatch:t},e){let a=JSON.parse(sessionStorage.getItem("dataBranch")),o=a[0].id_pais,i=JSON.parse(sessionStorage.getItem("dataUser"));e.user=i[0].users,e.id_pais=o;let s=[];var n={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},l={method:"post",url:"https://api.agentedecargaonline.com/calc/profit",headers:n,data:e};let c=await r()(l);return c.data.estadoflag&&(s=c.data.data,C.a.fire({icon:"success",title:"Registro Correcto",allowEnterKey:!0,allowOutsideClick:!0,allowEscapeKey:!0}).then(t=>{t.isConfirmed})),s},async actualizarGuardarProfit({dispatch:t},e){let a=JSON.parse(sessionStorage.getItem("dataBranch")),o=a[0].id_pais,i=JSON.parse(sessionStorage.getItem("dataUser"));e.user=i[0].users,e.id_pais=o;let s=[];var n={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},l={method:"put",url:"https://api.agentedecargaonline.com/calc/profit/actualizar",headers:n,data:e};let c=await r()(l);return c.data.estadoflag&&(s=c.data.data,C.a.fire({icon:"success",title:"Registro Correcto",allowEnterKey:!0,allowOutsideClick:!0,allowEscapeKey:!0}).then(t=>{t.isConfirmed})),s},async eliminarGuardarProfit({dispatch:t},e){let a=JSON.parse(sessionStorage.getItem("dataBranch")),o=a[0].id_pais,i=JSON.parse(sessionStorage.getItem("dataUser"));e.user=i[0].users,e.id_pais=o;let s=[];var n={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},l={method:"put",url:"https://api.agentedecargaonline.com/calc/profit/anular",headers:n,data:e};let c=await r()(l);return c.data.estadoflag&&(s=c.data.data,C.a.fire({icon:"success",title:"Registro Correcto",allowEnterKey:!0,allowOutsideClick:!0,allowEscapeKey:!0}).then(t=>{t.isConfirmed})),s},async ActualizarCosto({dispatch:t},e){let a=JSON.parse(sessionStorage.getItem("dataUser"));e.user=a[0].users;var o={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},i={method:"put",url:"https://api.agentedecargaonline.com/calc/costo/actualizar",headers:o,data:e};let s=await r()(i);if(s.data.estadoflag){let e=s.data;C.a.fire({icon:"success",title:e.mensaje,allowEnterKey:!0,allowOutsideClick:!0,allowEscapeKey:!0}).then(e=>{e.isConfirmed&&t("GetCotCostos")})}},async EliminarCosto({dispatch:t},e){let a=JSON.parse(sessionStorage.getItem("dataUser"));e.user=a[0].users;var o={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},i={method:"put",url:"https://api.agentedecargaonline.com/calc/costo/eliminar",headers:o,data:e};let s=await r()(i);if(s.data.estadoflag){let e=s.data.data;C.a.fire({icon:"success",title:e.mensaje,allowEnterKey:!0,allowOutsideClick:!0,allowEscapeKey:!0}).then(e=>{e.isConfirmed&&t("GetCotCostos")})}},async getTransporte({commit:t},e){let a=JSON.parse(sessionStorage.getItem("dataBranch")),o=a[0].id_pais;e.id_pais=o;var i={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},s={method:"get",url:"https://api.agentedecargaonline.com/calc/transporte",headers:i,params:e};let n=await r()(s);n.data.estadoflag&&(console.log(n.data),t("SET_LST_COSTOS_TRANSPORTE",n.data.data))},async getDepartamentos({commit:t},e){let a=JSON.parse(sessionStorage.getItem("dataBranch")),o=a[0].id_pais;e.id_pais=o;var i={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},s={method:"get",url:"https://api.agentedecargaonline.com/calc/departamentos",headers:i,params:e};let n=await r()(s);n.data.estadoflag&&t("SET_LST_COSTOS_DEPARTAMENTOS",n.data.data)},async getDistritos({commit:t},e){let a=JSON.parse(sessionStorage.getItem("dataBranch")),o=a[0].id_pais;e.id_pais=o;var i={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},s={method:"get",url:"https://api.agentedecargaonline.com/calc/distritos",headers:i,params:e};let n=await r()(s);n.data.estadoflag&&t("SET_LST_COSTOS_DISTRITOS",n.data.data)},async getTransporteGuardar({dispatch:t},e){let a=JSON.parse(sessionStorage.getItem("dataBranch")),o=a[0].id_pais;e.id_pais=o;var i={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},s={method:"post",url:"https://api.agentedecargaonline.com/calc/transporte/guardar",headers:i,data:e};let n=await r()(s);if(n.data.estadoflag){let e=n.data;C.a.fire({icon:"success",title:e.mensaje,allowEnterKey:!0,allowOutsideClick:!0,allowEscapeKey:!0}).then(e=>{e.isConfirmed&&t("getTransporte",{})})}}};var Z={namespace:!0,state:Q,mutations:Y,actions:X};const W={listControlGastos:[],listCorrelativo:[],response:[],nombreCampania:""},tt={SET_LIST_CONTROL_GASTOS(t,e){t.listControlGastos=e},SET_CARGA_CORRELATIVO(t,e){t.listCorrelativo=e},SET_RESPONSE(t,e){t.response=e},SET_NOMBRECAMBIANIA(t,e){t.nombreCampania=e}},et={async getListControlGastos({commit:t},e){const a=n["a"].currentRoute.params;var o={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},i={method:"get",url:`https://api.agentedecargaonline.com/control_gastos_list?id=${e}&id_branch=${a.id_branch}`,headers:o};await r()(i).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.statusBol?t("SET_LIST_CONTROL_GASTOS",e.data.data):(t("SET_LIST_CONTROL_GASTOS",[]),C.a.fire({icon:"error",title:a.statusText,text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})},async cargarCorrelativo({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={method:"get",url:"https://api.agentedecargaonline.com/cargar_correlativo",headers:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.statusBol?t("SET_CARGA_CORRELATIVO",e.data.data):t("SET_CARGA_CORRELATIVO",[])})},async listarCGECcorralativo({commit:t},e){var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={method:"get",url:"https://api.agentedecargaonline.com/listar_cge_corralativo?id_proveedor="+e,headers:a};await r()(o).then(e=>{let a=e.data;if(sessionStorage.setItem("auth-token",a.token),1==a.statusBol){let a=0,o=e.data.data;o.forEach(t=>{t.index=a,a++}),t("SET_CARGA_CORRELATIVO",o)}else t("SET_CARGA_CORRELATIVO",[])})},async setControl({dispatch:t},e){console.log("house",e);var a={id_house:e.id_master,id_user:JSON.parse(sessionStorage.getItem("dataUser"))[0].id,status:1},o={method:"post",url:"https://api.agentedecargaonline.com/setControl",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await r()(o).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),1==e.statusBol?C.a.fire({icon:"info",text:e.data[0].mensaje}):C.a.fire({icon:"error",text:e.data.mensaje})})).catch((function(t){console.log(t)}))},async guardarIngresos({dispatch:t},e){console.log("data",e);e=e;var a={method:"post",url:"https://api.agentedecargaonline.com/setIngresos",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(a){let o=a.data;sessionStorage.setItem("auth-token",o.token),1==o.statusBol?(C.a.fire({icon:"info",text:o.data[0].mensaje}),t("getListControlGastos",e.id_master)):C.a.fire({icon:"error",text:o.data.mensaje})})).catch((function(t){console.log(t)}))},async actualizarIngresos({dispatch:t},e){console.log("data2",e);e=e;var a={method:"post",url:"https://api.agentedecargaonline.com/editIngreso/"+e.id,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),1==e.statusBol?C.a.fire({icon:"info",text:e.data[0].mensaje}):C.a.fire({icon:"error",text:e.data.mensaje})})).catch((function(t){console.log(t)}))},async copiarCGingresos({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/copiar_cgingresos",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),1==e.statusBol?C.a.fire({icon:"info",text:e.data[0].mensaje}):C.a.fire({icon:"error",text:e.data.mensaje})})).catch((function(t){console.log(t)}))},async copiarCGEgresos({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/copiar_cgegresos",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),1==e.statusBol?C.a.fire({icon:"info",text:e.data[0].mensaje}):C.a.fire({icon:"error",text:e.data.mensaje})})).catch((function(t){console.log(t)}))},async getNombreCompania({commit:t},e){var a=a,o={method:"get",url:"https://api.agentedecargaonline.com/obtener_nombre_camapania?id_master="+e,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};return await r()(o).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_NOMBRECAMBIANIA",a.data[0].name):t("SET_NOMBRECAMBIANIA","")})).catch((function(t){console.log(t)})),W.nombreCampania},async eliminarIngreso({dispatch:t},e){console.log("data3",e);e=e;var a={method:"post",url:"https://api.agentedecargaonline.com/delIngresos/"+e.id,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),1==e.statusBol||C.a.fire({icon:"error",text:e.data.mensaje})})).catch((function(t){console.log(t)}))},async CargaMasivaControlDeGastos({commit:t},e){W.response=[];var a={method:"post",url:"https://api.agentedecargaonline.com/carga_masiva_controldegasto",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};return await r()(a).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),t("SET_RESPONSE",a.data)})).catch((function(t){console.log(t)})),W.response},async DescargarConsolidadoCargaMasiva(t,e){W.response=[];var a={method:"get",url:"https://api.agentedecargaonline.com/consolidado_carga_masiva?id_mastercontrol="+e,responseType:"blob",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"blob"}};await r()(a).then(t=>{const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download",`Consolidación Carga Masiva ${y()().format("DD-MM-YYYY hh:mm:ss")}.xlsx`),document.body.appendChild(a),a.click()}).catch((function(t){console.log(t)}))},async guardarCuotasCgeTipoProveedor({commit:t},e){W.response=[];var a={method:"post",url:"https://api.agentedecargaonline.com/guardar_cuotas_cge_tipo_proveedor",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};return await r()(a).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),e.estadoflag?C.a.fire({icon:"success",text:e.data[0].mensaje}):C.a.fire({icon:"error",text:e.data[0].mensaje})})).catch((function(t){console.log(t)})),W.response}};var at={namespace:!0,state:W,mutations:tt,actions:et};const ot={lstConsolidacion:[]},it={SET_CONSOLIDACION(t,e){t.lstConsolidacion=e}},st={async generarConsolidacion({commit:t},e){var a={method:"post",url:"https://api.agentedecargaonline.com/generar_consolidacion",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),t("SET_CONSOLIDACION",e.data.data),a.estadoflag||C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})})).catch((function(t){console.log(t)}))}};var rt={namespace:!0,state:ot,mutations:it,actions:st};const nt={cuentas:[],validacionBanco:null},lt={SET_CUENTAS(t,e){t.cuentas=e},SET_VALIDACION_BANCO(t,e){t.validacionBanco=e}},ct={async getListBanksDetailsCargar({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/getListBanksDetailsCargar",params:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("SET_CUENTAS",e.data.data)})).catch((function(t){console.log(t)}))},async getValidaNroOp({commit:t},e){let a=null;var o={method:"get",url:"https://api.agentedecargaonline.com/validar_nro_operacion?nro_operacion="+e,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};return await r()(o).then((function(e){t("SET_VALIDACION_BANCO",e.data),a=e.data})).catch((function(t){console.log(t)})),a}};var dt={namespace:!0,state:nt,mutations:lt,actions:ct};const ut={listado:[],listProgramacion:[],listProgramacionxProveedor:[]},pt={SET_LIST(t,e){t.listado=e},SET_LIST_PROGRAMACION(t,e){t.listProgramacion=e},SET_LIST_PROGRAMACION_X_PROVEEDOR(t,e){t.listProgramacionxProveedor=e}},mt={async ListProgrammedPayment({commit:t}){let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"get",url:"https://api.agentedecargaonline.com/ListProgrammedPaymentDetails/"+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_LIST",a.data):(t("SET_LIST",[]),C.a.fire({icon:"error",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.log(t)}))},async GetTotalCotizacion({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={method:"get",url:"https://api.agentedecargaonline.com/cargar_programacion?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),t("SET_LIST_PROGRAMACION",e.data.data)})},async getListProgramacion({commit:t},e){var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={method:"get",url:`https://api.agentedecargaonline.com/pagos_programados_por_proveedor?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_proveedor=${e.id_proveedor}&id_programend=${e.id}&id_coins=${e.id_coins}`,headers:a};await r()(o).then(e=>{let a=e.data.data;sessionStorage.setItem("auth-token",e.data.token),a.forEach(t=>{t.tipocambio=t.tipocambio?t.tipocambio:1}),t("SET_LIST_PROGRAMACION_X_PROVEEDOR",a)})},async setPagoProgramado({dispatch:t},e){var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={method:"post",url:"https://api.agentedecargaonline.com/registrar_pagos_programado",headers:a,data:e};await r()(o).then(e=>{let a=e.data.data[0];C.a.fire({icon:"info",titleText:"Aviso",text:a.mensaje}).then(e=>{e.isConfirmed&&t("ListProgrammedPayment")})})},async eliminarProgramacion({dispatch:t},e){var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={method:"put",url:"https://api.agentedecargaonline.com/eliminar_programacion",headers:a,data:e};await r()(o).then(e=>{let a=e.data.data[0];C.a.fire({icon:"info",titleText:"Aviso",text:a.mensaje}).then(e=>{e.isConfirmed&&t("ListProgrammedPayment")})})},async eliminarProgramacionDetalle(t,e){var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={method:"put",url:"https://api.agentedecargaonline.com/eliminar_programacion_detalle",headers:a,data:e};await r()(o).then(t=>{let e=t.data.data[0];C.a.fire({icon:"info",titleText:"Aviso",text:e.mensaje}).then(t=>{})})}};var ht={namespace:!0,state:ut,mutations:pt,actions:mt};const _t={listaGanancia:[],resumenGanancia:[],listaGastos:[],resumenGastos:[],resumenTipoGasto:[],resumenTipoIngreso:[],arbolGastos:[],arbolIngreso:[],tipoingreso:[],tiposubingreso:[],tipogastos:[],tiposubgastos:[],listaGananciaFiltro:[],listaGastosFiltro:[],comparativo:[],flujoprepostmes:[],lstFlujoOperacionesMes:[]},gt={set_comparativo(t,e){t.comparativo=e},set_flujoprepostmes(t,e){t.flujoprepostmes=e},set_tipo_ingreso(t,e){t.tipoingreso=e},set_tipo_subingreso(t,e){t.tiposubingreso=e},set_tipo_gastos(t,e){t.tipogastos=e},set_tipo_subgastos(t,e){t.tiposubgastos=e},SET_GANANCIA(t,e){t.listaGanancia=e},SET_RESUMEN_GANANCIA_BALANCE(t,e){t.resumenGanancia=e},SET_BALANCE_GASTOS(t,e){t.listaGastos=e},SET_RESUMEN_GASTOS_BALANCE(t,e){t.resumenGastos=e},SET_RESUMEN_GASTOS_TIPOGASTO(t,e){t.resumenTipoGasto=e},SET_RESUMEN_GASTOS_TIPOINGRESO(t,e){t.resumenTipoIngreso=e},SET_ARBOL_GASTOS(t,e){t.arbolGastos=e},SET_ARBOL_INGRESO(t,e){t.arbolIngreso=e},SET_GANANCIA_FILTRO(t,e){t.listaGananciaFiltro=e},SET_BALANCE_GASTOS_FILTRO(t,e){t.listaGastosFiltro=e},SET_FLUJO_OPERACIONES_MES(t,e){t.lstFlujoOperacionesMes=e}},ft={async getFlujoPrePostMes({commit:t},e){var a={method:"get",url:`https://api.agentedecargaonline.com/flujo_gasto_pre_post_mes?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&month=${e.month}&year=${e.year}&ingresosflag=${e.ingresosflag?e.ingresosflag:""}&gastoflag=${e.gastoflag?e.gastoflag:""}&anteriorflag=${e.anteriorflag?e.anteriorflag:""}&posterioflag=${e.posterioflag?e.posterioflag:""}&mes=${e.mes?e.mes:""}&anio=${e.anio?e.anio:""}&expediente=${e.expediente?e.expediente:""}&id_persona=${e.id_persona?e.id_persona:""}&monto=${e.monto?e.monto:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){let a=e.data;1==a.estado?t("set_flujoprepostmes",a.data):(t("set_flujoprepostmes",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async getComparativo({commit:t},e){var a={method:"get",url:`https://api.agentedecargaonline.com/generar_comparativo?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&month=${e.month}&year=${e.year}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){let a=e.data;1==a.estado?t("set_comparativo",a.data):(t("set_comparativo",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async getCargarTipoIngreso({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/cargar_tipo_ingreso?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){let a=e.data;1==a.estado?t("set_tipo_ingreso",a.data):(t("set_tipo_ingreso",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async getCargarTipoSubIngreso({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/cargar_tipo_subingreso?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){let a=e.data;1==a.estado?t("set_tipo_subingreso",a.data):(t("set_tipo_subingreso",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async getCargarTipoGastos({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/cargar_tipo_gastos?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){let a=e.data;1==a.estado?t("set_tipo_gastos",a.data):(t("set_tipo_gastos",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async getCargarTipoSubGastos({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/cargar_tipo_subgastos?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){let a=e.data;1==a.estado?t("set_tipo_subgastos",a.data):(t("set_tipo_subgastos",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async getListBalanaceGanancia({commit:t},e){var a={method:"get",url:`https://api.agentedecargaonline.com/detalle_ganancia?year=${e.year}&month=${e.month}&tipoingreso=${e.tipoingreso}&tiposubingreso=${e.tiposubingreso}&nro_expediente=${e.nro_expediente}&monto=${e.monto}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){let a=e.data;1==a.estado?t("SET_GANANCIA",a.data):(t("SET_GANANCIA",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async getListBalanaceGananciaFiltro({commit:t},e){var a={method:"get",url:`https://api.agentedecargaonline.com/detalle_ganancia?year=${e.year}&month=${e.month}&tipoingreso=${e.tipoingreso}&tiposubingreso=${e.tiposubingreso}&nro_expediente=${e.nro_expediente}&monto=${e.monto}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){let a=e.data;1==a.estado?t("SET_GANANCIA_FILTRO",a.data):(t("SET_GANANCIA_FILTRO",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async getResumenBalanaceGanancia({commit:t},e){var a={method:"get",url:`https://api.agentedecargaonline.com/resumen_ganancia?year=${e.year}&month=${e.month}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){let a=e.data;1==a.estado?t("SET_RESUMEN_GANANCIA_BALANCE",a.data):(t("SET_RESUMEN_GANANCIA_BALANCE",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async getListBalanaceGastos({commit:t},e){var a={method:"get",url:`https://api.agentedecargaonline.com/detalle_gastos?year=${e.year}&month=${e.month}&tipogastos=${e.tipogastos}&tiposubgastos=${e.tiposubgastos}&proveedor=${e.proveedor}&monto=${e.monto}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){let a=e.data;1==a.estado?t("SET_BALANCE_GASTOS",a.data):(t("SET_BALANCE_GASTOS",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async getListBalanaceGastosFiltro({commit:t},e){var a={method:"get",url:`https://api.agentedecargaonline.com/detalle_gastos?year=${e.year}&month=${e.month}&tipogastos=${e.tipogastos}&tiposubgastos=${e.tiposubgastos}&proveedor=${e.proveedor}&monto=${e.monto}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){let a=e.data;1==a.estado?t("SET_BALANCE_GASTOS_FILTRO",a.data):(t("SET_BALANCE_GASTOS_FILTRO",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async getResumenBalanaceGastos({commit:t},e){var a={method:"get",url:`https://api.agentedecargaonline.com/resumen_gastos?year=${e.year}&month=${e.month}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){let a=e.data;1==a.estado?t("SET_RESUMEN_GASTOS_BALANCE",a.data):(t("SET_RESUMEN_GASTOS_BALANCE",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async getResumenGastosxTipoGasto({commit:t},e){var a={method:"get",url:`https://api.agentedecargaonline.com/resumen_gastos_tipogasto?year=${e.year}&month=${e.month}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){let a=e.data;1==a.estado?t("SET_RESUMEN_GASTOS_TIPOGASTO",a.data):(t("SET_RESUMEN_GASTOS_TIPOGASTO",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async resumenIngresoTipoIngreso({commit:t},e){var a={method:"get",url:`https://api.agentedecargaonline.com/resumen_ingreso_tipo?year=${e.year}&month=${e.month}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){let a=e.data;1==a.estado?t("SET_RESUMEN_GASTOS_TIPOINGRESO",a.data):(t("SET_RESUMEN_GASTOS_TIPOINGRESO",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async getArbolGastos({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/arbol_gastos?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){let a=e.data;1==a.estado?t("SET_ARBOL_GASTOS",a.data):(t("SET_ARBOL_GASTOS",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async getArbolIngresos({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/arbol_ingresos?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){let a=e.data;1==a.estado?t("SET_ARBOL_INGRESO",a.data):(t("SET_ARBOL_INGRESO",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async exportarBalanceGanancia(t,e){var a={method:"get",url:`https://api.agentedecargaonline.com/excel_reporte?year=${e.year}&month=${e.month}`,responseType:"blob",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(t){const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download",Date.now()+".xlsx"),document.body.appendChild(a),a.click()})).catch((function(t){console.log(t)}))},async getListFlujoOperacionMes({commit:t},e){var a={method:"get",url:`https://api.agentedecargaonline.com/flujo_dinero_por_mes?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&cantidadmes=${e.cantidadmes}&id_proveedor=${e.id_proveedor?e.id_proveedor:""}&id_cliente=${e.id_cliente?e.id_cliente:""}&nro_expediente=${e.nro_expediente?e.nro_expediente:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){let a=e.data;1==a.estado?t("SET_FLUJO_OPERACIONES_MES",a.data):(t("SET_FLUJO_OPERACIONES_MES",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))}};var vt={namespace:!0,state:_t,mutations:gt,actions:ft};const bt={listProyeccion:[],proyeccion:{},proyeccionaprobada:""},Ct={SET_LIST_PROYECCION(t,e){t.listProyeccion=e},SET_PROYECCION(t,e){t.proyeccion=e},SET_PROYECCION_APROBADA(t,e){t.proyeccionaprobada=e}},kt={async setProyeccion(t,e){var a={method:"post",url:"https://api.agentedecargaonline.com/insertar_proyeccion",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then(t=>{let e=t.data;C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje}),e.estadoflag&&n["a"].go(-1)}).catch((function(t){console.log(t)}))},async getProyeccion({commit:t},e){var a={method:"get",url:`https://api.agentedecargaonline.com/list_proyeccion?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_month=${e.id_month}&id_year=${e.id_year}&correlativo=${e.correlativo}&total_proyectado_ext=${e.total_proyectado_ext}&estado=${e.estado}&aprobadoflag=${e.aprobadoflag}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then(e=>{let a=e.data;a.estadoflag?t("SET_LIST_PROYECCION",a.data):(t("SET_LIST_PROYECCION",[]),C.a.fire({icon:"error",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))}).catch((function(t){console.log(t)}))},async verProyeccion({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/ver_proyeccion?id="+e,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_PROYECCION",a.data[0]):C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje})}).catch((function(t){console.log(t)}))},async updateProyeccion(t,e){var a={method:"put",url:"https://api.agentedecargaonline.com/update_proyeccion",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then(t=>{let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje}),e.estadoflag&&n["a"].go(-1)}).catch((function(t){console.log(t)}))},async validateProyeccionAprobacion(t,e){let a=null;var o={method:"put",url:"https://api.agentedecargaonline.com/validate_proyeccion_aprobacion?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};return await r()(o).then(t=>{a=t.data}).catch((function(t){console.log(t)})),a},async copiarProyeccion(t,e){var a={method:"put",url:"https://api.agentedecargaonline.com/copiar_proyeccion",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then(t=>{let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",html:e.mensaje})}).catch((function(t){console.log(t)}))},async aprobarProyeccion(t,e){var a={method:"put",url:"https://api.agentedecargaonline.com/aprobar_proyeccion",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then(t=>{let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})}).catch((function(t){console.log(t)}))},async eliminarProyeccion(t,e){var a={method:"put",url:"https://api.agentedecargaonline.com/eliminar_proyeccion",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then(t=>{let e=t.data;C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})}).catch((function(t){console.log(t)}))},async primeraProyeccion(t,e){var a={method:"post",url:"https://api.agentedecargaonline.com/generar_primerar_proyeccion",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then(t=>{let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje}),e.estadoflag&&n["a"].push({name:"editarProyeccion",params:{id:e.data[0].id}})}).catch((function(t){console.log(t)}))},async exportarVerProyeccion(t,e){var a={method:"get",url:"https://api.agentedecargaonline.com/excel_proyeccion?id="+e,responseType:"blob",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(t){const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download",`Proyeccion-${Date.now()}.xlsx`),document.body.appendChild(a),a.click()})).catch((function(t){console.log(t)}))},async getProyeccionAprobada({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/proyeccion_aprobada?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then(e=>{let a=e.data;a.estadoflag?t("SET_PROYECCION_APROBADA",a.data[0].proyeccion_mes_anio):C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje})}).catch((function(t){console.log(t)}))}};var St={namespace:!0,state:bt,mutations:Ct,actions:kt},yt=a("eac3");const It={listHouse:[],house:{}},Pt={SET_LIST_HOUSE(t,e){t.listHouse=e},SET_VER_HOUSE(t,e){t.house=e}},xt={async verHouse({commit:t},e){e.id_branch=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,await r.a.get("https://api.agentedecargaonline.com/house_ver",{params:e,"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}).then((function(e){let a=e.data;console.log(a),t("SET_VER_HOUSE",a.data?a.data[0]:{})})).catch((function(t){console.log(t)})),console.log(It.house)},async listarHouse({commit:t},e){e.id_branch=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,await r.a.get("https://api.agentedecargaonline.com/listado_houses",{params:e,"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}).then((function(e){let a=e.data;t("SET_LIST_HOUSE",a.data?a.data:[])})).catch((function(t){console.log(t)}))},async getCargarHouse({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/cargar_house?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){let a=e.data;t("SET_LIST_HOUSE",a.data?a.data:[])})).catch((function(t){console.log(t)}))},async insertComentarioHouse(t,e={}){var a={method:"post",url:"https://api.agentedecargaonline.com/insertComentarioHouse",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(t){sessionStorage.setItem("auth-token",t.data.token);let e=t.data;"401"==e.status?C.a.fire({icon:"error",text:e.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==e.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}):C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.log(t)}))}};var Tt={namespace:!0,state:It,mutations:Pt,actions:xt};const $t={payPath:null,datosPath:null},Et={SET_ID_PATH(t,e){t.payPath=e},SET_DATOS_PATH(t,e){t.datosPath=e}},wt={async _uploadFile({commit:t},e){var o=a("5a30"),i=(a("3e8f"),new o);i.append("name","Prueba"),i.append("file",e);var s={method:"post",url:"https://api.agentedecargaonline.com/uploadAllPath",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:i};await r()(s).then((function(e){t("SET_ID_PATH",e.data.data[0].insertid),t("SET_DATOS_PATH",e.data.data[0])})).catch((function(t){console.log(t)}))}};var Mt={namespace:!0,state:$t,mutations:Et,actions:wt};const Ot={moneda:null},Ft={setMoneda(t,e){t.moneda=e}},At={async CargarMoneda({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={method:"get",url:"https://api.agentedecargaonline.com/cargar_moneda",headers:e};let o=await r()(a);o.data.estadoflag?t("setMoneda",o.data.data):C.a.fire({icon:"info",title:o.data.mensaje})}};var Nt={namespace:!0,state:Ot,mutations:Ft,actions:At};const Dt={},Lt={},jt={async createCarpetaOneDrive(t,{name:e=""}){var a={method:"get",url:"https://api.agentedecargaonline.com/crear-carpeta-master?nromaster="+e,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};let o=await r()(a).then((async function(t){return t.data.data}));return o},async actualizarMaster(t,{id:e=0,url:a=""}){var o={method:"put",url:"https://api.agentedecargaonline.com/update_folder_onedrive",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id:e,url:a}};await r()(o).then((async function(t){return t.data.data}))},async insertComentarioMaster(t,{id_entitie:e=0,id_master:a=0,fecha:o=0,comentario:i=0}){var s={method:"post",url:"https://api.agentedecargaonline.com/insert_comentario_master",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_entitie:e,id_master:a,fecha:o,comentario:i}};await r()(s).then((function(t){sessionStorage.setItem("auth-token",t.data.token);let e=t.data;"401"==e.status?C.a.fire({icon:"error",text:e.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==e.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}):C.a.fire({icon:1==e.estadoflag?"success":"error",text:e.mensaje})}))}};var Rt={namespace:!0,state:Dt,mutations:Lt,actions:jt};const Bt={list:[],response:[],record:{},last_position:{},loading:!1},Ut={SET_LOADING(t,e){t.loading=e},SET_LIST_MARKETING(t,e){t.list=e},SET_MARKETING(t,e){t.record=e},SET_POSITION_MARKETING(t,e){t.last_position=e}},Gt={async fetchDataMarketing({commit:t},e){t("SET_LOADING",!1);var a={method:"get",url:"https://api.agentedecargaonline.com/listar_marketing?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch+"&name="+encodeURIComponent(e.name)+"&description="+encodeURIComponent(e.description)+"&position="+e.position+"&status="+e.status,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token);let o=a.estadoflag?a.data:[];t("SET_LIST_MARKETING",o),t("SET_LOADING",!0),a.estadoflag||C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async insertMarketing({commit:t,dispatch:e},a){var o={method:"post",url:"https://api.agentedecargaonline.com/insertar_marketing",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:a};await r()(o).then(t=>{let a=t.data,o={name:"",description:"",position:"",status:1};C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{e("fetchDataMarketing",o)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async readMarketing({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/ver_marketing?id="+e,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;a.estadoflag?t("SET_MARKETING",a.data[0]):C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async updateMarketing({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_marketing",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};await r()(a).then(e=>{let a=e.data,o={name:"",description:"",position:"",status:1};C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(e=>{t("fetchDataMarketing",o)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async lastPositionMarketing({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/ultima_posicion_marketing?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(e).then(e=>{let a=e.data;a.estadoflag&&t("SET_POSITION_MARKETING",a.data[0])}).catch(t=>{console.log("Error al obtener los datos:",t)})}};var Ht={namespace:!0,state:Bt,mutations:Ut,actions:Gt};const Jt={list:[],response:[],record:{}},Vt={SET_LIST_TYPE_PHONE(t,e){t.list=e},SET_TYPE_PHONE(t,e){t.record=e}},zt={async fetchDataTypePhone({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/getListTypePhone?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch+"&code="+encodeURIComponent(e.code)+"&name="+encodeURIComponent(e.name)+"&status="+e.status,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_LIST_TYPE_PHONE",e.data):(t("SET_LIST_TYPE_PHONE",[]),C.a.fire({icon:"error",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))}).catch(t=>{console.log("Error al obtener los datos:",t)})},async insertTypePhone({commit:t},e){var a={method:"post",url:"https://api.agentedecargaonline.com/insertTypePhone",headers:{"Content-Type":"application/json"},data:e};await r()(a).then(t=>{let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{t.isConfirmed&&window.location.reload()})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async readTypePhone({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/readTypePhone?id="+e,headers:{"Content-Type":"application/json"}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_TYPE_PHONE",a):C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async inactiveTypePhone(t,e){var a={method:"put",url:"https://api.agentedecargaonline.com/deleteTypePhone",headers:{"Content-Type":"application/json"},data:e};await r()(a).then(t=>{let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{t.isConfirmed&&window.location.reload()})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async updateTypePhone(t,e){var a={method:"put",url:"https://api.agentedecargaonline.com/updateTypePhone",headers:{"Content-Type":"application/json"},data:e};await r()(a).then(t=>{let e=t.data;sessionStorage.setItem("auth-token",e.token),e.estadoflag&&C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{t.isConfirmed&&window.location.reload()})}).catch(t=>{console.log("Error al obtener los datos:",t)})}};var qt={namespace:!0,state:Jt,mutations:Vt,actions:zt};const Kt={list:[],response:[],record:{},loading:!1},Qt={SET_LOADING(t,e){t.loading=e},SET_LIST_DOCUMENT(t,e){t.list=e},SET_DOCUMENT(t,e){t.record=e},ADD_DOCUMENT(t,e){t.response=e}},Yt={async fetchDataDocument({commit:t},e){t("SET_LOADING",!1);var a={method:"get",url:"https://api.agentedecargaonline.com/listar_documents?code="+encodeURIComponent(e.code)+"&name="+encodeURIComponent(e.name)+"&description="+encodeURIComponent(e.description)+"&status="+e.status+"&id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token);let o=a.estadoflag?a.data:[];t("SET_LIST_DOCUMENT",o),t("SET_LOADING",!0),a.estadoflag||C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.error("Error al obtener los datos:",t)})},async insertDocument({commit:t,dispatch:e},a){var o={method:"post",url:"https://api.agentedecargaonline.com/insertar_documents",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:a};await r()(o).then(t=>{let a=t.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{let a={name:"",description:"",code:"",status:1};e("fetchDataDocument",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async readDocument({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/ver_documents?id="+e,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_DOCUMENT",a.data[0]):C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async updateDocument({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_documents",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag&&C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(e=>{let a={name:"",description:"",code:"",status:1};t("fetchDataDocument",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})}};var Xt={namespace:!0,state:Kt,mutations:Qt,actions:Yt};const Zt={list:[],response:[],record:{},loading:!1},Wt={SET_LOADING(t,e){t.loading=e},SET_LIST_YEAR(t,e){t.list=e},SET_YEAR(t,e){t.record=e}},te={async fetchDataYear({commit:t},e){t("SET_LOADING",!1);var a={method:"get",url:"https://api.agentedecargaonline.com/listar_year?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch+"&description="+encodeURIComponent(e.description)+"&status="+e.status,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token);let o=a.estadoflag?a.data:[];t("SET_LIST_YEAR",o),t("SET_LOADING",!0),a.estadoflag||C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async insertYear({commit:t,dispatch:e},a){var o={method:"post",url:"https://api.agentedecargaonline.com/insertar_year",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:a};await r()(o).then(t=>{let a=t.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{if(t.isConfirmed){let t={description:"",status:1};e("fetchDataYear",t)}})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async readYear({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/ver_year?id="+e,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_YEAR",a.data[0]):C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async updateYear({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_year",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(e=>{if(e.isConfirmed){let e={description:"",status:1};t("fetchDataYear",e)}})}).catch(t=>{console.log("Error al obtener los datos:",t)})}};var ee={namespace:!0,state:Zt,mutations:Wt,actions:te};const ae={list:[],loading:!1,record:{}},oe={SET_LOADING(t,e){t.loading=e},SET_LIST_SEX(t,e){t.list=e},SET_SEX(t,e){t.record=e}},ie={async fetchDataSex({commit:t},e){t("SET_LOADING",!1);var a={method:"get",url:"https://api.agentedecargaonline.com/listar_sex?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch+"&code="+encodeURIComponent(e.code)+"&name="+encodeURIComponent(e.name)+"&acronym="+encodeURIComponent(e.acronym)+"&description="+encodeURIComponent(e.description)+"&status="+e.status,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token);let o=a.estadoflag?a.data:[];t("SET_LIST_SEX",o),t("SET_LOADING",!0),a.estadoflag||C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async insertSex({commit:t,dispatch:e},a){var o={method:"post",url:"https://api.agentedecargaonline.com/insertar_sex",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:a};await r()(o).then(t=>{let a=t.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{let a={name:"",code:"",acronym:"",description:"",position:"",status:1};e("fetchDataSex",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async readSex({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/ver_sex?id="+e,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_SEX",a.data[0]):C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async updateSex({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_sex",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(e=>{let a={name:"",code:"",acronym:"",description:"",position:"",status:1};t("fetchDataSex",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})}};var se={namespace:!0,state:ae,mutations:oe,actions:ie};const re={list:[],response:[],record:{},loading:!1},ne={SET_LOADING(t,e){t.loading=e},SET_LIST_GROUPSERVICES(t,e){t.list=e},SET_GROUPSERVICES(t,e){t.record=e}},le={async CargarGroupServices({commit:t},e){t("SET_LOADING",!1);var a={method:"get",url:`https://api.agentedecargaonline.com/cargar_groupservices?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}\n         `,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token);let o=a.estadoflag?a.data:[];t("SET_LIST_GROUPSERVICES",o),t("SET_LOADING",!0),a.estadoflag||C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async fetchDataGroupServices({commit:t},e){t("SET_LOADING",!1);var a={method:"get",url:"https://api.agentedecargaonline.com/listar_groupservices?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch+"&code="+encodeURIComponent(e.code)+"&name="+encodeURIComponent(e.name)+"&description="+encodeURIComponent(e.description)+"&status="+e.status,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token);let o=a.estadoflag?a.data:[];t("SET_LIST_GROUPSERVICES",o),t("SET_LOADING",!0),a.estadoflag||C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async insertGroupServices({commit:t,dispatch:e},a){var o={method:"post",url:"https://api.agentedecargaonline.com/insertar_groupservices",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:a};await r()(o).then(t=>{let a=t.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{let a={code:"",name:"",description:"",status:1};e("fetchDataGroupServices",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async readGroupServices({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/ver_groupservices?id="+e,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_GROUPSERVICES",a.data[0]):C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async updateGroupServices({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_groupservices",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(e=>{let a={code:"",name:"",description:"",status:1};t("fetchDataGroupServices",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})}};var ce={namespace:!0,state:re,mutations:ne,actions:le};const de={list:[],response:[],record:{},loading:!1},ue={SET_LOADING(t,e){t.loading=e},SET_LIST_INCOTERMS(t,e){t.list=e},SET_INCOTERMS(t,e){t.record=e}},pe={async fetchDataIncoterms({commit:t},e){t("SET_LOADING",!1);var a={method:"get",url:"https://api.agentedecargaonline.com/listar_incoterms?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch+"&name="+encodeURIComponent(e.name)+"&description="+encodeURIComponent(e.description)+"&status="+e.status,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token);let o=a.estadoflag?a.data:[];t("SET_LIST_INCOTERMS",o),t("SET_LOADING",!0),a.estadoflag||C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async insertIncoterms({commit:t,dispatch:e},a){var o={method:"post",url:"https://api.agentedecargaonline.com/insertar_incoterms",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:a};await r()(o).then(t=>{let a=t.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{let a={name:"",description:"",status:1};e("fetchDataIncoterms",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async readIncoterms({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/ver_incoterms?id="+e,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_INCOTERMS",a.data[0]):C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async updateIncoterms({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_incoterms",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(e=>{let a={name:"",description:"",status:1};t("fetchDataIncoterms",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})}};var me={namespace:!0,state:de,mutations:ue,actions:pe};const he={list:[],response:[],record:{},loading:!1},_e={SET_LOADING(t,e){t.loading=e},SET_LIST_PERFORMANCE(t,e){t.list=e},SET_PERFORMANCE(t,e){t.record=e}},ge={async fetchDataPerformance({commit:t},e){t("SET_LOADING",!1);var a={method:"get",url:"https://api.agentedecargaonline.com/listar_performance?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch+"&code="+encodeURIComponent(e.code)+"&description="+encodeURIComponent(e.description)+"&status="+e.status,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token);let o=a.estadoflag?a.data:[];t("SET_LIST_PERFORMANCE",o),t("SET_LOADING",!0),a.estadoflag||C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async insertPerformance({commit:t,dispatch:e},a){var o={method:"post",url:"https://api.agentedecargaonline.com/insertar_performance",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:a};await r()(o).then(t=>{let a=t.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{let a={code:"",description:"",status:1};e("fetchDataPerformance",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async readPerformance({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/ver_performance?id="+e,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_PERFORMANCE",a.data[0]):C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async updatePerformance({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_performance",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(e=>{let a={code:"",description:"",status:1};t("fetchDataPerformance",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})}};var fe={namespace:!0,state:he,mutations:_e,actions:ge};const ve={list:[],response:[],record:{},loading:!1},be={SET_LOADING(t,e){t.loading=e},SET_LIST_BANK(t,e){t.list=e},SET_BANK(t,e){t.record=e},SET_LIST_BANK_CARGAR(t,e){t.list=e}},Ce={async fetchDataBank({commit:t,dispatch:e},a){t("SET_LOADING",!1);var o={method:"get",url:"https://api.agentedecargaonline.com/listar_bank?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch+"&code="+encodeURIComponent(a.code)+"&name="+encodeURIComponent(a.name)+"&acronym="+encodeURIComponent(a.acronym)+"&description="+encodeURIComponent(a.description)+"&status="+a.status,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(o).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token);let o=a.estadoflag?a.data:[];t("SET_LIST_BANK",o),t("SET_LOADING",!0),a.estadoflag||"401"==a.status&&C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async insertBank({commit:t,dispatch:e},a){var o={method:"post",url:"https://api.agentedecargaonline.com/insertar_bank",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:a};await r()(o).then(t=>{let a=t.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{let a={name:"",code:"",acronym:"",description:"",status:1};e("fetchDataBank",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async readBank({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/ver_bank?id="+e,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_BANK",a.data[0]):C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async updateBank({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_bank",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(e=>{let a={name:"",code:"",acronym:"",description:"",position:"",status:1};t("fetchDataBank",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async getBanksListCargar({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getBanksList/",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}};await r()(e).then((function(e){let a=e.data;a.estadoflag?t("SET_LIST_BANK_CARGAR",e.data.data):t("SET_LIST_BANK_CARGAR",[])})).catch((function(t){console.log(t)}))},async guardarCuentaDetalle({dispatch:t},e){var a={method:"post",url:"https://api.agentedecargaonline.com/insertar_cuenta",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(e=>{let a={name:"",code:"",acronym:"",description:"",status:1};t("fetchDataBank",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async eliminarCuentaDetalle({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/eliminar_cuenta",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(e=>{let a={name:"",code:"",acronym:"",description:"",status:1};t("fetchDataBank",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async verPagoRealizado({commit:t},e){var a={method:"get",url:`https://api.agentedecargaonline.com/ver_pago?nro_operacion=${e}&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){let a=e.data;a.estadoflag?t("SET_BANK",a.data[0]):(C.a.fire({icon:"warning",text:a.mensaje}).then(t=>{t.isConfirmed&&n["a"].go(-1)}),t("SET_BANK",{}))})).catch((function(t){console.log(t)}))},async anularPagoRealizado({commit:t},e){let a=null;var o={method:"put",url:"https://api.agentedecargaonline.com/anular_pago",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id:e}};return await r()(o).then((function(t){a=t.data})).catch((function(t){console.log(t)})),a},async actualizarPagoRealizado({commit:t},e){let a=null;var o={method:"put",url:"https://api.agentedecargaonline.com/actualizar_pago",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{lstPago:e}};return await r()(o).then((function(t){a=t.data})).catch((function(t){console.log(t)})),a},async verCobroRealizado({commit:t},e){var a={method:"get",url:`https://api.agentedecargaonline.com/ver_cobro?nro_operacion=${e}&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){let a=e.data;a.estadoflag?t("SET_BANK",a.data[0]):(C.a.fire({icon:"warning",text:a.mensaje}).then(t=>{t.isConfirmed&&n["a"].go(-1)}),t("SET_BANK",{}))})).catch((function(t){console.log(t)}))},async anularCobroRealizado({commit:t},e){let a=null;var o={method:"put",url:"https://api.agentedecargaonline.com/anular_cobro",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};return await r()(o).then((function(t){a=t.data})).catch((function(t){console.log(t)})),a},async actualizarPagoRealizado({commit:t},e){let a=null;var o={method:"put",url:"https://api.agentedecargaonline.com/actualizar_cobro",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{lstPago:e}};return await r()(o).then((function(t){a=t.data})).catch((function(t){console.log(t)})),a},async validateNroOperacion({},t){let e=null;var a={method:"get",url:"https://api.agentedecargaonline.com/validate_nro_operacion_cobro",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},params:t};return await r()(a).then((function(t){e=t.data})).catch((function(t){console.log(t)})),e},async verVacturas({},t){let e=null;var a={method:"get",url:"https://api.agentedecargaonline.com/ver_facturas",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},params:t};return await r()(a).then((function(t){e=t.data})).catch((function(t){console.log(t)})),e}};var ke={namespace:!0,state:ve,mutations:be,actions:Ce};const Se={list:[],response:[],record:{},loading:!1},ye={SET_LOADING(t,e){t.loading=e},SET_LIST_MODALITY(t,e){t.list=e},SET_MODALITY(t,e){t.record=e}},Ie={async fetchDataModality({commit:t},e){t("SET_LOADING",!1);var a={method:"get",url:"https://api.agentedecargaonline.com/listar_modality?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch+"&code="+encodeURIComponent(e.code)+"&name="+encodeURIComponent(e.name)+"&description="+encodeURIComponent(e.description)+"&status="+e.status,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token);let o=a.estadoflag?a.data:[];t("SET_LIST_MODALITY",o),t("SET_LOADING",!0),a.estadoflag||C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async insertModality({commit:t,dispatch:e},a){var o={method:"post",url:"https://api.agentedecargaonline.com/insertar_modality",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:a};await r()(o).then(t=>{let a=t.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{let a={name:"",code:"",description:"",status:1};e("fetchDataModality",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async readModality({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/ver_modality?id="+e,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_MODALITY",a.data[0]):C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async updateModality({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_modality",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(e=>{let a={name:"",code:"",description:"",status:1};t("fetchDataModality",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})}};var Pe={namespace:!0,state:Se,mutations:ye,actions:Ie};const xe={list:[],response:[],record:{},loading:!1},Te={SET_LOADING(t,e){t.loading=e},SET_LIST_TRANSPORT(t,e){t.list=e},SET_TRANSPORT(t,e){t.record=e}},$e={async fetchDataTransport({commit:t},e){t("SET_LOADING",!1);var a={method:"get",url:"https://api.agentedecargaonline.com/listar_transport?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch+"&code="+encodeURIComponent(e.code)+"&name="+encodeURIComponent(e.name)+"&description="+encodeURIComponent(e.description)+"&status="+e.status,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token);let o=a.estadoflag?a.data:[];t("SET_LIST_TRANSPORT",o),t("SET_LOADING",!0),a.estadoflag||C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async insertTransport({commit:t,dispatch:e},a){var o={method:"post",url:"https://api.agentedecargaonline.com/insertar_transport",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:a};await r()(o).then(t=>{let a=t.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{let a={name:"",code:"",description:"",status:1};e("fetchDataTransport",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async readTransport({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/ver_transport?id="+e,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_TRANSPORT",a.data[0]):C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async updateTransport({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_transport",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(e=>{let a={name:"",code:"",description:"",status:1};t("fetchDataTransport",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async cargarTransport({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/cargar_transport?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token);let o=a.estadoflag?a.data:[];t("SET_LIST_TRANSPORT",o),a.estadoflag||C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.log("Error al obtener los datos:",t)})}};var Ee={namespace:!0,state:xe,mutations:Te,actions:$e};const we={},Me={},Oe={async exportReporteFile(t,e){e.id_branch=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,C.a.fire({icon:"info",title:"Generando PDF...",text:"Por favor espere",showConfirmButton:!1,allowOutsideClick:!1});var a={method:"post",url:"https://api.agentedecargaonline.com/createdPDF",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(t){C.a.fire({icon:"success",title:"PDF Generado",text:"El PDF se descargará automaticamente",showConfirmButton:!0}),window.open("https://api.agentedecargaonline.com/REPORT_CONTROL_FILE.pdf","_blank")})).catch((function(t){console.log(t)}))}};var Fe={namespace:!0,state:we,mutations:Me,actions:Oe};const Ae={list:[],response:[],record:{},loading:!1},Ne={SET_LOADING(t,e){t.loading=e},SET_LIST_GASTO(t,e){t.list=e},SET_GASTO(t,e){t.record=e}},De={async cargarGasto({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/cargar_gasto?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_LIST_GASTO",a.data):t("SET_LIST_GASTO",[])}).catch(t=>{console.log("Error al obtener los datos:",t)})},async fetchDataGasto({commit:t},e){t("SET_LOADING",!1);var a={method:"get",url:"https://api.agentedecargaonline.com/listar_gasto?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch+"&code="+encodeURIComponent(e.code)+"&description="+encodeURIComponent(e.description)+"&calculoflag="+e.calculoflag+"&status="+e.status,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token);let o=a.estadoflag?a.data:[];t("SET_LIST_GASTO",o),t("SET_LOADING",!0),a.estadoflag||C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async insertGasto({commit:t,dispatch:e},a){var o={method:"post",url:"https://api.agentedecargaonline.com/insertar_gasto",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:a};await r()(o).then(t=>{let a=t.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{let a={code:"",description:"",calculoflag:"",status:!0};e("fetchDataGasto",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async readGasto({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/ver_gasto?id="+e,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_GASTO",a.data[0]):C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async updateGasto({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_gasto",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(e=>{let a={code:"",description:"",calculoflag:"",status:!0};t("fetchDataGasto",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})}};var Le={namespace:!0,state:Ae,mutations:Ne,actions:De};const je={list:[],response:[],record:{},itemsCoinsList:[],loading:!1},Re={SET_LOADING(t,e){t.loading=e},SET_LIST_COINS(t,e){t.list=e},SET_COINS(t,e){t.record=e},SET_LIST_COINS_CARGAR(t,e){t.itemsCoinsList=e}},Be={async fetchDataCoins({commit:t},e){t("SET_LOADING",!1);var a={method:"get",url:"https://api.agentedecargaonline.com/listar_coins?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch+"&code="+encodeURIComponent(e.code)+"&symbol="+encodeURIComponent(e.symbol)+"&acronym="+encodeURIComponent(e.acronym)+"&name="+encodeURIComponent(e.name)+"&description="+encodeURIComponent(e.description)+"&status="+e.status,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data,o=a.estadoflag?a.data:[];sessionStorage.setItem("auth-token",a.token),t("SET_LIST_COINS",o),t("SET_LOADING",!0),a.estadoflag||C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async insertCoins({commit:t,dispatch:e},a){var o={method:"post",url:"https://api.agentedecargaonline.com/insertar_coins",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:a};await r()(o).then(t=>{let a=t.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{let a={code:"",symbol:"",acronym:"",name:"",description:"",status:1};e("fetchDataCoins",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async readCoins({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/ver_coins?id="+e,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_COINS",a.data[0]):C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async updateCoins({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_coins",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(e=>{let a={code:"",symbol:"",acronym:"",name:"",description:"",status:1};t("fetchDataCoins",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async getCoinsListCargar({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/getCoinsList?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){let a=e.data;1==a.estadoflag?t("SET_LIST_COINS_CARGAR",e.data.data):t("SET_LIST_COINS_CARGAR",[])})).catch((function(t){console.log(t)}))}};var Ue={namespace:!0,state:je,mutations:Re,actions:Be};const Ge={list:[],response:[],record:{},loading:!1},He={SET_LOADING(t,e){t.loading=e},SET_LIST_INGRESO(t,e){t.list=e},SET_INGRESO(t,e){t.record=e}},Je={async cargarIngreso({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/cargar_ingreso?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_LIST_INGRESO",a.data):(t("SET_LIST_INGRESO",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))}).catch(t=>{console.log("Error al obtener los datos:",t)})},async fetchDataIngreso({commit:t},e){t("SET_LOADING",!1);var a={method:"get",url:"https://api.agentedecargaonline.com/listar_ingreso?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch+"&code="+encodeURIComponent(e.code)+"&description="+encodeURIComponent(e.description)+"&calculoflag="+e.calculoflag+"&status="+e.status,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?(t("SET_LIST_INGRESO",a.data),t("SET_LOADING",!0)):(t("SET_LIST_INGRESO",[]),t("SET_LOADING",!0),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))}).catch(t=>{console.log("Error al obtener los datos:",t)})},async insertIngreso({commit:t,dispatch:e},a){var o={method:"post",url:"https://api.agentedecargaonline.com/insertar_ingreso",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:a};await r()(o).then(t=>{let a=t.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{let a={code:"",description:"",calculoflag:"",status:!0};e("fetchDataIngreso",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async readIngreso({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/ver_ingreso?id="+e,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_INGRESO",a.data[0]):C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async updateIngreso({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_ingreso",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(e=>{let a={code:"",description:"",calculoflag:"",status:!0};t("fetchDataIngreso",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async ActualizarCXC({},t){var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_cxc",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:t};await r()(e).then(t=>{let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async ActualizarCXP({},t){var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_cxp",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:t};await r()(e).then(t=>{let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{})}).catch(t=>{console.log("Error al obtener los datos:",t)})}};var Ve={namespace:!0,state:Ge,mutations:He,actions:Je};const ze={list:[],response:[],record:{},loading:!1},qe={SET_LOADING(t,e){t.loading=e},SET_LIST_CONTAINERS(t,e){t.list=e},SET_CONTAINERS(t,e){t.record=e}},Ke={async fetchDataContainers({commit:t},e){t("SET_LOADING",!1);var a={method:"get",url:"https://api.agentedecargaonline.com/listar_containers?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch+"&code="+encodeURIComponent(e.code)+"&name="+encodeURIComponent(e.name)+"&description="+encodeURIComponent(e.description)+"&status="+e.status,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token);let o=a.estadoflag?a.data:[];t("SET_LIST_CONTAINERS",o),t("SET_LOADING",!0),a.estadoflag||C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async insertContainers({commit:t,dispatch:e},a){var o={method:"post",url:"https://api.agentedecargaonline.com/insertar_containers",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:a};await r()(o).then(t=>{let a=t.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{let a={code:"",description:"",name:"",status:1};e("fetchDataContainers",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async readContainers({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/ver_containers?id="+e,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_CONTAINERS",a.data[0]):C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async updateContainers({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_containers",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(e=>{let a={code:"",description:"",name:"",status:1};t("fetchDataContainers",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})}};var Qe={namespace:!0,state:ze,mutations:qe,actions:Ke};const Ye={list:[],response:[],record:{},loading:!1},Xe={SET_LOADING(t,e){t.loading=e},SET_LIST_TRANSPORT(t,e){t.transports=e},SET_LIST_SHIPMENT(t,e){t.list=e},SET_SHIPMENT(t,e){t.record=e}},Ze={async fetchDataCargarTransport({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/cargar_transports?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_LIST_TRANSPORT",a.data):C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async fetchDataShipment({commit:t},e){t("SET_LOADING",!1);var a={method:"get",url:"https://api.agentedecargaonline.com/listar_shipment?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch+"&id_transport="+e.id_transport+"&name="+encodeURIComponent(e.name)+"&description="+encodeURIComponent(e.description)+"&status="+e.status,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?(t("SET_LIST_SHIPMENT",a.data),t("SET_LOADING",!0)):(t("SET_LIST_SHIPMENT",[]),t("SET_LOADING",!0),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))}).catch(t=>{console.log("Error al obtener los datos:",t)})},async insertShipment({commit:t,dispatch:e},a){var o={method:"post",url:"https://api.agentedecargaonline.com/insertar_shipment",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:a};await r()(o).then(t=>{let a=t.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(t=>{let a={name:"",description:"",id_transport:"",status:1};e("fetchDataShipment",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async readShipment({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/ver_shipment?id="+e,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_SHIPMENT",a.data[0]):C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async updateShipment({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_shipment",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(e=>{let a={name:"",description:"",id_transport:"",status:1};t("fetchDataShipment",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})}};var We={namespace:!0,state:Ye,mutations:Xe,actions:Ze};const ta={list:[],response:[],record:{},shipments:[],loading:!1},ea={SET_LOADING(t,e){t.loading=e},SET_LIST_SHIPMENT(t,e){t.shipments=e},SET_LIST_MULTIPLICADOR(t,e){t.list=e},SET_MULTIPLICADOR(t,e){t.record=e}},aa={async fetchDataCargarShipment({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/cargar_shipment?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag&&t("SET_LIST_SHIPMENT",a.data)}).catch(t=>{console.log("Error al obtener los datos:",t)})},async fetchDataMultiplicador({commit:t},e){t("SET_LOADING",!1);var a={method:"get",url:"https://api.agentedecargaonline.com/listar_multiplicador?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch+"&code="+encodeURIComponent(e.code)+"&name="+encodeURIComponent(e.name)+"&description="+encodeURIComponent(e.description)+"&id_shipment="+e.id_shipment+"&status="+e.status,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?(t("SET_LIST_MULTIPLICADOR",a.data),t("SET_LOADING",!0)):(t("SET_LIST_MULTIPLICADOR",[]),t("SET_LOADING",!0),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))}).catch(t=>{console.log("Error al obtener los datos:",t)})},async readMultiplicador({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/ver_multiplicador?id="+e,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_MULTIPLICADOR",a.data[0]):C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async updateMultiplicador({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_multiplicador",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje,showCancelButton:!1,confirmButtonText:"Ok"}).then(e=>{let a={code:"",name:"",description:"",id_shipment:"",status:1};t("fetchDataMultiplicador",a)})}).catch(t=>{console.log("Error al obtener los datos:",t)})}};var oa={namespace:!0,state:ta,mutations:ea,actions:aa};const ia={tipo:"filter",drawer:!1,lstAirline:[],AirlineFilter:{code_iata:"",name:"",code_icao:"",code_three:"",id_pais:"",created_at:"",updated_at:"",code:"",status:!0,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))?JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch:""},AirlineModel:{code_iata:"",name:"",code_icao:"",code_three:"",id_pais:"",created_at:"",updated_at:"",code:"",status:"",id_branch:JSON.parse(sessionStorage.getItem("dataUser"))?JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch:""}},sa={SET_LIST_AIRLINE(t,e){t.lstAirline=e}},ra={async GetListAirline({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/listar_airlines?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&code=${ia.AirlineFilter.code?ia.AirlineFilter.code:""}&code_iata=${ia.AirlineFilter.code_iata?ia.AirlineFilter.code_iata:""}&code_icao=${ia.AirlineFilter.code_icao?ia.AirlineFilter.code_icao:""}&name=${ia.AirlineFilter.name?ia.AirlineFilter.name:""}&status=${ia.AirlineFilter.status?ia.AirlineFilter.status:""}&id_pais=${ia.AirlineFilter.id_pais?ia.AirlineFilter.id_pais:""}\n        `,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_AIRLINE",a.data):(t("SET_LIST_AIRLINE",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))}catch(a){throw C.a.fire({icon:"error",title:res.statusText,text:res.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==res.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}),a}},async ValidateCodigoIATANuevo(){var t={method:"get",url:`https://api.agentedecargaonline.com/validate_iata_airlines_nuevo?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&code_iata=${ia.AirlineModel.code_iata}\n        `,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{let e=await r()(t);return e.data}catch(e){throw C.a.fire({icon:"error",title:res.statusText,text:res.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==res.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}),e}},async ValidateCodigoICAONuevo(){var t={method:"get",url:`https://api.agentedecargaonline.com/validate_icao_airlines_nuevo?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&code_icao=${ia.AirlineModel.code_icao}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{let e=await r()(t);return e.data}catch(e){throw C.a.fire({icon:"error",title:res.statusText,text:res.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==res.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}),e}},async setAirline({commit:t}){ia.AirlineModel.id_branch=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch;var e={method:"post",url:"https://api.agentedecargaonline.com/insert_airlines",data:ia.AirlineModel,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){throw C.a.fire({icon:"error",title:res.statusText,text:res.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==res.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}),a}},async ValidateCodigoIATAEditar(){var t={method:"get",url:`https://api.agentedecargaonline.com/validate_iata_airlines_editar?id=${ia.AirlineModel.id}&id_branch=${ia.AirlineModel.id_branch}&code_iata=${ia.AirlineModel.code_iata}\n        `,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{let e=await r()(t);return e.data}catch(e){throw C.a.fire({icon:"error",title:res.statusText,text:res.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==res.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}),e}},async ValidateCodigoICAOEditar(){var t={method:"get",url:`https://api.agentedecargaonline.com/validate_icao_airlines_editar?id=${ia.AirlineModel.id}&id_branch=${ia.AirlineModel.id_branch}&code_icao=${ia.AirlineModel.code_icao}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{let e=await r()(t);return e.data}catch(e){throw C.a.fire({icon:"error",title:res.statusText,text:res.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==res.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}),e}},async actualizarAirline({commit:t}){ia.AirlineModel.id_branch=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch;var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_airlines",data:ia.AirlineModel,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){throw C.a.fire({icon:"error",title:res.statusText,text:res.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==res.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}),a}}};var na={namespace:!0,state:ia,mutations:sa,actions:ra};let la={tipo:"filter",drawer:!1,statusQuoteList:[],max_position:0,max_position_calls:0,max_position_report:0,max_position_select:0,StatusFilter:{id:"",name:"",code:"",position:"",position_select:"",position_report:"",position_calls:"",status_calls:"",status_calls_all:"",description:"",status:"1",id_branch:JSON.parse(sessionStorage.getItem("dataUser"))?JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch:""},StatusModel:{id:"",name:"",code:"",position:"",position_select:"",position_report:"",position_calls:"",status_calls:"",status_calls_all:"",description:"",status:"1",id_branch:JSON.parse(sessionStorage.getItem("dataUser"))?JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch:""}},ca={SET_STATUS_QUOTE_LIST(t,e){t.statusQuoteList=e},SET_MAX_POSITION_QUOTE_LIST(t,e){t.max_position=e?e[0].position:1,t.max_position_calls=e?e[0].position_calls:1,t.max_position_report=e?e[0].position_report:1,t.max_position_select=e?e[0].position_select:1}},da={async GetListQuoteStatus({commit:t,dispatch:e}){var a={method:"get",url:`https://api.agentedecargaonline.com/list_quote_status?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&code=${la.StatusFilter.code?la.StatusFilter.code:""}&name=${la.StatusFilter.name?la.StatusFilter.name:""}&description=${la.StatusFilter.description?la.StatusFilter.description:""}&position=${la.StatusFilter.position?la.StatusFilter.position:""}&position_report=${la.StatusFilter.position_report?la.StatusFilter.position_report:""}&position_select=${la.StatusFilter.position_select?la.StatusFilter.position_select:""}&position_calls=${la.StatusFilter.position_calls?la.StatusFilter.position_calls:""}&status_calls=${"null"!==la.StatusFilter.status_calls?la.StatusFilter.status_calls:""}&status_calls_all=${"null"!==la.StatusFilter.status_calls_all?la.StatusFilter.status_calls_all:""}&status=${"null"!==la.StatusFilter.status?la.StatusFilter.status:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(a).then((function(a){let o=a.data;sessionStorage.setItem("auth-token",o.token),1==o.estadoflag?(t("SET_STATUS_QUOTE_LIST",o.data),e("MaxPositionQuoteStatus")):(t("SET_STATUS_QUOTE_LIST",[]),C.a.fire({icon:"401"==o.status?"error":"info",text:o.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==o.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))}catch(o){console.error(o)}},async MaxPositionQuoteStatus({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/max_position_quote_status?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_MAX_POSITION_QUOTE_LIST",a.data):(t("SET_MAX_POSITION_QUOTE_LIST",[]),C.a.fire({icon:"warning",title:"Aviso",text:a.mensaje}))})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async getValidatePositionQuoteStatus(){var t={method:"get",url:`https://api.agentedecargaonline.com/validate_position_status_quote?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&position=${la.StatusModel.position}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{let e=await r()(t);return e.data}catch(e){console.error(e)}},async getValidatePositionSelectQuoteStatus(){var t={method:"get",url:`https://api.agentedecargaonline.com/validate_position_select_status_quote?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&position_select=${la.StatusModel.position_select}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{let e=await r()(t);return e.data}catch(e){console.error(e)}},async getValidatePositionReportQuoteStatus(){var t={method:"get",url:`https://api.agentedecargaonline.com/validate_position_report_status_quote?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&position_report=${la.StatusModel.position_report}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{let e=await r()(t);return e.data}catch(e){console.error(e)}},async getValidatePositionCallsQuoteStatus(){var t={method:"get",url:`https://api.agentedecargaonline.com/validate_position_calls_status_quote?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&position_calls=${la.StatusModel.position_calls}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{let e=await r()(t);return e.data}catch(e){console.error(e)}},async setQuoteStatus(){var t={method:"post",url:"https://api.agentedecargaonline.com/insertar_position_calls",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:la.StatusModel};try{await r()(t).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(e){console.error(e)}},async getValidatePositionActualizarQuoteStatus(){var t={method:"get",url:`https://api.agentedecargaonline.com/validate_position_actualizar_status_quote?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id=${la.StatusModel.id}&position=${la.StatusModel.position}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{let e=await r()(t);return e.data}catch(e){console.error(e)}},async getValidatePositionSelectActualizarQuoteStatus(){var t={method:"get",url:`https://api.agentedecargaonline.com/validate_position_select_actualizar_status_quote?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id=${la.StatusModel.id}&position_select=${la.StatusModel.position_select}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{let e=await r()(t);return e.data}catch(e){console.error(e)}},async getValidatePositionReportActualizarQuoteStatus(){var t={method:"get",url:`https://api.agentedecargaonline.com/validate_position_report_actualizar_status_quote?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id=${la.StatusModel.id}&position_report=${la.StatusModel.position_report}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{let e=await r()(t);return e.data}catch(e){console.error(e)}},async getValidatePositionCallsActualizarQuoteStatus(){var t={method:"get",url:`https://api.agentedecargaonline.com/validate_position_calls_actualizar_status_quote?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id=${la.StatusModel.id}&position_calls=${la.StatusModel.position_calls}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{let e=await r()(t);return e.data}catch(e){console.error(e)}},async actualizarQuoteStatus(){var t={method:"put",url:"https://api.agentedecargaonline.com/actualizar_position_calls",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:la.StatusModel};try{await r()(t).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(e){console.error(e)}}};var ua={namespace:!0,state:la,mutations:ca,actions:da};let pa={tipo:"filter",drawer:!1,lstPort:[],PortFilter:{id:"",id_pais:"",code:"",name:"",description:"",id_transporte:"",status:"1"},PortModel:{id:"",id_pais:"",code:"",name:"",description:"",id_transporte:"",status:"1"}},ma={SET_LIST_PORT(t,e){t.lstPort=e}},ha={async GetListPort({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/listar_puerto?&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&name=${pa.PortFilter.name}&description=${pa.PortFilter.description}&id_pais=${pa.PortFilter.id_pais}&status=${pa.PortFilter.status}&id_transporte=${pa.PortFilter.id_transporte}&code=${pa.PortFilter.code}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_PORT",a.data):(t("SET_LIST_PORT",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async setPuerto({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/insertar_puerto",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:pa.PortModel};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async ActualizarPuerto({commit:t}){var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_puerto",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:pa.PortModel};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}}};var _a={namespace:!0,state:pa,mutations:ma,actions:ha};let ga={tipo:"filter",drawer:!1,lstMotonave:[],MotonaveFilter:{id:"",id_pais:"",code:"",name:"",description:"",id_transporte:"",status:"1"},MotonaveModel:{id:"",id_pais:"",code:"",name:"",description:"",id_transporte:"",status:"1"}},fa={SET_LIST_MOTONAVE(t,e){t.lstMotonave=e}},va={async GetListMotonave({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/listar_motonave?&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&name=${ga.MotonaveFilter.name}&description=${ga.MotonaveFilter.description}&status=${"null"==ga.MotonaveFilter.status?"":ga.MotonaveFilter.status}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_MOTONAVE",a.data):(t("SET_LIST_MOTONAVE",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async setMotonave({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/insertar_motonave",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:ga.MotonaveModel};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async ActualizarMotonave({commit:t}){var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_motonave",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:ga.MotonaveModel};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}}};var ba={namespace:!0,state:ga,mutations:fa,actions:va};let Ca={tipo:"filter",drawer:!1,lstState:[],StateFilter:{id:"",id_pais:"",code:"",name:"",description:"",status:"1"},StateModel:{id:"",id_pais:"",code:"",name:"",description:"",status:"1"}},ka={SET_LIST_STATE(t,e){t.lstState=e}},Sa={async GetListState({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/listar_state?&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&name=${Ca.StateFilter.name}&description=${Ca.StateFilter.description?Ca.StateFilter.description:""}&id_pais=${Ca.StateFilter.id_pais?Ca.StateFilter.id_pais:""}&status=${Ca.StateFilter.status}&code=${Ca.StateFilter.code?Ca.StateFilter.code:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_STATE",a.data):(t("SET_LIST_STATE",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async setState({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/insertar_state",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:Ca.StateModel};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async ActualizarState({commit:t}){var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_state",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:Ca.StateModel};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}}};var ya={namespace:!0,state:Ca,mutations:ka,actions:Sa};let Ia={tipo:"filter",drawer:!1,lstCity:[],filtros:{id:"",id_pais:"",id_state:"",code:"",name:"",description:"",status:"1"},model:{id:"",id_pais:"",id_state:"",code:"",name:"",description:"",status:"1"}},Pa={SET_LIST_CITY(t,e){t.lstCity=e}},xa={async GetListCity({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/listar_city?&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&name=${Ia.filtros.name?Ia.filtros.name:""}&description=${Ia.filtros.description?Ia.filtros.description:""}&id_pais=${Ia.filtros.id_pais?Ia.filtros.id_pais:""}&id_state=${Ia.filtros.id_state?Ia.filtros.id_state:""}&status=${"null"!==Ia.filtros.status?Ia.filtros.status:""}&code=${Ia.filtros.code?Ia.filtros.code:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_CITY",a.data):(t("SET_LIST_CITY",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async setCity({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/insertar_city",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:Ia.model};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async ActualizarCity({commit:t}){var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_city",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:Ia.model};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}}};var Ta={namespace:!0,state:Ia,mutations:Pa,actions:xa};let $a={tipo:"filter",drawer:!1,lstTown:[],filtros:{id:"",id_pais:"",id_city:"",id_state:"",id_town:"",code:"",name:"",description:"",status:"1"},model:{id:"",id_pais:"",id_city:"",id_state:"",id_town:"",code:"",name:"",description:"",status:"1"}},Ea={SET_LIST_TOWN(t,e){t.lstTown=e}},wa={async GetListTown({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/listar_town?&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_pais=${$a.filtros.id_pais?$a.filtros.id_pais:""}&id_city=${$a.filtros.id_city?$a.filtros.id_city:""}&id_state=${$a.filtros.id_state?$a.filtros.id_state:""}&id_town=${$a.filtros.id_town?$a.filtros.id_town:""}&code=${$a.filtros.code?$a.filtros.code:""}&name=${$a.filtros.name?$a.filtros.name:""}&description=${$a.filtros.description?$a.filtros.description:""}&status=${$a.filtros.status?$a.filtros.status:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_TOWN",a.data):(t("SET_LIST_TOWN",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async setTown({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/insertar_town",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:$a.model};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async ActualizarTown({commit:t}){var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_town",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:$a.model};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}}};var Ma={namespace:!0,state:$a,mutations:Ea,actions:wa};let Oa={tipo:"filter",drawer:!1,lstBegend:[],filtros:{id:"",position:"",code:"",name:"",description:"",color:"",status:"1"},model:{id:"",position:"",code:"",name:"",description:"",color:"",status:"1"}},Fa={SET_LIST_BEGEND(t,e){t.lstBegend=e}},Aa={async GetListBegend({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/listar_begend?&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&status=${Oa.filtros.status?Oa.filtros.status:""}&position=${Oa.filtros.position?Oa.filtros.position:""}&code=${Oa.filtros.code?Oa.filtros.code:""}&name=${Oa.filtros.name?Oa.filtros.name:""}&description=${Oa.filtros.description?Oa.filtros.description:""}&color=${Oa.filtros.color?Oa.filtros.color:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_BEGEND",a.data):(t("SET_LIST_BEGEND",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async getValidatePositionBegend(){var t={method:"get",url:`https://api.agentedecargaonline.com/validate_position_begend?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&position=${Oa.model.position}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{let e=await r()(t);return e.data}catch(e){console.error(e)}},async setBegend({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/insertar_begend",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:Oa.model};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async getValidatePositionActualizarBegend(){var t={method:"get",url:`https://api.agentedecargaonline.com/validate_position_actualizar_begend?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id=${Oa.model.id}&position=${Oa.model.position}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{let e=await r()(t);return e.data}catch(e){console.error(e)}},async ActualizarBegend({commit:t}){var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_begend",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:Oa.model};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}}};var Na={namespace:!0,state:Oa,mutations:Fa,actions:Aa};let Da={tipo:"filter",drawer:!1,lstTypePayment:[],filtros:{id:"",code:"",name:"",description:"",status:!0},model:{id:"",code:"",name:"",description:"",status:!0}},La={SET_LIST_TYPE_PAYMENT(t,e){t.lstTypePayment=e}},ja={async GetListTypePayment({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/listar_type_payments?&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&code=${Da.filtros.code?Da.filtros.code:""}&name=${Da.filtros.name?Da.filtros.name:""}&description=${Da.filtros.description?Da.filtros.description:""}&status=${Da.filtros.status?Da.filtros.status:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_TYPE_PAYMENT",a.data):(t("SET_LIST_TYPE_PAYMENT",[]),C.a.fire({icon:"warning",title:"Aviso",text:a.mensaje}))})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async setTypePayment({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/insertar_type_payments",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:Da.model};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async ActualizarTypePayment({commit:t}){var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_type_payments",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:Da.model};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}}};var Ra={namespace:!0,state:Da,mutations:La,actions:ja};let Ba={tipo:"filter",drawer:!1,lstSubIngreso:[],filtros:{id:"",id_ingreso:"",code:"",description:"",status:!0,id_branch:"",calculoflag:"null",mostrarflag:"null"},model:{id:"",id_ingreso:"",code:"",description:"",status:!0,id_branch:"",calculoflag:!0,mostrarflag:!0}},Ua={SET_LIST_SUBINGRESO(t,e){t.lstSubIngreso=e}},Ga={async GetListSubIngreso({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/listar_subingreso?&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_ingreso=${Ba.filtros.id_ingreso?Ba.filtros.id_ingreso:""}&code=${Ba.filtros.code?Ba.filtros.code:""}&description=${Ba.filtros.description?Ba.filtros.description:""}&status=${"null"==Ba.filtros.status?"":Ba.filtros.status}&calculoflag=${"null"==Ba.filtros.calculoflag?"":Ba.filtros.calculoflag}&mostrarflag=${"null"==Ba.filtros.mostrarflag?"":Ba.filtros.mostrarflag}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_SUBINGRESO",a.data):(t("SET_LIST_SUBINGRESO",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async getValidateCodeSubIngreso(){var t={method:"get",url:`https://api.agentedecargaonline.com/validate_code_subingreso?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&code=${Ba.model.code}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{let e=await r()(t);return e.data}catch(e){console.error(e)}},async setSubIngreso({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/insertar_subingreso",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:Ba.model};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async ActualizarSubIngreso({commit:t}){var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_subingreso",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:Ba.model};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}}};var Ha={namespace:!0,state:Ba,mutations:Ua,actions:Ga};let Ja={tipo:"filter",drawer:!1,lstSubGasto:[],filtros:{id:"",id_gasto:"",code:"",description:"",status:!0,id_branch:"",calculoflag:"null",mostrarflag:"null"},model:{id:"",id_gasto:"",code:"",description:"",status:!0,id_branch:"",calculoflag:!0,mostrarflag:!0}},Va={SET_LIST_SUBSUBGASTO(t,e){t.lstSubGasto=e}},za={async GetListSubGasto({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/listar_subgasto?&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_gasto=${Ja.filtros.id_gasto?Ja.filtros.id_gasto:""}&code=${Ja.filtros.code?Ja.filtros.code:""}&description=${Ja.filtros.description?Ja.filtros.description:""}&status=${"null"==Ja.filtros.status?"":Ja.filtros.status}&calculoflag=${"null"==Ja.filtros.calculoflag?"":Ja.filtros.calculoflag}&mostrarflag=${"null"==Ja.filtros.mostrarflag?"":Ja.filtros.mostrarflag}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_SUBSUBGASTO",a.data):(t("SET_LIST_SUBSUBGASTO",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async getValidateCodeSubGasto(){var t={method:"get",url:`https://api.agentedecargaonline.com/validate_code_subgasto?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&code=${Ja.model.code}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{let e=await r()(t);return e.data}catch(e){console.error(e)}},async setSubGasto({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/insertar_subgasto",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:Ja.model};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async ActualizarSubGasto({commit:t}){var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_subgasto",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:Ja.model};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}}};var qa={namespace:!0,state:Ja,mutations:Va,actions:za};let Ka={tipo:"filter",drawer:!1,lstItemServices:[],filtros:{id:"",id_groupservices:"",code:"",name:"",description:"",id_branch:"",status:1},model:{id:"",id_groupservices:"",code:"",name:"",description:"",id_branch:"",status:""}},Qa={SET_LIST_ITEM_SERVICES(t,e){t.lstItemServices=e}},Ya={async GetListItemServices({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/listar_itemservices?&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_groupservices=${Ka.filtros.id_groupservices?Ka.filtros.id_groupservices:""}&code=${Ka.filtros.code?Ka.filtros.code:""}&name=${Ka.filtros.name?Ka.filtros.name:""}&description=${Ka.filtros.description?Ka.filtros.description:""}&status=${"null"==Ka.filtros.status?"":Ka.filtros.status}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_ITEM_SERVICES",a.data):(t("SET_LIST_ITEM_SERVICES",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async setItemServices({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/insertar_itemservices",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:Ka.model};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async ActualizarItemServices({commit:t}){var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_itemservices",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:Ka.model};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}}};var Xa={namespace:!0,state:Ka,mutations:Qa,actions:Ya};let Za={tipo:"filter",drawer:!1,lstPosition:[],lstUsuarioNoAsignado:[],filtros:{id:"",id_pais:"",id_city:"",id_state:"",id_town:"",code:"",name:"",description:"",estado:!0},model:{id:"",code:"",name:"",description:"",estado:"",modules_position:[],button_position:[],user_position:[]}},Wa={SET_LIST_POSITION(t,e){t.lstPosition=e},SET_MODEL(t,e){t.model=e[0]},SET_USUARIO_NO_ASIGNADO(t,e){t.lstUsuarioNoAsignado=e}},to={async cargarPosition({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/cargar_posicion?&id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_POSITION",a.data):(t("SET_LIST_POSITION",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.estado&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async GetListPosition({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/listar_posicion?&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&code=${Za.filtros.code?Za.filtros.code:""}&name=${Za.filtros.name?Za.filtros.name:""}&description=${Za.filtros.description?Za.filtros.description:""}&estado=${"null"==Za.filtros.estado?"":Za.filtros.estado}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_POSITION",a.data):(t("SET_LIST_POSITION",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async verPosition({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/ver_posicion?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id=${Za.model.id}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_MODEL",a.data):(t("SET_MODEL",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async cargarUsuarioNoAsignadoPosicion({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/cargar_usuario_no_asignado_posicion?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id=${Za.model.id}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_USUARIO_NO_ASIGNADO",a.data):(t("SET_USUARIO_NO_ASIGNADO",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async setPosition({commit:t}){let e={id:Za.model.id,user_position:Za.model.user_position};var a={method:"put",url:"https://api.agentedecargaonline.com/insertar_actualizar_posicion",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};try{await r()(a).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(o){console.error(o)}},async ActualizarEstadoPosition({commit:t}){var e={method:"put",url:"https://api.agentedecargaonline.com/cambiar_estado_posicion",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:Za.model};try{await r()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje})})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}}};var eo={namespace:!0,state:Za,mutations:Wa,actions:to};const ao={list:[],loading:!1,record:{},maxCode:0},oo={SET_LOADING(t,e){t.loading=e},SET_LIST_COMENTARIOS_PREDEFINIDOS(t,e){t.list=e},SET_MAX_CODE(t,e){t.maxCode=e}},io={async fetchListadoComentariosPredefinidos({commit:t},e={status:1}){t("SET_LOADING",!0);var a={method:"get",url:`https://api.agentedecargaonline.com/listarComentariosPredefinidos?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&code=${e.code?e.code:""}&comentario=${e.comentario?e.comentario:""}&status=${0===e.status||1===e.status?e.status:""}`,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token);let o=a.estadoflag?a.data:[];t("SET_LIST_COMENTARIOS_PREDEFINIDOS",o),t("SET_LOADING",!1),a.estadoflag||C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async fetchMaxCodeListadoComentariosPredefinidos({commit:t},e={}){var a={method:"get",url:"https://api.agentedecargaonline.com/consultarMaxCodeComentariosPredefinidos?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag&&t("SET_MAX_CODE",a.data[0].code||0)}).catch(t=>{console.log("Error al obtener los datos:",t)})},async insertComentarioPredefinido({commit:t,dispatch:e},a){var o={method:"post",url:"https://api.agentedecargaonline.com/insertarComentarioPredefinido",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:a};await r()(o).then(t=>{const{data:a}=t;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje}),e("fetchListadoComentariosPredefinidos")}).catch(t=>{console.log("Error al obtener los datos:",t)})},async updateComentarioPredefinido({commit:t,dispatch:e},a){var o={method:"put",url:"https://api.agentedecargaonline.com/actualizarComentarioPredefinido",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:a};await r()(o).then(t=>{const{data:a}=t;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje}),e("fetchListadoComentariosPredefinidos")}).catch(t=>{console.log("Error al obtener los datos:",t)})},async deleteComentarioPredefinido({dispatch:t},e){var a={method:"post",url:"https://api.agentedecargaonline.com/eliminarComentarioPredefinido",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},data:e};await r()(a).then(e=>{console.log(e);let a=e.data;sessionStorage.setItem("auth-token",a.token),C.a.fire({icon:a.estadoflag?"success":"error",text:a.mensaje}),t("fetchListadoComentariosPredefinidos")}).catch(t=>{console.log("Error al obtener los datos:",t)})},async exportToExcelListadoComentarioPredefinidos(){let t={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Accept:"aplication/json","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token, Authorization, Accept,charset,boundary,Content-Length",responseType:"arraybuffer"},e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};await r.a.post("https://api.agentedecargaonline.com/exportarListadoComentariosPredefinidos",e,t).then(t=>{const{data:e}=t,a=window.URL.createObjectURL(new Blob([e])),o=document.createElement("a");o.href=a,o.setAttribute("download",`LISTADO DE COMENTARIOS PREDEFINIDOS DE ESTADO DEL EMBARQUE ${y()().format("DD-MM-YYYY hh:mm:ss")}.xlsx`),document.body.appendChild(o),o.click()}).catch(t=>{console.log("Error al obtener los datos:",t)})}};var so={namespace:!0,state:ao,mutations:oo,actions:io};const ro={config:!0,datoEmpresa:{id:"",id_document:"",document:"",trade_name:"",logo:"",id_pais:"",id_logo:"",address:"",tipoimpuesto:"",impuesto:0,usarclientes:!0,usaropadmin:!0},dataUsuario:{usuario:"",birthday:"",departamento:"",description:"",document:"",ic:"",id:"",id_branch:"",id_document:"",id_pais:"",id_sex:"",id_user:"",names:"",nombrecompleto:"",path:"",second_surname:"",surname:"",usuario:"",phone:"",email:""},lstProveedor:[],lstClientes:[],lstCostos:[],lstMultiplicador:[],listTipoCostos:[],configEmpresa:{correlativopricing:null,correlativomaster:null,correlativocge:null}},no={SET_LST_COSTOS(t,e){t.lstCostos=e},SET_MULTPLICADOR(t,e){t.lstMultiplicador=e},SET_TIPO_COSTOS(t,e){t.listTipoCostos=e}},lo={async actualizarDatoEmpresa(){let t={...ro.datoEmpresa};t.TipoImp=ro.datoEmpresa.tipoimpuesto;var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_datos_empresa_config",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:t};await r()(e).then(t=>{let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje,showCancelButton:!1,confirmButtonText:"Ok"})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async actualizarDatoAdministrador(){var t={method:"put",url:"https://api.agentedecargaonline.com/actualizar_datos_administrador_config",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:ro.dataUsuario};await r()(t).then(t=>{let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje,showCancelButton:!1,confirmButtonText:"Ok"})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async actualizarDatoAdministrador(){var t={method:"put",url:"https://api.agentedecargaonline.com/actualizar_datos_administrador_config",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:ro.dataUsuario};await r()(t).then(t=>{let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:e.estadoflag?"success":"error",text:e.mensaje,showCancelButton:!1,confirmButtonText:"Ok"})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async actualizarDatoCMProveedor({},t){var e={method:"post",url:"https://api.agentedecargaonline.com/actualizar_datos_cm_proveedor",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,lstProveedor:t}};await r()(e).then(t=>{let e=t.data;sessionStorage.setItem("auth-token",e.token)}).catch(t=>{console.log("Error al obtener los datos:",t)})},async actualizarDatoCMCliente({},t){var e={method:"post",url:"https://api.agentedecargaonline.com/actualizar_datos_cm_cliente",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,lstClientes:t}};await r()(e).then(t=>{let e=t.data;sessionStorage.setItem("auth-token",e.token)}).catch(t=>{console.log("Error al obtener los datos:",t)})},async obtenerConfigCostos({commit:t},e){var a={method:"get",url:`https://api.agentedecargaonline.com/obtener_config_costos?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_modality=${e.id_modality}&shipment=${e.shipment}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then(e=>{let a=e.data;sessionStorage.setItem("auth-token",a.token),t("SET_LST_COSTOS",e.data.data)}).catch(t=>{console.log("Error al obtener los datos:",t)})},async getMultiplicadorConfig({commit:t},e){var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={method:"get",url:`https://api.agentedecargaonline.com/cargar_multiplicador_config?id_shipment=${e.id_shipment}&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}`,headers:a};await r()(o).then((function(e){let a=[];e.data.data.forEach(t=>{a.push({id:t.id,value:t.id,code:t.code,text:t.name,valor:t.valor?t.valor:0})}),t("SET_MULTPLICADOR",a)})).catch((function(t){console.log(t)}))},async getTipoCostosConfig({commit:t},e){var a={method:"get",url:`https://api.agentedecargaonline.com/tipo_costo_x_embarque?id_shipment=${e.id_shipment}&id_modality=${e.id_modality}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){let a=e.data;a.estadoflag?t("SET_TIPO_COSTOS",a.data):(t("SET_TIPO_COSTOS",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async guardarCostos({commit:t},e){e.id_branch=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch;var a={method:"post",url:"https://api.agentedecargaonline.com/guardar_costos_config",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(t){t.data})).catch((function(t){console.log(t)}))},async OmitirConfiguracionCost({commit:t}){if(!JSON.parse(sessionStorage.getItem("dataUser")))return!1;let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"put",url:"https://api.agentedecargaonline.com/omitir_config_cost",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).catch((function(t){console.log(t)}))},async finalizarConfiguracion({commit:t}){if(!JSON.parse(sessionStorage.getItem("dataUser")))return!1;let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"put",url:"https://api.agentedecargaonline.com/finalizar_config",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).catch((function(t){console.log(t)}))},async GuardarConfiguracionEmpresa({commit:t}){let e={...ro.configEmpresa,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/guardar_existe_datos_config",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).catch((function(t){console.log(t)}))}};var co={namespace:!0,state:ro,mutations:no,actions:lo};const uo={listStatusHouse:[],orden:{}},po={SET_LIST_STATUS_HOUSE(t,e){e.map(t=>{t.verComentarios=!1}),t.listStatusHouse=e},SET_ORDEN_STATUS_HOUSE(t,e){t.orden=e}},mo={async getListStatusHouse({commit:t},e={}){e.id_branch=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch;var a={method:"get",url:"https://api.agentedecargaonline.com/listar_status_house",params:e,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data,o=a.estadoflag?a.data:[];t("SET_LIST_STATUS_HOUSE",o),a.estadoflag||C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async getObtenerOrdenStatusHouse({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/obtener_orden_status_house",params:e,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(a).then(e=>{let a=e.data,o=a.estadoflag?a.data:[];t("SET_ORDEN_STATUS_HOUSE",o[0])}).catch(t=>{console.log("Error al obtener los datos:",t)})},async GuardarStatusHouse({dispatch:t,commit:e},a){a.id_branch=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch;var o={method:"post",url:"https://api.agentedecargaonline.com/guardar_orden_statuscomentarios",data:a,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(o).then(e=>{let a=e.data;C.a.fire({icon:"success",text:a.mensaje}),t("getListStatusHouse",{})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async GuardarStatus({dispatch:t,commit:e},a){var o={method:"put",url:"https://api.agentedecargaonline.com/guardar_orden_status",data:{lstStatus:a},headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(o).then(e=>{let a=e.data;C.a.fire({icon:"success",text:a.mensaje}),t("getListStatusHouse",{})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async EliminarStatus({dispatch:t,commit:e},a){var o={method:"put",url:"https://api.agentedecargaonline.com/eliminar_status",data:a,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(o).then(e=>{let a=e.data;C.a.fire({icon:"success",text:a.mensaje}),t("getListStatusHouse",{})}).catch(t=>{console.log("Error al obtener los datos:",t)})},async EliminarComentario({dispatch:t,commit:e},a){var o={method:"put",url:"https://api.agentedecargaonline.com/eliminar_comentario",data:a,headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")}};await r()(o).then(e=>{let a=e.data;C.a.fire({icon:"success",text:a.mensaje}),t("getListStatusHouse",{})}).catch(t=>{console.log("Error al obtener los datos:",t)})}};var ho={namespaced:!0,state:uo,mutations:po,actions:mo};let _o={configAviso:{}},go={SET_CONFIG_AVISO(t,e){t.configAviso=e}},fo={async obtenerConfigAviso({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/get_ver_configaviso",params:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){let a=e.data;a.estadoflag&&(console.log(a.data[0]),t("SET_CONFIG_AVISO",a.data[0]))})).catch((function(t){console.log(t)}))},async actualizarConfigAviso({commit:t},e){var a={method:"PUT",url:"https://api.agentedecargaonline.com/actualizarConfigAviso",data:e,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(t){let e=t.data;e.estadoflag&&C.a.fire({icon:"success",text:e.mensaje})})).catch((function(t){console.log(t)}))}};var vo={namespace:!0,state:_o,mutations:go,actions:fo};let bo={lstBranch:[]},Co={SET_LST_BRANCH(t,e){t.lstBranch=e}},ko={async ListadoSucursal({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/listar_sucursal",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LST_BRANCH",a.data):(t("SET_LIST_CITY",[]),C.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.error(t)}))}catch(a){console.error(a)}},async inactivarSucursal({commit:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/inactivar_sucursal",data:{id:e},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};try{await r()(a).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),C.a.fire({icon:"401"==e.status?"error":"info",text:e.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==e.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})})).catch((function(t){console.error(t)}))}catch(o){console.error(o)}}};var So={namespace:!0,state:bo,mutations:Co,actions:ko};const yo={IdQuote:"",datosEmpresa:[],totalCosto:0,totalCostos:0,nro_quote:"",mensaje:"",actualizarComparativa:!1,filtro:{id_marketing:"",id_status:"",id_entities:"",id_modality:"",id_shipment:"",id_incoterm:"",fechainicio:"",fechafin:"",estado:"activo"},mostrarGuardarCostos:!1,index:0,cantidadOpcionesSeleccionadas:0,tab:1,page:1,llenadoCostos:!0,datosPrincipales:{id_percepcionaduana:"",id_marketing:"",id_status:"",id_vendedor:JSON.parse(sessionStorage.getItem("dataUser"))?JSON.parse(sessionStorage.getItem("dataUser"))[0].id:"",id_pricing:JSON.parse(sessionStorage.getItem("dataUser"))?JSON.parse(sessionStorage.getItem("dataUser"))[0].id:"",cif:"",contacto:"",descripcionMercancia:"",begEndList:"",ejecutivo_ventas:"",fecha_fin:"",fecha_inicio:"",fullflag:!1,ganancia:0,id:"",id_entitie:"",iddestino:"",idincoterms:"",idorigen:"",idsentido:"",idtipocarga:"",monto:"",nameStatusQuote:"",nombre:"",numerobultos:"",peso:"",volumen:"",quote:"",rangeDays:"",seguro:"",statusMain:"",statusQuote:"",telefono:"",proveedor:"",telefonoproveedor:"",tiempo_transito:"",direccionproveedor:"",containers:[],iddistrito:"",idprovincia:""},opcionCostos:[{nro_propuesta:1,date_end:"",tiempo_transito:0,listCostos:[],listImpuestos:[],listNotasQuote:[],selected:!1}],listPortEnd:[],listPortBegin:[],preServices:[],listServices:[],preCostos:[],listTipoCostos:[],namesection:[],listMultiplicador:[],listServices:[],copylistServices:[],listCostos:[],listModality:[],listShipment:[],listIncoterms:[],listQuotes:[],listQuotes2:[],llenadoCostos:!1,listNotasQuote:[],filtroCalls:{id_marketing:"",id_status:"",id_entities:"",id_modality:"",id_shipment:"",id_incoterm:"",fechainicio:"",fechafin:"",estado:"activo"},listIngresosInstructivoAprobar:[],listIngresosInstructivo:[],listCostosInstructivo:[],listImpuestosInstructivo:[],listInstructivo:[],listEjecutivo:[],totalVenta:0},Io={setTotalVenta(t,e){t.totalVenta=e},SET_LIST_EJECUTIVO(t,e){t.listEjecutivo=e},PRE_SERVICES(t,e){t.preServices=e},SET_TIPO_COSTOS(t,e){t.listTipoCostos=e,t.namesection=e},SET_MULTPLICADOR(t,e){t.listMultiplicador=e},SET_LIST_SERVICES(t,e){t.listServices=e,t.copylistServices=e},SET_LIST_COSTES(t,e){t.listCostos=e},PRE_COSTOS(t,e){t.preCostos=e},SET_LIST_MODALITY(t,e){t.listModality=e},SET_LIST_PORT_BEGIN(t,e){t.listPortBegin=e},SET_LIST_PORT_END(t,e){t.listPortEnd=e},SET_LIST_SHIPMENT(t,e){t.listShipment=e},SET_LIST_INCOTERMS(t,e){t.listIncoterms=e},SET_LIST_QUOTES(t,e){t.listQuotes=e},SET_LIST_QUOTES2(t,e){t.listQuotes2=e},SET_CARGAR_NOTAS_COTIZACION(t,e){t.listNotasQuote=e},setInstructivo(t,e){t.listInstructivo=e}},Po={async ListarMontosFinalesAduanaMONGODB({commit:t}){try{const e={method:"get",url:"https://api.agentedecargaonline.com/listar_montos_finales_aduana",params:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}},a=await r()(e),{estadoflag:o,token:i,data:s}=a.data;if(o){sessionStorage.setItem("auth-token",i);const e=s.map(t=>({...t,quote:t.expediente}));t("SET_LIST_QUOTES2",e)}}catch(e){console.error("Error al listar montos finales quote:",e)}},async GuardaCostosFinalesAduana({dispatch:t}){await t("generaInstructivoparaguardataAduana");let e=[];yo.listServices.forEach(t=>{e.push({name:t.service,status:1==t.status?"SI":"NO"})});let a=[...yo.listIngresosInstructivoAprobar[0].dataIngresos],o=[...yo.listIngresosInstructivoAprobar[0].dataCostos],i={id:yo.id,expediente:yo.listInstructivo[0].expediente,sentido:yo.listInstructivo[0].sentido,carga:yo.listInstructivo[0].carga,incoterms:yo.listInstructivo[0].incoterms,nombre:yo.datosPrincipales.nombre,direccion:yo.listInstructivo[0].direccion,telefono:yo.datosPrincipales.telefono,vendedor:yo.vendedor,proveedor:yo.listInstructivo[0].proveedor,origen:yo.listInstructivo[0].origen,destino:yo.listInstructivo[0].destino,fiscal:yo.listInstructivo[0].fiscal,ruc:yo.listInstructivo[0].ruc,listServiciosInstructivo:e,listIngresosInstructivo:a,listCostosInstructivo:o,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},s={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"};await r.a.post("https://api.agentedecargaonline.com/insert_monto_finales_aduana",i,s).then(t=>{t.data}).catch(t=>C.a.fire({icon:"error",title:"Ocurrió un error",text:t,showConfirmButton:!0}))},async getPersonalPricingAduana({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/get_personal_pricing?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("SET_LIST_EJECUTIVO",e.data.data)})).catch((function(t){console.log(t)}))},async aprobarCotizacionAduana({dispatch:t},e){var a={method:"put",url:"https://api.agentedecargaonline.com/aprobar_cotizacion_aduana",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then(async t=>{let e=t.data;e.data[0].nro_master,yo.datosPrincipales.nombre;C.a.fire({icon:1==e.estadoflag?"success":"error",title:"Aviso",text:t.data.mensaje,timerProgressBar:!0,allowOutsideClick:!1,confirmButtonText:"Ir al control de gastos",denyButtonText:"Cerrar",showCancelButton:!1,showConfirmButton:!0,showDenyButton:!0,confirmButtonColor:"#004D40",denyButtonColor:"#DD2C00"}).then(t=>{t.isConfirmed&&n["a"].push({name:"editControlGasto",params:{id:e.data[0].id_master,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}}),t.isDenied&&window.location.reload()})})},async getServicesAduana({commit:t}){let e={method:"get",url:"https://api.agentedecargaonline.com/obtenerListadoServiciosAduanaQuote",params:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then(e=>{let a=e.data;a.estadoflag&&(sessionStorage.setItem("auth-token",a.token),t("PRE_SERVICES",a.data))})},async cargarListadoQuoteAduana({commit:t}){let e={method:"get",url:"https://api.agentedecargaonline.com/cargar__quote_aduana",params:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then(e=>{let a=e.data;a.estadoflag&&(sessionStorage.setItem("auth-token",a.token),t("SET_LIST_QUOTES2",a.data))})},async getCotizacionUnificar({commit:t},e){let a={method:"get",url:"https://api.agentedecargaonline.com/obtener_cotizacion_unificar",params:{id:e},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then(e=>{let a=e.data;a.estadoflag?(sessionStorage.setItem("auth-token",a.token),t("SET_LIST_QUOTES",a.data)):t("SET_LIST_QUOTES",[])})},async getAduanaUnificar({commit:t},e){let a={method:"get",url:"https://api.agentedecargaonline.com/obtener_aduana_unificar",params:{id:e},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then(e=>{let a=e.data;a.estadoflag?(sessionStorage.setItem("auth-token",a.token),t("SET_LIST_QUOTES",a.data)):t("SET_LIST_QUOTES",[])})},async getItemsServices({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getItemsServices",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,id_incoterms:yo.datosPrincipales.idincoterms,id_modality:yo.datosPrincipales.idsentido,id_shipment:yo.datosPrincipales.idtipocarga.id?yo.datosPrincipales.idtipocarga.id:yo.datosPrincipales.idtipocarga}};await r()(e).then((function(e){let a=e.data;a.data?t("SET_LIST_SERVICES",a.data):t("SET_LIST_SERVICES",[])})).catch((function(t){console.log(t)}))},async obtenerCostosAduana({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"};let a={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var o={method:"get",url:"https://api.agentedecargaonline.com/obtener_costos_pricing",headers:e,params:a};await r()(o).then((function(e){t("PRE_COSTOS",e.data.data)}))},async getMultiplicadorAduana({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={id_shipment:yo.datosPrincipales.idtipocarga.id?yo.datosPrincipales.idtipocarga.id:yo.datosPrincipales.idtipocarga,containers:(yo.datosPrincipales.containers,yo.datosPrincipales.containers),id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},o={method:"post",url:"https://api.agentedecargaonline.com/getMultiplicador",data:a,headers:e};await r()(o).then((function(e){let a=[];e.data.data.forEach(t=>{a.push({id:t.id,value:t.id,code:t.code,text:t.name,valor:t.valor?t.valor:0})}),t("SET_MULTPLICADOR",a)})).catch((function(t){console.log(t)}))},async getTipoCostosAduana({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/tipo_costo_x_embarque?id_shipment=${yo.datosPrincipales.idtipocarga.id?yo.datosPrincipales.idtipocarga.id:yo.datosPrincipales.idtipocarga}&id_modality=${yo.datosPrincipales.idsentido}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){let a=e.data;a.estadoflag?t("SET_TIPO_COSTOS",a.data):(t("SET_TIPO_COSTOS",[]),C.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},async predataAduana(t,{tipo:e=""}){return new Promise(async(t,a)=>{JSON.parse(sessionStorage.getItem("iso_pais"));let o=yo.namesection.map(t=>({name:t.name,codigo:t.codigo})),i=yo.listModality.some(t=>t.id==yo.datosPrincipales.idsentido&&"I"==t.code),s=0,r=[],n=[],l=[],c=[],d=[],u=[],p=[],m=[],h=[],_=[],g=0,f=[],v=[],b=[],C=[],S=[],y=[],I=[],P=0,x=0,T=0,$=0,E=0,w=0;yo.datosPrincipales.containers.forEach(t=>{_.push({name:t.description,valor:t.cantidad})}),yo.listServices.forEach(t=>{1==t.status&&u.push({name:t.service}),1!=t.status&&p.push({name:t.service})}),yo.listServices.forEach(t=>{"OR"==t.codebegend&&n.push({name:t.service,estado:1==t.status||1==t.status?"SI":"NO"}),"FL"==t.codebegend&&l.push({name:t.service,estado:1==t.status||1==t.status?"SI":"NO"}),"DE"==t.codebegend&&c.push({name:t.service,estado:1==t.status||1==t.status?"SI":"NO"}),"OP"==t.codebegend&&d.push({name:t.service,estado:1==t.status||1==t.status?"SI":"NO"})}),yo.opcionCostos.filter(t=>t.selected).forEach(t=>{setTimeout(async()=>{h=[],r=[],v=[],b=[],C=[],S=[],y=[],I=[],f=[],P=0,x=0,T=0,$=0,E=0,w=0,s=0,g=await xo(t.listCostos);let a=0;if(t.listNotasQuote.filter(t=>1==t.estado).forEach(t=>{h.push({name:t.descripcion})}),yo.listServices.some(t=>15==t.code_service&&1==t.status)){let e=["05","06","07","08","09","10","11","12"];t.listImpuestos.filter(t=>e.includes(t.codigo)).forEach(e=>{r.push({type:e.codigo,name:e.descripcion,percentage:e.codigo01,valor:k["a"].methods.calcularImpuestos({impuestos:t.listImpuestos,item:e,totalFlete:g,datosPrincipales:yo.datosPrincipales})}),s+=parseFloat(k["a"].methods.calcularImpuestos({impuestos:t.listImpuestos,item:e,totalFlete:g,datosPrincipales:yo.datosPrincipales}))})}let o=t.listCostos.some(t=>1==t.esfleteflag&&1==t.status&&1==t.esventaflag),n=t.listCostos.some(t=>1==t.esorigenflag&&1==t.status&&1==t.esventaflag),l=t.listCostos.some(t=>1==t.eslocalflag&&1==t.status&&1==t.esventaflag),c=t.listCostos.some(t=>1==t.esaduanaflag&&1==t.status&&1==t.esventaflag),d=t.listCostos.some(t=>1==t.esalmacenflag&&1==t.status&&1==t.esventaflag),u=t.listCostos.some(t=>1==t.esgastostercerosflag&&1==t.status&&1==t.esventaflag);"AGRUPADO"==e&&(t.listCostos.filter(t=>1==t.status&&1==t.esventaflag).forEach(t=>{1==t.esfleteflag&&(v.push({name:t.nameservice,valor:""}),yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?P+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):P+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esorigenflag&&(b.push({name:t.nameservice,valor:""}),yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?x+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):x+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.eslocalflag&&(C.push({name:t.nameservice,valor:""}),5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?T+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):T+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esaduanaflag&&(S.push({name:t.nameservice,valor:""}),5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?$+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):$+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esalmacenflag&&(y.push({name:t.nameservice,valor:""}),5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?E+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):E+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esgastostercerosflag&&(I.push({name:t.nameservice,valor:""}),5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?w+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):w+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),1==o&&i&&t.listCostos.filter(t=>1==t.status&&1==t.esfleteflag&&1==t.esventaflag).forEach(t=>{f.filter(e=>e.name==t.nameservice)&&f.push({name:t.nameservice})}),1==n&&t.listCostos.filter(t=>1==t.status&&1==t.esorigenflag&&1==t.esventaflag).forEach(t=>{f.filter(e=>e.name==t.nameservice)&&f.push({name:t.nameservice})}),1==l&&t.listCostos.filter(t=>1==t.status&&1==t.eslocalflag&&1==t.esventaflag).forEach(t=>{f.filter(e=>e.name==t.nameservice)&&f.push({name:t.nameservice})}),1==c&&t.listCostos.filter(t=>1==t.status&&1==t.esaduanaflag&&1==t.esventaflag).forEach(t=>{f.filter(e=>e.name==t.nameservice)&&f.push({name:t.nameservice})}),1!=o||i||t.listCostos.filter(t=>1==t.status&&1==t.esfleteflag&&1==t.esventaflag).forEach(t=>{f.filter(e=>e.name==t.nameservice)&&f.push({name:t.nameservice})}),1==d&&t.listCostos.filter(t=>1==t.status&&1==t.esalmacenflag&&1==t.esventaflag).forEach(t=>{f.filter(e=>e.name==t.nameservice)&&f.push({name:t.nameservice})}),1==u&&t.listCostos.filter(t=>1==t.status&&1==t.esgastostercerosflag&&1==t.esventaflag).forEach(t=>{f.filter(e=>e.name==t.nameservice)&&f.push({name:t.nameservice})})),"DETALLE"==e&&t.listCostos.filter(t=>1==t.status&&1==t.esventaflag).forEach(t=>{1==t.esfleteflag&&(yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(v.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount))}),P+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount)):(v.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),P+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esorigenflag&&(yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(b.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount))}),x+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount)):(b.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),x+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.eslocalflag&&(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(C.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount))}),T+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount)):(C.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),T+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esaduanaflag&&(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(S.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount))}),$+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount)):(S.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),$+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esalmacenflag&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?(y.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount))}),E+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount)):(y.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),E+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esgastostercerosflag&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?(I.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount))}),w+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount)):(I.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),w+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)))}),"TOTAL"==e&&(console.log("----------"),t.listCostos.filter(t=>1==t.status&&1==t.esventaflag).forEach(t=>{1==t.esfleteflag&&(v.push({name:t.nameservice,valor:""}),yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?P+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):P+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esorigenflag&&(b.push({name:t.nameservice,valor:""}),yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?x+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):x+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.eslocalflag&&(C.push({name:t.nameservice,valor:""}),yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?T+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):T+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esaduanaflag&&(S.push({name:t.nameservice,valor:""}),yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?$+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):$+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esalmacenflag&&(y.push({name:t.nameservice,valor:""}),5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?E+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):E+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esgastostercerosflag&&(I.push({name:t.nameservice,valor:""}),5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?w+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):w+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,g,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))})),a=(1==o?P:0)+(1==n?x:0)+(1==l?T:0)+(1==c?$:0)+(1==d?E:0)+(1==u?w:0);let p=0;p=i?(parseFloat(1==l?T:0)+parseFloat(1==c?$:0)+parseFloat(1==d?E:0)+parseFloat(1==u?w:0))*R.state.impuesto.impuesto/100:(parseFloat(1==n?x:0)+parseFloat(1==l?T:0)+parseFloat(1==c?$:0)+parseFloat(1==u?w:0))*R.state.impuesto.impuesto/100;let _=k["a"].methods.currencyFormat(parseFloat(a)+parseFloat(s)+parseFloat(p));m.push({nro_propuesta:t.nro_propuesta,importante:h,impuesto:r,datosFlete:1==o?v:[],datosOrigen:1==n?b:[],datosLocales:1==l?C:[],datosAduanas:1==c?S:[],datosAlmacenes:1==d?y:[],datosGastosTerceros:1==u?I:[],totalImpuestosIGV:k["a"].methods.currencyFormat(p),totalImpuesto:k["a"].methods.currencyFormat(parseFloat(s).toFixed(2)),total:_,totalFlete:1==o?k["a"].methods.currencyFormat(P):k["a"].methods.currencyFormat(0),totalOrigen:1==n?k["a"].methods.currencyFormat(x):k["a"].methods.currencyFormat(0),totalLocales:1==l?k["a"].methods.currencyFormat(T):k["a"].methods.currencyFormat(0),totalAduanas:1==c?k["a"].methods.currencyFormat($):k["a"].methods.currencyFormat(0),totalAlmacenes:1==d?k["a"].methods.currencyFormat(E):k["a"].methods.currencyFormat(0),totalGastosTercero:1==u?k["a"].methods.currencyFormat(w):k["a"].methods.currencyFormat(0),conceptos:f,totalServicios:k["a"].methods.currencyFormat(a),listServices:yo.listServices,listNotasQuote:t.listNotasQuote})},10)});let M={TipoCostos:o,isImport:yo.listModality.some(t=>t.id==yo.datosPrincipales.idsentido&&"I"==t.code),id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,code:"########",business_name:yo.datosEmpresa[0].business_name?yo.datosEmpresa[0].business_name:"",address:yo.datosEmpresa[0].address,iso:yo.datosEmpresa[0].iso_pais,iso_pais:yo.datosEmpresa[0].iso_pais,pais:yo.datosEmpresa[0].pais,document:yo.datosEmpresa[0].document,phone:yo.datosEmpresa[0].phone,tipo:e,cliente:yo.datosPrincipales.nombre,slogancliente:yo.datosPrincipales.slogan?yo.datosPrincipales.slogan:"",fechafin:yo.datosPrincipales.fecha_fin,tiempoTransito:yo.datosPrincipales.tiempo_transito,origen:yo.listPortBegin.filter(t=>t.id_port==yo.datosPrincipales.idorigen).length>0?yo.listPortBegin.filter(t=>t.id_port==yo.datosPrincipales.idorigen)[0].name:"",destino:yo.listPortEnd.filter(t=>t.id_port==yo.datosPrincipales.iddestino).length>0?yo.listPortEnd.filter(t=>t.id_port==yo.datosPrincipales.iddestino)[0].name:"",flete:n,almacen:d,aduana:c,local:l,incluye:u,noincluye:p,importante:h,contenedor:_,conceptos:f,numerobultos:yo.datosPrincipales.numerobultos,peso:yo.datosPrincipales.peso,volumen:yo.datosPrincipales.volumen,sentido:yo.listModality.filter(t=>t.id==yo.datosPrincipales.idsentido)[0].name,embarque:yo.listShipment.filter(t=>t.id==(yo.datosPrincipales.idtipocarga.id?yo.datosPrincipales.idtipocarga.id:yo.datosPrincipales.idtipocarga))[0].embarque,icoterm:yo.listIncoterms.filter(t=>t.id==yo.datosPrincipales.idincoterms)[0].name,OpcionesSelecciondas:m};setTimeout(()=>{t(M)},1e3)})},async getModalityAduana({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getModality",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}};await r()(e).then((function(e){t("SET_LIST_MODALITY",e.data.data)})).catch((function(t){console.log(t)}))},async obtenerDatosEmpresaAduana(){var t={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"};let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/getBranch/"+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:t,data:e};await r()(a).then(t=>{let e=t.data.data;yo.datosEmpresa=e})},async getPortBeginAduana({commit:t},{id_transport:e=0,id:a=null,search:o=null}){var i={method:"post",url:"https://api.agentedecargaonline.com/getPortBegin",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,id_transport:e,id:a,search:o}};await r()(i).then((function(e){t("SET_LIST_PORT_BEGIN",e.data.data)})).catch((function(t){console.log(t)}))},async getPortEndAduana({commit:t},{id_transport:e=0,id:a=null,search:o=null}){var i={method:"post",url:"https://api.agentedecargaonline.com/getPortEnd",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,id_transport:e,id:a,search:o}};await r()(i).then((function(e){t("SET_LIST_PORT_END",e.data.data)})).catch((function(t){console.log(t)}))},async getShipmentAduana({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getShipment",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}};await r()(e).then((function(e){t("SET_LIST_SHIPMENT",e.data.data)})).catch((function(t){console.log(t)}))},async getIncotermsAduana({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getIncoterms",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}};await r()(e).then((function(e){t("SET_LIST_INCOTERMS",e.data.data)})).catch((function(t){console.log(t)}))},async registrarAduana(t,{fullflag:e=!0}){let a=yo.listServices.filter(t=>"15"==t.code_service&&1==t.status),o=yo.listShipment.some(t=>t.id==(yo.datosPrincipales.idtipocarga.id?yo.datosPrincipales.idtipocarga.id:yo.datosPrincipales.idtipocarga)&&"FCL"==t.code),i=[];await yo.opcionCostos.forEach(async t=>{let e=k["a"].methods.formatearCostos({costos:t.listCostos,services:yo.listServices,multiplicadores:yo.listMultiplicador,datosPrincipales:yo.datosPrincipales,totalDeFlete:yo.totalFlete}),o=k["a"].methods.formatearNotas({notas:t.listNotasQuote.filter(t=>1==t.estado)}),s=a.length>0?k["a"].methods.formatImp({impuestos:t.listImpuestos,datosPrincipales:yo.datosPrincipales,totalFlete:yo.totalFlete}):[];i.push({nro_propuesta:t.nro_propuesta,date_end:t.date_end,tiempo_transito:t.tiempo_transito,listCostos:e,listImpuestos:s,listNotasQuote:o,selected:t.selected})});let s={tiporeporte:yo.tiporeporte?yo.tiporeporte:"TOTAL",id_percepcionaduana:yo.datosPrincipales.id_percepcionaduana,fullflag:e,id_marketing:yo.datosPrincipales.id_marketing,statusquote:yo.datosPrincipales.id_status,idVendedor:yo.datosPrincipales.id_vendedor,idPricing:yo.datosPrincipales.id_pricing,id_entitie:yo.datosPrincipales.id_entitie,idsentido:yo.datosPrincipales.idsentido,idtipocarga:yo.datosPrincipales.idtipocarga.id?yo.datosPrincipales.idtipocarga.id:yo.datosPrincipales.idtipocarga,idincoterms:yo.datosPrincipales.idincoterms,proveedor:yo.datosPrincipales.proveedor,telefonoproveedor:yo.datosPrincipales.telefonoproveedor,direccionproveedor:yo.datosPrincipales.direccionproveedor,idorigen:yo.datosPrincipales.idorigen,iddestino:yo.datosPrincipales.iddestino,numerobultos:o?0:yo.datosPrincipales.numerobultos,peso:o?0:yo.datosPrincipales.peso,volumen:o?0:yo.datosPrincipales.volumen,contenedores:o?k["a"].methods.formatearContainer({containers:yo.datosPrincipales.containers}):[],serviciocotizacion:k["a"].methods.formatearServicios({services:yo.listServices}),monto:yo.datosPrincipales.amount,iddistrito:yo.datosPrincipales.iddistrito,idprovincia:yo.datosPrincipales.idprovincia,descripcionMercancia:yo.datosPrincipales.descripcioncarga?yo.datosPrincipales.descripcioncarga:"",ventascasillerodetalles:[],opcionCostos:i,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},n={method:"post",url:"https://api.agentedecargaonline.com/insert_aduana  ",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:s};await r()(n).then(async t=>{yo.id=t.data.insertId,yo.nro_quote=t.data.nro_quote,yo.mensaje=t.data.msg,yo.tiporeporte=""})},async getListQuoteAduana({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/listar_aduana?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_marketing=${yo.filtro.id_marketing?yo.filtro.id_marketing:""}&id_status=${yo.filtro.id_status?yo.filtro.id_status:""}&id_entities=${yo.filtro.id_entities?yo.filtro.id_entities:""}&id_modality=${yo.filtro.id_modality?yo.filtro.id_modality:""}&id_shipment=${yo.filtro.id_shipment?yo.filtro.id_shipment:""}&id_incoterm=${yo.filtro.id_incoterm?yo.filtro.id_incoterm:""}&fechainicio=${yo.filtro.fechainicio?yo.filtro.fechainicio:""}&fechafin=${yo.filtro.fechafin?yo.filtro.fechafin:""}&estado=${"activo"==yo.filtro.estado?1:"eliminado"==yo.filtro.estado?0:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}};await r()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?(a=a.data.map((t,e)=>({...t,index:e})),t("SET_LIST_QUOTES",a)):(t("SET_LIST_QUOTES",[]),C.a.fire({icon:"error",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.log(t)}))},async getAdunaVer(t,{id:e}){let a={method:"get",url:"https://api.agentedecargaonline.com/ver_aduana?id="+e,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then(async t=>{let e=t.data.data[0];yo.copy_quote=e,yo.id=e.id,yo.nro_quote=e.quote,yo.datosPrincipales.id_marketing=e.id_marketing,yo.datosPrincipales.id_status=e.id_status,yo.datosPrincipales.id_vendedor=e.id_vendedor,yo.datosPrincipales.id_pricing=e.id_pricing,yo.datosPrincipales.nombre=e.nombre,yo.datosPrincipales.id_entitie=e.id_entitie,yo.datosPrincipales.telefono=e.telefono,yo.datosPrincipales.idsentido=e.idsentido,yo.datosPrincipales.idtipocarga=e.idtipocarga,yo.datosPrincipales.idincoterms=e.idincoterms,yo.datosPrincipales.proveedor=e.proveedor,yo.datosPrincipales.telefonoproveedor=e.telefonoproveedor,yo.datosPrincipales.direccionproveedor=e.direccionproveedor,yo.datosPrincipales.id_status=e.statusquote,yo.datosPrincipales.descripcioncarga=e.descripcionmercancia,yo.datosPrincipales.fecha_inicio=e.fecha_inicio,yo.datosPrincipales.iddestino=e.iddestino,yo.datosPrincipales.idorigen=e.idorigen,yo.datosPrincipales.numerobultos=e.numerobultos,yo.datosPrincipales.peso=e.peso,yo.datosPrincipales.volumen=e.volumen,yo.listServices=e.servicios,yo.copylistServices=e.servicios,yo.datosPrincipales.amount=e.monto,yo.opcionCostos=[],e.opcioncostos.forEach(t=>{yo.opcionCostos.push({id:t.id,nro_propuesta:t.nro_propuesta,date_end:t.date_end,tiempo_transito:t.tiempo_transito,listCostos:t.listcostos,listImpuestos:t.listimpuestos,listNotasQuote:t.listnotasquote,selected:t.selected})}),yo.datosPrincipales.containers=e.containers,yo.aprobadoflag=e.aprobadoflag,yo.fullflag=e.fullflag,yo.tiporeporte=e.tiporeporte,yo.datosPrincipales.id_percepcionaduana=e.id_percepcionaduana,yo.mostrarBtnActualizarFlag=!(0==e.statusmain||1==e.aprobadoflag)})},async actualizarQuoteAduana(){let t=yo.listServices.filter(t=>"15"==t.code_service&&1==t.status),e=[];await yo.opcionCostos.forEach(async a=>{let o=k["a"].methods.formatearCostosEditar({costos:a.listCostos,services:yo.listServices,multiplicadores:yo.listMultiplicador,datosPrincipales:yo.datosPrincipales,totalDeFlete:yo.totalFlete}),i=k["a"].methods.formatearNotas({notas:a.listNotasQuote.filter(t=>1==t.estado)}),s=t.length>0?k["a"].methods.formatImp({impuestos:a.listImpuestos,datosPrincipales:yo.datosPrincipales,totalFlete:yo.totalFlete}):[];e.push({id:a.id,nro_propuesta:a.nro_propuesta,date_end:a.date_end,tiempo_transito:a.tiempo_transito,listCostos:o,listImpuestos:s,listNotasQuote:i,selected:a.selected})});let a={tiporeporte:yo.tiporeporte?yo.tiporeporte:"TOTAL",id_percepcionaduana:yo.datosPrincipales.id_percepcionaduana,id:yo.id,id_quote:yo.id,fullflag:!0,id_marketing:yo.datosPrincipales.id_marketing,statusquote:yo.datosPrincipales.id_status,idVendedor:yo.datosPrincipales.id_vendedor,idPricing:yo.datosPrincipales.id_pricing,id_entitie:yo.datosPrincipales.id_entitie,idsentido:yo.datosPrincipales.idsentido,idtipocarga:yo.datosPrincipales.idtipocarga.id?yo.datosPrincipales.idtipocarga.id:yo.datosPrincipales.idtipocarga,idincoterms:yo.datosPrincipales.idincoterms,proveedor:yo.datosPrincipales.proveedor,telefonoproveedor:yo.datosPrincipales.telefonoproveedor,direccionproveedor:yo.datosPrincipales.direccionproveedor,idorigen:yo.datosPrincipales.idorigen,iddestino:yo.datosPrincipales.iddestino,numerobultos:yo.datosPrincipales.numerobultos,peso:yo.datosPrincipales.peso,volumen:yo.datosPrincipales.volumen,contenedores:k["a"].methods.formatearContainer({containers:yo.datosPrincipales.containers}),serviciocotizacion:k["a"].methods.formatearServicios({services:yo.listServices}),monto:yo.datosPrincipales.amount,iddistrito:yo.datosPrincipales.iddistrito,idprovincia:yo.datosPrincipales.idprovincia,descripcionMercancia:yo.datosPrincipales.descripcioncarga?yo.datosPrincipales.descripcioncarga:"",opcionCostos:e},o={method:"put",url:"https://api.agentedecargaonline.com/actualizar_aduana",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await r()(o).then(async t=>{let e=t.data;C.a.fire({icon:"info",text:e.mensaje})})},async getCargarMasterDetalleNotasCotizacionAduana({commit:t}){var e={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},a={method:"post",url:"https://api.agentedecargaonline.com/cargar_master_detalle_notas_cotizacion?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:e};r()(a).then(e=>{let a=e.data;1==a.estadoflag?t("SET_CARGAR_NOTAS_COTIZACION",e.data.data):(C.a.fire({icon:"error",text:a.mensaje}),t("SET_CARGAR_NOTAS_COTIZACION",[]))})},async obtenerDatosEmpresaAduana(){var t={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"};let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/getBranch/"+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:t,data:e};await r()(a).then(t=>{let e=t.data.data;yo.datosEmpresa=e})},async unificarQuoteAduana({},t){let e={method:"post",url:"https://api.agentedecargaonline.com/aduana_unificar",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:t};await r()(e).then(t=>{yo.IdQuote=t.data.insertId,yo.nro_quote=t.data.nro_quote,yo.mensaje=t.data.msg,yo.tiporeporte=""})},async actualizarAduanaRecibidoEnviado(t,e){var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={method:"put",url:"https://api.agentedecargaonline.com/update_aduana_recibido_enviado",headers:a,data:e};r()(o).then(t=>{let e=t.data;C.a.fire({icon:1==e.estadoflag?"info":"error",text:e.mensaje})})},async guardarNotaAduana(t,e){var a={method:"post",url:"https://api.agentedecargaonline.com/set_calls_aduana",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).catch((function(t){console.log(t)}))},async getQuoteCallAduana({commit:t},e){var a={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,id_estado:e.id_estado,id_sentido:e.id_sentido,id_carga:e.id_carga,id_incoterms:e.id_incoterms,desde:e.desde,hasta:e.hasta};let o={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"};var i={method:"get",url:`https://api.agentedecargaonline.com/list_calls_aduana?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_marketing=${yo.filtroCalls.id_marketing?yo.filtroCalls.id_marketing:""}&id_status=${yo.filtroCalls.id_status?yo.filtroCalls.id_status:""}&id_entities=${yo.filtroCalls.id_entities?yo.filtroCalls.id_entities:""}&id_modality=${yo.filtroCalls.id_modality?yo.filtroCalls.id_modality:""}&id_shipment=${yo.filtroCalls.id_shipment?yo.filtroCalls.id_shipment:""}&id_incoterm=${yo.filtroCalls.id_incoterm?yo.filtroCalls.id_incoterm:""}&fechainicio=${yo.filtroCalls.fechainicio?yo.filtroCalls.fechainicio:""}&fechafin=${yo.filtroCalls.fechafin?yo.filtroCalls.fechafin:""}&estado=${"string"===typeof yo.filtroCalls.estado?"activo"==yo.filtroCalls.estado?1:0:""}`,headers:o,data:a};await r()(i).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("SET_LIST_CALLS",a.data):(t("SET_LIST_CALLS",[]),C.a.fire({icon:"error",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.log(t)}))},async generarReporteAduana(t,{tipo:e="",nro_propuesta:a=0}){let o=yo.opcionCostos.filter(t=>t.nro_propuesta==a)[0],i=0,s=(JSON.parse(sessionStorage.getItem("iso_pais")),yo.namesection.map(t=>({name:t.name,codigo:t.codigo}))),n=yo.listModality.some(t=>t.id==yo.datosPrincipales.idsentido&&"I"==t.code),l=0,c=[],d=[],u=[],p=[],m=[],h=[],_=[],g=[],f=[],v=[],b=[],S=[],y=[],I=[],P=[],x=[],T=0,$=0,E=0,w=0,M=0,O=0,F=o.listCostos.some(t=>1==t.esfleteflag&&1==t.status&&1==t.esventaflag),A=o.listCostos.some(t=>1==t.esorigenflag&&1==t.status&&1==t.esventaflag),N=o.listCostos.some(t=>1==t.eslocalflag&&1==t.status&&1==t.esventaflag),D=o.listCostos.some(t=>1==t.esaduanaflag&&1==t.status&&1==t.esventaflag),L=o.listCostos.some(t=>1==t.esalmacenflag&&1==t.status&&1==t.esventaflag),j=o.listCostos.some(t=>1==t.esgastostercerosflag&&1==t.status&&1==t.esventaflag);yo.datosPrincipales.containers.forEach(t=>{f.push({name:t.description,valor:t.cantidad})}),yo.listServices.forEach(t=>{1==t.status&&h.push({name:t.service}),1!=t.status&&_.push({name:t.service})}),o.listNotasQuote.filter(t=>1==t.estado&&1==t.statusincluye).forEach(t=>{h.push({name:t.descripcion})}),o.listNotasQuote.filter(t=>1==t.estado&&1==t.statusnoincluye).forEach(t=>{_.push({name:t.descripcion})});o.listCostos.some(t=>15==t.code_cost&&1==t.status&&1==t.esventaflag);if(yo.listServices.forEach(t=>{"OR"==t.codebegend&&d.push({name:t.service,estado:1==t.status||1==t.status?"SI":"NO"}),"FL"==t.codebegend&&u.push({name:t.service,estado:1==t.status||1==t.status?"SI":"NO"}),"DE"==t.codebegend&&p.push({name:t.service,estado:1==t.status||1==t.status?"SI":"NO"}),"OP"==t.codebegend&&m.push({name:t.service,estado:1==t.status||1==t.status?"SI":"NO"})}),o.listNotasQuote.filter(t=>1==t.estado&&!t.statusincluye&&!t.statusnoincluye).forEach(t=>{g.push({name:t.descripcion})}),i=await xo(o.listCostos),yo.listServices.some(t=>15==t.code_service&&1==t.status)){let t=["05","06","07","08","09","10","11","12"];o.listImpuestos.filter(e=>t.includes(e.codigo)).forEach(t=>{c.push({type:t.codigo,name:t.descripcion,percentage:t.codigo01,valor:k["a"].methods.calcularImpuestos({impuestos:o.listImpuestos,item:t,totalFlete:i,datosPrincipales:yo.datosPrincipales})}),l+=parseFloat(k["a"].methods.calcularImpuestos({impuestos:o.listImpuestos,item:t,totalFlete:i,datosPrincipales:yo.datosPrincipales}))})}"AGRUPADO"==e&&(o.listCostos.filter(t=>1==t.status&&1==t.esventaflag).forEach(t=>{1==t.esfleteflag&&(b.push({name:t.nameservice,valor:""}),yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?T+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):T+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esorigenflag&&(S.push({name:t.nameservice,valor:""}),yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?$+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):$+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.eslocalflag&&(y.push({name:t.nameservice,valor:""}),5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?E+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):E+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esaduanaflag&&(I.push({name:t.nameservice,valor:""}),5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?w+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):w+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esalmacenflag&&(P.push({name:t.nameservice,valor:""}),5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?M+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):M+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esgastostercerosflag&&(x.push({name:t.nameservice,valor:""}),5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?O+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):O+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),1==F&&n&&o.listCostos.filter(t=>1==t.status&&1==t.esfleteflag&&1==t.esventaflag).forEach(t=>{v.filter(e=>e.name==t.nameservice)&&v.push({name:t.nameservice})}),1==A&&o.listCostos.filter(t=>1==t.status&&1==t.esorigenflag&&1==t.esventaflag).forEach(t=>{v.filter(e=>e.name==t.nameservice)&&v.push({name:t.nameservice})}),1==N&&o.listCostos.filter(t=>1==t.status&&1==t.eslocalflag&&1==t.esventaflag).forEach(t=>{v.filter(e=>e.name==t.nameservice)&&v.push({name:t.nameservice})}),1==D&&o.listCostos.filter(t=>1==t.status&&1==t.esaduanaflag&&1==t.esventaflag).forEach(t=>{v.filter(e=>e.name==t.nameservice)&&v.push({name:t.nameservice})}),1!=F||n||o.listCostos.filter(t=>1==t.status&&1==t.esfleteflag&&1==t.esventaflag).forEach(t=>{v.filter(e=>e.name==t.nameservice)&&v.push({name:t.nameservice})}),1==L&&o.listCostos.filter(t=>1==t.status&&1==t.esalmacenflag&&1==t.esventaflag).forEach(t=>{v.filter(e=>e.name==t.nameservice)&&v.push({name:t.nameservice})}),1==j&&o.listCostos.filter(t=>1==t.status&&1==t.esgastostercerosflag&&1==t.esventaflag).forEach(t=>{v.filter(e=>e.name==t.nameservice)&&v.push({name:t.nameservice})})),"DETALLE"==e&&o.listCostos.filter(t=>1==t.status&&1==t.esventaflag).forEach(t=>{1==t.esfleteflag&&(yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(b.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount))}),T+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount)):(b.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),T+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esorigenflag&&(yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(S.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount))}),$+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount)):(S.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),$+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.eslocalflag&&(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(y.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount))}),E+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount)):(y.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),E+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esaduanaflag&&(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(I.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount))}),w+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount)):(I.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),w+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esalmacenflag&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?(P.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount))}),M+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount)):(P.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),M+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esgastostercerosflag&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?(x.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount))}),O+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount)):(x.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),O+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)))}),"TOTAL"==e&&o.listCostos.filter(t=>1==t.status&&1==t.esventaflag).forEach(t=>{1==t.esfleteflag&&(b.push({name:t.nameservice,valor:""}),yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?T+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):T+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esorigenflag&&(S.push({name:t.nameservice,valor:""}),yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?$+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):$+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.eslocalflag&&(y.push({name:t.nameservice,valor:""}),yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?E+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):E+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esaduanaflag&&(I.push({name:t.nameservice,valor:""}),yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?w+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):w+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esalmacenflag&&(P.push({name:t.nameservice,valor:""}),5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?M+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):M+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esgastostercerosflag&&(x.push({name:t.nameservice,valor:""}),5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?O+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):O+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,i,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))});let B=0;B=n?(parseFloat(1==N?E:0)+parseFloat(1==D?w:0)+parseFloat(1==L?M:0)+parseFloat(1==j?O:0))*R.state.impuesto.impuesto/100:(parseFloat(1==A?$:0)+parseFloat(1==N?E:0)+parseFloat(1==D?w:0)+parseFloat(1==j?O:0))*R.state.impuesto.impuesto/100;let U=0;U=(1==F?T:0)+(1==A?$:0)+(1==N?E:0)+(1==D?w:0)+(1==L?M:0)+(1==j?O:0);let G={nombre_impuesto:R.state.impuesto.nombre_impuesto,impuesto:R.state.impuesto.impuesto/100,esunica:1==yo.opcionCostos.filter(t=>t.selected).length,url_logo:JSON.parse(sessionStorage.getItem("dataUser"))[0].path,TipoCostos:s,index:a,isImport:n,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,code:yo.nro_quote,business_name:yo.datosEmpresa[0].business_name?yo.datosEmpresa[0].business_name:"",nameEmpresa:JSON.parse(sessionStorage.getItem("dataBranch"))[0].trade_name,address:yo.datosEmpresa[0].address,iso:yo.datosEmpresa[0].iso_pais,iso_pais:yo.datosEmpresa[0].iso_pais,document:yo.datosEmpresa[0].document,phone:yo.datosEmpresa[0].phone,pais:yo.datosEmpresa[0].pais,tipo:e,cliente:yo.datosPrincipales.nombre,slogancliente:yo.datosPrincipales.slogan?yo.datosPrincipales.slogan:"",fechafin:o.date_end,tiempoTransito:o.tiempo_transito,origen:yo.listPortBegin.filter(t=>t.id_port==yo.datosPrincipales.idorigen).length>0?yo.listPortBegin.filter(t=>t.id_port==yo.datosPrincipales.idorigen)[0].name:"",destino:yo.listPortEnd.filter(t=>t.id_port==yo.datosPrincipales.iddestino).length>0?yo.listPortEnd.filter(t=>t.id_port==yo.datosPrincipales.iddestino)[0].name:"",impuesto:yo.listServices.filter(t=>15==t.code_service).length>0&&(1==yo.listServices.filter(t=>15==t.code_service)[0].status||1==yo.listServices.filter(t=>15==t.code_service)[0].status)?c:[],flete:d,almacen:m,aduana:p,local:u,totalImpuesto:k["a"].methods.currencyFormat(parseFloat(l).toFixed(2)),incluye:h,noincluye:_,importante:g,contenedor:f,conceptos:v,numerobultos:yo.datosPrincipales.numerobultos,peso:yo.datosPrincipales.peso,volumen:yo.datosPrincipales.volumen,sentido:yo.listModality.filter(t=>t.id==yo.datosPrincipales.idsentido)[0].name,embarque:yo.listShipment.filter(t=>t.id==(yo.datosPrincipales.idtipocarga.id?yo.datosPrincipales.idtipocarga.id:yo.datosPrincipales.idtipocarga))[0].embarque,icoterm:yo.listIncoterms.filter(t=>t.id==yo.datosPrincipales.idincoterms)[0].name,datosFlete:1==F?b:[],datosOrigen:1==A?S:[],datosLocales:1==N?y:[],datosAduanas:1==D?I:[],datosAlmacenes:1==L?P:[],datosGastosTerceros:1==j?x:[],totalImpuestosIGV:k["a"].methods.currencyFormat(B),totalFlete:1==F?k["a"].methods.currencyFormat(T):k["a"].methods.currencyFormat(0),totalOrigen:1==A?k["a"].methods.currencyFormat($):k["a"].methods.currencyFormat(0),totalLocales:1==N?k["a"].methods.currencyFormat(E):k["a"].methods.currencyFormat(0),totalAduanas:1==D?k["a"].methods.currencyFormat(w):k["a"].methods.currencyFormat(0),totalAlmacenes:1==L?k["a"].methods.currencyFormat(M):k["a"].methods.currencyFormat(0),totalGastosTercero:1==j?k["a"].methods.currencyFormat(O):k["a"].methods.currencyFormat(0),totalServicios:k["a"].methods.currencyFormat(U),total:k["a"].methods.currencyFormat(parseFloat(U)+parseFloat(l)+parseFloat(B)),amount:yo.datosPrincipales.amount},H={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"};await r.a.post("https://api.agentedecargaonline.com/quote_preview_totales",G,H).then(t=>{C.a.fire({icon:"success",title:"PDF Generado",text:"El PDF se descargará automaticamente",showConfirmButton:!0}),window.open("https://api.agentedecargaonline.com/"+t.data.path,"_blank")}).catch(t=>console.log(t))},async getInstructivoIdAduana({commit:t},{id:e}){var a={"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},o={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},i={method:"post",url:"https://api.agentedecargaonline.com/getInstructivoIdAduana/"+e,headers:a,data:o};await r()(i).then((function(e){t("setInstructivo",e.data.data)})).catch((function(t){console.log(t)}))},generaInstructivoAduana({dispatch:t}){yo.listServiciosInstructivo=[],yo.listServices.forEach(t=>{yo.listServiciosInstructivo.push({name:t.service,status:1==t.status?"SI":"NO"})}),yo.vendedor=yo.listEjecutivo.filter(t=>t.id_entitie==yo.datosPrincipales.id_pricing)[0].name,$o(yo.tiporeporte),Eo(yo.tiporeporte),wo()},async generaInstructivoparaguardataAduana({dispatch:t}){yo.listIngresosInstructivoAprobar=[];let e=yo.listModality.some(t=>t.id==yo.datosPrincipales.idsentido&&"I"==t.code),a=0;yo.listInstructivo[0].sentido;console.log("state.id_pricing",yo.datosPrincipales.id_pricing),yo.vendedor=yo.listEjecutivo.filter(t=>t.id_entitie==yo.datosPrincipales.id_pricing)[0].name,yo.vendedor=yo.listEjecutivo.filter(t=>t.id_entitie==yo.datosPrincipales.id_pricing)[0].name;for(const o of yo.opcionCostos.filter(t=>!!t.selected)){let t=0,i=0,s=0,r=0,n=0,l=0,c=0,d=[],u=[];a=await xo(o.listCostos),o.listCostos.filter(t=>1==t.esventaflag&&1==t.status).forEach(o=>{let n=1,l="",c=0,u=[5,13,14];yo.listMultiplicador.some(t=>t.id==o.id_multiplicador)&&yo.listMultiplicador.some(t=>t.id==o.id_multiplicador&&!u.includes(t.code))?c+=(yo.listMultiplicador.some(t=>t.id==o.id_multiplicador)?yo.listMultiplicador.filter(t=>t.id==o.id_multiplicador)[0].valor:0)*o.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(t=>t.id==o.id_multiplicador).length>0?yo.listMultiplicador.filter(t=>t.id==o.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):c+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,a,yo.listMultiplicador.some(t=>t.id==o.id_multiplicador)?yo.listMultiplicador.filter(t=>t.id==o.id_multiplicador)[0].code:"",yo.listMultiplicador.some(t=>t.id==o.id_multiplicador&&(14==t.code||13==t.code||5==t.code))?yo.listMultiplicador.some(t=>t.id==o.id_multiplicador&&(14==t.code||13==t.code))?o.cif:o.seguro:0),1==o.esfleteflag&&e&&(l=yo.listTipoCostos.length>0?yo.listTipoCostos.filter(t=>"FL"==t.codigo)[0].name:"",n=1),1==o.esorigenflag&&(e||(i+=parseFloat(c)),l=yo.listTipoCostos.length>0?yo.listTipoCostos.filter(t=>"OR"==t.codigo)[0].name:"",n=2),1==o.eslocalflag&&(i+=parseFloat(c),l=yo.listTipoCostos.length>0?yo.listTipoCostos.filter(t=>"LO"==t.codigo)[0].name:"",n=3),1==o.esaduanaflag&&(i+=parseFloat(c),n=4,l=yo.listTipoCostos.length>0?yo.listTipoCostos.filter(t=>"AD"==t.codigo)[0].name:""),1!=o.esfleteflag||e||(l=yo.listTipoCostos.length>0?yo.listTipoCostos.filter(t=>"FL"==t.codigo)[0].name:"",n=5),1==o.esalmacenflag&&(e&&(i+=parseFloat(c)),n=6,l=yo.listTipoCostos.length>0?yo.listTipoCostos.filter(t=>"AL"==t.codigo)[0].name:""),d.push({descripcion:l,service:o.nameservice,valor:c,orden:n,igv:0,total:c}),t+=parseFloat(0),s+=parseFloat(c),r+=parseFloat(c)}),o.listCostos.filter(t=>1==t.esopcionflag&&1==t.status).forEach(t=>{let o=1,i="";1==t.esfleteflag&&e&&(i=yo.listTipoCostos.length>0?yo.listTipoCostos.filter(t=>"FL"==t.codigo)[0].name:"",o=1),1==t.esorigenflag&&(i=yo.listTipoCostos.length>0?yo.listTipoCostos.filter(t=>"OR"==t.codigo)[0].name:"",o=2),1==t.eslocalflag&&(i=yo.listTipoCostos.length>0?yo.listTipoCostos.filter(t=>"LO"==t.codigo)[0].name:"",o=3),1==t.esaduanaflag&&(o=4,i=yo.listTipoCostos.length>0?yo.listTipoCostos.filter(t=>"AD"==t.codigo)[0].name:""),1!=t.esfleteflag||e||(i=yo.listTipoCostos.length>0?yo.listTipoCostos.filter(t=>"FL"==t.codigo)[0].name:"",o=5),1==t.esalmacenflag&&(o=6,i=yo.listTipoCostos.length>0?yo.listTipoCostos.filter(t=>"AL"==t.codigo)[0].name:"");let s=0;yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?s+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):s+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,a,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0),u.push({proveedor:Do.state.provedores.filter(e=>e.id==t.id_proveedor)[0].namelong,service:t.nameservice,valor:s,orden:o,igv:0,total:s,id:Do.state.provedores.filter(e=>e.id==t.id_proveedor)[0].id}),n+=0,l+=parseFloat(s),c+=parseFloat(s)}),d=d.sort((t,e)=>t.orden<e.orden?-1:t.orden>e.orden?1:void 0);const p=[];let m=null,h=0,_=0,g=0;for(const e of d)null===m?(m=e.descripcion,h+=e.valor,_+=e.total,g+=0):m===e.descripcion?(h+=e.valor,_+=e.total,g+=0):(p.push({descripcion:"SubTotal",service:"",valor:h,igv:0,total:_}),m=e.descripcion,h=e.valor,_=e.total,g=0),p.push(e);p.push({descripcion:"SubTotal",service:"",valor:h,igv:0,total:_}),d=p,u=u.sort((t,e)=>t.proveedor<e.proveedor?-1:t.proveedor>e.proveedor?1:void 0);const f=[];let v=null,b=null,C=0,S=0,y=0;for(const e of u)null===b?(v=e.id,b=e.proveedor,S+=e.valor,C+=e.total,y+=0):b===e.proveedor?(v=e.id,S+=e.valor,C+=e.total,y+=0):(f.push({id:"",proveedor:"SubTotal",service:"",valor:S,orden:1,igv:0,total:C}),b=e.proveedor,S=e.valor,C=e.total,y=0),f.push(e);f.push({id:"",proveedor:"SubTotal",service:"",valor:S,orden:1,igv:"",total:C}),u=f;let I=JSON.parse(sessionStorage.getItem("iso_pais"));d.push({descripcion:"TOTAL",valor:parseFloat(s).toFixed(2),service:`Total sin ${R.state.impuesto.nombre_impuesto} ${k["a"].methods.currencyFormat(parseFloat(r).toFixed(2))}      |      ${R.state.impuesto.nombre_impuesto}: ${k["a"].methods.currencyFormat(parseFloat(i*R.state.impuesto.impuesto/100).toFixed(2))} `,igv:parseFloat(t).toFixed(2),total:9589==I?parseFloat(r)+parseFloat(i*R.state.impuesto.impuesto/100):parseFloat(r)}),u.push({proveedor:"TOTAL",valor:parseFloat(l).toFixed(2),igv:parseFloat(n).toFixed(2),total:parseFloat(l).toFixed(2)}),yo.listIngresosInstructivoAprobar.push({nro_propuesta:o.nro_propuesta,dataIngresos:d,dataCostos:u,totalIngresos:r,totalCostos:c,dataVentas:d})}}};async function xo(t){let e=0;return t.filter(t=>1==t.esfleteflag&&1==t.status&&1==t.esventaflag).forEach(async t=>{To(t,t.id_multiplicador)&&(e+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount))}),e}function To(t,e){let a=[5,13,14],o=yo.listMultiplicador.some(t=>t.id==e&&a.includes(t.code));return!o}function $o(t){JSON.parse(sessionStorage.getItem("iso_pais"));let e=yo.listModality.some(t=>t.id==yo.datosPrincipales.idsentido&&"I"==t.code);yo.opcionCostos.filter(t=>!!t.selected).forEach(async a=>{let o=0,i=a.listCostos.some(t=>1==t.esfleteflag&&1==t.status),s=a.listCostos.some(t=>1==t.esorigenflag&&1==t.status),r=a.listCostos.some(t=>1==t.eslocalflag&&1==t.status),n=a.listCostos.some(t=>1==t.esaduanaflag&&1==t.status),l=a.listCostos.some(t=>1==t.esalmacenflag&&1==t.status),c=a.listCostos.some(t=>1==t.esgastostercerosflag&&1==t.status);o=await xo(a.listCostos);let d=[],u=[],p=[],m=[],h=[],_=[],g=[],f=0,v=0,b=0,C=0,S=0,y=0;"AGRUPADO"==t&&(a.listCostos.filter(t=>1==t.status&&1==t.esventaflag).forEach(t=>{1==t.esfleteflag&&(u.push({name:t.nameservice,valor:""}),yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?f+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):f+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esorigenflag&&(p.push({name:t.nameservice,valor:""}),yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?v+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):v+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.eslocalflag&&(m.push({name:t.nameservice,valor:""}),5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?b+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):b+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esaduanaflag&&(h.push({name:t.nameservice,valor:""}),5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?C+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):C+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esalmacenflag&&(_.push({name:t.nameservice,valor:""}),5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?S+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):S+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esgastostercerosflag&&(g.push({name:t.nameservice,valor:""}),5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?y+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):y+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),1==i&&a.listCostos.filter(t=>1==t.status&&1==t.esorigenflag&&1==t.esventaflag).forEach(t=>{d.filter(e=>e.name==t.nameservice)&&d.push({name:t.nameservice})}),1==r&&a.listCostos.filter(t=>1==t.status&&1==t.eslocalflag&&1==t.esventaflag).forEach(t=>{d.filter(e=>e.name==t.nameservice)&&d.push({name:t.nameservice})}),1==n&&a.listCostos.filter(t=>1==t.status&&1==t.esaduanaflag&&1==t.esventaflag).forEach(t=>{d.filter(e=>e.name==t.nameservice)&&d.push({name:t.nameservice})}),1==l&&a.listCostos.filter(t=>1==t.status&&1==t.esalmacenflag&&1==t.esventaflag).forEach(t=>{d.filter(e=>e.name==t.nameservice)&&d.push({name:t.nameservice})}),1==c&&a.listCostos.filter(t=>1==t.status&&1==t.esgastostercerosflag&&1==t.esventaflag).forEach(t=>{d.filter(e=>e.name==t.nameservice)&&d.push({name:t.nameservice})})),"DETALLE"==t&&a.listCostos.filter(t=>1==t.status&&1==t.esventaflag).forEach(t=>{1==t.esfleteflag&&(yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(u.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount))}),f+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount)):(u.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),f+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esorigenflag&&(yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(p.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount))}),v+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount)):(p.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),v+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.eslocalflag&&(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(m.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount))}),b+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount)):(m.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),b+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esaduanaflag&&(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?(h.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount))}),C+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount)):(h.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),C+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esalmacenflag&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?(_.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount))}),S+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount)):(_.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),S+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))),1==t.esgastostercerosflag&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?(g.push({name:t.nameservice,valor:k["a"].methods.currencyFormat((yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount))}),y+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount)):(g.push({name:t.nameservice,valor:k["a"].methods.currencyFormat(k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))}),y+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)))}),"TOTAL"==t&&a.listCostos.filter(t=>1==t.status&&1==t.esventaflag).forEach(t=>{1==t.esfleteflag&&(u.push({name:t.nameservice,valor:""}),yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?f+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):f+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esorigenflag&&(p.push({name:t.nameservice,valor:""}),yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?v+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):v+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.eslocalflag&&(m.push({name:t.nameservice,valor:""}),yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?b+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):b+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esaduanaflag&&(h.push({name:t.nameservice,valor:""}),yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?C+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):C+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esalmacenflag&&(_.push({name:t.nameservice,valor:""}),5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?S+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):S+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0)),1==t.esgastostercerosflag&&(g.push({name:t.nameservice,valor:""}),5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code?y+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):y+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,o,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0))});let I=[];"AGRUPADO"==t&&I.push({descripcion:"CONCEPTOS DE INGRESOS",service:"",igv:"",total:""}),u.length>0&&e&&("AGRUPADO"!=t&&I.push({descripcion:yo.listTipoCostos.length>0?yo.listTipoCostos.filter(t=>"FL"==t.codigo)[0].name:"",service:"",igv:"",total:""}),u.forEach(t=>{I.push({descripcion:"",service:t.name,igv:"",total:t.valor})}),"AGRUPADO"!=t&&I.push({descripcion:"",service:"SubTotal",igv:"",total:k["a"].methods.currencyFormat(parseFloat(f).toFixed(2))})),p.length>0&&("AGRUPADO"!=t&&I.push({descripcion:yo.listTipoCostos.length>0?yo.listTipoCostos.filter(t=>"OR"==t.codigo)[0].name:"",service:"",igv:"",total:""}),p.forEach(t=>{I.push({descripcion:"",service:t.name,igv:"",total:t.valor})}),"AGRUPADO"!=t&&I.push({descripcion:"",service:"SubTotal",igv:"",total:k["a"].methods.currencyFormat(parseFloat(v).toFixed(2))})),m.length>0&&("AGRUPADO"!=t&&I.push({descripcion:yo.listTipoCostos.length>0?yo.listTipoCostos.filter(t=>"LO"==t.codigo)[0].name:"",service:"",total:""}),m.forEach(t=>{I.push({descripcion:"",service:t.name,total:t.valor})}),"AGRUPADO"!=t&&I.push({descripcion:"",service:"SubTotal",total:k["a"].methods.currencyFormat(parseFloat(b).toFixed(2))})),h.length>0&&("AGRUPADO"!=t&&I.push({descripcion:yo.listTipoCostos.length>0?yo.listTipoCostos.filter(t=>"AD"==t.codigo)[0].name:"",service:"",total:""}),h.forEach(t=>{I.push({descripcion:"",service:t.name,total:t.valor})}),"AGRUPADO"!=t&&I.push({descripcion:"",service:"SubTotal",total:k["a"].methods.currencyFormat(parseFloat(C).toFixed(2))})),u.length>0&&!e&&("AGRUPADO"!=t&&I.push({descripcion:yo.listTipoCostos.length>0?yo.listTipoCostos.filter(t=>"FL"==t.codigo)[0].name:"",service:"",igv:"",total:""}),u.forEach(t=>{I.push({descripcion:"",service:t.name,igv:"",total:t.valor})}),"AGRUPADO"!=t&&I.push({descripcion:"",service:"SubTotal",igv:"",total:k["a"].methods.currencyFormat(parseFloat(f).toFixed(2))})),_.length>0&&("AGRUPADO"!=t&&I.push({descripcion:yo.listTipoCostos.length>0?yo.listTipoCostos.filter(t=>"AL"==t.codigo)[0].name:"",service:"",total:""}),_.forEach(t=>{I.push({descripcion:"",service:t.name,total:t.valor})}),"AGRUPADO"!=t&&I.push({descripcion:"",service:"SubTotal",total:k["a"].methods.currencyFormat(parseFloat(S).toFixed(2))})),g.length>0&&("AGRUPADO"!=t&&I.push({descripcion:yo.listTipoCostos.length>0?yo.listTipoCostos.filter(t=>"GT"==t.codigo)[0].name:"",service:"",total:""}),g.forEach(t=>{I.push({descripcion:"",service:t.name,total:t.valor})}),"AGRUPADO"!=t&&I.push({descripcion:"",service:"SubTotal",total:k["a"].methods.currencyFormat(parseFloat(S).toFixed(2))}));let P=parseFloat(f)+parseFloat(v)+parseFloat(b)+parseFloat(C)+parseFloat(y)+parseFloat(S),x=0;x=e?(parseFloat(1==r?b:0)+parseFloat(1==n?C:0)+parseFloat(1==c?y:0)+parseFloat(1==l?S:0))*R.state.impuesto.impuesto/100:(parseFloat(1==s?v:0)+parseFloat(1==r?b:0)+parseFloat(1==c?y:0)+parseFloat(1==n?C:0))*R.state.impuesto.impuesto/100,I.push({descripcion:"TOTAL",service:`TOTAL SIN ${R.state.impuesto.nombre_impuesto}: ${k["a"].methods.currencyFormat(P)}`,igv:`${R.state.impuesto.nombre_impuesto} ${k["a"].methods.currencyFormat(parseFloat(x))}`,total:k["a"].methods.currencyFormat(parseFloat(P)+parseFloat(x))}),yo.listIngresosInstructivo.push({totalIngresos:parseFloat(P),opcion:I,nro_propuesta:a.nro_propuesta})})}async function Eo(t){yo.opcionCostos.filter(t=>!!t.selected).forEach(async t=>{let e=[],a=await xo(t.listCostos);t.listCostos.filter(t=>1==t.esopcionflag&&1==t.status).forEach(t=>{let o=0;yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0&&(5!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&13!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code&&14!=yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code)?o+=(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].valor:0)*t.costounitario*k["a"].methods.calcularFac(yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador).length>0?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"N",yo.datosPrincipales.volumen,yo.datosPrincipales.peso,yo.datosPrincipales.containers,yo.datosPrincipales.amount):o+=k["a"].methods.calcularValor(yo.datosPrincipales.amount,a,yo.listMultiplicador.some(e=>e.id==t.id_multiplicador)?yo.listMultiplicador.filter(e=>e.id==t.id_multiplicador)[0].code:"",yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code||5==e.code))?yo.listMultiplicador.some(e=>e.id==t.id_multiplicador&&(14==e.code||13==e.code))?t.cif:t.seguro:0),e.push({proveedor:Do.state.provedores.filter(e=>e.id==t.id_proveedor)[0].namelong,service:t.nameservice,valor:o})});let o=0,i=[];const s=new Set(e.map(t=>t.proveedor)),r=Array.from(s);r.forEach(t=>{let a=0;i.push({proveedor:t,service:"",igv:"",total:""}),e.filter(e=>e.proveedor==t).forEach(t=>{o+=t.valor,a+=t.valor,i.push({proveedor:"",service:t.service,total:k["a"].methods.currencyFormat(t.valor)})}),i.push({proveedor:"",service:"SubTotal",igv:"",total:k["a"].methods.currencyFormat(a)})}),i.push({proveedor:"TOTAL",service:"",igv:"",total:k["a"].methods.currencyFormat(o)}),yo.totalCostos=o,yo.listCostosInstructivo.push({totalCostos:o,opcion:i,nro_propuesta:t.nro_propuesta})})}function wo(){let t=0,e=yo.listServices.some(t=>15==t.code_service&&1==t.status);if(e){let e=0,a=["05","06","07","08","09","10","11","12"];yo.opcionCostos.filter(t=>!!t.selected).forEach(async o=>{let i=[];await o.listImpuestos.filter(t=>a.includes(t.codigo)).forEach(async a=>{t=await xo(o.listCostos),i.push({type:a.codigo,name:a.descripcion,percentage:a.codigo01?a.codigo01+" %":"0 %",valor:k["a"].methods.currencyFormat(k["a"].methods.calcularImpuestos({impuestos:o.listImpuestos,item:a,totalFlete:t,datosPrincipales:yo.datosPrincipales}))}),e+=parseFloat(k["a"].methods.calcularImpuestos({impuestos:o.listImpuestos,item:a,totalFlete:t,datosPrincipales:yo.datosPrincipales}))}),i.push({type:"",name:"TOTAL",percentage:"",valor:k["a"].methods.currencyFormat(e)}),e=0,yo.listImpuestosInstructivo.push({nro_propuesta:o.nro_propuesta,opcion:i})})}}var Mo={namespace:!0,state:yo,mutations:Io,actions:Po};const Oo={lstProveedores:[]},Fo={SET_PROVEEDOR(t,e){t.lstProveedores=e}},Ao={async obtenerProveedorPricing({commit:t},e){e.id_branch=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch;var a={method:"get",url:"https://api.agentedecargaonline.com/cargar_proveedor_pricing",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},params:e};await r()(a).then(e=>{let a=e.data;a.estadoflag?t("SET_PROVEEDOR",a.data):(t("SET_PROVEEDOR",[]),C.a.fire({icon:"error",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))}).catch((function(t){console.log(t)}))}};var No={namespace:!0,state:Oo,mutations:Fo,actions:Ao};o["default"].use(i["a"]),o["default"].use(v.a);var Do=e["a"]=new i["a"].Store({state:{dialogProcessing:!1,lstMenu:[],namecampaign:"",comentario:[],copy_house:null,id_canal:"",nro_manifiesto:"",url_folderonedrive:"",fecha_libre_almacenaje:"",almacen_recepcion:"",dias_sobreestadia:0,registroClienteFlag:!1,refreshReport:!1,imgSave:c.a,imgFolder:p.a,imgMailbox:h.a,imgList:g.a,dataList:!1,dataMenu:!1,dataGastos:!1,dataGastosMain:!1,dataMaster:!1,dataHouse:!1,grupalflag:!1,nro_cuotas:3,spiner:!1,house_id_master:"",cuota:[],fechacuota:[],modalAgente:!1,modalAdmin:!1,modalPro:!1,modalConsigner:!1,modalNotify:!1,modalColoader:!1,modalNaviera:!1,modalContainers:!1,modalEntitie:!1,modalvelocidad:!1,modalPhones:!1,modalPhonesEdit:!1,modalContacts:!1,modalContactsEdit:!1,modalCuentas:!1,actualizar:!1,limpiar:!1,totalIngresos:0,totalIngresosOp:0,totalIgvIngresos:0,totalIgvIngresosOp:0,totalTotalIngresos:0,totalTotalIngresosOp:0,totalEgresos:0,totalEgresosOp:0,totalIgvEgresos:0,totalIgvEgresosOp:0,totalTotalEgresos:0,totalTotalEgresosOp:0,security:2,departamentoUser:0,menuName:"",modalServices:!1,modalServices_manualMode:!1,phone_id:"",phone_number:"",contact_name:"",contact_number:"",cuentas_pic:[],itemsPhone:[{id:1,name:"Oficina"},{id:2,name:"Celular"},{id:3,name:"WhatsApp"}],itemsListPhone:[],itemsListPhoneEdit:[],contact_id:"",contact_number:"",itemsContact:[{id:1,name:"Oficina"},{id:2,name:"Celular"}],itemsListContact:[],itemsListContactEdit:[],id_entitie_selected:"",data_id_role:"",itemsEntities:[],itemsAgents:[],itemsConsigners:[],itemsColoaders:[],itemsNotify:[],itemsAirlines:[],itemsNavieras:[],itemsMotonave:[],itemsContainers:[],itemsDocumentsPais:[],itemsPais:[],itemsState:[],itemsCity:[],itemsTown:[],itemsSex:[],itemsModality:[],itemsShipment:[],itemsPortBegin:[],itemsPortEnd:[],itemsIncoterms:[],itemsServicesBegin:[],itemsServicesList:[],itemsServicesEnd:[],itemsServicesFlete:[],itemsServicesOpcional:[],itemsMenu:[],itemsList:[],itemsBitacoraList:[],itemsFleteCon:[],itemsCoinsList:[],itemsHouseList:[],itemsMasterList:[],itemsBitacoraLineal:[],itemsHouseListAll:[],itemsHouseServices:[],itemsBegEndList:[],itemsBitacora:[],itemsHouseContainers:[],itemsOperadorList:[],itemsProveedorList:[],itemsReportFileAll:[],itemsReportFileAllMaster:[],itemsTotalesAll:[],itemsDataControl:[],itemsDataIngresos:[],itemsDataIngresosList:[],itemsDataEgresosList:[],itemsDataControlList:[],itemsDataRoleList:[],itemsDataAccountList:[],itemsDataBanksList:[],itemsDataAccountsNumberList:[],itemsDataConceptos:[],itemsProveedorRolAgente:[],itemsProveedorRolAerolinea:[],itemsProveedorRolColoader:[],itemsProveedorRolNaviera:[],itemsProveedorRolShipper:[],itemsComentariosPredefinidos:[],provedores:[],clientes:[],itemsDataTotalesProveedor:[],performances:[],InvoiceAdmin:[],month:[],year:[],listPagosXProveedorCxP:[],statusData:!1,datanroMaster:"",datanroHouse:"",drawer:!1,mainTitle:"INICIO",master_expediente:"",master_Id_get:"",master_nro_expediente:"",master_id_trasnport:"",master_cotizanion:"",master_sentido:"",master_embarque:"",master_incoterms:"",master_origen:"",master_destino:"",master_ganancia_pricing:"",master_ganancia_operaciones:"",master_id_containers:"",master_nro_containers:"",master_nro_precinto:"",master_id_operador:"",accountIdTypeAccount:1,accountIdBanks:"",accountIdCoins:"",accountNumer:"",accountIdEntities:"",accountStatus:1,master_cantidad:"",master_cantidad_house:1,master_insertId:1,master_id_agente:"",master_id_consigner:"",master_id_notify:"",master_id_airlines:"",master_id_coloader:"",master_id_naviera:"",master_id_motonave:"",master_viaje:"",master_bultos:"",master_peso:"",master_volumen:"",master_id_condicion:"",master_id_coins:"",master_master_monto:"",master_blmaster:"",totalItemsMasterList:0,master_filtrarData:!1,master_filtro:{},dataControl_Numero:"",dataControl_idControl:"",dataControl_id_house:"",dataControl_id_user:"",dataControl_id_house:"",dataControl_status:1,dataControl_id_orders:"",master_fecha_eta:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),master_fecha_etd:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),master_fecha_disponibilidad:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),house_Id_get:"",house_id_trasnport:"",house_cotizanion:"",house_sentido:"",house_embarque:"",house_incoterms:"",house_origen:"",house_destino:"",house_id_containers:"",house_cantidad:"",house_cantidad_house:1,house_insertId:1,house_id:"",house_id_agente:"",house_id_consigner:"",house_id_consigner_real:"",house_id_notify:"",house_id_airlines:"",house_id_coloader:"",house_id_naviera:"",house_id_motonave:"",house_viaje:"",house_bultos:"",house_peso:"",house_volumen:"",house_id_condicion:"",house_id_coins:"",house_master_monto:"",house_blmaster:"",house_expediente:"",house_master:"",house_master_expediente:"",house_nro_expediente:"",totalItemsHouseListAll:0,house_filtrarData:!1,house_filtro:{},services_id_begend:"",services_name:"",services_price:"",dataHouse_modality:"",dataHouse_shipment:"",dataHouse_port_begin:"",dataHouse_port_end:"",dataHouse_agente:"",dataHouse_consigners:"",dataHouse_notify:"",dataHouse_ruc:"",dataHouse_exp:"",dataHouse_transporte:"",dataHouse_code_house:"",dataHouse_code_master:"",dataHouse_bultos:"",dataHouse_peso:"",dataHouse_volumen:"",dataHouse_operador:"",dataIngreso_concepto:"",dataIngreso_statusCalcula:!0,dataIngreso_montoop:"",dataIngreso_montopr:"",dataIngreso_igvop:"",dataIngreso_igvpr:"",dataIngreso_totalop:"",dataIngreso_totalpr:"",dataIngreso_opcion:"",dataIngreso_fnumero:"",dataIngreso_ffecha:"",dataIngreso_id:"",dataIngresoItems:[],dataCostos_proveedorName:"",dataCostos_idProveedor:"",dataCostos_concepto:"",dataCostos_statusCalcula:!0,dataCostos_monto:"",dataCostos_igv:"",dataCostos_total:"",dataCostos_id:"",dataCostos_opcion:"",dataCostos_fnumero:"",dataCostos_ffecha:"",dataCostosItems:[],dataTotalIngreso:"",dataTotalCostos:"",dataTotalIGV:"",dataTotalCI:"",report_id_status:"",report_id_status_adm:"",report_id_sentido:"",report_id_operador:"",reportFecha_ini:"",reportFecha_fin:"",reportStatusTable:!0,reportStatusTotal:!0,reportsDialog:!1,reportsButton:!1,totalExpedientesMaster:0,totalExpedientesHouse:0,totalIA:0,totalEA:0,totalIM:0,totalEM:0,totalLL:0,totalPL:0,totalSS:0,totalPS:0,bitacora_id_bitacora:"",bitacora_comentario_predefinido:"",bitacora_comentario:"",bitacora_comentario_flag:!1,branchs:null,bitacora_fecha:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),bitacora_visible_cliente:!0,house_enlace_tracking:"",rowMaster:"",id_role_actual:"",master_itemsContainers:[],embar_title_nacn:"Aerolinea/Coloader/Naviera",dataBranch:JSON.parse(sessionStorage.getItem("dataBranch"))},getters:{itemsEntitie:t=>t.itemsEntities,itemsConsigner:t=>t.itemsContainers,itemsColoaders:t=>t.itemsColoaders,itemsNotify:t=>t.itemsNotify,itemsAgents:t=>t.itemsAgents,itemsAirlines:t=>t.itemsAirlines,itemsNavieras:t=>t.itemsNavieras,itemsMotonave:t=>t.itemsMotonave,itemsContainers:t=>t.itemsContainers,itemsDocument:t=>t.itemsDocumentsPais,itemsPais:t=>t.itemsPais,itemsState:t=>t.itemsState,itemsCity:t=>t.itemsCity,itemsTown:t=>t.itemsTown,itemsSex:t=>t.itemsSex,itemsModality:t=>t.itemsModality,itemsShipment:t=>t.itemsShipment,itemsPortBegin:t=>t.itemsPortBegin,itemsPortEnd:t=>t.itemsPortEnd,itemsIncoterms:t=>t.itemsIncoterms,itemsServicesBegin:t=>t.itemsServicesBegin,itemsServicesList:t=>t.itemsServicesList,itemsServicesEnd:t=>t.itemsServicesEnd,itemsServicesFlete:t=>t.itemsServicesFlete,itemsServicesOpcional:t=>t.itemsServicesOpcional,itemsBitacoraList:t=>t.itemsBitacoraList,itemsMenu:t=>t.itemsMenu,itemsList:t=>t.itemsMenu,itemsFleteCon:t=>t.itemsFleteCon,itemsCoinsList:t=>t.itemsCoinsList,itemsHouseList:t=>t.itemsHouseList,itemsMasterList:t=>t.itemsMasterList,itemsBitacoraLineal:t=>t.itemsBitacoraLineal,itemsHouseListAll:t=>t.itemsHouseListAll,itemsHouseServices:t=>t.itemsHouseServices,itemsBegEndList:t=>t.itemsBegEndList,itemsBitacora:t=>t.itemsBitacora,itemsHouseContainers:t=>t.itemsHouseContainers,itemsOperadorList:t=>t.itemsOperadorList,itemsReportFileAll:t=>t.itemsReportFileAll,itemsReportFileAllMaster:t=>t.itemsReportFileAllMaster,itemsTotalesAll:t=>t.itemsTotalesAll,itemsDataControl:t=>t.itemsDataControl,itemsDataIngresos:t=>t.itemsDataIngresos,itemsDataIngresosList:t=>t.itemsDataIngresosList,itemsDataEgresosList:t=>t.itemsDataEgresosList,itemsDataRoleList:t=>t.itemsDataRoleList,itemsDataAccountList:t=>t.itemsDataAccountList,itemsDataBanksList:t=>t.itemsDataBanksList,itemsDataAccountsNumberList:t=>t.itemsDataAccountsNumberList,itemsDataTotalesProveedor:t=>t.itemsDataTotalesProveedor,itemsComentariosPredefinidos:t=>t.itemsComentariosPredefinidos,datanroMaster:t=>t.datanroMaster,datanroHouse:t=>t.datanroHouse,master_embarque:t=>t.master_id_trasnport.id,id_role_actual:t=>t.id_role_actual,performances:t=>t.performances,InvoiceAdmin:t=>t.InvoiceAdmin,month:t=>t.InvoiceAdmin,year:t=>t.InvoiceAdmin,listPagosXProveedorCxP:t=>t.listPagosXProveedorCxP,provedores:t=>t.provedores,clientes:t=>t.clientes},mutations:{_setEntities(t,e){t.itemsEntities=e,t.dataList=!0},_setConsigners(t,e){t.itemsConsigners=e},_setNotify(t,e){t.itemsNotify=e},_setAgents(t,e){t.itemsAgents=e},_setColoaders(t,e){t.itemsColoaders=e},_setDocumentsPais(t,e){t.itemsDocumentsPais=e},_setPais(t,e){t.itemsPais=e},_setState(t,e){t.itemsState=e},_setCity(t,e){t.itemsCity=e},_setTown(t,e){t.itemsTown=e},_setSex(t,e){t.itemsSex=e},_setModality(t,e){t.itemsModality=e},_setShipment(t,e){t.itemsShipment=e},_setPortBegin(t,e){t.itemsPortBegin=e},_setPortEnd(t,e){t.itemsPortEnd=e},_setIncoterms(t,e){t.itemsIncoterms=e},_setServicesBegin(t,e){t.itemsServicesBegin=e.sort()},_setServicesEnd(t,e){t.itemsServicesEnd=e},_setServicesFlete(t,e){t.itemsServicesFlete=e},_setServicesOpcional(t,e){t.itemsServicesOpcional=e},_setItemsMenu(t,e){t.itemsMenu=e,t.dataMenu=!0},_setItemsList(t,e){t.itemsList=e},_setItemsBitacoraList(t,e){t.itemsBitacoraList=e},_setItemsContainers(t,e){t.itemsContainers=e},_setItemsAirlines(t,e){t.itemsAirlines=e},_setItemsNaviera(t,e){t.itemsNavieras=e},_setItemsMotonave(t,e){t.itemsMotonave=e},_setItemsFleteCon(t,e){t.itemsFleteCon=e},_setItemsCoinsList(t,e){t.itemsCoinsList=e},_setDataNroMaster(t,e){t.master_expediente=(new Date).getFullYear()+"MBL"+e[0].nro_master,t.master_nro_expediente=e[0].nro_master},_setDataNroHouse(t,e){t.house_expediente=(new Date).getFullYear()+"HBL"+e[0].nro_house,t.house_nro_expediente=e[0].nro_house},_setRowMaster(t,e){t.rowMaster=e},_setHouseList(t,e){t.itemsHouseList=e},_setMasterList(t,e){t.itemsMasterList=e,t.dataMaster=!0},_setTotalMasterList(t,e){t.totalItemsMasterList=e},_setBitacoraLineal(t,e){t.itemsBitacoraLineal=e},_setHouseListAll(t,e){t.itemsHouseListAll=e,t.dataHouse=!0},_setTotalHouseListAll(t,e){t.totalItemsHouseListAll=e},_setHouseServices(t,e){t.itemsHouseServices=e},_setBegEndList(t,e){t.itemsBegEndList=e},_setItemsBitacora(t,e){t.itemsBitacora=e},_setItemsHouseContainers(t,e){t.itemsHouseContainers=e},_setServicesList(t,e){t.itemsServicesList=e},_setItemsOperador(t,e){t.itemsOperadorList=e},_setItemsProveedorList(t,e){t.itemsProveedorList=e},_setItemsDataControl(t,e){t.dataControl_Numero=e[0].nrocontrol,t.dataControl_idControl=e[0].idcontrol,t.dataControl_id_orders=e[0].idorders,t.itemsDataControl=e,t.drawer=!t.drawer},_setItemsDataIngresos(t,e){t.itemsDataIngresos=e},_setItemsDataTotalesProveedor(t,e){t.itemsDataTotalesProveedor=e},_setItemsDataIngresosList(t,e){t.itemsDataIngresosList=e},_setItemsDataRoleList(t,e){let a=[];e.length>0&&(a=e.map(t=>({...t,id:parseInt(t.id)}))),t.itemsDataRoleList=a},_setItemsDataAccountList(t,e){t.itemsDataAccountList=e},_setItemsDataBanksList(t,e){t.itemsDataBanksList=e},_setItemsDataAccountsNumberList(t,e){t.itemsDataAccountsNumberList=e},_setItemsDataControlList(t,e){t.itemsDataControlList=e,t.dataGastos=!0},_setItemsReportFileAll(t,e){t.itemsReportFileAll=[],t.itemsReportFileAll=e,this.state.reportStatusTable=!1,this.state.reportsDialog=!1},_setItemsReportFileAllMaster(t,e){t.itemsReportFileAllMaster=[],t.itemsReportFileAllMaster=e,this.state.reportStatusTable=!1,this.state.reportsDialog=!1},_setItemsTotalesAll(t,e){t.itemsTotalesAll=e},_setItemsPhone(t,e){t.itemsListPhoneEdit=e},_setItemsContacts(t,e){t.itemsListContactEdit=e},_setPerfomance(t,e){t.performances=e},_setInvoiceAdmin(t,e){t.InvoiceAdmin=e},_setMonth(t,e){t.month=e},_setYear(t,e){t.year=e},_setListPagosXProveedorCxP(t,e){t.listPagosXProveedorCxP=e},_setProveedores(t,e){t.provedores=e},_setClientes(t,e){t.clientes=e},SET_BRANCH(t,e){t.branchs=e},SET_CUENTAS(t,e){t.cuentas_pic=e},_setItemsProveedorRolAgente(t,e){t.itemsProveedorRolAgente=e},_setItemsProveedorRolAerolinea(t,e){t.itemsProveedorRolAerolinea=e},_setItemsProveedorRolColoader(t,e){t.itemsProveedorRolColoader=e},_setItemsProveedorRolNaviera(t,e){t.itemsProveedorRolNaviera=e},_setItemsProveedorRolShipper(t,e){t.itemsProveedorRolShipper=e},_setItemsComentariosPredefinidos(t,e){t.itemsComentariosPredefinidos=e}},actions:{openURL(t,{url:e}){window.open(e,"_blank")},async _getEntities({commit:t},e){var a=JSON.stringify({id_role:e,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}),o={method:"post",url:"https://api.agentedecargaonline.com/getEntitiesList",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await r()(o).then((function(e){e.data.data&&t("_setEntities",e.data.data)})).catch((function(t){console.log(t)}))},async _getEntitiesCliente({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/get_listado_cliente?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){e.data.data&&t("_setEntities",e.data.data)})).catch((function(t){console.log(t)}))},async _getConsigners({commit:t}){var e=JSON.stringify({id_role:11,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}),a={method:"post",url:"https://api.agentedecargaonline.com/getEntitiesList",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setConsigners",e.data.data)})).catch((function(t){console.log(t)}))},async _getNotify({commit:t}){var e=JSON.stringify({id_role:11,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}),a={method:"post",url:"https://api.agentedecargaonline.com/getEntitiesList",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setNotify",e.data.data)})).catch((function(t){console.log(t)}))},async _getAgents({commit:t}){var e=JSON.stringify({id_role:1,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}),a={method:"post",url:"https://api.agentedecargaonline.com/getEntitiesList",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setAgents",e.data.data)})).catch((function(t){console.log(t)}))},async _getProveedor({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/CargarProveedores?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("_setItemsProveedorList",e.data.data)})).catch((function(t){console.log(t)}))},async _getNavieras({commit:t}){var e=JSON.stringify({id_role:2,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}),a={method:"post",url:"https://api.agentedecargaonline.com/getEntitiesList",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setItemsNaviera",e.data.data)})).catch((function(t){console.log(t)}))},async _getColoaders({commit:t}){var e=JSON.stringify({id_role:17,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}),a={method:"post",url:"https://api.agentedecargaonline.com/getEntitiesList",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setColoaders",e.data.data)})).catch((function(t){console.log(t)}))},async _getOperador({commit:t}){var e=JSON.stringify({id_role:19,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}),a={method:"post",url:"https://api.agentedecargaonline.com/getEntitiesList",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setItemsOperador",e.data.data)})).catch((function(t){console.log(t)}))},async _getDocumentsPais({commit:t}){var e=JSON.stringify({id_pais:139,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}),a={method:"post",url:"https://api.agentedecargaonline.com/getDocumentsList",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setDocumentsPais",e.data.data)})).catch((function(t){console.log(t)}))},async _getPais({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getPais",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("_setPais",e.data.data)})).catch((function(t){console.log(t)}))},async _getState({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/cargar_state?id_pais="+(e||""),headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){let a=e.data;1==a.estadoflag?t("_setState",e.data.data):t("_setState",[])})).catch((function(t){console.log(t)}))},async _getCity({commit:t},e){var a=JSON.stringify({idState:e}),o={method:"post",url:"https://api.agentedecargaonline.com/getCity",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await r()(o).then((function(e){let a=e.data;1==a.estadoflag?t("_setCity",e.data.data):t("_setCity",[])})).catch((function(t){console.log(t)}))},async _getTown({commit:t},e){var a=JSON.stringify({idCity:e}),o={method:"post",url:"https://api.agentedecargaonline.com/getTown",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await r()(o).then((function(e){t("_setTown",e.data.data)})).catch((function(t){console.log(t)}))},async _getSex({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getSex?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("_setSex",e.data.data)})).catch((function(t){console.log(t)}))},async _getModality({commit:t}){let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/getModality",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setModality",e.data.data)})).catch((function(t){console.log(t)}))},async _getShipment({commit:t}){let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/getShipment",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setShipment",e.data.data)})).catch((function(t){console.log(t)}))},async _getPortBegin({commit:t},{id_transport:e=0,id:a=null,search:o=null}){var i=JSON.stringify({id_transport:e,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,id:a,search:o}),s={method:"post",url:"https://api.agentedecargaonline.com/getPortBegin",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:i};await r()(s).then((function(e){t("_setPortBegin",e.data.data||[])})).catch((function(t){console.log(t)}))},async _getPortEnd({commit:t},{id_transport:e=0,id:a=null,search:o=null}){var i=JSON.stringify({id_transport:e,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,id:a,search:o}),s={method:"post",url:"https://api.agentedecargaonline.com/getPortEnd",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:i};await r()(s).then((function(e){t("_setPortEnd",e.data.data||[])})).catch((function(t){}))},async _getIncoterms({commit:t}){let e={id_branch:1,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/getIncoterms",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setIncoterms",e.data.data)})).catch((function(t){console.log(t)}))},async _getServicesBegin({commit:t}){var e={id_modality:this.state.master_sentido?this.state.master_sentido:null,id_shipment:this.state.master_id_trasnport.id?this.state.master_id_trasnport.id:null,id_incoterms:this.state.master_incoterms?this.state.master_incoterms:null,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},a={method:"post",url:"https://api.agentedecargaonline.com/getItemsServices",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){e.data.data&&t("_setServicesBegin",e.data.data)})).catch((function(t){console.log(t)}))},_getGroupList({commit:t}){var e=JSON.parse(sessionStorage.getItem("dataUser")),a=JSON.stringify({id_entitie:e[0].id,id_module:sessionStorage.getItem("idMenu"),id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}),o={method:"post",url:"https://api.agentedecargaonline.com/getGroupList",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};r()(o).then((function(e){let a=[];e.data.data.forEach(t=>{0==a.filter(e=>e.namegroup==t.namegroup).length&&a.push(t)}),t("_setItemsList",a)})).catch((function(t){console.log(t)}))},async _getBitacoraList({commit:t}){let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/getBitacoraList",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setItemsBitacoraList",e.data.data)})).catch((function(t){console.log(t)}))},async _getContainers({commit:t}){let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/getContainersList",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setItemsContainers",e.data.data)})).catch((function(t){console.log(t)}))},async _getAirlines({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/getAirlines?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("_setItemsAirlines",e.data.data)})).catch((function(t){console.log(t)}))},async _getMotonave({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/getMotonave?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("_setItemsMotonave",e.data.data)})).catch((function(t){console.log(t)}))},async _getFleteCon({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getFleteCon",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("_setItemsFleteCon",e.data.data)})).catch((function(t){console.log(t)}))},async _getCoinsList({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/getCoinsList?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("_setItemsCoinsList",e.data.data)})).catch((function(t){console.log(t)}))},async _getnroMaster({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getNroMaster",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}};await r()(e).then((function(e){t("_setDataNroMaster",e.data.data)})).catch((function(t){console.log(t)}))},async _getnroHouse({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getNroHouse",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("_setDataNroHouse",e.data.data)})).catch((function(t){console.log(t)}))},async _getHouseList({commit:t}){var e={id_master:this.state.master_insertId,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},a={method:"post",url:"https://api.agentedecargaonline.com/getHouseList",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setHouseList",e.data.data)})).catch((function(t){console.log(t)}))},async cargarMaster({commit:t},e){this.state.dataMaster=!1;var a={method:"get",url:`https://api.agentedecargaonline.com/cargar_master?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_modality=${e.idsentido?e.idsentido:""}&id_shipment=${e.idtipocarga?e.idtipocarga:""}&id_incoterms=${e.idincoterms?e.idincoterms:""}&id_port_begin=${e.idorigen?e.idorigen:""}&id_port_end=${e.idsentido?e.idsentido:""}\n          \n          `,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?(a=a.data.map((t,e)=>({...t,index:e})),t("_setMasterList",a)):(t("_setMasterList",[]),C.a.fire({icon:"error",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.log(t)}))},async _getMasterList({commit:t}){var e=this;e.state.dataMaster=!1;var a={method:"get",url:`https://api.agentedecargaonline.com/getMasterList?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_canal=${e.state.master_filtro.id_canal||""}&id_sentido=${e.state.master_filtro.id_sentido||""}&id_tipo_embarque=${e.state.master_filtro.id_tipo_embarque&&e.state.master_filtro.id_tipo_embarque.id||""}&id_origen=${e.state.master_filtro.id_origen||""}&id_destino=${e.state.master_filtro.id_destino||""}&id_agente=${e.state.master_filtro.id_agente||""}&fecha_etd=${e.state.master_filtro.fecha_etd||""}&fecha_eta=${e.state.master_filtro.fecha_eta||""}&status_op=${0==e.state.master_filtro.status_operativo||1==e.state.master_filtro.status_operativo?e.state.master_filtro.status_operativo:""}&status_adm=${0==e.state.master_filtro.status_administrativo||1==e.state.master_filtro.status_administrativo?e.state.master_filtro.status_administrativo:""}&pagina=${e.state.master_filtro.pagina?(e.state.master_filtro.pagina-1)*(e.state.master_filtro.limite||10):0}&limite=${e.state.master_filtro.limite||-1}&orden=${e.state.master_filtro.orden||""}&busqueda=${e.state.master_filtro.busqueda||""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(a){sessionStorage.setItem("auth-token",a.data.token),a.data.estadoflag?t("_setMasterList",a.data.data):(t("_setMasterList",[]),e.state.master_filtrarData&&C.a.fire({icon:"error",text:a.data.mensaje}))})).catch((function(t){console.log(t)}))},async _getTotalMasterList({commit:t}){var e=this,a={method:"get",url:`https://api.agentedecargaonline.com/getTotalMasterList?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_canal=${e.state.master_filtro.id_canal||""}&id_sentido=${e.state.master_filtro.id_sentido||""}&id_tipo_embarque=${e.state.master_filtro.id_tipo_embarque&&e.state.master_filtro.id_tipo_embarque.id||""}&id_origen=${e.state.master_filtro.id_origen||""}&id_destino=${e.state.master_filtro.id_destino||""}&id_agente=${e.state.master_filtro.id_agente||""}&fecha_etd=${e.state.master_filtro.fecha_etd||""}&fecha_eta=${e.state.master_filtro.fecha_eta||""}&status_op=${0==e.state.master_filtro.status_operativo||1==e.state.master_filtro.status_operativo?e.state.master_filtro.status_operativo:""}&status_adm=${0==e.state.master_filtro.status_administrativo||1==e.state.master_filtro.status_administrativo?e.state.master_filtro.status_administrativo:""}&busqueda=${e.state.master_filtro.busqueda||""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){sessionStorage.setItem("auth-token",e.data.token),t("_setTotalMasterList",parseInt(e.data.total)||0)})).catch((function(t){console.log(t)}))},async _getBitacoraLineal({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/getBitacoraLineal",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},params:e};await r()(a).then((function(e){t("_setBitacoraLineal",e.data.data)})).catch((function(t){console.log(t)}))},async _getHouseListAll({commit:t}){var e=this;e.state.dataHouse=!1;var a={method:"get",url:`https://api.agentedecargaonline.com/getHouseListAll?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_master=${e.state.house_filtro.id_master||""}&id_sentido=${e.state.house_filtro.id_sentido||""}&id_tipo_embarque=${e.state.house_filtro.id_tipo_embarque&&e.state.house_filtro.id_tipo_embarque.id||""}&id_origen=${e.state.house_filtro.id_origen||""}&id_destino=${e.state.house_filtro.id_destino||""}&id_cliente=${e.state.house_filtro.id_cliente||""}&fecha_etd=${e.state.house_filtro.fecha_etd||""}&fecha_eta=${e.state.house_filtro.fecha_eta||""}&pagina=${e.state.house_filtro.pagina?(e.state.house_filtro.pagina-1)*(e.state.house_filtro.limite||10):0}&limite=${e.state.house_filtro.limite||-1}&orden=${e.state.house_filtro.orden||"code_master DESC"}&busqueda=${e.state.house_filtro.busqueda||""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(a){sessionStorage.setItem("auth-token",a.data.token),a.data.estadoflag?t("_setHouseListAll",a.data.data):(t("_setHouseListAll",[]),e.state.house_filtrarData&&C.a.fire({icon:"error",text:a.data.mensaje}))})).catch((function(t){console.log(t)}))},async _getTotalHouseListAll({commit:t}){var e=this;e.state.dataHouse=!1;var a={method:"get",url:`https://api.agentedecargaonline.com/getTotalHouseListAll?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_master=${e.state.house_filtro.id_master||""}&id_sentido=${e.state.house_filtro.id_sentido||""}&id_tipo_embarque=${e.state.house_filtro.id_tipo_embarque&&e.state.house_filtro.id_tipo_embarque.id||""}&id_origen=${e.state.house_filtro.id_origen||""}&id_destino=${e.state.house_filtro.id_destino||""}&id_cliente=${e.state.house_filtro.id_cliente||""}&fecha_etd=${e.state.house_filtro.fecha_etd||""}&fecha_eta=${e.state.house_filtro.fecha_eta||""}&busqueda=${e.state.house_filtro.busqueda||""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){sessionStorage.setItem("auth-token",e.data.token),t("_setTotalHouseListAll",parseInt(e.data.total)||0)})).catch((function(t){console.log(t)}))},async _getHouseServices({commit:t}){var e={id:this.state.house_Id_get,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},a={method:"post",url:"https://api.agentedecargaonline.com/getHouseListAll",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setHouseServices",e.data.data)})).catch((function(e){t("_setHouseServices",[]),console.log(e)}))},async _getBegEndList({commit:t}){var e={id:this.state.house_Id_get,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},a={method:"post",url:"https://api.agentedecargaonline.com/getBegEndList",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setBegEndList",e.data.data)})).catch((function(t){console.log(t)}))},async _getHouseBitacora({commit:t}){var e={id:this.state.house_Id_get,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},a={method:"post",url:"https://api.agentedecargaonline.com/getHouseBitacora",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setItemsBitacora",e.data.estadoflag?e.data.data:[])})).catch((function(t){console.log(t)}))},async _getHouseContainers({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/getHouseContainers",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},params:e};await r()(a).then((function(e){t("_setItemsHouseContainers",e.data.data)})).catch((function(t){console.log(t)}))},async _getServicesList({commit:t}){var e={id_modality:this.state.master_sentido,id_shipment:this.state.master_id_trasnport.id,id_incoterms:this.state.master_incoterms,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},a={method:"post",url:"https://api.agentedecargaonline.com/getItemsServicesList",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setServicesList",e.data.data)})).catch((function(t){console.log(t)}))},async _getControlFileAll({commit:t},e){this.state.reportStatusTable=!0;var a={method:"get",url:`https://api.agentedecargaonline.com/getControlFile?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&status_op=${e.status_op?e.status_op:""}&status_admin=${e.status_admin?e.status_admin:""}&sentido=${e.sentido?e.sentido:""}&desde=${e.desde?e.desde:""}&hasta=${e.hasta?e.hasta:""}&id_operativo=${e.id_operativo?e.id_operativo:""}\n        `,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){1==e.data.estadoflag?t("_setItemsReportFileAll",e.data.data):(t("_setItemsReportFileAll",[]),C.a.fire({icon:"error",text:e.data.mensaje}))})).catch((function(t){console.log(t)}))},async _getControlFileAllMaster({commit:t}){let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};this.state.reportStatusTable=!0;var a={method:"post",url:"https://api.agentedecargaonline.com/getControlFileAllMaster",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setItemsReportFileAllMaster",e.data.data)})).catch((function(t){console.log(t)}))},async _getControlFileAllFilter({commit:t}){this.state.reportStatusTable=!0;var e={idsentido:this.state.report_id_sentido,idOperador:this.state.report_id_operador,idStatus:this.state.report_id_status,idStatusAdm:this.state.report_id_status_adm,fecha_ini:this.state.reportFecha_ini,fecha_fin:this.state.reportFecha_fin},a={method:"post",url:"https://api.agentedecargaonline.com/getControlFileAllFilter",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setItemsReportFileAll",e.data.data)})).catch((function(t){console.log(t)}))},async _getControlFileAllFilterMaster({commit:t}){this.state.reportStatusTable=!0;var e={idsentido:this.state.report_id_sentido,fecha_ini:this.state.reportFecha_ini,fecha_fin:this.state.reportFecha_fin},a={method:"post",url:"https://api.agentedecargaonline.com/getControlFileAllFilterMaster",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setItemsReportFileAllMaster",e.data.data)})).catch((function(t){console.log(t)}))},async _getTotalesAll({commit:t}){this.state.reportStatusTable=!0;var e={method:"post",url:"https://api.agentedecargaonline.com/getTotalesAll",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("_setItemsTotalesAll",e.data.data)})).catch((function(t){console.log(t)}))},async _getTotales({commit:t}){this.state.reportStatusTable=!0;var e={idsentido:this.state.report_id_sentido,idOperador:this.state.report_id_operador,idStatus:this.state.report_id_status,idStatusAdm:this.state.report_id_status_adm,fecha_ini:this.state.reportFecha_ini,fecha_fin:this.state.reportFecha_fin},a={method:"post",url:"https://api.agentedecargaonline.com/getTotales",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setItemsTotalesAll",e.data.data)})).catch((function(t){console.log(t)}))},async _addPhones(t,e){var a=this;a.state.itemsListPhone.push({id:a.state.phone_id.id,name:a.state.phone_id.name,number:a.state.phone_number});var o={id:e,tipo:a.state.phone_id.id,phone:a.state.phone_number},i={method:"post",url:"https://api.agentedecargaonline.com/guardar_telefono",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:o};await r()(i).then().catch((function(t){console.log(t)})),this.state.phone_id="",this.state.phone_number=""},_addContacts(){this.state.itemsListContact.push({name:this.state.contact_name.toUpperCase(),number:this.state.contact_number}),this.state.contact_name="",this.state.contact_number=""},async ListarPhones(t,e){var a={method:"get",url:"https://api.agentedecargaonline.com/listar_phone/"+e,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}},o=this;o.state.itemsListPhone=[],await r()(a).then((function(t){t.data.data.forEach(t=>{o.state.itemsListPhone.push({id:t.id,name:t.name,number:t.phone_number})})})).catch((function(t){console.log(t)}))},_deletePhones(t){alert(t),this.state.itemsListPhone.splice(t,1)},_deleteContacts(t){alert(t),this.state.itemsListContact.splice(t,1)},async _getPhone({commit:t}){let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/getPhone/"+this.state.id_entitie_selected,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setItemsPhone",e.data.data)})).catch((function(t){console.log(t)}))},async _getContacts({commit:t}){let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/getContacts/"+this.state.id_entitie_selected,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setItemsContacts",e.data.data)})).catch((function(t){console.log(t)}))},async _setControl({commit:t}){var e={id_house:this.state.dataControl_id_house,id_user:this.state.dataControl_id_user?this.state.dataControl_id_user:null,status:this.state.dataControl_status},a={method:"post",url:"https://api.agentedecargaonline.com/setControl",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setItemsDataControl",e.data.data)})).catch((function(t){console.log(t)}))},async _setIngresos({commit:t}){var e={id_orders:this.state.dataControl_id_orders,concepto:this.state.dataIngreso_concepto,monto_op:this.state.dataIngreso_montoop,igv_op:this.state.dataIngreso_igvop,total_op:this.state.dataIngreso_totalop,id_user:this.state.dataControl_id_user},a={method:"post",url:"https://api.agentedecargaonline.com/setIngresos",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setItemsDataIngresos",e.data.data)})).catch((function(t){console.log(t)}))},async _getIngresos({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getIngresos/"+this.state.dataControl_id_orders,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("_setItemsDataIngresosList",e.data.data)})).catch((function(t){d,console.log(t)}))},async _getRole({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getRole",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("_setItemsDataRoleList",e.data.data)})).catch((function(t){console.log(t)}))},async _getTotalesProveedor({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getTotalesProveedor/"+this.state.dataControl_id_orders,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("_setItemsDataTotalesProveedor",e.data.data)})).catch((function(t){console.log(t)}))},async _getControlList({commit:t}){let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};this.state.dataGastos=!1;var a={method:"post",url:"https://api.agentedecargaonline.com/getControlList",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),a.estadoflag?t("_setItemsDataControlList",e.data.data):(t("_setItemsDataControlList",[]),C.a.fire({icon:"error",title:a.statusText,text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.log(t)}))},async _getAccountList({commit:t}){let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/getTypeAccount/",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await r()(a).then((function(e){t("_setItemsDataAccountList",e.data.data)})).catch((function(t){console.log(t)}))},async _getBanksList({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getBanksList/",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}};await r()(e).then((function(e){t("_setItemsDataBanksList",e.data.data)})).catch((function(t){console.log(t)}))},async _getPerformance({commit:t}){var e={method:"post",url:"https://api.agentedecargaonline.com/getPerfomance",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("_setPerfomance",e.data.data)})).catch((function(t){console.log(t)}))},async _getInvoiceAdmin({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/getVerInvoiceAdmin/"+e,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){t("_setInvoiceAdmin",e.data.data)})).catch((function(t){console.log(t)}))},async _getInvoiceAdminCxC({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/getVerInvoiceAdminCxC/"+e,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){t("_setInvoiceAdmin",e.data.data)})).catch((function(t){console.log(t)}))},async _getChargeMonth({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/getChargeMonth",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){t("_setMonth",e.data.data)})).catch((function(t){console.log(t)}))},async _getChargeYear({commit:t},e){var a={method:"get",url:"https://api.agentedecargaonline.com/getChargeYear",params:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){t("_setYear",e.data.data)})).catch((function(t){console.log(t)}))},async _getListaPagosXProveedorCxP({commit:t},e){JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch;var a={method:"get",url:`https://api.agentedecargaonline.com/getListaPagosXProveedorCxP?id_proveedor=${e}&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){let a=e.data;a.estadoflag?t("_setListPagosXProveedorCxP",a.data):(t("_setListPagosXProveedorCxP",[]),C.a.fire({icon:"warning",title:"Advertencia",text:e.data.mensaje}))})).catch((function(t){console.log(t)}))},async _getListaPagosXProveedorCxC({commit:t},e){t("_setListPagosXProveedorCxP",[]);var a={method:"get",url:"https://api.agentedecargaonline.com/getListaPagosXProveedorCxC/"+e,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(a).then((function(e){if(e.data.statusBol){let a=e.data.data,o=0;a.forEach(t=>{var e,a;t.index=o,t.tipocambio=null!==(e=t.tipocambio)&&void 0!==e?e:1,t.id_coins=null!==(a=t.id_coins)&&void 0!==a?a:1,o++}),t("_setListPagosXProveedorCxP",a)}else{C.a.fire({icon:"warning",title:"Advertencia",text:e.data.mensaje})}})).catch((function(t){console.log(t)}))},async cargarProveedores({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/CargarProveedores?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("_setProveedores",e.data.data)})).catch((function(t){console.log(t)}))},async cargarClientes({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/CargarClientes?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("_setClientes",e.data.data)})).catch((function(t){console.log(t)}))},async cargarBranch({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/CargarBranch/"+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_user,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){1==e.data.statusBol&&t("SET_BRANCH",e.data.data)}))},atras(){n["a"].go(-1)},async getListBanksDetailsCargar({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/getListBanksDetailsCargar",params:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("SET_CUENTAS",e.data.data)})).catch((function(t){console.log(t)}))},async getListBanksDetailsCargarPorSucursal({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/getListBanksDetailsCargarPorSucursal",params:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){t("SET_CUENTAS",e.data.data)})).catch((function(t){console.log(t)}))},async _getProveedorRolAgente({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/cargar_proveedor_rol_no_shipper?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){sessionStorage.setItem("auth-token",e.data.token),e.data.estadoflag?t("_setItemsProveedorRolAgente",e.data.data):t("_setItemsProveedorRolAgente",[])})).catch((function(t){console.log(t)}))},async _getProveedorRolAerolinea({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/cargar_proveedor_x_rol?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&rol=AEROLINEA`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){sessionStorage.setItem("auth-token",e.data.token),e.data.estadoflag?t("_setItemsProveedorRolAerolinea",e.data.data):t("_setItemsProveedorRolAerolinea",[])})).catch((function(t){console.log(t)}))},async _getProveedorRolColoader({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/cargar_proveedor_x_rol?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&rol=COLOADER`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){sessionStorage.setItem("auth-token",e.data.token),e.data.estadoflag?t("_setItemsProveedorRolColoader",e.data.data):t("_setItemsProveedorRolColoader",[])})).catch((function(t){console.log(t)}))},async _getProveedorRolNaviera({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/cargar_proveedor_x_rol?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&rol=NAVIERA`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){sessionStorage.setItem("auth-token",e.data.token),e.data.estadoflag?t("_setItemsProveedorRolNaviera",e.data.data):t("_setItemsProveedorRolNaviera",[])})).catch((function(t){console.log(t)}))},async _getProveedorRolShipper({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/cargar_proveedor_x_rol?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&rol=SHIPPER`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){sessionStorage.setItem("auth-token",e.data.token),e.data.estadoflag?t("_setItemsProveedorRolShipper",e.data.data):t("_setItemsProveedorRolShipper",[])})).catch((function(t){console.log(t)}))},async _getComentariosPredefinidos({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/getComentariosPredefinidos?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await r()(e).then((function(e){sessionStorage.setItem("auth-token",e.data.token),e.data.estadoflag?t("_setItemsComentariosPredefinidos",e.data.data):t("_setItemsComentariosPredefinidos",[])})).catch((function(t){console.log(t)}))}},modules:{reportes:Fe,entities:yt["a"],pricing:K,calculadoras:Z,controlGastos:at,consolidacion:rt,bancos:dt,programaciones:ht,files:Mt,balances:vt,houses:Tt,proyecciones:St,monedas:Nt,masters:Rt,securitys:N,enterprises:R,masterusuarios:T,marketing:Ht,type_phone:qt,document:Xt,year:ee,sex:se,groupservices:ce,incoterm:me,performance:fe,bank:ke,modality:Pe,transport:Ee,gastos:Le,coins:Ue,ingresos:Ve,containers:Qe,shipment:We,multiplicador:oa,airlines:na,QuoteStatus:ua,puerto:_a,motonave:ba,states:ya,city:Ta,town:Ma,begend:Na,typepayment:Ra,subingreso:Ha,subgasto:qa,itemServices:Xa,user:M,position:eo,comentariosPredefinidos:so,configEmpresa:co,statushouse:ho,configAviso:vo,branch:So,aduana:Mo,proveedor:No}})},"44c3":function(t,e,a){"use strict";a("be94")},4678:function(t,e,a){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=s(t);return a(e)}function s(t){if(!a.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}i.keys=function(){return Object.keys(o)},i.resolve=s,t.exports=i,i.id="4678"},"4b74":function(t,e,a){},"4c5f":function(t,e,a){},"4ce8":function(t,e,a){t.exports=a.p+"img/folder.2e23d600.svg"},"4df1":function(t,e,a){"use strict";a("b44e")},"54e1":function(t,e,a){"use strict";a("14d9"),a("e9f5"),a("910d"),a("7d54"),a("ab43"),a("a732");const o={methods:{probarFunction(){return 1},obtenerFlagOrigen(t){let e=0;return"OR"!=t.codebegend&&"FL"!=t.codebegend||(e=1),e},obtenerStatus({lstStatus:t}){let e=t.filter(t=>"3"==t.code).length>0?t.filter(t=>"3"==t.code)[0].id:"";return e},obtenerLocalFlag(t){let e=0;return"DE"==t.codebegend&&"AD"!=t.categoria_role&&"TR"!=t.categoria_role&&"AL"!=t.categoria_role&&(e=1),e},obtenerAduanaFlag(t){let e=0;return"DE"!=t.codebegend||"AD"!=t.categoria_role&&"TR"!=t.categoria_role||(e=1),e},obtenerAlmacenFlag(t){let e=0;return"DE"==t.codebegend&&"AL"==t.categoria_role&&(e=1),e},calcularFac(t=null,e,a,o=null,i){let s=0;switch(t){case 1:s=1;break;case 2:s=e;break;case 3:s=a/1e3>e?a/1e3:e;break;case 4:s=a/1e3;break;case 15:s=i/100;break;case 6:s=166.66*e>a?166.66*e:a;break;case 7:s=o.some(t=>"20S"==t.code)?o.filter(t=>"20S"==t.code)[0].cantidad:0;break;case 8:s=o.some(t=>"40NOR"==t.code)?o.filter(t=>"40NOR"==t.code)[0].cantidad:0;break;case 9:s=o.some(t=>"40HC"==t.code)?o.filter(t=>"40HC"==t.code)[0].cantidad:0;break;case 10:s=o.some(t=>"40S"==t.code)?o.filter(t=>"40S"==t.code)[0].cantidad:0;break;case 18:s=a;break;case 14:s=1;break;case 15:s=1;break;default:s=1;break}return s},calcularValor(t,e,a,o=0){e=e||0;let i=.015*(parseFloat(t)+parseFloat(e)),s=parseFloat(t)+parseFloat(e),r=0;switch(a){case 5:r=0==o?0:parseFloat(o)/100*parseFloat(s)>=60?parseFloat(o)/100*parseFloat(s):60;break;case 13:r=0==o?0:parseFloat(o)/100*parseFloat(s)>=118?parseFloat(o)/100*parseFloat(s):118;break;case 14:r=0==o?0:parseFloat(o)/100*(parseFloat(s)+parseFloat(i))>=118?parseFloat(o)/100*(parseFloat(s)+parseFloat(i)):118;break;case 15:r=t*o/100;break;default:r=1;break}return r},currencyFormat(t){let e=new Intl.NumberFormat("en-ES",{style:"currency",currency:"USD"}).format(t);return e},validateCost({costo:t=[],multiplicador:e=[],services:a=[]}){let o=a.filter(t=>1==t.status),i=e.filter(t=>this.comienzaNoConCaracter(t.text,"%")),s=i.map(t=>t.id),r=o.map(t=>t.id_groupservices),n=t.filter(t=>s.includes(t.id_multiplicador)&&r.includes(t.id_groupservices)),l=n.filter(t=>0==t.costounitario);return{estado:!(l.length>0),mensaje:"Existe un costo que tiene un valor 0.00. Verifique"}},comienzaNoConCaracter(t,e){return t.charAt(0).toUpperCase()!==e.toUpperCase()},comienzaConCaracter(t,e){return t.charAt(0).toUpperCase()===e.toUpperCase()},formatearServicios({services:t=[]}){let e=[];return t.forEach(t=>{e.push({id:t.id?t.id:"",idBegEnd:t.id_begend,nameservice:t.service,codegroupservices:t.code_service,status:t.status})}),e},formatearCostos({costos:t=[],services:e=[],multiplicadores:a=[],datosPrincipales:o={},totalDeFlete:i=0}){let s=[];return t.filter(t=>(1==t.esorigenflag||1==t.esfleteflag||1==t.eslocalflag||1==t.esaduanaflag||1==t.esgastostercerosflag||1==t.esalmacenflag)&&1==t.status).forEach(t=>{let e=t.id_multiplicador&&a.filter(e=>e.id==t.id_multiplicador)?a.filter(e=>e.id==t.id_multiplicador)[0]:[],r=0;e.length>0?5!=e.code&&13!=e.code&&14!=e.code?r=e.valor*t.costounitario*this.calcularFac(e.code,o.metroscc,o.kg,o.containers,o.amount):5!=e.code&&13!=e.code&&14!=e.code||this.calcularValor(o.amount,i,e.code,14==e.code?t.cif:t.seguro):r=0,5==e.code&&13==e.code&&14==e.code&&t.esorigenflag||s.push({code_service:t.code_service?t.code_service:"",code_cost:t.code_cost?t.code_cost:"",id:t.id?t.id:"",id_proveedor:t.id_proveedor,id_multiplicador:t.id_multiplicador,concepto:t.nameservice,costounitario:t.costounitario,minimo:t.minimo?t.minimo:0,esfleteflag:t.esfleteflag,esorigenflag:t.esorigenflag,eslocalflag:t.eslocalflag,esaduanaflag:t.esaduanaflag,esalmacenflag:t.esalmacenflag,esgastostercerosflag:t.esgastostercerosflag,status:t.status,esopcionflag:1==t.esventaflag?0:1,esventaflag:t.esventaflag,cif:t.cif,seguro:t.seguro,subtotal:r,nro_propuesta:t.nro_propuesta})}),s},formatearCostosEditar({costos:t=[],services:e=[],multiplicadores:a=[],datosPrincipales:o={},totalDeFlete:i=0}){let s=[];return t.filter(t=>(1==t.esorigenflag||1==t.eslocalflag||1==t.esfleteflag||1==t.esaduanaflag||1==t.esgastostercerosflag||1==t.esalmacenflag)&&1==t.status).forEach(t=>{let e=t.id_multiplicador&&a.filter(e=>e.id==t.id_multiplicador)?a.filter(e=>e.id==t.id_multiplicador)[0]:[],r=0;e.length>0?5!=e.code&&13!=e.code&&14!=e.code?r=e.valor*t.costounitario*this.calcularFac(e.code,o.metroscc,o.kg,o.containers,o.amount):5!=e.code&&13!=e.code&&14!=e.code||this.calcularValor(o.amount,i,e.code,14==e.code?t.cif:t.seguro):r=0,5==e.code&&13==e.code&&14==e.code&&t.esorigenflag||s.push({code_cost:t.code_cost?t.code_cost:null,id:t.id?t.id:null,id_proveedor:t.id_proveedor,id_multiplicador:t.id_multiplicador,concepto:t.nameservice,costounitario:t.costounitario,minimo:t.minimo?t.minimo:0,esorigenflag:t.esorigenflag,esfleteflag:t.esfleteflag,eslocalflag:t.eslocalflag,esaduanaflag:t.esaduanaflag,esalmacenflag:t.esalmacenflag,esgastostercerosflag:t.esgastostercerosflag,status:t.status,esopcionflag:1==t.esventaflag?0:1,esventaflag:t.esventaflag,cif:t.cif,seguro:t.seguro,subtotal:r,nro_propuesta:t.nro_propuesta})}),s},formatearNotas({notas:t=[]}){let e=[];return t.forEach(a=>{console.log(t),e.push({id:a.id?a.id:null,descripcion:a.descripcion,esprincipalflag:1,esincluyeflag:a.statusincluye?a.statusincluye:0,esnoincluyeflag:a.statusnoincluye?a.statusnoincluye:0,status:a.state?a.state:1,nro_propuesta:a.nro_propuesta})}),e},formatearContainer({containers:t=[]}){let e=[];return t.forEach(t=>{e.push({id:t.id?t.id:"",id_contenedor:t.id_containers,cantidad:t.cantidad,status:!0})}),e},formatearContainerEditar({containers:t=[]}){let e=[];return t.forEach(t=>{e.push({id:t.id?t.id:null,id_contenedor:t.id,quantity:t.cantidad,status:!0})}),e},formatImp({impuestos:t=[],totalFlete:e=0,datosPrincipales:a={}}){let o=[];return t.forEach(i=>{o.push({id:i.id?i.id:"",type:parseInt(i.codigo),name:i.descripcion,percentage:parseFloat(i.codigo01?i.codigo01:0),valor:this.calcularImpuestos({impuestos:t,item:i,totalFlete:e,datosPrincipales:a}),orden:parseInt(i.codigo),nro_propuesta:i.nro_propuesta})}),o},calcularImpuestos({impuestos:t=[],item:e=null,totalFlete:a=0,datosPrincipales:o={}}){let i=0,s=["01","02","03","05","06","07","08","09","10","11","12"];if("01"===e.codigo&&(i=parseFloat(o.amount).toFixed(2)),"02"===e.codigo&&(i=parseFloat(a).toFixed(2)),"03"===e.codigo&&(i=parseFloat((parseFloat(a)+parseFloat(o.amount))*parseFloat(this.obtenerPorcentaje({listImpuestos:t,code:"03"}))/100).toFixed(2)),"04"===e.codigo){let e=parseFloat(o.amount),s=parseFloat(a),r=parseFloat((parseFloat(a)+parseFloat(o.amount))*parseFloat(this.obtenerPorcentaje({listImpuestos:t,code:"03"}))/100);i=parseFloat(e)+parseFloat(s)+parseFloat(r)}if("05"===e.codigo){let s=parseFloat(o.amount),r=parseFloat(a),n=parseFloat((parseFloat(a)+parseFloat(o.amount))*parseFloat(this.obtenerPorcentaje({listImpuestos:t,code:"03"}))/100),l=parseFloat(s)+parseFloat(r)+parseFloat(n);i=l*e.codigo01/100}if("06"===e.codigo){let s=parseFloat(o.amount),r=parseFloat(a),n=parseFloat((parseFloat(a)+parseFloat(o.amount))*this.obtenerPorcentaje({listImpuestos:t,code:"03"})/100),l=parseFloat(s)+parseFloat(r)+parseFloat(n),c=l*this.obtenerPorcentaje({listImpuestos:t,code:"05"})/100;i=(l+c)*e.codigo01/100}if("07"===e.codigo){let s=parseFloat(o.amount),r=parseFloat(a),n=parseFloat((parseFloat(a)+parseFloat(o.amount))*parseFloat(this.obtenerPorcentaje({listImpuestos:t,code:"03"}))/100),l=parseFloat(s)+parseFloat(r)+parseFloat(n),c=l*this.obtenerPorcentaje({listImpuestos:t,code:"05"})/100,d=(l+c)*this.obtenerPorcentaje({listImpuestos:t,code:"06"})/100;i=(l+c+d)*e.codigo01/100}if("08"===e.codigo){let s=parseFloat(o.amount),r=parseFloat(a),n=parseFloat((parseFloat(a)+parseFloat(o.amount))*parseFloat(this.obtenerPorcentaje({listImpuestos:t,code:"03"}))/100),l=parseFloat(s)+parseFloat(r)+parseFloat(n),c=l*this.obtenerPorcentaje({listImpuestos:t,code:"05"})/100,d=(l+c)*this.obtenerPorcentaje({listImpuestos:t,code:"06"})/100;i=(l+c+d)*e.codigo01/100}if("09"===e.codigo){let s=parseFloat(o.amount),r=parseFloat(a),n=parseFloat((parseFloat(a)+parseFloat(o.amount))*parseFloat(this.obtenerPorcentaje({listImpuestos:t,code:"03"}))/100),l=parseFloat(s)+parseFloat(r)+parseFloat(n),c=l*this.obtenerPorcentaje({listImpuestos:t,code:"05"})/100,d=(l+c)*this.obtenerPorcentaje({listImpuestos:t,code:"06"})/100,u=(l+c+d)*this.obtenerPorcentaje({listImpuestos:t,code:"07"})/100,p=(l+c+d)*this.obtenerPorcentaje({listImpuestos:t,code:"08"})/100;i=(l+c+d+p+u)*e.codigo01/100}return"10"===e.codigo&&(i=100),"11"===e.codigo&&(i=7),"12"===e.codigo&&(i=3),s.includes(e.codigo)||parseFloat((parseFloat(a)+parseFloat(o.amount))*parseFloat(this.obtenerPorcentaje({listImpuestos:t,code:e.codigo}))/100).toFixed(2),parseFloat(i).toFixed(2)},obtenerPorcentaje({listImpuestos:t=[],code:e=""}){let a=t.filter(t=>t.codigo==e).length>0?t.filter(t=>t.codigo==e)[0].codigo01:0;return a||0},validateLength(t,e){return!t||(t.length<=e||`Hasta ${e} caracteres permitidoss`)}}};e["a"]=o},"55d6":function(t,e,a){t.exports=a.p+"img/mailbox.d0915bc3.svg"},"56d7":function(t,e,a){"use strict";a.r(e);var o=a("2b0e"),i=a("7496"),s=a("c6a6"),r=a("8336"),n=a("b0af"),l=a("99d9"),c=a("62ad"),d=a("a523"),u=a("169a"),p=a("4bd4"),m=a("132d"),h=a("f6c4"),_=a("a797"),g=a("490a"),f=a("8e36"),v=a("0fd9"),b=a("1f4f"),C=a("2fa4"),k=a("8654"),S=function(){var t=this,e=t._self._c;return e(i["a"],[e(h["a"],[e("router-view")],1),e(_["a"],{attrs:{value:t.$store.state.spiner}},[e(v["a"],{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[e(c["a"],{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[t._v(" Cargando Datos, espere un momento por favor... ")]),e(c["a"],{attrs:{cols:"6"}},[e(f["a"],{attrs:{color:"deep-purple accent-4",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1),e(u["a"],{attrs:{persistent:"",width:"600"},model:{value:t.dialogWelcome,callback:function(e){t.dialogWelcome=e},expression:"dialogWelcome"}},[e(n["a"],[e(l["d"],[t._v(" Bienvenido ")]),e(l["c"],[e("p",{staticStyle:{"font-size":"18px"}},[t._v(" Hola querido usuario "),e("br"),e("br"),t._v(" Te informamos que, a partir de este momento, cada vez que exista una nueva actualización por parte de nuestro proveedor, el sistema permanecerá bloqueado hasta que usted lo actualice presionando las teclas CTRL + F5. "),e("br"),e("br"),t._v(" En el caso de dispositivo movil, tendra que salir del sistema e ingresar hasta que ya el mensaje no aparezca. "),e("br"),e("br"),t._v(" Cuando el mensaje de la actualización desaparezca, quiere decir que el sistema ya se encuentra actualizado. Saludos ")])]),e(l["a"],[e(r["a"],{attrs:{color:"primary"},on:{click:function(e){return t.closeWelcome()}}},[t._v("Entendido")])],1)],1)],1),e(u["a"],{attrs:{persistent:"",width:t.$vuetify.breakpoint.smAndDown?"100%":"25%"},model:{value:t.dialogVersion,callback:function(e){t.dialogVersion=e},expression:"dialogVersion"}},[e(n["a"],{staticClass:"px-1 py-2 text-center",attrs:{elevation:"2"}},[e(m["a"],{staticStyle:{"font-size":"6em"},attrs:{color:"success"}},[t._v("mdi-check-circle-outline")]),e("h2",{staticClass:"my-2"},[t._v("Hemos mejorado ACO para ti")]),t.cargando?e("div",[e(g["a"],{staticClass:"my-3",attrs:{indeterminate:"",color:"primary",size:"40"}}),e("p",{staticClass:"my-2"},[t._v("Actualizando... Por favor espera")])],1):e("div",[t._v(" Actualiza y Activa las nuevas funciones "),e(r["a"],{staticClass:"my-2",attrs:{color:"success"},on:{click:t.actualizar}},[t._v("Actualizar Ahora")]),e("p",{staticClass:"my-2"},[e(m["a"],[t._v("mdi-clock")]),t._v(" Solo tomará 5 segundos")],1)],1)],1)],1),e(u["a"],{attrs:{"max-width":"400"},model:{value:t.dialogExito,callback:function(e){t.dialogExito=e},expression:"dialogExito"}},[e(n["a"],{staticClass:"text-center pa-4"},[e(m["a"],{staticStyle:{"font-size":"5em"},attrs:{color:"success"}},[t._v("mdi-thumb-up")]),e("h3",{staticClass:"my-2"},[t._v("¡Gracias!")]),e("p",[t._v("¡Ya tienes la última versión de ACO!")]),e(r["a"],{staticClass:"mt-4",attrs:{color:"primary"},on:{click:function(e){t.dialogExito=!1}}},[t._v(" Aceptar ")])],1)],1),e(u["a"],{attrs:{persistent:"",width:"600"},model:{value:t.dialogPower,callback:function(e){t.dialogPower=e},expression:"dialogPower"}},[e(n["a"],[e(l["d"],[t._v(" SISTEMA APAGADO")]),e(l["c"],[e(d["a"],{attrs:{fluid:""}},[e(v["a"],[e(c["a"],{attrs:{cols:"4"}},[e("img",{staticClass:"mt-4",attrs:{width:"80%",src:a("0bd5"),alt:""}})]),e(c["a"],{attrs:{cols:"8"}},[e("p",{staticStyle:{"font-size":"18px"}},[t._v(" Hola "),e("br"),e("br"),t._v(" En este momento el proveedor se encuentra realizando cambios o mantenimientos en el sistema, por lo tanto el sistema estará apagado hasta que el proveedor lo indique. "),e("br"),e("br"),t._v(" Nos disculpamos por las molestias, saludos. ")])])],1)],1)],1)],1)],1),t.$store.state.modalEntitie?e(u["a"],{attrs:{width:"90%"},model:{value:t.$store.state.modalEntitie,callback:function(e){t.$set(t.$store.state,"modalEntitie",e)},expression:"$store.state.modalEntitie"}},[e(n["a"],[e(l["d"],{staticClass:"text-h5"},[t._v(" Ficha de Clientes "),e(C["a"]),e(r["a"],{attrs:{icon:"",color:"red"},on:{click:function(e){t.$store.state.modalEntitie=!t.$store.state.modalEntitie}}},[e(m["a"],[t._v("mdi-close")])],1)],1),e(l["c"],[e("NuevoCliente",{attrs:{isPricing:t.isPricing},on:{btnGuardar:function(e){t.guardarClienteFlag=e}}})],1),e(l["a"],[e(C["a"]),t.mostrarBtnGuardar()?e(r["a"],{staticClass:"px-10",attrs:{color:"success"},on:{click:t.registrarCliente}},[t._v(" Guardar ")]):t._e()],1)],1)],1):t._e(),e(u["a"],{attrs:{"max-width":"1200"},model:{value:t.$store.state.modalvelocidad,callback:function(e){t.$set(t.$store.state,"modalvelocidad",e)},expression:"$store.state.modalvelocidad"}},[e(n["a"],[e(l["c"],[e("iframe",{attrs:{width:"100%",height:"650px",frameborder:"0",src:"https://pic-cargo.speedtestcustom.com"}})]),e(l["a"],[e(C["a"]),e(r["a"],{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.$store.state.modalvelocidad=!1}}},[t._v(" Cerrar ")])],1)],1)],1),e(u["a"],{attrs:{"max-width":"390"},model:{value:t.$store.state.modalContainers,callback:function(e){t.$set(t.$store.state,"modalContainers",e)},expression:"$store.state.modalContainers"}},[e(n["a"],[e(l["d"],{staticClass:"text-h5"},[t._v(" Control de Contenedores ")]),e(l["c"],[e(p["a"],{ref:"formContenedor"},[e(d["a"],[e(v["a"],[e(c["a"],{attrs:{cols:"12"}},[e(s["a"],{attrs:{items:t.$store.state.itemsContainers,"item-text":"name","item-value":"id","return-object":"",label:"Tipo de contenedor",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.$store.state.master_id_containers,callback:function(e){t.$set(t.$store.state,"master_id_containers",e)},expression:"$store.state.master_id_containers"}})],1),e(c["a"],{attrs:{cols:"12"}},[e(k["a"],{attrs:{label:"Nro. Contenedor"},model:{value:t.$store.state.master_nro_containers,callback:function(e){t.$set(t.$store.state,"master_nro_containers",e)},expression:"$store.state.master_nro_containers"}})],1),e(c["a"],{attrs:{cols:"12"}},[e(k["a"],{attrs:{label:"Nro. Precinto"},model:{value:t.$store.state.master_nro_precinto,callback:function(e){t.$set(t.$store.state,"master_nro_precinto",e)},expression:"$store.state.master_nro_precinto"}})],1),e(c["a"],{attrs:{cols:"12"}},[e(k["a"],{attrs:{type:"number",label:"Cant.",rules:[t=>!!t||"Dato Requerido",t=>t>=0||"Debe ser un número positivo"]},model:{value:t.$store.state.master_cantidad,callback:function(e){t.$set(t.$store.state,"master_cantidad",e)},expression:"$store.state.master_cantidad"}})],1),e(c["a"],[e(r["a"],{attrs:{block:"",color:"primary"},nativeOn:{click:function(e){return t._setDataContainers(t.$store.state.master_id_containers.id,t.$store.state.master_id_containers.name,t.$store.state.master_nro_containers,t.$store.state.master_nro_precinto,t.$store.state.master_cantidad)}}},[t._v("AGREGAR CONTENEDOR")])],1)],1)],1)],1)],1),e(l["a"],[e(C["a"]),e(r["a"],{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.$store.state.modalContainers=!1}}},[t._v(" Cerrar ")])],1)],1)],1),e(u["a"],{attrs:{"max-width":"550"},model:{value:t.$store.state.modalPhones,callback:function(e){t.$set(t.$store.state,"modalPhones",e)},expression:"$store.state.modalPhones"}},[e(n["a"],[e(l["d"],{staticClass:"text-h5"},[t._v(" Teléfono ")]),e(l["c"],[e(v["a"],[e(c["a"],{attrs:{cols:"4"}},[e(s["a"],{attrs:{items:t.$store.state.itemsPhone,"item-text":"name","item-value":"id",label:"Tipo de Teléfono","return-object":""},model:{value:t.$store.state.phone_id,callback:function(e){t.$set(t.$store.state,"phone_id",e)},expression:"$store.state.phone_id"}})],1),e(c["a"],{attrs:{cols:"6"}},[e(k["a"],{attrs:{label:"N°. Teléfono"},model:{value:t.$store.state.phone_number,callback:function(e){t.$set(t.$store.state,"phone_number",e)},expression:"$store.state.phone_number"}})],1),e(c["a"],{attrs:{cols:"2"}},[""!=t.$store.state.phone_id&&""!=t.$store.state.phone_number?e(r["a"],{staticClass:"mx-2",attrs:{fab:"",color:"teal darken-1\n",dark:"",elevation:"0"},on:{click:function(e){return t._addPhones(t.$route.params.id)}}},[e(m["a"],{attrs:{"x-large":""}},[t._v("mdi-plus")])],1):t._e()],1)],1),e(b["a"],{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Tipo")]),e("th",{staticClass:"text-left"},[t._v("N°. Teléfono")]),e("th",{staticClass:"text-left"},[t._v("Actions")])])]),e("tbody",t._l(t.$store.state.itemsListPhone,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.name))]),e("td",[t._v(" "+t._s(a.number)+" ")]),e("td",[e(r["a"],{attrs:{fab:"","x-small":"",elevation:"0"},on:{click:function(e){return t._deletePhones(a.id)}}},[e(m["a"],{attrs:{color:"red"}},[t._v("mdi-delete")])],1),2==a.id?e("a",{staticClass:"ml-5",staticStyle:{"text-decoration":"none"},attrs:{fab:"","x-small":"",elevation:"0",color:"green",dark:"",target:"_blank",href:"https://wa.me/51"+a.number}},[e(m["a"],{attrs:{color:"green"}},[t._v("mdi-whatsapp")])],1):t._e(),e("a",{staticClass:"ml-5",staticStyle:{"text-decoration":"none"},attrs:{fab:"","x-small":"",elevation:"0",dark:"",href:"tel:+"+a.number}},[e(m["a"],{attrs:{color:"blue-grey darken-3"}},[t._v("mdi-phone")])],1)],1)])})),0)]},proxy:!0}])})],1),e(l["a"],[e(C["a"]),e(r["a"],{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.$store.state.modalPhones=!1}}},[t._v(" Cerrar ")])],1)],1)],1),e(u["a"],{attrs:{"max-width":"550"},model:{value:t.$store.state.modalPhonesEdit,callback:function(e){t.$set(t.$store.state,"modalPhonesEdit",e)},expression:"$store.state.modalPhonesEdit"}},[e(n["a"],[e(l["d"],{staticClass:"text-h5"},[t._v(" Teléfonos ")]),e(l["c"],[e(b["a"],{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Tipo")]),e("th",{staticClass:"text-left"},[t._v("N°. Teléfono")]),e("th",{staticClass:"text-left"},[t._v("Actions")])])]),e("tbody",t._l(t.$store.state.itemsListPhoneEdit,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.tipo_phone))]),e("td",[t._v(" "+t._s(a.phone)+" ")]),e("td",["Celular"==a.tipo_phone?e("a",{staticClass:"ml-5",staticStyle:{"text-decoration":"none"},attrs:{fab:"","x-small":"",elevation:"0",color:"green",dark:"",target:"_blank",href:"https://wa.me/51"+a.number}},[e(m["a"],{attrs:{color:"green"}},[t._v("mdi-whatsapp")])],1):t._e(),e("a",{staticClass:"ml-5",staticStyle:{"text-decoration":"none"},attrs:{fab:"","x-small":"",elevation:"0",dark:"",href:"tel:+"+a.number}},[e(m["a"],{attrs:{color:"blue-grey darken-3"}},[t._v("mdi-phone")])],1)])])})),0)]},proxy:!0}])})],1),e(l["a"],[e(C["a"]),e(r["a"],{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.$store.state.modalPhonesEdit=!1}}},[t._v(" Cerrar ")])],1)],1)],1),e(u["a"],{attrs:{"max-width":"750"},model:{value:t.$store.state.modalContacts,callback:function(e){t.$set(t.$store.state,"modalContacts",e)},expression:"$store.state.modalContacts"}},[e(n["a"],[e(l["d"],{staticClass:"text-h5"},[t._v(" Contactos ")]),e(l["c"],[e(v["a"],[e(c["a"],{attrs:{cols:"7"}},[e(k["a"],{attrs:{label:"Nombre Completo"},model:{value:t.$store.state.contact_name,callback:function(e){t.$set(t.$store.state,"contact_name",e)},expression:"$store.state.contact_name"}})],1),e(c["a"],{attrs:{cols:"3"}},[e(k["a"],{attrs:{label:"N°. Teléfono"},model:{value:t.$store.state.contact_number,callback:function(e){t.$set(t.$store.state,"contact_number",e)},expression:"$store.state.contact_number"}})],1),e(c["a"],{attrs:{cols:"2"}},[""!=t.$store.state.contact_name&&""!=t.$store.state.contact_number?e(r["a"],{staticClass:"mx-2",attrs:{fab:"",color:"teal darken-1\n",dark:"",elevation:"0"},on:{click:function(e){return t._addContacts()}}},[e(m["a"],{attrs:{"x-large":""}},[t._v("mdi-plus")])],1):t._e()],1)],1),e(b["a"],{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Nombre Completo")]),e("th",{staticClass:"text-left"},[t._v("N°. Teléfono")]),e("th",{staticClass:"text-left"},[t._v("Actions")])])]),e("tbody",t._l(t.$store.state.itemsListContact,(function(a,o){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.number))]),e("td",[e(r["a"],{attrs:{fab:"","x-small":"",elevation:"0"},on:{click:function(e){return t._deleteContacts(o)}}},[e(m["a"],{attrs:{color:"red"}},[t._v("mdi-delete")])],1),e("a",{staticClass:"ml-5",staticStyle:{"text-decoration":"none"},attrs:{fab:"","x-small":"",elevation:"0",color:"green",dark:"",target:"_blank",href:"https://wa.me/51"+a.number}},[e(m["a"],{attrs:{color:"green"}},[t._v("mdi-whatsapp")])],1),e("a",{staticClass:"ml-5",staticStyle:{"text-decoration":"none"},attrs:{fab:"","x-small":"",elevation:"0",dark:"",href:"tel:+"+a.number}},[e(m["a"],{attrs:{color:"blue-grey darken-3"}},[t._v("mdi-phone")])],1)],1)])})),0)]},proxy:!0}])})],1),e(l["a"],[e(C["a"]),e(r["a"],{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.$store.state.modalContacts=!1}}},[t._v(" Cerrar ")])],1)],1)],1),e(u["a"],{attrs:{"max-width":"750"},model:{value:t.$store.state.modalCuentas,callback:function(e){t.$set(t.$store.state,"modalCuentas",e)},expression:"$store.state.modalCuentas"}},[e(n["a"],[e(l["d"],{staticClass:"text-h5"},[t._v(" Cuentas ")]),e(l["c"],[e(v["a"],[e(c["a"],{attrs:{cols:"2"}},[e(s["a"],{attrs:{items:t.$store.state.itemsDataAccountList,"item-text":"name","item-value":"id",label:"Cuenta"},model:{value:t.$store.state.accountIdTypeAccount,callback:function(e){t.$set(t.$store.state,"accountIdTypeAccount",e)},expression:"$store.state.accountIdTypeAccount"}})],1),e(c["a"],{attrs:{cols:"2"}},[e(s["a"],{attrs:{items:t.$store.state.itemsDataBanksList,"item-text":"acronym","item-value":"id",label:"Banco"},model:{value:t.$store.state.accountIdBanks,callback:function(e){t.$set(t.$store.state,"accountIdBanks",e)},expression:"$store.state.accountIdBanks"}})],1),e(c["a"],{attrs:{cols:"2"}},[e(s["a"],{attrs:{items:t.$store.state.itemsCoinsList,"item-text":"acronym","item-value":"id",label:"Moneda"},model:{value:t.$store.state.accountIdCoins,callback:function(e){t.$set(t.$store.state,"accountIdCoins",e)},expression:"$store.state.accountIdCoins"}})],1),e(c["a"],{attrs:{cols:"4"}},[e(k["a"],{attrs:{type:"number",label:"N°. Cuenta"},model:{value:t.$store.state.accountNumer,callback:function(e){t.$set(t.$store.state,"accountNumer",e)},expression:"$store.state.accountNumer"}})],1),e(c["a"],{attrs:{cols:"1"}},[""!=t.$store.state.accountNumer?e(r["a"],{staticClass:"mx-2",attrs:{fab:"",color:"teal darken-1\n",dark:"",elevation:"0"},on:{click:function(e){return t._setAccounts()}}},[e(m["a"],{attrs:{"x-large":""}},[t._v("mdi-plus")])],1):t._e()],1)],1),e(b["a"],{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Cuenta")]),e("th",{staticClass:"text-left"},[t._v("Banco")]),e("th",{staticClass:"text-left"},[t._v("Moneda")]),e("th",{staticClass:"text-left"},[t._v("Número de cuenta")]),e("th",{staticClass:"text-left"},[t._v("Actions")])])]),e("tbody",t._l(t.$store.state.itemsDataAccountsNumberList,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.nameaccount))]),e("td",[t._v(t._s(a.namebanks))]),e("td",[t._v(t._s(a.namecoins))]),e("td",[t._v(t._s(a.accountnumber))]),e("td",[e(r["a"],{attrs:{color:"white",elevation:"0"},nativeOn:{click:function(e){return t._delAccount(a.id)}}},[e(m["a"],{attrs:{color:"error"}},[t._v("mdi-delete")])],1)],1)])})),0)]},proxy:!0}])})],1),e(l["a"],[e(C["a"]),e(r["a"],{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.$store.state.modalCuentas=!1}}},[t._v(" Cerrar ")])],1)],1)],1),e(u["a"],{attrs:{"max-width":"750"},model:{value:t.$store.state.modalContactsEdit,callback:function(e){t.$set(t.$store.state,"modalContactsEdit",e)},expression:"$store.state.modalContactsEdit"}},[e(n["a"],[e(l["d"],{staticClass:"text-h5"},[t._v(" Contactos ")]),e(l["c"],[e(v["a"],[e(c["a"],{attrs:{cols:"7"}},[e(k["a"],{attrs:{label:"Nombre Completo"},model:{value:t.$store.state.contact_name,callback:function(e){t.$set(t.$store.state,"contact_name",e)},expression:"$store.state.contact_name"}})],1),e(c["a"],{attrs:{cols:"5"}},[e(k["a"],{attrs:{label:"N°. Teléfono"},model:{value:t.$store.state.contact_number,callback:function(e){t.$set(t.$store.state,"contact_number",e)},expression:"$store.state.contact_number"}})],1)],1),e(b["a"],{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Nombre Completo")]),e("th",{staticClass:"text-left"},[t._v("N°. Teléfono")]),e("th",{staticClass:"text-left"},[t._v("Actions")])])]),e("tbody",t._l(t.$store.state.itemsListContactEdit,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.number))]),e("td",[e("a",{staticClass:"ml-5",staticStyle:{"text-decoration":"none"},attrs:{fab:"","x-small":"",elevation:"0",color:"green",dark:"",target:"_blank",href:"https://wa.me/51"+a.number}},[e(m["a"],{attrs:{color:"green"}},[t._v("mdi-whatsapp")])],1),e("a",{staticClass:"ml-5",staticStyle:{"text-decoration":"none"},attrs:{fab:"","x-small":"",elevation:"0",dark:"",href:"tel:+"+a.number}},[e(m["a"],{attrs:{color:"blue-grey darken-3"}},[t._v("mdi-phone")])],1)])])})),0)]},proxy:!0}])})],1),e(l["a"],[e(C["a"]),e(r["a"],{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.$store.state.modalContactsEdit=!1}}},[t._v(" Cerrar ")])],1)],1)],1),e(u["a"],{attrs:{"max-width":"400"},model:{value:t.$store.state.modalServices,callback:function(e){t.$set(t.$store.state,"modalServices",e)},expression:"$store.state.modalServices"}},[e(n["a"],[e(l["d"],{staticClass:"text-h5"},[t._v(" Control de Servicios "),e(C["a"]),e(r["a"],{attrs:{icon:"",color:"red"},on:{click:function(e){t.$store.state.modalServices=!t.$store.state.modalServices}}},[e(m["a"],[t._v("mdi-close")])],1)],1),e(l["c"],[e("ControlServices")],1)],1)],1),t.newquote?e("audio",{attrs:{src:a("b826"),autoplay:"",loop:"",controls:""}}):t._e()],1)},y=[],I=(a("14d9"),a("e9f5"),a("910d"),a("7d54"),a("2f62")),P=a("bc3a"),x=a.n(P),T=a("3d20"),$=a.n(T),E={name:"App",data:()=>({listAgente:!1,dialogWelcome:!1,dialogVersion:!1,dialogExito:!1,cargando:!1,dialogPower:!1,id:"",newquote:!1,guardarClienteFlag:!1,isPricing:!1}),async mounted(){this.$store.state.security=JSON.parse(sessionStorage.getItem("security")),setTimeout(()=>{this.$store.state.lstMenu=JSON.parse(sessionStorage.getItem("menu"))},10),await this._validaVersion(),await this._getVersion();var t=this;t.$store.state.drawer=!1,this.$route.params.id&&(this.id=this.$route.params.id);let e=["newQuote","verQuote","editQuote"];e.includes(this.$route.name)&&(this.isPricing=!0),"1"===localStorage.getItem("actualizando")&&(localStorage.removeItem("actualizando"),this.dialogVersion=!1,this.dialogExito=!0)},async beforeMount(){sessionStorage.removeItem("hasReloaded"),sessionStorage.setItem("version","5.7"),localStorage.setItem("version","5.7")},computed:{},methods:{...Object(I["b"])(["_getContainers","_addPhones","_addContacts","_getAccountList","_getBanksList","_getCoinsList","GetTotalCotizacion","guardarCliente"]),actualizar(){this.cargando=!0,localStorage.setItem("actualizando","1"),setTimeout(()=>{const t=window.location.origin+window.location.pathname;window.location.href=`${t}?v=${(new Date).getTime()}`},5e3)},async registrarCliente(){var t=this;t.$store.state.spiner=!0,await t.guardarCliente(),t.$store.state.spiner=!1},closeWelcome(){sessionStorage.setItem("welcome",1),this.dialogWelcome=!1},_validaWelcome(){sessionStorage.getItem("welcome")?this.dialogWelcome=!1:this.dialogWelcome=!0},_setDataContainers(t,e,a,o,i){this.$refs.formContenedor.validate()&&(this.$store.state.master_itemsContainers.push({id_container:t,name:e,nro_container:a,nro_precinto:o,cantidad:i}),this.$store.state.modalContainers=!1,this.$store.state.master_id_containers="",this.$store.state.master_nro_containers="",this.$store.state.master_nro_precinto="",this.$store.state.master_cantidad="")},async _validaVersion(){var t=this;setInterval(async()=>{await t._getVersion()},3e4)},cleanData(){this.$store.state.accountIdTypeAccount="",this.$store.state.accountIdBanks="",this.$store.state.accountIdCoins="",this.$store.state.accountNumer=""},async _getVersion(){var t=this;let e={modulo:"operativo"};var a={method:"post",url:"https://api.agentedecargaonline.com/getVersion",headers:{"Content-Type":"application/json"},data:e};try{await x()(a).then((function(e){e.data.data[0].version,sessionStorage.getItem("version");sessionStorage.getItem("version")&&e.data.data[0].version!=sessionStorage.getItem("version")?t.dialogVersion=!0:t.dialogVersion=!1,1!=e.data.data[0].power?t.dialogPower=!0:t.dialogPower=!1})).catch((function(t){console.log(t)}))}catch(o){console.log(o)}},async _delAccount(t){var e=this,a={method:"post",url:"https://api.agentedecargaonline.com/delAccount/"+t,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await x()(a).then((function(t){e._getAccountsNumber()})).catch((function(t){console.log(t)}))},async _getAccountsNumber(){var t=this;let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/getAccountsNumber/"+t.$route.params.id,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await x()(a).then((function(e){t.$store.state.itemsDataAccountsNumberList=e.data.data})).catch((function(t){console.log(t)}))},async _setAccounts(){var t=this,e={id_entities:t.$route.params.id,id_account:t.$store.state.accountIdTypeAccount,id_banks:t.$store.state.accountIdBanks,id_coins:t.$store.state.accountIdCoins,accountNumber:t.$store.state.accountNumer,status:t.$store.state.accountStatus,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},a={method:"post",url:"https://api.agentedecargaonline.com/setAccount",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await x()(a).then((function(e){t._getAccountsNumber()})).catch((function(t){console.log(t)}))},_delContainers(t){this.$store.state.master_itemsContainers.splice(t,1)},_nextListAgents(){this._getEntities(1),this.listAgente=!this.listAgente},_deletePhones(t){this.$store.state.itemsListPhone.splice(t,1)},_deleteContacts(t){this.$store.state.itemsListContact.splice(t,1)},async validateTotal(){if(JSON.parse(sessionStorage.getItem("totalCotizacion"))){let t=JSON.parse(sessionStorage.getItem("totalCotizacion"));await this.GetTotalCotizacion();let e=!0;t.forEach(t=>{let a=this.$store.state.calculadoras.listTotalCotizacion.filter(e=>e.rtype==t.rtype&&e.total==t.total).length;e=0!=a&&e}),e||(this.newquote=!0,$.a.fire({icon:"warning",text:"Se a registrado una nueva cotización.",confirmButtonText:"Ok"}).then(t=>{t.isConfirmed&&(this.newquote=!1,sessionStorage.setItem("totalCotizacion",JSON.stringify(this.$store.state.calculadoras.listTotalCotizacion)))}))}else await this.GetTotalCotizacion(),sessionStorage.setItem("totalCotizacion",JSON.stringify(this.$store.state.calculadoras.listTotalCotizacion))},mostrarBtnGuardar(){return!!this.$store.state.entities.cliente.id_tipopersona&&(!!this.$store.state.entities.cliente.nombrecompleto&&(!!this.$store.state.entities.cliente.id_tipotransaccion&&(!!this.$store.state.entities.cliente.id_pais&&!!this.$store.state.entities.cliente.telefonoActual.telefono)))}},components:{ControlServices:()=>a.e("chunk-421d34fe").then(a.bind(null,"fce8")),listEntitie:()=>Promise.resolve().then(a.bind(null,"630c")),NuevoCliente:()=>Promise.all([a.e("chunk-7e5b967f"),a.e("chunk-102d32fa")]).then(a.bind(null,"a799"))}},w=E,M=(a("7cac"),a("264b"),a("2877")),O=Object(M["a"])(w,S,y,!1,null,null,null),F=O.exports,A=a("9483");Object(A["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var N=a("a18c"),D=a("4360"),L=(a("5363"),a("f309"));o["default"].use(L["a"]);var j=new L["a"]({icons:{iconfont:"mdi"}}),R=a("f9d5"),B=a.n(R);a("4413");let U;function G(){const t=["security","auth-token","dataUser","dataBranch","iso_pais","menu","ConfigEmpresa","version"];t.forEach(t=>{const e=localStorage.getItem(t);null!==e&&null===sessionStorage.getItem(t)&&sessionStorage.setItem(t,e)})}o["default"].use(B.a),o["default"].config.productionTip=!1,window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),U=t;const e=document.getElementById("add-to-home");e&&(e.style.display="block",e.addEventListener("click",()=>{U.prompt(),U.userChoice.then(t=>{"accepted"===t.outcome?console.log("El usuario añadió la app a la pantalla de inicio"):console.log("El usuario rechazó la opción de agregar a la pantalla de inicio"),U=null})}))}),G(),window.addEventListener("storage",t=>{if(console.log("aaaa"),!t.key)return;const e=["security","auth-token","dataUser","dataBranch","iso_pais","menu","ConfigEmpresa","version"];e.includes(t.key)&&sessionStorage.setItem(t.key,t.newValue)}),new o["default"]({router:N["a"],store:D["a"],vuetify:j,render:t=>t(F)}).$mount("#app")},"5a85":function(t,e,a){},"630c":function(t,e,a){"use strict";a.r(e);var o=a("8336"),i=a("b0af"),s=a("99d9"),r=a("62ad"),n=a("a523"),l=a("8fea"),c=a("553a"),d=a("132d"),u=a("8e36"),p=a("0fd9"),m=a("2fa4"),h=a("8654"),_=a("3a2f"),g=function(){var t=this,e=t._self._c;return e("div",[e(i["a"],{attrs:{elevation:"0"}},[e(s["d"],[t.$route.params.id_role?e(o["a"],{staticClass:"mb-2 ml-5",attrs:{color:"primary",to:"/home/folderEntities/control/"+t.$route.params.id_role,elevation:"0",dark:"",rounded:"",loading:!t.$store.state.dataList}},[t._v(" AGREGAR NUEVO ")]):t._e(),e(m["a"]),e(h["a"],{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t.$store.state.dataList?t._e():e(n["a"],{staticStyle:{height:"400px"}},[e(p["a"],{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[e(r["a"],{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[t._v(" Cargando informacíon ")]),e(r["a"],{attrs:{cols:"6"}},[e(u["a"],{attrs:{color:"deep-purple accent-4",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1),t.$store.state.dataList?e(l["a"],{attrs:{"item-class":t.itemRowBackground,headers:t.headers,items:t.itemsEntities,search:t.search},scopedSlots:t._u([{key:"item.moredata",fn:function({item:a}){return[e(_["a"],{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:s}){return[e(o["a"],t._g(t._b({staticClass:"mx-2",attrs:{fab:"",dark:"",elevation:"0","x-small":"",color:"blue-grey darken-3"},on:{click:function(e){return t.openPhone(a.id)}}},"v-btn",s,!1),i),[e(d["a"],{attrs:{dark:""}},[t._v(" mdi-phone ")])],1)]}}],null,!0)},[e("span",[t._v("Teléfonos")])])]}},{key:"item.moredata2",fn:function({item:a}){return[e(_["a"],{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:s}){return[e(o["a"],t._g(t._b({staticClass:"mx-2",attrs:{fab:"",dark:"",elevation:"0","x-small":"",color:"blue-grey darken-3"},on:{click:function(e){return t.openContacts(a.id)}}},"v-btn",s,!1),i),[e(d["a"],{attrs:{dark:""}},[t._v(" mdi-account-multiple ")])],1)]}}],null,!0)},[e("span",[t._v("Contactos")])])]}},{key:"item.actions",fn:function({item:a}){return[t.$route.params.id_role?e(d["a"],{staticClass:"mr-2",attrs:{medium:"",color:"orange"},on:{click:function(e){return t.editEntitie(a.id)}}},[t._v(" mdi-pencil ")]):t._e(),t.$route.params.id_role?t._e():e(d["a"],{staticClass:"mr-2",attrs:{medium:"",color:"primary"},on:{click:function(e){return t.sendData(a.id)}}},[t._v(" mdi-cursor-default-click ")])]}}],null,!0)}):t._e()],1),e(c["a"],{attrs:{app:"",color:"transparent",height:"72",inset:""}},[e("div",[e("div",{staticClass:"circle__legends colorRed"}),t._v(" Entidad sin documento ")])])],1)},f=[],v=(a("14d9"),a("2f62")),b={name:"listEntitiesCom",data(){return{search:"",headers:[{text:"Documento",align:"start",value:"documentlong"},{text:"Nombre Comercial",value:"namelong"},{text:"Ubigeo",value:"location"},{text:"Dirección",value:"address"},{text:"Notas",value:"notes"},{text:"Teléfonos",value:"moredata"},{text:"Contactos",value:"moredata2"},{text:"Acciones",value:"actions"}],dataList:!1,nameTitle:"",btnTitle:""}},async mounted(){console.log(this.$route.params.id_role),11==this.$route.params.id_role?(this.$store.state.menuName="CLIENTES",this.btnTitle="CLIENTE"):15==this.$route.params.id_role&&(this.$store.state.menuName="PROVEEDORES",this.btnTitle="PROVEEDOR"),await this._getEntities(this.$route.params.id_role)},computed:{...Object(v["c"])(["itemsEntities"])},methods:{...Object(v["b"])(["_getEntities","_getPhone","_getContacts"]),validData(){11==this.$route.params.id_role?(this.$store.state.menuName="CLIENTES",this.btnTitle="CLIENTE"):15==this.$route.params.id_role&&(this.$store.state.menuName="PROVEEDORES",this.btnTitle="PROVEEDOR")},openPhone(t){this.$store.state.id_entitie_selected=t,this._getPhone(),this.$store.state.modalPhonesEdit=!this.$store.state.modalPhonesEdit},openContacts(t){this.$store.state.id_entitie_selected=t,this._getContacts(),this.$store.state.modalContactsEdit=!this.$store.state.modalContactsEdit},sendData(t){this.$store.state.master_id_agente=t,this.$store.state.modalAgente=!1},editEntitie(t){this.$router.push("/home/folderEntities/control/edit/"+t)},itemRowBackground:function(t){return""===t.document||null===t.document?"rowRed":"white"}}},C=b,k=(a("e68d"),a("2877")),S=Object(k["a"])(C,g,f,!1,null,null,null);e["default"]=S.exports},"632a":function(t,e,a){"use strict";a("4c5f")},6976:function(t,e,a){t.exports=a.p+"img/save.808b2bec.svg"},"6a32":function(t,e,a){"use strict";a("4b74")},"6aab":function(t,e,a){"use strict";a("0091")},"6ae9":function(t,e,a){},"6c01":function(t,e,a){"use strict";a("ec1e")},"6e84":function(t,e,a){"use strict";a("9907")},"7cac":function(t,e,a){"use strict";a("1676")},"85d1":function(t,e,a){"use strict";a("96e2")},8914:function(t,e,a){"use strict";a("065d")},"8a38":function(t,e,a){},"90c3":function(t,e,a){"use strict";a("217c")},"96a9":function(t,e,a){"use strict";a("6ae9")},"96e2":function(t,e,a){},"98d2":function(t,e,a){"use strict";a.r(e);var o=a("c6a6"),i=a("8336"),s=a("b0af"),r=a("99d9"),n=a("cc20"),l=a("62ad"),c=a("a523"),d=a("8fea"),u=a("169a"),p=a("ce7e"),m=a("cd55"),h=a("49e2"),_=a("c865"),g=a("0393"),f=a("23a7"),v=a("4bd4"),b=a("132d"),C=a("67b6"),k=a("43a6"),S=a("0fd9"),y=a("b974"),I=a("1f4f"),P=a("2fa4"),x=a("7e85"),T=a("e516"),$=a("56a4"),E=a("e0c7"),w=a("b73d"),M=a("8654"),O=a("a844"),F=a("3a2f"),A=(a("e9f5"),a("910d"),function(){var t=this,e=t._self._c;return e(c["a"],{attrs:{fluid:""}},[e("h3",[t._v(" Ingresos (Venta al cliente) Pricing: "+t._s(t.formatUsd(t.ingreso_pr))+" / ------- Operaciones: "+t._s(t.formatUsd(t.ingreso_op))+" ")]),e(g["a"],{attrs:{accordion:""},model:{value:t.openedPanel,callback:function(e){t.openedPanel=e},expression:"openedPanel"}},t._l(t.$store.state.controlGastos.listControlGastos[0]&&t.$store.state.controlGastos.listControlGastos[0].master_houses||[],(function(a,o){return e(m["a"],{key:o,attrs:{value:a.isExpanded}},[e(_["a"],{on:{click:function(e){return e.stopPropagation(),t.abrirExpandIngreso(o)}},scopedSlots:t._u([{key:"actions",fn:function(){return[e(b["a"],{on:{click:function(e){return t.abrirExpandIngreso(o)}}},[t._v("mdi-unfold-more-horizontal")])]},proxy:!0}],null,!0)},[e(I["a"],{attrs:{dense:""}},[e("thead",[e("tr",[e("th",{attrs:{width:"12%"}},[t._v("House")]),e("th",{attrs:{width:"24%"}},[t._v("Consignatario")]),e("th",{staticStyle:{background:"#d6f4ff"},attrs:{width:"12%"}},[t._v("Total Pricing")]),e("th",{staticStyle:{background:"#ffd6d6"},attrs:{width:"12%"}},[t._v(" Total Operaciones ")]),e("th",{staticStyle:{background:"#fff9c4"},attrs:{width:"12%"}},[t._v("Total Deuda")]),e("th",{attrs:{width:"6%"}},[t._v("Acción")]),e("th",{attrs:{width:"6%"}},[t._v("Abonos")]),e("th",{attrs:{width:"8%"}},[t._v(" Proformas del Sistema "),e("p",{staticClass:"mb-0 text-no-wrap",staticStyle:{"font-size":"0.7rem"}},[t._v(" Fecha Última Factura: "+t._s(a.ingresos.length&&a.ingresos[a.ingresos.length-1].fecha||"S/E")+" ")])]),e("th",[t._v("Ver Proformas")]),e("th",{attrs:{width:"8%"}},[t._v("Facturas Fiscales")])])]),e("tbody",[e("tr",[e("td",[t._v(t._s(a.code_house))]),e("td",[t._v(t._s(a.consigner))]),e("td",[t._v(t._s(a.total_total_pr_ingresos))]),e("td",[t._v(t._s(a.total_total_op_ingresos))]),e("td",[t._v(t._s(t.getDeudaActual(a)))]),e("td",[a.id_orders?e(i["a"],{attrs:{color:"blue",dark:"","x-small":""},on:{click:function(e){return e.stopPropagation(),t.handleNuevoIngreso(o,a)}}},[t._v(" Nuevo Concepto ")]):e(i["a"],{attrs:{small:"",color:"green darken-3",dark:""},on:{click:[function(e){return t.nuevoControlGasto(a)},function(e){return e.stopPropagation(),t.abrirExpandIngreso(o)}]}},[t._v("Nuevo Control de Gastos Ingresos")]),t.bloquearCopiarMontos(a.ingresos)?e(F["a"],{attrs:{bottom:"",color:"error"},scopedSlots:t._u([{key:"activator",fn:function({on:o,attrs:s}){return[e(i["a"],t._g(t._b({attrs:{color:"success","x-small":""},on:{click:function(e){t.copiarMontosHouse(null,t.bloquearCopiarMontos(a.ingresos))}}},"v-btn",s,!1),o),[t._v(" Copiar Montos Pr->Op ")])]}}],null,!0)},[e("span",[t._v(" No se Puede Copiar porqué ya existe Montos Facturados ")])]):e(i["a"],{attrs:{color:"success","x-small":""},on:{click:function(e){t.copiarMontosHouse(a,t.bloquearCopiarMontos(a.ingresos))}}},[t._v(" Copiar Montos Pr->Op ")])],1),e("td",[a.id_orders?e(i["a"],{attrs:{color:a.debscliente.length>0?"green":"red",dark:0!=a.total_total_pr_ingresos||0!=a.total_total_op_ingresos,disabled:0==a.total_total_pr_ingresos&&0==a.total_total_op_ingresos,small:""},on:{click:[function(e){return t._openDebs(a)},function(e){return e.stopPropagation(),t.abrirExpandIngreso(o)}]}},[t._v(" CARGAR ABONOS ")]):t._e()],1),e("td",[a.id_orders?e(i["a"],{attrs:{color:"pink",small:"",dark:!t.isBotonEmitirProformaDisabled(a),disabled:t.isBotonEmitirProformaDisabled(a)},on:{click:[function(e){return t.abrirModalFacturar(a)},function(e){return e.stopPropagation(),t.abrirExpandIngreso(o)}]}},[t._v(" EMITIR PROFORMA ")]):t._e()],1),e("td",[e(b["a"],{attrs:{color:"info"},on:{click:function(e){return e.stopPropagation(),t.verProformas(a)}}},[t._v("mdi-eye")])],1),e("td",[e(i["a"],{attrs:{color:"primary",small:""},on:{click:function(e){return e.stopPropagation(),t.abrirModalFacturasFiscales(a)}}},[t._v(" PROFORMA FISCAL ")])],1)])])])],1),e(h["a"],[e(I["a"],{attrs:{dense:""}},[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Descripción")]),e("th",{staticClass:"text-left",staticStyle:{background:"#d6f4ff"}},[t._v("Monto Pr")]),t.mostrarImpuesto?e("th",{staticClass:"text-left",staticStyle:{background:"#d6f4ff"}},[t._v(" "+t._s(t.$store.state.enterprises.impuesto.nombre_impuesto)+" Pr ")]):t._e(),e("th",{staticClass:"text-left",staticStyle:{background:"#d6f4ff"}},[t._v("Total Pr")]),e("th",{staticClass:"text-left",staticStyle:{background:"#ffd6d6"}},[t._v("Monto Op")]),t.mostrarImpuesto?e("th",{staticClass:"text-left",staticStyle:{background:"#ffd6d6"}},[t._v(" "+t._s(t.$store.state.enterprises.impuesto.nombre_impuesto)+" Op ")]):t._e(),e("th",{staticClass:"text-left",staticStyle:{background:"#ffd6d6"}},[t._v("Total Op")]),e("th",{staticClass:"text-center"},[t._v("Facturado")]),e("th",{staticClass:"text-left"},[t._v("Acciones")])])]),e("tbody",t._l(a.ingresos,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.concepto))]),e("td",{staticStyle:{background:"#d6f4ff"}},[t._v(" "+t._s(parseFloat(a.monto_pr).toFixed(2))+" ")]),t.mostrarImpuesto?e("td",{staticStyle:{background:"#d6f4ff"}},[t._v(" "+t._s(parseFloat(a.igv_pr).toFixed(2))+" ")]):t._e(),e("td",{staticStyle:{background:"#d6f4ff"}},[t._v(" "+t._s(parseFloat(a.total_pr).toFixed(2))+" ")]),e("td",{staticStyle:{background:"#ffd6d6"}},[t._v(" "+t._s(parseFloat(a.monto_op).toFixed(2))+" ")]),t.mostrarImpuesto?e("td",{staticStyle:{background:"#ffd6d6"}},[t._v(" "+t._s(parseFloat(a.igv_op).toFixed(2))+" ")]):t._e(),e("td",{staticStyle:{background:"#ffd6d6"}},[t._v(" "+t._s(parseFloat(a.total_op).toFixed(2))+" ")]),e("td",[1==a.facturado?e(n["a"],{staticClass:"ma-2",attrs:{color:"orange","text-color":"white"}},[t._v(" Si ")]):e(n["a"],{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[t._v(" No ")]),e("br"),a.verFactura?e("span",[t._v(" Nro Factura: "),e("br"),t._v(" "+t._s(a.nro_factura)+" ")]):t._e()],1),e("td",[1==a.facturado?e(b["a"],{attrs:{color:"info"},nativeOn:{click:function(e){return t.activarFactura(a)}}},[t._v(" mdi-eye ")]):t._e(),e(b["a"],{attrs:{color:"orange"},on:{click:function(e){return t.editIngreso(a)}}},[t._v(" mdi-pencil ")]),0==a.facturado?e(b["a"],{attrs:{color:"red"},on:{click:function(e){return t.delIngreso(a.id)}}},[t._v(" mdi-delete ")]):t._e()],1)])})),0)])],1)],1)})),1),e(u["a"],{attrs:{width:"800",persistent:""},model:{value:t.dialogIngreso,callback:function(e){t.dialogIngreso=e},expression:"dialogIngreso"}},[e(s["a"],[e(r["d"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Datos del servicio "),e(P["a"]),e(i["a"],{attrs:{icon:"",color:"default"},on:{click:function(e){t.dialogIngreso=!t.dialogIngreso}}},[e(b["a"],[t._v("mdi-close")])],1)],1),e(r["c"],[e(c["a"],[e(v["a"],{ref:"frmIngreso"},[e(S["a"],[e(l["a"],{attrs:{cols:"9"}},[e(M["a"],{attrs:{label:"Concepto",rules:[t=>!!t||"Dato es requerido"]},model:{value:t.ingresos.concepto,callback:function(e){t.$set(t.ingresos,"concepto",e)},expression:"ingresos.concepto"}})],1),e(l["a"],{attrs:{cols:"3"}},[t.mostrarImpuesto?e(w["a"],{attrs:{dense:"",label:"Calcula "+t.$store.state.enterprises.impuesto.nombre_impuesto},on:{change:function(e){return t.calcular()}},model:{value:t.ingresos.statusCalcula,callback:function(e){t.$set(t.ingresos,"statusCalcula",e)},expression:"ingresos.statusCalcula"}}):t._e()],1),t.opFlag?e(l["a"],{attrs:{cols:"12",md:"4"}},[e(M["a"],{attrs:{rules:[t=>!!t||"Dato es requerido"],type:"number",label:"Monto"},on:{keyup:function(e){return t.calcular()}},model:{value:t.ingresos.montoop,callback:function(e){t.$set(t.ingresos,"montoop",e)},expression:"ingresos.montoop"}})],1):t._e(),t.opFlag?e(l["a"],{attrs:{cols:"12",md:"4"}},[t.mostrarImpuesto?e(M["a"],{attrs:{readonly:"",type:"number",label:""+t.$store.state.enterprises.impuesto.nombre_impuesto},model:{value:t.ingresos.igvop,callback:function(e){t.$set(t.ingresos,"igvop",e)},expression:"ingresos.igvop"}}):e("p",[t._v(" NO HA CONFIGURADO EL IMPUESTOS A LA VENTAS. Ir al Módulo de Configuración ")])],1):t._e(),t.opFlag?e(l["a"],{attrs:{cols:"12",md:"4"}},[e(M["a"],{attrs:{type:"number",label:"Total",readonly:""},model:{value:t.ingresos.totalop,callback:function(e){t.$set(t.ingresos,"totalop",e)},expression:"ingresos.totalop"}})],1):t._e(),t.prFlag?e(l["a"],{attrs:{cols:"12",md:"4"}},[e(M["a"],{attrs:{rules:[t=>!!t||"Dato es requerido"],type:"number",label:"Monto"},on:{keyup:function(e){return t.calcular()}},model:{value:t.ingresos.montopr,callback:function(e){t.$set(t.ingresos,"montopr",e)},expression:"ingresos.montopr"}})],1):t._e(),t.prFlag&&t.mostrarImpuesto?e(l["a"],{attrs:{cols:"12",md:"4"}},[e(M["a"],{attrs:{readonly:"",type:"number",label:""+t.$store.state.enterprises.impuesto.nombre_impuesto},model:{value:t.ingresos.igvpr,callback:function(e){t.$set(t.ingresos,"igvpr",e)},expression:"ingresos.igvpr"}})],1):t._e(),t.prFlag?e(l["a"],{attrs:{cols:"12",md:"4"}},[e(M["a"],{attrs:{type:"number",label:"Total"},model:{value:t.ingresos.totalpr,callback:function(e){t.$set(t.ingresos,"totalpr",e)},expression:"ingresos.totalpr"}})],1):t._e(),e(l["a"],[1==this.statusBtn?e(i["a"],{attrs:{block:"",color:"success",elevation:"0"},nativeOn:{click:function(e){return t.setIngresos()}}},[t._v("Agregar servicio")]):t._e(),2==this.statusBtn?e(i["a"],{attrs:{block:"",color:"success",elevation:"0"},nativeOn:{click:function(e){return t.editIngresos()}}},[t._v("Guardar Cambios")]):t._e()],1)],1)],1)],1)],1)],1)],1),e(u["a"],{attrs:{"max-width":"90%",persistent:""},model:{value:t.dialogDebs,callback:function(e){t.dialogDebs=e},expression:"dialogDebs"}},[e(s["a"],[e(r["d"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Abonos del cliente "),e(P["a"]),e(i["a"],{attrs:{icon:"",color:"default"},on:{click:function(e){t.dialogDebs=!t.dialogDebs}}},[e(b["a"],[t._v("mdi-close")])],1)],1),e(r["c"],[e(d["a"],{attrs:{headers:t.headersdebs,items:t.house.debscliente},scopedSlots:t._u([{key:"item.accion",fn:function({item:a}){return[e(b["a"],{staticClass:"btn_add mr-2",attrs:{small:"",color:"default"},on:{click:function(e){return t.openDoc(a.path)}}},[t._v("mdi-eye")]),1==a.status?e(b["a"],{staticClass:"btn_add mr-2",attrs:{small:"",color:"warning"},on:{click:function(e){return t.editarDebs(a)}}},[t._v("mdi-pencil")]):t._e(),1==a.status?e(b["a"],{staticClass:"btn_add mr-2",attrs:{small:"",color:"red"},on:{click:function(e){return t._delDebsClient(a.id)}}},[t._v("mdi-delete")]):t._e()]}},{key:"item.status",fn:function({item:a}){return[2==a.status?e(n["a"],{attrs:{block:"",small:"",color:"success",outlined:""}},[e(b["a"],{attrs:{left:""}},[t._v(" mdi-check ")]),t._v(" Confirmado ")],1):t._e(),1==a.status?e(n["a"],{attrs:{block:"",small:"",color:"orange",outlined:""}},[e(b["a"],{attrs:{left:""}},[t._v(" mdi-warning ")]),t._v(" Por Confirmar ")],1):t._e()]}}],null,!0)})],1),e(r["a"],[e(P["a"]),e(i["a"],{attrs:{color:"primary"},on:{click:function(e){return t._newDebs()}}},[t._v(" CARGAR NUEVO ABONO ")]),e(i["a"],{attrs:{color:"error"},on:{click:function(e){t.dialogDebs=!t.dialogDebs}}},[t._v("Cerrar")])],1)],1)],1),t.dialogNewDebs?e(u["a"],{attrs:{"max-width":"80%"},model:{value:t.dialogNewDebs,callback:function(e){t.dialogNewDebs=e},expression:"dialogNewDebs"}},[e(s["a"],[e(r["d"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Cargar un Nuevo abonos "),e(P["a"]),e(i["a"],{attrs:{icon:"",color:"default"},on:{click:function(e){t.dialogNewDebs=!t.dialogNewDebs}}},[e(b["a"],[t._v("mdi-close")])],1)],1),e(r["c"],[e(c["a"],[e(v["a"],{ref:"frmNuevoAbono"},[e(S["a"],{attrs:{dense:""}},[e(l["a"],{attrs:{cols:"12",md:"3"}},[e(M["a"],{attrs:{label:"Fecha de Operación","prepend-icon":"mdi-calendar",type:"date",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),e(l["a"],{attrs:{cols:"12",md:"3"}},[e(M["a"],{attrs:{label:"No. Operación del Voucher",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1)],1),e(p["a"]),e(S["a"],[e(l["a"],{attrs:{cols:"12",md:"3"}},[e(o["a"],{attrs:{items:t.$store.state.itemsCoinsList,"item-text":"acronym","item-value":"id",label:"Moneda ",rules:[t=>!!t||"Dato Requerido"]},on:{change:function(e){return t.obtenerMoneda()}},model:{value:t.id_coins,callback:function(e){t.id_coins=e},expression:"id_coins"}})],1),"USD"!=t.sufmoneda?e(l["a"],{attrs:{cols:"12",md:"3"}},[e(M["a"],{attrs:{type:"number",label:"Tipo de Cambio",rules:[t=>!!t||"Dato Requerido"]},on:{change:function(e){return t.calcularMontoDolar()}},model:{value:t.tipocambio,callback:function(e){t.tipocambio=e},expression:"tipocambio"}})],1):t._e(),e(l["a"],{attrs:{cols:"12",md:"3"}},[e(M["a"],{attrs:{type:"number",label:"Monto Ingresado al Banco",rules:[t=>!!t||"Dato Requerido"],prefix:t.sufmoneda},nativeOn:{change:function(e){return t.calcularMontoDolar()}},model:{value:t.monto_abonado,callback:function(e){t.monto_abonado=e},expression:"monto_abonado"}})],1),"USD"!=t.sufmoneda?e(l["a"],{attrs:{cols:"12",md:"3"}},[e(M["a"],{attrs:{type:"number",label:"Monto de la Factura (Solo Lectura)",rules:[t=>!!t||"Dato Requerido"],prefix:"USD",readonly:""},model:{value:t.monto,callback:function(e){t.monto=e},expression:"monto"}})],1):t._e()],1),e(p["a"]),e(S["a"],[e(l["a"],{attrs:{cols:"12",md:"3"}},[e(o["a"],{attrs:{items:t.$store.state.itemsDataBanksList,"item-text":"acronym","item-value":"id",label:"Banco Origen",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.id_banks,callback:function(e){t.id_banks=e},expression:"id_banks"}})],1),e(l["a"],{attrs:{cols:"12",md:"3"}},[e(y["a"],{attrs:{items:(t.$store.state.bancos.cuentas||[]).filter(e=>e.symbol==t.sufmoneda),label:"Cuenta Destino (PIC)","item-text":"label","item-value":"id",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.id_cuenta_pic,callback:function(e){t.id_cuenta_pic=e},expression:"id_cuenta_pic"}})],1),e(l["a"],{attrs:{cols:"12",md:"3"}},[e(O["a"],{attrs:{"auto-grow":"",rows:"1","append-outer-icon":"mdi-comment",label:"Comentario",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.comentario,callback:function(e){t.comentario=e},expression:"comentario"}})],1),e(l["a"],{attrs:{cols:"12",md:"3"}},[e(f["a"],{attrs:{"show-size":"","success-messages":t.msgfile,"error-messages":t.errfile,loading:t.loadingFile,rules:[t=>!!t||"Dato Requerido"],label:"Cargar Archivo"},on:{change:function(e){return t.uploadFile()}},model:{value:t.payfile,callback:function(e){t.payfile=e},expression:"payfile"}})],1)],1)],1)],1)],1),e(r["a"],[e(P["a"]),e(i["a"],{attrs:{color:"primary",loading:t.loading},on:{click:function(e){return t._setDebsClient()}}},[t._v("GUARDAR ABONO")]),e(i["a"],{attrs:{color:"red",dark:""},on:{click:function(e){t.dialogNewDebs=!t.dialogNewDebs}}},[t._v("Cerrar")])],1)],1)],1):t._e(),e(u["a"],{attrs:{"max-width":"80%"},model:{value:t.dialogDebsEdit,callback:function(e){t.dialogDebsEdit=e},expression:"dialogDebsEdit"}},[e(s["a"],[e(r["d"],[t._v(" Cargar un nuevo abono "),e(P["a"])],1),e(r["c"],[e(c["a"],[e(v["a"],{ref:"frmNuevoAbono"},[e(S["a"],{attrs:{dense:""}},[e(l["a"],{attrs:{cols:"12",md:"3"}},[e(M["a"],{attrs:{label:"Fecha de Operación","prepend-icon":"mdi-calendar",type:"date",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),e(l["a"],{attrs:{cols:"12",md:"3"}},[e(M["a"],{attrs:{label:"No. Operación",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1),e(l["a"],{attrs:{cols:"12",md:"3"}},[e(M["a"],{attrs:{type:"number",label:"Monto En Dolares",rules:[t=>!!t||"Dato Requerido"],suffix:"USD",disabled:""},model:{value:t.monto,callback:function(e){t.monto=e},expression:"monto"}})],1),e(l["a"],{attrs:{cols:"12",md:"3"}},[e(M["a"],{attrs:{type:"number",label:"Tipo de Cambio",rules:[t=>!!t||"Dato Requerido"]},on:{change:function(e){return t.calcularMontoDolar()}},model:{value:t.tipocambio,callback:function(e){t.tipocambio=e},expression:"tipocambio"}})],1)],1),e(S["a"],[e(l["a"],{attrs:{cols:"12",md:"3"}},[e(o["a"],{attrs:{items:t.$store.state.itemsDataBanksList,"item-text":"acronym","item-value":"id",label:"Banco Origen",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.id_banks,callback:function(e){t.id_banks=e},expression:"id_banks"}})],1),e(l["a"],{attrs:{cols:"12",md:"3"}},[e(y["a"],{attrs:{items:(t.$store.state.bancos.cuentas||[]).filter(e=>e.symbol==t.sufmoneda),label:"Cuenta Destino (PIC)","item-text":"label","item-value":"id",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.id_cuenta_pic,callback:function(e){t.id_cuenta_pic=e},expression:"id_cuenta_pic"}})],1),e(l["a"],{attrs:{cols:"12",md:"3"}},[e(o["a"],{attrs:{items:t.$store.state.itemsCoinsList,"item-text":"acronym","item-value":"id",label:"Moneda En cuenta de Banco",rules:[t=>!!t||"Dato Requerido"]},on:{change:function(e){return t.obtenerMoneda()}},model:{value:t.id_coins,callback:function(e){t.id_coins=e},expression:"id_coins"}})],1),e(l["a"],{attrs:{cols:"12",md:"3"}},[e(M["a"],{attrs:{type:"number",label:"Monto En cuenta de Banco",rules:[t=>!!t||"Dato Requerido"],prefix:t.sufmoneda},nativeOn:{change:function(e){return t.calcularMontoDolar()}},model:{value:t.monto_abonado,callback:function(e){t.monto_abonado=e},expression:"monto_abonado"}})],1),e(l["a"],{attrs:{cols:"12",md:"12"}},[e(O["a"],{attrs:{rows:"2",label:"Comentario",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.comentario,callback:function(e){t.comentario=e},expression:"comentario"}})],1),e(l["a"],{attrs:{cols:"12",md:"9"}},[t.boolFile?t._e():e(f["a"],{attrs:{"show-size":"",label:"Adjuntar Pago"},model:{value:t.payfile,callback:function(e){t.payfile=e},expression:"payfile"}}),t.boolFile?e(n["a"],{attrs:{block:"",large:"",color:"success",outlined:""}},[e(b["a"],{attrs:{left:""}},[t._v(" mdi-check ")]),t._v(" Archivo cargado éxitosamente ")],1):t._e()],1),e(l["a"],{attrs:{cols:"3"}},[e(i["a"],{staticClass:"ma-2 white--text",attrs:{disabled:t.boolFile||t.payfile==[],color:"blue-grey",block:"",large:""},on:{click:function(e){return t._uploadFile()}}},[t._v(" Subir "),e(b["a"],{attrs:{right:"",dark:""}},[t._v(" mdi-cloud-upload ")])],1)],1)],1)],1)],1)],1),e(r["a"],[e(i["a"],{attrs:{color:"primary"},on:{click:function(e){return t.actualizar()}}},[t._v("GUARDAR ABONO")]),e(P["a"]),e(i["a"],{attrs:{outlined:"",color:"red"},on:{click:function(e){t.dialogDebsEdit=!t.dialogDebsEdit}}},[t._v("Cerrar")])],1)],1)],1),t.dialogFacturar?e(u["a"],{attrs:{scrollable:"",persistent:"",overlay:!1,"max-width":"70%",transition:"dialog-transition"},model:{value:t.dialogFacturar,callback:function(e){t.dialogFacturar=e},expression:"dialogFacturar"}},[e(s["a"],[e(r["d"],{attrs:{"primary-title":""}},[t._v(" GENERAR PROFORMA ")]),e(r["c"],[e(x["a"],{attrs:{vertical:""},model:{value:t.stepProforma,callback:function(e){t.stepProforma=e},expression:"stepProforma"}},[e($["a"],{attrs:{step:"1",complete:t.stepProforma>1}},[t._v(" Descripción de la Cabecera del Documento ")]),e(T["a"],{attrs:{step:"1"}},[e(M["a"],{attrs:{label:"Nombre a Imprimir",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.nombreProforma,callback:function(e){t.nombreProforma=e},expression:"nombreProforma"}}),e(i["a"],{attrs:{color:"primary"},on:{click:function(e){t.stepProforma=2}}},[t._v(" Continue ")])],1),e($["a"],{attrs:{step:"2"}},[t._v(" Conceptos a Facturar ")]),e(T["a"],{attrs:{step:"2"}},[e(S["a"],[e(l["a"],{attrs:{cols:"12"}},[e(d["a"],{attrs:{headers:t.headersFacturas,items:t.conceptos.filter(t=>!t.facturado),"show-select":"","item-key":"id"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),e(l["a"],{attrs:{cols:"6"}},[e(o["a"],{ref:"coinSelect",attrs:{items:t.$store.state.itemsCoinsList,"item-text":"symbol","item-value":"id",label:"Moneda",placeholder:"Seleccione una moneda","error-messages":t.errorCoin},model:{value:t.id_coins,callback:function(e){t.id_coins=e},expression:"id_coins"}})],1),t.$store.state.branchs.length>1?e(l["a"],{attrs:{cols:"6"}},[e(o["a"],{attrs:{items:t.$store.state.branchs,"item-text":"trade_name","item-value":"id",label:"Sucursal",placeholder:"Seleccione una sucursal"},on:{change:function(e){return t.obtenerDatos()}},model:{value:t.id_branch,callback:function(e){t.id_branch=e},expression:"id_branch"}})],1):t._e(),e(l["a"],{attrs:{cols:"12"}})],1)],1)],1)],1),e(r["a"],[e(P["a"]),2==t.stepProforma?e(i["a"],{staticClass:"mx-1",attrs:{color:"success",loading:t.obtenerDatosHouse,disabled:""==t.id_branch||0==t.selected.length},on:{click:function(e){return t.generarDocumento()}}},[t._v(" Generar Proforma ")]):t._e(),e(i["a"],{staticClass:"mx-1",attrs:{color:"warning"},on:{click:function(e){t.dialogFacturar=!t.dialogFacturar}}},[t._v(" Cancelar ")])],1)],1)],1):t._e(),e(u["a"],{attrs:{"max-width":"80%"},model:{value:t.dialogFacturasFiscales,callback:function(e){t.dialogFacturasFiscales=e},expression:"dialogFacturasFiscales"}},[e(s["a"],[e(r["d"],[t._v(" Facturas y Proformas Fiscales de "+t._s(t.house.consigner)+" "),e(P["a"]),e(i["a"],{attrs:{outlined:"",color:"primary"},on:{click:t.cargarProformaFiscal}},[t._v("Cargar Nueva")])],1),e(r["c"],[e(d["a"],{staticClass:"elevation-0",attrs:{headers:t.headersFacturasFiscales,items:t.lstFacturasFiscales,dense:"","item-key":"id",loading:t.isDataTableLoading},scopedSlots:t._u([{key:"item.originalname",fn:function({item:a}){return["pdf"==a.type?e(b["a"],{staticClass:"mr-2",attrs:{color:"red"}},[t._v("mdi-file-pdf")]):t._e(),"png"==a.type||"jpg"==a.type||"jpeg"==a.type?e(b["a"],{staticClass:"mr-2",attrs:{color:"blue-grey darken-1"}},[t._v("mdi-file-image")]):t._e(),t._v(" "+t._s(1==a.tipo_pago?"FACTURA":2==a.tipo_pago?"PERFORMANCE":"OTRO")+" - "+t._s(a.nro_factura)+" ")]}},{key:"item.path",fn:function({item:a}){return[e(i["a"],{attrs:{icon:"",small:""}},[e(b["a"],{staticClass:"btn_add mr-2",attrs:{dense:"",large:"",color:"grey"},nativeOn:{click:function(e){return t.openDoc(a.path)}}},[t._v(" mdi-eye ")])],1)]}},{key:"item.action",fn:function({item:a}){return[e(i["a"],{attrs:{icon:"",small:""}},[e(b["a"],{staticClass:"btn_add mr-2",attrs:{dense:"",large:"",color:"red"},nativeOn:{click:function(e){return t.eliminarProformaFiscal(a.id)}}},[t._v(" mdi-delete ")])],1)]}}],null,!0)})],1)],1)],1),e(u["a"],{attrs:{width:"80%"},model:{value:t.dialogProformaFiscal,callback:function(e){t.dialogProformaFiscal=e},expression:"dialogProformaFiscal"}},[e(s["a"],[e(r["d"],[e("h3",[t._v("Subir Proformas Fiscales de "+t._s(t.house.consigner))])]),e(r["c"],[e(c["a"],[e(S["a"],{attrs:{dense:""}},[e(l["a"],{attrs:{cols:"12",md:"12"}},[e(k["a"],{attrs:{row:""},model:{value:t.proformaFiscal.tipo_pago,callback:function(e){t.$set(t.proformaFiscal,"tipo_pago",e)},expression:"proformaFiscal.tipo_pago"}},[e(C["a"],{attrs:{label:"Factura",value:"1"}}),e(C["a"],{attrs:{label:"Performance",value:"2"}}),e(C["a"],{attrs:{label:"Otro",value:"3"}})],1)],1),e(l["a"],{attrs:{cols:"12",md:"6"}},[e(M["a"],{attrs:{label:"Fecha de Operación","prepend-icon":"mdi-calendar",type:"date",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.proformaFiscal.fecha,callback:function(e){t.$set(t.proformaFiscal,"fecha",e)},expression:"proformaFiscal.fecha"}})],1),e(l["a"],{attrs:{cols:"12",md:"6"}},[e(M["a"],{attrs:{label:"Nro de "+(1==t.proformaFiscal.tipo_pago?"Factura":2==t.proformaFiscal.tipo_pago?"Performance":"Otro")},model:{value:t.proformaFiscal.nro_factura,callback:function(e){t.$set(t.proformaFiscal,"nro_factura",e)},expression:"proformaFiscal.nro_factura"}})],1),e(l["a"],{attrs:{cols:"12",md:"8"}},[e(f["a"],{attrs:{"show-size":"",label:"Adjuntar File de "+(1==t.proformaFiscal.tipo_pago?"Factura":2==t.proformaFiscal.tipo_pago?"Performance":"Otro"),"success-messages":t.msgfile,"error-messages":t.errfile,loading:t.loadingFile},on:{change:t.uploadFileProformaFiscal},model:{value:t.proformaFiscal.archivo,callback:function(e){t.$set(t.proformaFiscal,"archivo",e)},expression:"proformaFiscal.archivo"}})],1)],1)],1)],1),e(r["a"],[e(i["a"],{attrs:{color:"primary",disabled:!t.boolFile},on:{click:function(e){return t.registrarProformaFiscal()}}},[t._v(" GUARDAR "+t._s(1==t.proformaFiscal.tipo_pago?"Factura":2==t.proformaFiscal.tipo_pago?"Performance":"Otro")+" ")]),e(P["a"]),e(i["a"],{attrs:{outlined:"",color:"red"},on:{click:function(e){t.dialogProformaFiscal=!t.dialogProformaFiscal}}},[t._v("Cerrar")])],1)],1)],1),e(u["a"],{attrs:{persistent:"",overlay:!1,"max-width":"70%",transition:"dialog-transition"},model:{value:t.dialogFacturaEmitidas,callback:function(e){t.dialogFacturaEmitidas=e},expression:"dialogFacturaEmitidas"}},[e(s["a"],[e(r["d"],{attrs:{"primary-title":""}},[e("h2",[t._v("Proformas Activas")])]),e(r["c"],{staticClass:"px-5"},[e(I["a"],{attrs:{width:"100%"}},[e("thead",[e("th",[t._v("#")]),e("th",[t._v("Nro Factura")]),e("th",[t._v("Doc. Ref.")]),e("th",[t._v("Monto")]),e("th",[t._v("IGV")]),e("th",[t._v("Total")]),e("th")]),e("tbody",t._l(t.lstFacturasEmitidas,(function(a,o){return e("tr",{key:o},[e("td",[t._v(t._s(o+1))]),e("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(a.nro_factura))]),e("td",{staticStyle:{"text-align":"center"}},[e(b["a"],{attrs:{color:"red"},on:{click:function(e){return t.abrirPdf(a.url_documento)}}},[t._v(" mdi-file-pdf-box ")])],1),e("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(a.total_monto))]),e("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(a.total_igv))]),e("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(a.total))]),e("td",[e(b["a"],{attrs:{color:"red"},on:{click:function(e){return t.eliminarFactura(a.id)}}},[t._v("mdi-delete")])],1)])})),0)]),e(E["a"],{staticClass:"blinking"},[e(b["a"],{attrs:{color:"warning"}},[t._v("mdi-alert")]),t._v(" PARA EDITAR , DEBES ELIMINAR Y VOLVER A GENERAR LA PROFORMA ")],1)],1),e(r["a"],[e(i["a"],{attrs:{color:"error"},on:{click:function(e){t.dialogFacturaEmitidas=!t.dialogFacturaEmitidas}}},[t._v("Cerrar")])],1)],1)],1)],1)}),N=[],D=(a("14d9"),a("13d5"),a("d866"),a("7d54"),a("ab43"),a("9485"),a("a732"),a("c1df")),L=a.n(D),j=a("bc3a"),R=a.n(j),B=a("3d20"),U=a.n(B),G=a("2f62"),H={props:{statusBtn:{default:0,type:Number},prFlag:{default:!1,type:Boolean},opFlag:{default:!1,type:Boolean},ingreso_pr:{default:0,type:Number},ingreso_op:{default:0,type:Number}},data(){return{stepProforma:1,errorCoin:"",dialogFacturaEmitidas:!1,lstFacturasEmitidas:[],nombreProforma:"PROFORMA",openedPanel:null,payfile:[],date:"",number:"",monto:"",tipocambio:"",id_banks:"",id_cuenta_pic:"",id_coins:"",monto_abonado:"",comentario:"",errfile:"",sufmoneda:"",msgfile:"",id_branch:"",obtenerDatosHouse:null,loadingFile:!1,dialogFacturar:!1,dialogNewDebs:!1,dialogIngreso:!1,dialogDebs:!1,dialogDebsEdit:!1,loading:!1,boolFile:!1,house:{debscliente:[]},ingresos:{id:null,concepto:"",statusCalcula:!1,opcion:null,numero:"",fecha:L()(new Date).format("YYYY-MM-DD"),montoop:0,igvop:0,totalop:0,montopr:0,igvpr:0,totalpr:0},headersdebs:[{text:"Documento",align:"start",sortable:!1,value:"name"},{text:"Fecha",value:"date"},{text:"Monto En Dolares",value:"monto_letra"},{text:"Monto en Destino",value:"monto_destino"},{text:"Tipo Moneda En Destino.",value:"symbol_destino"},{text:"Comentario del Usuario.",value:"comentario_usuario"},{text:"Comentario de Admin.",value:"comentario_admin"},{text:"Status",value:"status"},{text:"Ver",value:"accion"}],headersFacturas:[{text:"Concepto",value:"concepto"},{text:"Monto Op",value:"monto_op"},{text:"IGV Op",value:"igv_op"},{text:"Total Op",value:"total_op"}],conceptos:[],selected:[],isDataTableLoading:!1,dialogFacturasFiscales:!1,dialogProformaFiscal:!1,headersFacturasFiscales:[{text:"Nombre",value:"originalname"},{text:"Fecha",value:"fecha"},{text:"Ver",value:"path"},{text:"Acción",value:"action"}],lstFacturasFiscales:[],proformaFiscal:{id_consigner:"",nameconsigner:"",tipo_pago:"1",nro_factura:"",fecha:L()().format("YYYY-MM-DD"),archivo:"",id_master:"",id_correlativo:""},mostrarImpuesto:!0}},async mounted(){this.id_branch=Number(this.$route.params.id_branch),setTimeout(()=>{this.headersFacturas[2].text=this.$store.state.enterprises.impuesto.nombre_impuesto,this.headersFacturas[5].text=this.$store.state.enterprises.impuesto.nombre_impuesto,this.mostrarImpuesto=this.$store.state.enterprises.impuesto.mostrarimpuesto,this.mostrarImpuesto||(this.headersFacturas.splice(2,1),this.headersFacturas.splice(4,1))},2e3)},methods:{_openDebs(t){this.house=t,this.dialogDebs=!0},handleNuevoIngreso(t,e){this.nuevoIngreso(e),this.abrirExpandIngreso(t)},formatUsd(t){return parseFloat(t).toFixed(2)+" USD"},openDoc(t){window.open(t,"_blank")},copiarMontosHouse(t,e){console.log(t),e||U.a.fire({icon:"question",title:"Copiar Montos de Pricing a Operaciones",text:`¿Desea copiar los Montos del house ${t.code_house} Pricing a Operaciones `,allowEnterKey:!1,allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!1,showDenyButton:!0,confirmButtonText:"Copiar",denyButtonText:"Cancelar"}).then(async e=>{e.isConfirmed&&(await this.copiarCGingresos({id_orders:t.id_orders}),await this.getListControlGastos(this.$route.params.id))})},_newDebs(){this.loading=!1,this.boolFile=!1,this.payfile=[],this.date="",this.number="",this.monto="",this.tipocambio="",this.id_banks="",this.id_cuenta_pic="",this.id_coins="",this.monto_abonado="",this.comentario="",this.$store.state.files.payPath=null,this.dialogNewDebs=!0},abrirExpandIngreso(t){this.$store.state.controlGastos.listControlGastos[0].master_houses[t].isExpanded=!this.$store.state.controlGastos.listControlGastos[0].master_houses[t].isExpanded},editIngreso(t){this.statusBtn=2,this.ingresos={id:t.id,concepto:t.concepto,statusCalcula:0!=this.igv_pr||0!=this.igv_op,numero:"",fecha:L()(new Date).format("YYYY-MM-DD"),montoop:t.monto_op,igvop:t.igv_op,totalop:t.total_op,montopr:t.monto_pr,igvpr:t.igv_pr,totalpr:t.total_pr,opcion:t.tipo_pago,numero:t.numero,fecha:t.fecha},this.dialogIngreso=!0},abrirModalFacturar(t){this.stepProforma=1,this.house=t,this.selected=[],this.conceptos=t.ingresos,this.obtenerDatos(),this.id_coins="",this.dialogFacturar=!0},async nuevoControlGasto(t){t.id_master=this.$route.params.id;let e=this;await e.setControl(t),await e.getListControlGastos(this.$route.params.id),e.$store.state.spiner=!1},obtenerMoneda(){let t=[...this.$store.state.itemsCoinsList];this.sufmoneda=t.filter(t=>t.id==this.id_coins)[0].symbol,"USD"==this.sufmoneda?this.tipocambio=1:this.tipocambio=this.tipocambio},calcularMontoDolar(){this.monto=parseFloat((this.monto_abonado?this.monto_abonado:0)/this.tipocambio).toFixed(2)},async _setDebsClient(){if(this.calcularMontoDolar(),this.loading=!0,this.$refs.frmNuevoAbono.validate()){var t=this;t.$swal({icon:"info",title:"Cargando pago...",text:"Por favor espere"});var e={id_house:this.house.id_house,date:t.date,number:t.number,id_banks:t.id_banks,monto:t.monto,comentario_usuario:t.comentario,id_path:t.$store.state.files.payPath,id_cuenta_pic:t.id_cuenta_pic,tipocambio:t.tipocambio,id_moneda_destino:t.id_coins,monto_destino:t.monto_abonado,nro_operacion:t.number},a={method:"post",url:"https://api.agentedecargaonline.com/setDebsClient",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await R()(a).then((function(e){t.dialogNewDebs=!1,t.dialogDebs=!1,t.listControlGasto(t.$route.params.code_master),t.cleandData(),t.$swal({icon:"success",title:"Pago Cargado",text:"El pago ha sido cargado correctamente"})})).catch((function(t){console.log(t)}))}this.loading=!1},async listControlGasto(){this.$store.state.spiner=!0,await this.getListControlGastos(this.$route.params.id),this.$store.state.spiner=!1},async uploadFile(){this.msgfile="",this.errfile="",this.payfile?(this.loadingFile=!0,await this._uploadFile(this.payfile),this.loadingFile=!1,this.$store.state.files.payPath?this.msgfile="Archivo cargado":this.errfile="Comuniquese con el admistrador"):this.errfile="Dato Requerido"},nuevoIngreso(t){this.statusBtn=1,this.ingresos={id:null,concepto:"",statusCalcula:!1,opcion:null,numero:"",fecha:L()(new Date).format("YYYY-MM-DD"),montoop:0,igvop:0,totalop:0,montopr:0,igvpr:0,totalpr:0},this.house=t,this.dialogIngreso=!0},calcular(){this.ingresos.statusCalcula?(this.ingresos.igvop=parseFloat(this.ingresos.montoop*this.$store.state.enterprises.impuesto.impuesto/100).toFixed(2),this.ingresos.igvpr=parseFloat(this.ingresos.montopr*this.$store.state.enterprises.impuesto.impuesto/100).toFixed(2),this.ingresos.totalop=parseFloat(this.ingresos.montoop)+parseFloat(this.ingresos.igvop),this.ingresos.totalpr=parseFloat(this.ingresos.montopr)+parseFloat(this.ingresos.igvpr)):(this.ingresos.igvop=0,this.ingresos.igvpr=0,this.ingresos.totalop=parseFloat(this.ingresos.montoop)+parseFloat(this.ingresos.igvop),this.ingresos.totalpr=parseFloat(this.ingresos.montopr)+parseFloat(this.ingresos.igvpr))},editarDebs(t){this.id=t.id,this.date=t.date,this.number=t.number,this.monto=t.monto,this.tipocambio=t.tipocambio,this.id_banks=t.id_banks,this.id_cuenta_pic=t.id_cuenta_pic,this.id_coins=t.id_moneda_destino,this.monto_abonado=t.monto_destino,this.comentario=t.comentario_usuario,this.dialogDebsEdit=!0},cleandData(){this.date=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),this.number="",this.monto=0,this.comentario="",this.payfile=[],this.payPath="",this.boolFile=!1,this.id_cuenta_pic="",this.tipocambio=1,this.id_coins="",this.monto_abonado="",this.number=""},async _delDebsClient(t){var e=this,a={method:"post",url:"https://api.agentedecargaonline.com/delDebsClient/"+t,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await R()(a).then((function(t){e.listControlGasto(),e.dialogDebs=!1})).catch((function(t){console.log(t)}))},async editIngresos(){let t={code_master:this.$route.params.code_master,concepto:this.ingresos.concepto,monto_pr:this.ingresos.montopr,monto_op:this.ingresos.montoop,igv_pr:this.ingresos.igvpr,igv_op:this.ingresos.igvop,total_pr:this.ingresos.totalpr,total_op:this.ingresos.totalop,tipo_pago:this.ingresos.opcion,numero:this.ingresos.numero,fecha:this.ingresos.fecha,id:this.ingresos.id};await this.actualizarIngresos(t),await this.getListControlGastos(this.$route.params.id),this.statusBtn=1,this.dialogIngreso=!1,this.$forceUpdate(),this.$emit("recalcularProfit")},async delIngreso(t){let e={code_master:this.$route.params.code_master,id:t};await this.eliminarIngreso(e),await this.getListControlGastos(this.$route.params.id),this.$emit("recalcularProfit")},async setIngresos(){if(this.$refs.frmIngreso.validate()){var t={code_master:this.$route.params.code_master,id_orders:this.house.id_orders,concepto:this.ingresos.concepto,monto_op:this.ingresos.montoop,igv_op:this.ingresos.igvop,total_op:this.ingresos.totalop,monto_pr:this.ingresos.montopr,igv_pr:this.ingresos.igvpr,total_pr:this.ingresos.totalpr,id_user:JSON.parse(sessionStorage.getItem("dataUser"))[0].id,tipo_pago:this.ingresos.opcion,numero:this.ingresos.numero,fecha:this.ingresos.fecha,id_master:this.$route.params.id};await this.guardarIngresos(t),this.dialogIngreso=!1,this.$emit("recalcularProfit")}},async actualizar(){if(this.$refs.frmNuevoAbono.validate()){var t=this;t.$swal({icon:"info",title:"Cargando pago...",text:"Por favor espere"});var e={id_house:this.house.id_house,date:t.date,number:t.number,id_banks:t.id_banks,monto:t.monto,comentario_usuario:t.comentario,id_path:t.payPath,id_cuenta_pic:t.id_cuenta_pic,tipocambio:t.tipocambio,id_moneda_destino:t.id_coins,monto_destino:t.monto_abonado,nro_operacion:t.number,id:t.id},a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_debs_client",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await R()(a).then((function(e){t.cleandData(),t.$swal({icon:"success",title:"Pago Cargado",text:"El pago ha sido cargado correctamente"}).then(e=>{e.isConfirmed&&(t.dialogDebsEdit=!1,t.dialogDebs=!1,t.listControlGasto())})})).catch((function(t){console.log(t)}))}},async obtenerDatos(){let t=this;t.obtenerDatosHouse=!0,t.datosFactura=[];var e={method:"get",url:`https://api.agentedecargaonline.com/data_factura/${t.house.id_house}/${t.id_branch}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await R()(e).then((function(e){1==e.data.statusBol&&(t.datosFactura=e.data.data[0])})),t.obtenerDatosHouse=!1},async generarDocumento(){if(this.errorCoin="",!this.id_coins)return this.errorCoin="Seleccione una moneda",void this.$refs.coinSelect.focus();let t=this,e=[...this.$store.state.itemsCoinsList];const a=e.find(e=>e.id===t.id_coins);a&&(t.datosFactura.coins=a.symbol),t.datosFactura.details=t.selected.map(t=>({concepto:t.concepto,id_orders:t.id_orders,igv:t.igv_op,monto:t.monto_op,total:t.total_op})),t.id_house=t.selected[0].id_house;let o=0,i=0,s=0;t.selected.forEach(t=>{o=parseFloat(o)+parseFloat(t.total_op),i=parseFloat(i)+parseFloat(t.igv_op),s=parseFloat(s)+parseFloat(t.monto_op)}),t.datosFactura.total=parseFloat(o).toFixed(2),t.datosFactura.url_logo=JSON.parse(sessionStorage.getItem("dataUser"))[0].path,t.datosFactura.total_igv=parseFloat(i).toFixed(2),t.datosFactura.total_monto=parseFloat(s).toFixed(2),t.datosFactura.nombreProforma=t.nombreProforma,t.obtenerDatosHouse=!0;let r=t.datosFactura;var n={method:"post",url:"https://api.agentedecargaonline.com/generar_factura",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:r};let l=await R()(n).then((function(t){return t}));1==l.data.statusBol&&(t.registrarFactura(l.data),t.dialogFacturar=!1,t.nombreProforma="PROFORMA"),t.obtenerDatosHouse=!1},async registrarFactura(t){let e=this,a={id_house:e.id_house,id_coins:e.id_coins,nro_factura:t.nro_factura,url_documento:"https://api.agentedecargaonline.com/"+t.path,total_monto:e.datosFactura.total_monto,total_igv:e.datosFactura.total_igv,total:e.datosFactura.total,details:e.selected};var o={method:"post",url:"https://api.agentedecargaonline.com/registrar_factura",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await R()(o),window.open("https://api.agentedecargaonline.com/"+t.path,"_blank"),e.listControlGasto()},isBotonEmitirProformaDisabled(t={}){let e=!1;return(0==t.total_total_pr_ingresos&&0==t.total_total_op_ingresos||t.ingresos.every(t=>t.facturado))&&(e=!e),e},getDeudaActual(t={}){let{ingresos:e=[],total_total_op_ingresos:a=0}=t,o=e.reduce((t,e)=>e.facturado?t+(parseFloat(e.total_op)||0):t,0),i=parseFloat(a)-parseFloat(o.toFixed(2));return 0!=i?i.toFixed(2):0},async abrirModalFacturasFiscales(t={}){var e=this;e.house=t,e.dialogFacturasFiscales=!0,e.isDataTableLoading=!0,await e.getFacturasFiscales(t),e.isDataTableLoading=!1},cargarProformaFiscal(){var t=this;t.boolFile=!1,t.msgfile="",t.errfile="",t.proformaFiscal={...t.proformaFiscal,tipo_pago:"1",nro_factura:"",fecha:L()().format("YYYY-MM-DD"),archivo:null,status:1,id_house:t.house.id_house},t.dialogProformaFiscal=!0},async uploadFileProformaFiscal(){var t=this;t.boolFile=!1,t.msgfile="",t.errfile="",t.proformaFiscal.archivo?(t.loadingFile=!0,await t._uploadFile(t.proformaFiscal.archivo),t.loadingFile=!1,t.$store.state.files.payPath?(t.boolFile=!0,t.msgfile="Archivo cargado",t.proformaFiscal={...t.proformaFiscal,id_path:t.$store.state.files.payPath}):t.errfile="Comuniquese con el administrador"):t.errfile="Dato Requerido"},async registrarProformaFiscal(){var t=this;t.$swal({icon:"info",title:"Guardando...",text:"Por favor, espere"});var e={method:"post",url:"https://api.agentedecargaonline.com/setProformaFiscal",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:t.proformaFiscal};await R()(e).then((async function(e){sessionStorage.setItem("auth-token",e.data.token),e.data.estadoflag?(t.$swal({icon:"success",title:"Documento Cargado",text:"El documento ha sido cargado correctamente"}),await t.getFacturasFiscales(t.house)):U.a.fire({icon:"error",text:e.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==e.data.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})})),t.dialogProformaFiscal=!t.dialogProformaFiscal},async getFacturasFiscales(t={}){var e=this,a={method:"get",url:"https://api.agentedecargaonline.com/getFacturasFiscales?id_house="+t.id_house,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await R()(a).then((function(t){sessionStorage.setItem("auth-token",t.data.token),t.data.data[0].estadoflag?e.lstFacturasFiscales=t.data.data:e.lstFacturasFiscales=[]})).catch((function(t){console.log(t)}))},async eliminarProformaFiscal(t=""){var e=this,a={method:"post",url:"https://api.agentedecargaonline.com/delProformaFiscal/"+t,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await R()(a).then((async function(t){sessionStorage.setItem("auth-token",t.data.token),t.data.estadoflag?(e.$swal({icon:"success",title:"Información",text:t.data.mensaje}),e.isDataTableLoading=!0,await e.getFacturasFiscales(e.house),e.isDataTableLoading=!1):U.a.fire({icon:"error",text:t.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(e=>{e.isConfirmed&&"401"==t.data.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})})).catch((function(t){console.log(t)}))},activarFactura(t){t.verFactura=!t.verFactura,this.$forceUpdate()},async verProformas(t){let e=this;var a={method:"get",url:"https://api.agentedecargaonline.com/ver_factura_house",params:{id:t.id_house},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await R()(a).then((function(t){if(t.data.estadoflag){t.data.data;e.lstFacturasEmitidas=t.data.data,e.dialogFacturaEmitidas=!0}}))},abrirPdf(t){window.open(t,"_blank")},async eliminarFactura(t){this.dialogFacturaEmitidas=!1;let e=!1,a="";if(await U.a.fire({title:"Ingrese sus datos Administrador",html:'<input id="swal-input1" class="swal2-input" placeholder="Nombre"><input id="swal-input2" type="password" class="swal2-input" placeholder="Clave">',showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",focusConfirm:!1,didOpen:()=>{document.getElementById("swal-input1").focus()},preConfirm:()=>{const t=document.getElementById("swal-input1").value,e=document.getElementById("swal-input2").value;return t&&e?{usuario:t,clave:e}:(U.a.showValidationMessage("Por favor, complete ambos campos"),!1)}}).then(async t=>{if(t.isConfirmed&&t.value){const o=await this.validarUsuarioAdmin(t.value);e=!0===o.estadoflag,a=o.mensaje}}),!e)return void(a&&await U.a.fire({icon:"error",text:a}));const o={id:t},i={method:"put",url:"https://api.agentedecargaonline.com/anular_factura",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:o};try{const t=await R()(i);console.log(t),await U.a.fire("¡Anulada!","Factura anulada correctamente.","success"),this.$emit("recargarDatos")}catch(s){console.error(s),U.a.fire("Error","Ocurrió un problema al anular la factura.","error")}},...Object(G["b"])(["setControl","guardarIngresos","_uploadFile","getListControlGastos","delDebsClient","data_factura","generar_factura","registrar_factura","actualizarIngresos","eliminarIngreso","validarUsuarioAdmin","copiarCGingresos"]),bloquearCopiarMontos(t){return t.some(t=>t.facturado)}},computed:{}},J=H,V=(a("dedb"),a("2877")),z=Object(V["a"])(J,A,N,!1,null,"fa8450a6",null);e["default"]=z.exports},9907:function(t,e,a){},9971:function(t,e,a){"use strict";a.r(e);var o=a("c6a6"),i=a("8336"),s=a("b0af"),r=a("99d9"),n=a("cc20"),l=a("62ad"),c=a("a523"),d=a("8fea"),u=a("2e4b"),p=a("169a"),m=a("23a7"),h=a("132d"),_=a("e449"),g=a("8e36"),f=a("0fd9"),v=a("2fa4"),b=a("8654"),C=function(){var t=this,e=t._self._c;return e("div",[e(s["a"],{staticClass:"mx-auto",attrs:{elevation:"0"}},[e(r["d"],[e("h3",[t._v("Solicitudes de Pago")])]),e(r["b"],[e(f["a"],[e(l["a"],{attrs:{cols:"6"}},[e(b["a"],{attrs:{"append-icon":"mdi-magnify",label:"Buscar solicitud"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e(l["a"],{staticClass:"ml-auto",attrs:{cols:"6"}},[e(i["a"],{attrs:{text:"",color:"orange"},on:{click:function(e){return t.abrirPagoProveedor()}}},[t._v(" NUEVO PAGO "),e(h["a"],[t._v(" mdi-cash-check ")])],1)],1)],1)],1),t.dataList?t._e():e(c["a"],{staticStyle:{height:"400px"}},[e(f["a"],{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[e(l["a"],{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[t._v(" Cargando informacíon ")]),e(l["a"],{attrs:{cols:"6"}},[e(g["a"],{attrs:{color:"deep-purple accent-4",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1),t.dataList?e(d["a"],{attrs:{headers:t.headersPdf,items:t.itemsSPayment,search:t.search},scopedSlots:t._u([{key:"item.status",fn:function({item:a}){return[2==a.status&&0==a.ajusteflag?e(n["a"],{staticClass:"ma-2",attrs:{color:"orange","text-color":"white"}},[t._v(" "+t._s(2==a.status?"Pendiente":"")+" ")]):t._e(),3==a.status&&0==a.ajusteflag?e(n["a"],{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[t._v(" "+t._s(3==a.status?"Pagado":"")+" ")]):t._e(),1==a.ajusteflag?e(n["a"],{staticClass:"ma-2",attrs:{color:"blue","text-color":"white"}},[t._v(" AJUSTADO ")]):t._e()]}},{key:"item.accion",fn:function({item:a}){return[e(h["a"],{staticClass:"mr-2",on:{click:function(e){return t.viewPdf(a.path)}}},[t._v(" mdi-eye ")])]}},{key:"item.pago_completo",fn:function({item:a}){return[0==a.pago_completo?e(n["a"],{staticClass:"ma-2",attrs:{color:"orange","text-color":"white"}},[t._v(" "+t._s(0==a.pago_completo?"POR COBRAR":"")+" ")]):t._e(),1==a.pago_completo?e(n["a"],{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[t._v(" "+t._s(1==a.pago_completo?"COBRADO":"")+" ")]):t._e()]}},{key:"item.invoice",fn:function({item:a}){return[e(h["a"],{staticClass:"mr-2",on:{click:function(e){return t.openInvoice(a.id_proveedor,a.id_house,a.namelong)}}},[t._v(" mdi-eye ")])]}},{key:"item.inst",fn:function({item:a}){return[e(h["a"],{staticClass:"mr-2",on:{click:function(e){return t.editControl(a.code_master)}}},[t._v(" mdi-eye ")])]}},{key:"item.accions",fn:function({item:a}){return[3==a.status&&1==t.security?e(h["a"],{staticClass:"mr-2",attrs:{color:"blue-grey darken-2"},on:{click:function(e){return t.reversar(a)}}},[t._v(" mdi-undo-variant ")]):t._e(),3==a.status?e(h["a"],{staticClass:"mr-2",attrs:{large:"",color:"green"},on:{click:function(e){return t.openPaymentFile(a.id,a.pathfile,a.namelong)}}},[t._v(" mdi-eye ")]):t._e()]}}],null,!0)}):t._e()],1),e(p["a"],{attrs:{width:"700",persistent:""},model:{value:t.dialogProcess,callback:function(e){t.dialogProcess=e},expression:"dialogProcess"}},[e(s["a"],[e(r["d"],[e("h3",[t._v(" Procesar Pago del Exp. "+t._s(t.paymentMaster)+" por el Monto de "+t._s(t.paymentmonto)+" USD "),e("br"),t._v(" "+t._s(t.nameproveedor)+" ")])]),e(r["c"],[e(c["a"],[e(f["a"],{attrs:{dense:""}},[e(l["a"],{attrs:{cols:"12",md:"6"}},[e(_["a"],{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(b["a"],t._g(t._b({attrs:{label:"Fecha de Operación","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",o,!1),a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e(u["a"],{attrs:{locale:"es-pe","no-title":"",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[e(v["a"]),e(i["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),e(i["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v(" OK ")])],1)],1)],1),e(l["a"],{attrs:{cols:"12",md:"6"}},[e(b["a"],{attrs:{label:"No. Operación"},model:{value:t.payoperacion,callback:function(e){t.payoperacion=e},expression:"payoperacion"}})],1),e(l["a"],{attrs:{cols:"12",md:"4"}},[e(o["a"],{attrs:{items:t.$store.state.itemsDataBanksList,"item-text":"acronym","item-value":"id",label:"Banco"},model:{value:t.paybanco,callback:function(e){t.paybanco=e},expression:"paybanco"}})],1),e(l["a"],{attrs:{cols:"12",md:"4"}},[e(o["a"],{attrs:{items:t.$store.state.itemsCoinsList,"item-text":"acronym","item-value":"id",label:"Moneda"},model:{value:t.paymoneda,callback:function(e){t.paymoneda=e},expression:"paymoneda"}})],1),e(l["a"],{attrs:{cols:"12",md:"4"}},[e(b["a"],{attrs:{type:"number",label:"Monto"},model:{value:t.paymonto,callback:function(e){t.paymonto=e},expression:"paymonto"}})],1),e(l["a"],{attrs:{cols:"12",md:"9"}},[t.boolFile?t._e():e(m["a"],{attrs:{"show-size":"",label:"Adjuntar Pago"},model:{value:t.payfile,callback:function(e){t.payfile=e},expression:"payfile"}}),t.boolFile?e(n["a"],{attrs:{block:"",large:"",color:"success",outlined:""}},[e(h["a"],{attrs:{left:""}},[t._v(" mdi-check ")]),t._v(" Archivo cargado éxitosamente ")],1):t._e()],1),e(l["a"],{attrs:{cols:"3"}},[e(i["a"],{staticClass:"ma-2 white--text",attrs:{disabled:t.boolFile||t.payfile==[],color:"blue-grey",block:"",large:""},on:{click:function(e){return t._uploadFile()}}},[t._v(" Subir "),e(h["a"],{attrs:{right:"",dark:""}},[t._v(" mdi-cloud-upload ")])],1)],1)],1)],1)],1),e(r["a"],[e(i["a"],{attrs:{color:"primary",disabled:!t.boolFile},on:{click:function(e){return t._setSPaymentFile()}}},[t._v("Procesar Pago")]),e(v["a"]),e(i["a"],{attrs:{outlined:"",color:"red"},on:{click:function(e){t.dialogProcess=!t.dialogProcess}}},[t._v("Cerrar")])],1)],1)],1),e(p["a"],{attrs:{"max-width":"800"},model:{value:t.dialogListInvoince,callback:function(e){t.dialogListInvoince=e},expression:"dialogListInvoince"}},[e(s["a"],[e(r["d"],[t._v(" Facturas y Performance de "+t._s(t.nameproveedor)+" "),e(v["a"])],1),e(r["c"],[e(d["a"],{staticClass:"elevation-0",attrs:{headers:t.headersInvoice,items:t.itemsListInvoice,dense:"","item-key":"id"},scopedSlots:t._u([{key:"item.originalname",fn:function({item:a}){return["pdf"==a.type?e(h["a"],{staticClass:"mr-2",attrs:{color:"red"}},[t._v("mdi-file-pdf")]):t._e(),"png"==a.type||"jpg"==a.type||"jpeg"==a.type?e(h["a"],{staticClass:"mr-2",attrs:{color:"blue-grey darken-1\n"}},[t._v("mdi-file-image")]):t._e(),t._v(" "+t._s(1==a.type_pago?"FACTURA":"PERFORMANCE")+" - "+t._s(a.number)+" ")]}},{key:"item.path",fn:function({item:a}){return[e(h["a"],{staticClass:"btn_add mr-2",attrs:{dense:"",large:"",color:"grey"},on:{click:function(e){return t.openDoc(a.path)}}},[t._v("mdi-eye")])]}}],null,!0)})],1)],1)],1),e(p["a"],{attrs:{width:"80%"},model:{value:t.dialogPath,callback:function(e){t.dialogPath=e},expression:"dialogPath"}},[e(s["a"],[e(r["d"]),e(r["c"],[e(f["a"],[e(l["a"],{attrs:{cols:"4"}},[e("h2",[t._v("Proveedor")]),e("p",{staticClass:"text-h4 mt-2"},[t._v(t._s(t.nameproveedor))]),e("h2",[t._v("Conceptos pagados")]),t._l(t.itemsSPaymentConceptos,(function(a){return e("p",{key:a.id,staticClass:"mt-5"},[t._v(" "+t._s(a.name)+" ")])}))],2),e(l["a"],{attrs:{cols:"8"}},[e("iframe",{attrs:{src:t.pathfileAll,width:"100%",height:"800px",frameborder:"0"}})])],1)],1)],1)],1),e(p["a"],{attrs:{"max-width":"80%",fullscreen:"",transition:"dialog-transition",persistent:""},model:{value:t.dialogPagoControlGasto,callback:function(e){t.dialogPagoControlGasto=e},expression:"dialogPagoControlGasto"}},[e("ModalPagoControlGastoComponent",{attrs:{limpar:!0},on:{cerrarModal:t.onCerrarModal}})],1)],1)},k=[],S=(a("e9f5"),a("910d"),a("bc3a")),y=a.n(S),I=a("3d20"),P=a.n(I),x=a("2f62"),T={props:["filtrarFlag"],name:"RequestPayment",components:{ModalPagoControlGastoComponent:()=>Promise.all([a.e("chunk-368417d2"),a.e("chunk-3fa7a68d")]).then(a.bind(null,"7006"))},data:()=>({itemsSPayment:[],search:"",dialogPagoControlGasto:!1,dialogProcess:!1,idProveedor:184,date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),menu:!1,modal:!1,menu2:!1,security:JSON.parse(sessionStorage.getItem("security")),payoperacion:"",paybanco:"",paymoneda:"",paymonto:"",payfile:"",itemsSPaymentConceptos:[],dialogPath:!1,pathfile:"",sPaymentId:"",paymentname:"",paymentMaster:"",paymentmonto:"",payPath:"",nameproveedor:"",dialogListInvoince:!1,itemsListInvoice:[],pathfileAll:"",boolFile:!1,headersInvoice:[{text:"Nombre",value:"originalname"},{text:"Fecha",value:"date_letra"},{text:"Ver",value:"path"}],headersPdf:[{text:"Expediente",value:"nro_master"},{text:"Fecha de Disponibilidad",value:"fecha_disponibilidad"},{text:"Proveedor",value:"name_proveedor"},{text:"Quote",value:"id_cot"},{text:"Monto",value:"monto_letra"},{text:"Consignatario",value:"name_cosigner"},{text:"Ver Facturas",value:"invoice"},{text:"Ver Solicitud",value:"accion"},{text:"Ver Instructivo",value:"inst"},{text:"Status de Cobro al cliente",value:"pago_completo"},{text:"Ganancia",value:"ganancia"},{text:"Status",value:"status"},{text:"Cargar Soporte de Pago",value:"accions"}],dataList:!1}),async mounted(){this.$store.state.spiner=!0,await this._getRequestPayment(),await this._getBanksList(),await this._getCoinsList(),this.$store.state.spiner=!1},methods:{...Object(x["b"])(["_getBanksList","_getCoinsList"]),onCerrarModal(t){t&&(this.dialogPagoControlGasto=!t)},processPayment(t,e,a,o,i){this.sPaymentId=t,this.paymentname=e,this.paymentMaster=a,this.paymentmonto=o,this.nameproveedor=i,this._getRequestPaymentConceptos(this.sPaymentId),this.dialogProcess=!0},openDoc(t){window.open(t,"_blank")},openPaymentFile(t,e,a){this.pathfileAll=e,this.dialogPath=!0,this.nameproveedor=a,this._getRequestPaymentConceptos(t)},openInvoice(t,e,a){this._getInvoice(t,e),this.nameproveedor=a},async _getInvoice(t,e){var a=this,o={id_house:e,id_proveedor:t,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},i={method:"post",url:"https://api.agentedecargaonline.com/getListInvoice",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:o};await y()(i).then((function(t){a.dialogListInvoince=!0,a.itemsListInvoice=t.data.data})).catch((function(t){console.log(t)}))},_uploadFile(){var t=a("5a30"),e=(a("3e8f"),new t),o=this;e.append("name","Prueba"),e.append("file",o.payfile);var i={method:"post",url:"https://api.agentedecargaonline.com/uploadAllPath",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};y()(i).then((function(t){o.boolFile=!0,o.payPath=JSON.stringify(t.data.data[0].insertid)})).catch((function(t){console.log(t)}))},editControl(t){window.open("/home/folderBilling/editControlGastos/view/"+t,"Instructivo","width=1593,height=1293","menubar=no","location=no","resizable=no")},cleandData(){this.date="",this.payoperacion="",this.paybanco="",this.paymoneda="",this.paymonto="",this.payPath=[],this.payFile="",this.pathfile="",this.boolFile=!1,setTimeout(()=>{this._getRequestPayment()},1e3)},async _setSPaymentFile(){var t=this;t.$swal({icon:"info",title:"Procesando pago...",text:"Por favor espere"});var e={fecha_operacion:t.date,nro_operacion:t.payoperacion,id_banks:t.paybanco,id_coins:t.paymoneda,monto:t.paymonto,id_path:t.payPath,status:1,id_request:t.sPaymentId,itemsSPaymentConceptos:t.itemsSPaymentConceptos},a={method:"post",url:"https://api.agentedecargaonline.com/setSPaymentFile/",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await y()(a).then((function(e){t.$swal({icon:"success",title:"Pago Procesado",text:"El pago ha sido procesado correctamente"}),t.cleandData(),t.dialogProcess=!1})).catch((function(t){console.log(t)}))},async _getRequestPayment(){var t=this,e={method:"post",url:"https://api.agentedecargaonline.com/getRequestPayment",data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await y()(e).then((function(e){t.itemsSPayment=e.data.data,t.dataList=!0})).catch((function(t){console.log(t)}))},async _getRequestPaymentConceptos(t){var e=this,a={method:"post",url:"https://api.agentedecargaonline.com/getRequestPaymentConceptos/"+t,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await y()(a).then((function(t){e.itemsSPaymentConceptos=t.data.data})).catch((function(t){console.log(t)}))},viewPdf(t){window.open("https://api.agentedecargaonline.com/"+t,"_blank")},abrirPagoProveedor(t){this.dialogPagoControlGasto=!0,this.$store.state.limpiar=!this.$store.state.limpiar},async reversar(t){P.a.fire({title:"Aviso",text:"¿Esta seguro que quiere reversar la confirmación de esta cuenta por pagar?",icon:"question",confirmButtonText:"Si",denyButtonText:"No",showDenyButton:!0}).then(e=>{e.isConfirmed&&this.reversarProceso(t)})},async reversarProceso(t){let e=this;var a={method:"put",url:"https://api.agentedecargaonline.com/reversar_debsproveedor",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id:t.id}};await y()(a).then((function(t){let a=t.data.data;P.a.fire({title:"Aviso",text:a[0].mensaje,icon:"info"}),e.getDebs()})).catch((function(t){console.log(t)}))},async getDebs(){this.$store.state.spiner=!0,await this._getRequestPayment(),this.$store.state.spiner=!1}},computed:{...Object(x["c"])(["actualizar"])},watch:{filtrarFlag(){1==this.filtrarFlag&&(this.itemsSPayment=this.itemsSPayment.filter(t=>2==t.status))},actualizar(){this.dataList=!1,this.itemsSPayment=[],setTimeout(()=>{this._getRequestPayment(),this._getBanksList(),this._getCoinsList()},100)}}},$=T,E=a("2877"),w=Object(E["a"])($,C,k,!1,null,null,null);e["default"]=w.exports},9984:function(t,e,a){"use strict";a.r(e);var o=a("c6a6"),i=a("8336"),s=a("b0af"),r=a("99d9"),n=a("ac7c"),l=a("cc20"),c=a("62ad"),d=a("a523"),u=a("8fea"),p=a("169a"),m=a("ce7e"),h=a("cd55"),_=a("49e2"),g=a("c865"),f=a("0393"),v=a("23a7"),b=a("4bd4"),C=a("132d"),k=a("8e36"),S=a("67b6"),y=a("43a6"),I=a("0fd9"),P=a("9e88"),x=a("1f4f"),T=a("2fa4"),$=a("7e85"),E=a("e516"),w=a("9c54"),M=a("56a4"),O=a("b73d"),F=a("8654"),A=a("a844"),N=a("71d9"),D=a("2a7f"),L=a("3a2f"),j=function(){var t=this,e=t._self._c;return e("div",{},[e("h3",[t._v(" Costos -------------------------------- | Pricing: "+t._s(parseFloat(t.egreso_pr).toFixed(2))+" USD /------ Operaciones: "+t._s(parseFloat(t.egreso_op).toFixed(2))+" USD "),e(T["a"]),e(i["a"],{attrs:{color:"blue",dark:"",small:""},on:{click:function(e){return t.nuevoEngreso()}}},[t._v(" Nuevo Control Gastos Egresos ")])],1),e(f["a"],{attrs:{accordion:""}},t._l(t.$store.state.controlGastos.listControlGastos[0]&&t.$store.state.controlGastos.listControlGastos[0].master_egresos||[],(function(a,o){return e(h["a"],{key:o,attrs:{value:a.isExpanded}},[e(g["a"],{on:{click:function(e){return e.stopPropagation(),t.abrirExpandEgreso(o)}},scopedSlots:t._u([{key:"actions",fn:function(){return[e(C["a"],{on:{click:function(e){return t.abrirExpandEgreso(o)}}},[t._v("mdi-unfold-more-horizontal")])]},proxy:!0}],null,!0)},[e(x["a"],{attrs:{dense:""}},[e("thead",[e("tr",[e("th",{attrs:{width:"28%"}},[t._v("Proveedor")]),e("th",{staticStyle:{background:"#d6f4ff"},attrs:{width:"12%"}},[t._v("Total Pricing")]),e("th",{staticStyle:{background:"#ffd6d6"},attrs:{width:"12%"}},[t._v(" Total Operaciones ")]),e("th",{staticStyle:{background:"#fff9c4"},attrs:{width:"12%"}},[t._v("Deuda Actual")]),e("th",{attrs:{width:"12%"}}),e("th",{staticClass:"text-left",attrs:{width:"12%"}},[t._v("Facturas o Proformance")]),e("th",{staticClass:"text-left",attrs:{width:"12%"}},[t._v("Generar PDF de pago")]),e("th",{staticClass:"text-left",attrs:{width:"12%"}},[t._v(" Solicitar a Administración ")])])]),e("tbody",[e("tr",[e("td",[t._v(" "+t._s(a.nombre_proveedor)+" "),"01"===a.code_tipo_proveedor?e(i["a"],{attrs:{icon:"",color:"success"},on:{click:function(e){return t.abrirModalPorcentajeProveedor(a)}}},[e(C["a"],[t._v("mdi-percent-box-outline")])],1):t._e()],1),e("td",[t._v(t._s(a.total_total_pr))]),e("td",[t._v(t._s(a.total_total_op))]),e("td",[t._v(t._s(t.getDeudaActual(a)))]),e("td",[t.bloquearCopiarMontos(a.detalle)?e(L["a"],{attrs:{bottom:"",color:"error"},scopedSlots:t._u([{key:"activator",fn:function({on:o,attrs:s}){return[e(i["a"],t._g(t._b({attrs:{color:"success","x-small":""},on:{click:function(e){t.copiarMontos(null,t.bloquearCopiarMontos(a.detalle))}}},"v-btn",s,!1),o),[t._v(" Copiar Montos Pr->Op ")])]}}],null,!0)},[e("span",[t._v(" No se Puede Copiar porqué ya existe Montos Facturados ")])]):e(i["a"],{attrs:{color:"success","x-small":""},on:{click:function(e){t.abriModalCopiar(a,t.bloquearCopiarMontos(a.detalle))}}},[t._v(" Copiar Montos Pr->Op ")])],1),e("td",[e(i["a"],{attrs:{icon:"",small:"",loading:t.loading,color:a.docs>0?"blue":"grey"},on:{click:function(e){return e.stopPropagation(),t.abrirExpandEgreso(o)}},nativeOn:{click:function(e){return t.openInvoice(a)}}},[e(C["a"],[t._v("mdi-file-compare")])],1)],1),e("td",[e(i["a"],{attrs:{small:"",color:"white",icon:""},on:{click:[function(e){return e.stopPropagation(),t.validarSolicitudPago(a)},function(e){return t.abrirExpandEgreso(o)}]}},[e(C["a"],{attrs:{color:"blue"}},[t._v("mdi-send")])],1)],1),e("td",[e(i["a"],{attrs:{small:"",color:a.solicitudes>0?"blue":"grey",icon:"",disabled:!(a.solicitudes&&a.solicitudes>0)},on:{click:[function(e){return t.openPayments(a)},function(e){return e.stopPropagation(),t.abrirExpandEgreso(o)}]}},[e(C["a"],{attrs:{color:"blue"}},[t._v("mdi-email-send")])],1)],1)])])])],1),e(_["a"],[e(x["a"],{attrs:{dense:""}},[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Proveedor")]),e("th",{staticClass:"text-left"},[t._v("Descripción")]),e("th",{staticClass:"text-left",staticStyle:{background:"#d6f4ff"}},[t._v("Monto Pr")]),t.mostrarImpuesto?e("th",{staticClass:"text-left",staticStyle:{background:"#d6f4ff"}},[t._v(" "+t._s(t.$store.state.enterprises.impuesto.nombre_impuesto)+" Pr ")]):t._e(),e("th",{staticClass:"text-left",staticStyle:{background:"#d6f4ff"}},[t._v("Total Pr")]),e("th",{staticClass:"text-left",staticStyle:{background:"#ffd6d6"}},[t._v("Monto Op")]),t.mostrarImpuesto?e("th",{staticClass:"text-left",staticStyle:{background:"#ffd6d6"}},[t._v(" "+t._s(t.$store.state.enterprises.impuesto.nombre_impuesto)+" Op ")]):t._e(),e("th",{staticClass:"text-left",staticStyle:{background:"#ffd6d6"}},[t._v("Total Op")]),e("th",{staticClass:"text-left",staticStyle:{background:"#d8ffde"}},[t._v(" Monto Op Cuenta Banco ")]),t.mostrarImpuesto?e("th",{staticClass:"text-left",staticStyle:{background:"#d8ffde"}},[t._v(" "+t._s(t.$store.state.enterprises.impuesto.nombre_impuesto)+" Op Cuenta Banco ")]):t._e(),e("th",{staticClass:"text-left",staticStyle:{background:"#d8ffde"}},[t._v(" Total Op Cuenta Banco ")]),e("th",{staticClass:"text-left",staticStyle:{background:"#d8ffde"}},[t._v(" Tipo Cambio Cuenta Banco ")]),e("th",{staticClass:"text-center"},[t._v("Enviado a Admin.")]),e("th",{staticClass:"text-center",attrs:{width:"10%"}},[t._v("Fecha Pago.")]),e("th",{staticClass:"text-center"},[t._v("Status")]),e("th",{staticClass:"text-left"},[t._v("Acciones")])])]),e("tbody",t._l(a.detalle,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.nombre_proveedor))]),e("td",[t._v(t._s(a.concepto))]),e("td",{staticStyle:{background:"#d6f4ff"}},[t._v(" "+t._s(parseFloat(a.monto_pr).toFixed(2))+" ")]),t.mostrarImpuesto?e("td",{staticStyle:{background:"#d6f4ff"}},[t._v(" "+t._s(parseFloat(a.igv_pr).toFixed(2))+" ")]):t._e(),e("td",{staticStyle:{background:"#d6f4ff"}},[t._v(" "+t._s(parseFloat(a.total_pr).toFixed(2))+" ")]),e("td",{staticStyle:{background:"#ffd6d6"}},[t._v(" "+t._s(parseFloat(a.monto_op).toFixed(2))+" ")]),t.mostrarImpuesto?e("td",{staticStyle:{background:"#ffd6d6"}},[t._v(" "+t._s(parseFloat(a.igv_op).toFixed(2))+" ")]):t._e(),e("td",{staticStyle:{background:"#ffd6d6"}},[t._v(" "+t._s(parseFloat(a.total_op).toFixed(2))+" ")]),e("td",{staticStyle:{background:"#d8ffde"}},[t._v(" "+t._s(parseFloat(a.montoopcuentabanco).toFixed(2))+" "+t._s(a.acronym)+" ")]),t.mostrarImpuesto?e("td",{staticStyle:{background:"#d8ffde"}},[t._v(" "+t._s(parseFloat(a.igvopcuentabanco).toFixed(2))+" "+t._s(a.acronym)+" ")]):t._e(),e("td",{staticStyle:{background:"#d8ffde"}},[t._v(" "+t._s(parseFloat(a.totalopcuentabanco).toFixed(2))+" "+t._s(a.acronym)+" ")]),e("td",{staticStyle:{background:"#d8ffde"}},[t._v(" "+t._s(1==a.tipocambio?"No Aplica":a.tipocambio)+" ")]),e("td",{staticClass:"text-center"},[1==a.statusadmin&&1==a.pagado?e(l["a"],{staticClass:"mx-auto",attrs:{small:"",color:"green",outlined:"","text-color":"green"}},[t._v(" SI ")]):t._e(),1==a.statusadmin&&0==a.pagado?e(l["a"],{staticClass:"mx-auto",attrs:{small:"",color:"orange",outlined:"","text-color":"orange"}},[t._v(" SI ")]):t._e()],1),e("td",{staticClass:"text-center"},[t._v(t._s(a.fecha_pago_letra))]),e("td",[1==a.pagado?e(l["a"],{staticClass:"ma-2",attrs:{small:"",color:"green","text-color":"white"}},[t._v(" Pagado ")]):t._e()],1),e("td",[0==a.pagado?e(C["a"],{staticClass:"btn__add mr-2",attrs:{dense:"",color:"orange"},nativeOn:{click:function(e){return t._editEgreso(a)}}},[t._v(" mdi-pencil ")]):t._e(),a.statusadmin||0!=a.pagado?t._e():e(C["a"],{staticClass:"btn__add",attrs:{dense:"",color:"red"},nativeOn:{click:function(e){return t._delEngreso(a)}}},[t._v("mdi-delete")])],1)])})),0)])],1)],1)})),1),e(p["a"],{attrs:{id:"mydiv",width:"70%",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(s["a"],[e(r["d"],{staticClass:"text-h5 grey lighten-2",attrs:{id:"mydivheader"}},[t._v(" REGISTRO DE NUEVO COSTO "),e(T["a"]),e(i["a"],{attrs:{color:"default",text:""},on:{click:function(e){t.dialog=!1}}},[e(C["a"],[t._v("mdi-close")])],1)],1),e(r["c"],{staticClass:"pt-5"},[e(d["a"],{staticStyle:{"min-height":"435px"}},[e(b["a"],{ref:"frmEgreso"},[e(I["a"],[e(c["a"],{attrs:{cols:"12"}},[e(o["a"],{attrs:{items:t.$store.state.itemsProveedorList,"item-text":"namelong","item-value":"id",label:"Proveedor",rules:[t=>!!t||"Dato requerido"]},model:{value:t.egresos.id_proveedor,callback:function(e){t.$set(t.egresos,"id_proveedor",e)},expression:"egresos.id_proveedor"}})],1)],1),e(I["a"],{directives:[{name:"show",rawName:"v-show",value:t.showSeccion2NuevoEgreso,expression:"showSeccion2NuevoEgreso"}]},[e(c["a"],{attrs:{cols:"12",xl:"6",lg:"6"}},[e(F["a"],{attrs:{dense:"",label:"Concepto",rules:[t=>!!t||"Dato requerido"]},model:{value:t.egresos.concepto,callback:function(e){t.$set(t.egresos,"concepto",e)},expression:"egresos.concepto"}})],1),e(c["a"],{attrs:{cols:"12",xl:"3",lg:"3"}},[e(o["a"],{attrs:{items:t.$store.state.controlGastos.listCorrelativo,"item-text":"description","item-value":"id",label:"Correlativo",dense:"",rules:[t=>!!t||"Dato Requerido"]},on:{change:t.activarSeccion3},model:{value:t.id_correlativo,callback:function(e){t.id_correlativo=e},expression:"id_correlativo"}})],1),e(c["a"],{attrs:{cols:"12",xl:"3",lg:"3"}},[t.mostrarImpuesto?e(O["a"],{attrs:{dense:"",label:"Calcula "+t.$store.state.enterprises.impuesto.nombre_impuesto},on:{change:function(e){return t.calcularE()}},model:{value:t.egresos.statusCalcula,callback:function(e){t.$set(t.egresos,"statusCalcula",e)},expression:"egresos.statusCalcula"}}):e("p",[t._v(" NO HA CONFIGURADO EL IMPUESTOS A LA VENTAS. Ir al Módulo de Configuración ")])],1)],1),e(I["a"],{directives:[{name:"show",rawName:"v-show",value:t.showSeccion3NuevoEgreso,expression:"showSeccion3NuevoEgreso"}]},[e(c["a"],{attrs:{cols:"12",md:"3"}},[e(o["a"],{attrs:{items:t.$store.state.itemsCoinsList,"item-text":"acronym","item-value":"id",label:"Moneda de Banco Salida",dense:"",rules:[t=>!!t||"Dato Requerido"]},on:{change:function(e){return t.obtenerMoneda()}},model:{value:t.id_coins,callback:function(e){t.id_coins=e},expression:"id_coins"}})],1),t.opFlag?e(c["a"],{attrs:{cols:"12",md:"3"}},["USD"!=this.sufmoneda?e(F["a"],{attrs:{dense:"",type:"number",label:"Tipo de Cambio",step:"0.01"},on:{input:function(e){return t.calcularE()}},model:{value:t.tipocambio,callback:function(e){t.tipocambio=e},expression:"tipocambio"}}):t._e()],1):t._e()],1),e(I["a"],{directives:[{name:"show",rawName:"v-show",value:t.showSeccion4NuevoEgreso,expression:"showSeccion4NuevoEgreso"}]},[t.opFlag?e(c["a"],{attrs:{cols:"12",md:"4"}},[e(F["a"],{attrs:{dense:"",type:"number",label:"Monto",rules:[t=>!!t||"Dato requerido"],prefix:t.sufmoneda,disabled:!t.id_coins},on:{input:function(e){return t.calcularE()}},model:{value:t.egresos.montoopcuentabanco,callback:function(e){t.$set(t.egresos,"montoopcuentabanco",e)},expression:"egresos.montoopcuentabanco"}})],1):t._e(),t.opFlag&&t.mostrarImpuesto?e(c["a"],{attrs:{cols:"12",md:"4"}},[e(F["a"],{attrs:{dense:"",type:"number",label:""+t.$store.state.enterprises.impuesto.nombre_impuesto,prefix:t.sufmoneda,disabled:!t.id_coins,readonly:""},model:{value:t.egresos.igvopcuentabanco,callback:function(e){t.$set(t.egresos,"igvopcuentabanco",e)},expression:"egresos.igvopcuentabanco"}})],1):t._e(),t.opFlag?e(c["a"],{attrs:{cols:"12",md:"4"}},[e(F["a"],{attrs:{dense:"",type:"number",label:"Total Operaciones",prefix:t.sufmoneda,disabled:!t.id_coins,readonly:""},model:{value:t.egresos.totalopcuentabanco,callback:function(e){t.$set(t.egresos,"totalopcuentabanco",e)},expression:"egresos.totalopcuentabanco"}})],1):t._e(),t.prFlag?e(c["a"],{attrs:{cols:"12",md:"4"}},[e(F["a"],{attrs:{dense:"",type:"number",label:"Monto",rules:[t=>!!t||"Dato requerido"]},on:{input:function(e){return t.calcularE()}},model:{value:t.egresos.montopr,callback:function(e){t.$set(t.egresos,"montopr",e)},expression:"egresos.montopr"}})],1):t._e(),t.prFlag&&t.mostrarImpuesto?e(c["a"],{attrs:{cols:"12",md:"4"}},[e(F["a"],{attrs:{dense:"",type:"number",label:""+t.$store.state.enterprises.impuesto.nombre_impuesto,readonly:""},model:{value:t.egresos.igvpr,callback:function(e){t.$set(t.egresos,"igvpr",e)},expression:"egresos.igvpr"}})],1):t._e(),t.prFlag?e(c["a"],{attrs:{cols:"12",md:"4"}},[e(F["a"],{attrs:{dense:"",type:"number",label:"Total",readonly:""},model:{value:t.egresos.totalpr,callback:function(e){t.$set(t.egresos,"totalpr",e)},expression:"egresos.totalpr"}})],1):t._e(),t.opFlag?e(c["a"],{attrs:{cols:"12",md:"4"}},[e(F["a"],{attrs:{dense:"",type:"number",label:"Monto Operaciones (Solo lectura) ",suffix:"USD",readonly:""},model:{value:t.egresos.montoopview,callback:function(e){t.$set(t.egresos,"montoopview",e)},expression:"egresos.montoopview"}})],1):t._e(),t.opFlag&&t.mostrarImpuesto?e(c["a"],{attrs:{cols:"12",md:"4"}},[e(F["a"],{attrs:{dense:"",type:"number",label:t.$store.state.enterprises.impuesto.nombre_impuesto+" Operaciones (Solo lectura)",suffix:"USD",readonly:""},model:{value:t.egresos.igvopview,callback:function(e){t.$set(t.egresos,"igvopview",e)},expression:"egresos.igvopview"}})],1):t._e(),t.opFlag?e(c["a"],{attrs:{cols:"12",md:"4"}},[e(F["a"],{attrs:{dense:"",type:"number",label:"Total Operaciones (Solo lectura) ",suffix:"USD",readonly:""},model:{value:t.egresos.totalopview,callback:function(e){t.$set(t.egresos,"totalopview",e)},expression:"egresos.totalopview"}})],1):t._e()],1)],1)],1)],1),e(r["a"],{staticClass:"pb-4"},[1==this.statusBtn?e(i["a"],{attrs:{block:"",color:"success",elevation:"0",disabled:t.isBotonGuardarEgresoDisabled},nativeOn:{click:function(e){return t._setData()}}},[t._v("Agregar servicio")]):t._e(),2==this.statusBtn?e(i["a"],{attrs:{block:"",color:"success",elevation:"0",disabled:t.isBotonGuardarEgresoDisabled},nativeOn:{click:function(e){return t._editEgresos()}}},[t._v(" Guardar servicio ")]):t._e()],1)],1)],1),e(p["a"],{attrs:{"max-width":"80%"},model:{value:t.dialogListInvoice,callback:function(e){t.dialogListInvoice=e},expression:"dialogListInvoice"}},[e(s["a"],[e(r["d"],[t._v(" Facturas y Performance de "+t._s(t.nameproveedor)+" "),e(T["a"]),e(i["a"],{attrs:{outlined:"",color:"primary"},on:{click:t.cargarFactura}},[t._v("Cargar Nueva")])],1),e(r["c"],[e(u["a"],{staticClass:"elevation-0",attrs:{headers:t.headersInvoice,items:t.itemsListInvoice,dense:"","item-key":"id",loading:t.isDataTableLoading},scopedSlots:t._u([{key:"item.originalname",fn:function({item:a}){return["pdf"==a.type?e(C["a"],{staticClass:"mr-2",attrs:{color:"red"}},[t._v("mdi-file-pdf")]):t._e(),"png"==a.type||"jpg"==a.type||"jpeg"==a.type?e(C["a"],{staticClass:"mr-2",attrs:{color:"blue-grey darken-1"}},[t._v("mdi-file-image")]):t._e(),t._v(" "+t._s(1==a.type_pago?"FACTURA":2==a.type_pago?"PERFORMANCE":"OTRO")+" - "+t._s(a.number)+" ")]}},{key:"item.path",fn:function({item:a}){return[e(i["a"],{attrs:{icon:"",small:""}},[e(C["a"],{staticClass:"btn_add mr-2",attrs:{dense:"",large:"",color:"grey"},nativeOn:{click:function(e){return t.openDoc(a.path)}}},[t._v(" mdi-eye ")])],1)]}},{key:"item.action",fn:function({item:a}){return[e(i["a"],{attrs:{icon:"",small:""}},[e(C["a"],{staticClass:"btn_add mr-2",attrs:{dense:"",large:"",color:"red"},nativeOn:{click:function(e){return t._delInvoice(a.id)}}},[t._v(" mdi-delete ")])],1)]}}],null,!0)})],1)],1)],1),e(p["a"],{attrs:{width:"80%"},model:{value:t.dialogInvoice,callback:function(e){t.dialogInvoice=e},expression:"dialogInvoice"}},[e(s["a"],[e(r["d"],[e("h3",[t._v("Subir factura o proforma para "+t._s(t.nameproveedor))])]),e(r["c"],[e(d["a"],[e(I["a"],{attrs:{dense:""}},[e(c["a"],{attrs:{cols:"12",md:"12"}},[e(y["a"],{attrs:{row:""},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[e(S["a"],{attrs:{label:"Factura",value:"1"}}),e(S["a"],{attrs:{label:"Performance",value:"2"}}),e(S["a"],{attrs:{label:"Otro",value:"3"}})],1)],1),e(c["a"],{attrs:{cols:"12",md:"4"}},[e(F["a"],{attrs:{dense:"",label:"Fecha de Operación","prepend-icon":"mdi-calendar",type:"date",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),e(c["a"],{attrs:{cols:"12",md:"4"}},[e(F["a"],{attrs:{dense:"",label:"Nro de "+(1==t.radio?"Factura":2==t.radio?"Performance":"Otro")},model:{value:t.nro_invoice,callback:function(e){t.nro_invoice=e},expression:"nro_invoice"}})],1),e(c["a"],{attrs:{cols:"12",md:"4"}},[e(F["a"],{attrs:{dense:"",label:"Monto de la Factura",rules:[t=>t>0||"Debe ser un monto numérico"]},on:{change:t.validarMontoFactura},model:{value:t.monto_factura,callback:function(e){t.monto_factura=e},expression:"monto_factura"}})],1),e(c["a"],{attrs:{cols:"12",md:"8"}},[e(v["a"],{attrs:{"show-size":"",label:"Adjuntar File de "+(1==t.radio?"Factura":2==t.radio?"Performance":"Otro"),"success-messages":t.msgFile,"error-messages":t.errFile,loading:t.isFileLoading},on:{change:function(e){return t._uploadFiles()}},model:{value:t.payfile,callback:function(e){t.payfile=e},expression:"payfile"}})],1)],1)],1)],1),e(r["a"],[e(T["a"]),e(i["a"],{attrs:{color:"primary",disabled:!t.boolFile||!t.monto_factura},on:{click:function(e){return t._setInvoice()}}},[t._v(" GUARDAR "+t._s(1==t.radio?"Factura":2==t.radio?"Performance":"Otro")+" ")]),e(i["a"],{attrs:{outlined:"",color:"red"},on:{click:function(e){t.dialogInvoice=!t.dialogInvoice}}},[t._v(" Cerrar ")])],1)],1)],1),e(p["a"],{attrs:{width:"80%"},model:{value:t.dialogSolicitud,callback:function(e){t.dialogSolicitud=e},expression:"dialogSolicitud"}},[e(s["a"],{staticClass:"px-5 py-5"},[e("h2",[t._v(t._s(t.egreso.nombre_proveedor))]),e($["a"],{model:{value:t.e1,callback:function(e){t.e1=e},expression:"e1"}},[e(w["a"],[e(M["a"],{attrs:{complete:t.e1>1,step:"1"}},[t._v(" Códigos ")]),e(m["a"]),e(M["a"],{attrs:{complete:t.e1>2,step:"2"}},[t._v(" Cuentas Bancarias ")]),e(m["a"]),e(M["a"],{attrs:{complete:t.e1>3,step:"3"}},[t._v(" Observaciones ")])],1),e(w["b"],[e(E["a"],{attrs:{step:"1"}},[e(s["a"],{staticClass:"mb-12",attrs:{elevation:"0",height:"200px"}},[e(r["c"],[e(I["a"],{attrs:{dense:""}},[e(c["a"],{attrs:{md:"6",cols:"12"}},[e(n["a"],{attrs:{label:"Aplica código de pago "+t.nombreCodigoPago},model:{value:t.checkPago,callback:function(e){t.checkPago=e},expression:"checkPago"}}),t.checkPago?e(F["a"],{attrs:{dense:"",label:"CODIGO DE PAGO"},model:{value:t.codigo_pago,callback:function(e){t.codigo_pago=e},expression:"codigo_pago"}},[t._v("CODIGO DE PAGO")]):t._e()],1),e(c["a"],{attrs:{md:"6",cols:"12"}},[e(n["a"],{attrs:{label:"Aplica Número de Expediente"},model:{value:t.checkMaster,callback:function(e){t.checkMaster=e},expression:"checkMaster"}}),t.checkMaster?e(F["a"],{attrs:{dense:"",label:"CODIGO DE MASTER BL",readonly:""},model:{value:t.codigo_master,callback:function(e){t.codigo_master=e},expression:"codigo_master"}},[t._v("CODIGO DE MASTER BL")]):t._e()],1)],1)],1)],1),e(i["a"],{attrs:{color:"primary"},on:{click:function(e){t.e1=2}}},[t._v(" Continuar ")]),e(i["a"],{attrs:{text:""},on:{click:function(e){t.dialogSolicitud=!1}}},[t._v(" Cerrar ")])],1),e(E["a"],{attrs:{step:"2"}},[e(s["a"],{staticClass:"mb-12",attrs:{elevation:"0","min-height":"200px"}},[e(r["c"],[e("div",{staticClass:"text-right"},[e(i["a"],{attrs:{small:"",color:"primary"},on:{click:function(e){return t.abrirModalCuentaBancaria()}}},[t._v(" Nueva Cuenta Bancaria ")])],1),e("b",[t._v("Cuentas")]),t.checkPago?e("h2",{staticClass:"mt-5"},[t._v("Ya seleccionó el codigo de pago")]):e(u["a"],{staticClass:"elevation-0",attrs:{headers:t.headersAccount,items:t.$store.state.itemsDataAccountsNumberList,"hide-default-footer":"","item-key":"id","show-select":"",dense:""},model:{value:t.selectedAccount,callback:function(e){t.selectedAccount=e},expression:"selectedAccount"}})],1)],1),e(i["a"],{attrs:{color:"primary"},on:{click:t.validarStep2Solicitud}},[t._v(" Continuar ")]),e(i["a"],{attrs:{text:""},on:{click:function(e){t.e1=1}}},[t._v(" Volver")]),e(i["a"],{attrs:{text:""},on:{click:function(e){t.dialogSolicitud=!1}}},[t._v(" Cerrar ")])],1),e(E["a"],{attrs:{step:"3"}},[e(s["a"],{staticClass:"mb-12",attrs:{elevation:"0",height:"200px"}},[e(r["c"],[e(A["a"],{attrs:{rows:"3",label:"Observación Adicionales"},model:{value:t.comentarios,callback:function(e){t.comentarios=e},expression:"comentarios"}}),e(i["a"],{staticClass:"mt-2",attrs:{block:"",color:"primary"},nativeOn:{click:function(e){return t._generateSolicitud()}}},[t._v("ENVIAR A ADMINISTRACIÓN UNA SOLICITUD DE PAGO")])],1)],1),e(i["a"],{attrs:{text:""},on:{click:function(e){t.e1=2}}},[t._v(" Volver ")]),e(i["a"],{attrs:{text:""},on:{click:function(e){t.dialogSolicitud=!1}}},[t._v(" Cerrar ")])],1)],1)],1)],1)],1),e(p["a"],{attrs:{width:"80%"},model:{value:t.dialogSolicitudDivision,callback:function(e){t.dialogSolicitudDivision=e},expression:"dialogSolicitudDivision"}},[e(s["a"],[e(r["d"],[t._v(" Solicitar pago por concepto")]),e(r["c"],[e(I["a"],{attrs:{dense:""}},[e(c["a"],{attrs:{md:"6",cols:"12"}},[e(F["a"],{attrs:{dense:"",label:"CODIGO DE PAGO"},model:{value:t.codigo_pago,callback:function(e){t.codigo_pago=e},expression:"codigo_pago"}},[t._v("CODIGO DE PAGO")])],1),e(c["a"],{attrs:{md:"6",cols:"12"}},[e(F["a"],{attrs:{dense:"",label:"CODIGO DE MASTER BL",readonly:""},model:{value:t.codigo_master,callback:function(e){t.codigo_master=e},expression:"codigo_master"}},[t._v("CODIGO DE MASTER BL")])],1)],1),e(A["a"],{attrs:{rows:"3",label:"Observación Adicionales"},model:{value:t.comentarios,callback:function(e){t.comentarios=e},expression:"comentarios"}}),e("h2",[t._v("Seleccione los conceptos")]),e(u["a"],{staticClass:"elevation-0",attrs:{headers:t.headers,items:t.conceptos,"hide-default-footer":"","item-key":"concepto","footer-props":{"items-per-page-options":[10,20,30,40,50]},"items-per-page":30,dense:"","show-select":""},scopedSlots:t._u([{key:"item.data-table-select",fn:function({item:a,isSelected:o,select:i}){return[1==!a.pagado?e(P["a"],{attrs:{value:o,readonly:1==a.pagado},on:{input:function(t){return i(t)}}}):t._e()]}},{key:"item.pagado",fn:function({item:a}){return[1==a.pagado?e(l["a"],{staticClass:"ma-2",attrs:{color:"green",small:"","text-color":"white"}},[t._v(" "+t._s(1==a.pagado?"Pagado":"")+" ")]):t._e(),1==a.pagado?e(C["a"],{staticClass:"btn__add mr-2",attrs:{dense:"",large:"",color:"grey"},nativeOn:{click:function(e){return t.openPaymentFile(a.path)}}},[t._v("mdi-eye")]):t._e()]}},{key:"item.monto",fn:function({item:e}){return[t._v(" "+t._s(parseFloat(e.monto_op).toFixed(2))+" ")]}}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),e("b",[t._v("Cuentas")]),e(u["a"],{staticClass:"elevation-0",attrs:{headers:t.headersAccount,items:t.$store.state.itemsDataAccountsNumberList,"hide-default-footer":"","item-key":"id","show-select":"",dense:""},model:{value:t.selectedAccount,callback:function(e){t.selectedAccount=e},expression:"selectedAccount"}}),e(i["a"],{staticClass:"mt-2",attrs:{block:"",color:"primary",loading:t.loading},nativeOn:{click:function(e){return t._generateSolicitud()}}},[t._v("GENERAR SOLICITUD")])],1)],1)],1),e(p["a"],{attrs:{width:"80%"},model:{value:t.dialogPayment,callback:function(e){t.dialogPayment=e},expression:"dialogPayment"}},[e(s["a"],{staticClass:"mx-auto"},[e(N["a"],{attrs:{color:"cyan",dark:""}},[e(D["a"],[t._v("SOLICITUDES GENERADAS")]),e(T["a"])],1),e(r["d"],[e(F["a"],{attrs:{dense:"","append-icon":"mdi-magnify",label:"Buscar solicitud","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t.dataList?t._e():e(d["a"],{staticStyle:{height:"400px"}},[e(I["a"],{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[e(c["a"],{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[t._v(" Cargando informacíon ")]),e(c["a"],{attrs:{cols:"12",xl:"6",lg:"6"}},[e(k["a"],{attrs:{color:"deep-purple accent-4",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1),t.dataList?e(u["a"],{attrs:{headers:t.headersPdf,items:t.itemsSPayment,search:t.search},scopedSlots:t._u([{key:"item.status",fn:function({item:a}){return[2==a.status?e(l["a"],{staticClass:"ma-2",attrs:{color:"orange","text-color":"white"}},[t._v(" "+t._s(2==a.status?"Pendiente":"")+" ")]):t._e(),3==a.status?e(l["a"],{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[t._v(" "+t._s(3==a.status?"Pagado":"")+" ")]):t._e()]}},{key:"item.accion",fn:function({item:a}){return[e(C["a"],{staticClass:"mr-2",on:{click:function(e){return t.viewPdf(a.path)}}},[t._v(" mdi-eye ")])]}},{key:"item.accions",fn:function({item:a}){return[1==a.status?e(C["a"],{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.sendAdmin(a.id)}}},[t._v(" mdi-send ")]):t._e(),3!=a.status?e(C["a"],{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.eliminar(a.id)}}},[t._v(" mdi-delete ")]):t._e()]}}],null,!0)}):t._e()],1)],1),e(p["a"],{attrs:{persistent:"","max-width":"50%",transition:""},model:{value:t.dialogPorcentajeProveedor,callback:function(e){t.dialogPorcentajeProveedor=e},expression:"dialogPorcentajeProveedor"}},[e(s["a"],[e(r["d"],{attrs:{"primary-title":""}},[t._v(" Registrar División de Pagos "),e(T["a"]),e(i["a"],{attrs:{icon:"",color:"default"},on:{click:function(e){return t.cerrarModal()}}},[e(C["a"],[t._v("mdi-close")])],1)],1),e(r["c"],[e(b["a"],{ref:"frmPorcentajeProveedor"},[e(I["a"],[e(c["a"],{attrs:{cols:"12"}},[e(F["a"],{staticClass:"col-3",attrs:{dense:"",label:"Nro Cuotas",min:"1",type:"number",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.$store.state.nro_cuotas,callback:function(e){t.$set(t.$store.state,"nro_cuotas",e)},expression:"$store.state.nro_cuotas"}})],1),t._l(Number(t.$store.state.nro_cuotas),(function(a){return e(c["a"],{key:a,attrs:{cols:"6"}},[e(I["a"],[e(c["a"],{attrs:{cols:"4"}},[e(F["a"],{attrs:{dense:"",label:"Porcentaje Cuota-"+a,type:"number",suffix:"%",min:"0",max:"100",rules:[t=>!!t||"Dato Requerido",t=>t>0||"El porcentaje tiene que ser positivo",t=>t<=100||"El por centaje no puede ser mayor que 100%"]},model:{value:t.$store.state.cuota[a-1],callback:function(e){t.$set(t.$store.state.cuota,a-1,e)},expression:"$store.state.cuota[n - 1]"}})],1),e(c["a"],{attrs:{cols:"8"}},[e(F["a"],{attrs:{dense:"",rules:[t=>!!t||"Dato Requerido"],label:"Fecha de pago "+a,type:"date"},model:{value:t.$store.state.fechacuota[a-1],callback:function(e){t.$set(t.$store.state.fechacuota,a-1,e)},expression:"$store.state.fechacuota[n - 1]"}})],1)],1)],1)}))],2)],1)],1),e(r["a"],[e(i["a"],{attrs:{color:"success",loading:t.loadingPorcentaje},on:{click:t.InsertarActualizarPorcentajeProveedor}},[t._v("Guardar")])],1)],1)],1),e(p["a"],{attrs:{width:"30%",persistent:""},model:{value:t.dialogCuentaBancaria,callback:function(e){t.dialogCuentaBancaria=e},expression:"dialogCuentaBancaria"}},[e(s["a"],{staticClass:"pa-5"},[e("h2",[t._v(t._s(t.egreso.nombre_proveedor))]),e(r["d"],[t._v("AGREGAR NUEVA CUENTA BANCARIA")]),e(r["c"],[e(d["a"],[e(b["a"],{ref:"frmCuentaBancaria"},[e(I["a"],[e(c["a"],{attrs:{cols:"12"}},[e(F["a"],{attrs:{dense:"",placeholder:"Nro Cuenta",label:"Nro Cuenta",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.cuentaBancaria.nro_cuenta,callback:function(e){t.$set(t.cuentaBancaria,"nro_cuenta",e)},expression:"cuentaBancaria.nro_cuenta"}})],1)],1),e(I["a"],[e(c["a"],{attrs:{cols:"12"}},[e(F["a"],{attrs:{dense:"",placeholder:"CCI",label:"CCI",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.cuentaBancaria.cci,callback:function(e){t.$set(t.cuentaBancaria,"cci",e)},expression:"cuentaBancaria.cci"}})],1)],1),e(I["a"],[e(c["a"],{attrs:{cols:"12"}},[e(o["a"],{attrs:{dense:"",items:t.$store.state.bank.list,"item-text":"name","item-value":"id",placeholder:"Bancos",label:"Bancos",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.cuentaBancaria.id_banco,callback:function(e){t.$set(t.cuentaBancaria,"id_banco",e)},expression:"cuentaBancaria.id_banco"}})],1)],1),e(I["a"],[e(c["a"],{attrs:{cols:"12"}},[e(o["a"],{attrs:{dense:"",items:t.$store.state.coins.itemsCoinsList,"item-text":"acronym","item-value":"id",placeholder:"Monedas",label:"Monedas",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.cuentaBancaria.id_coins,callback:function(e){t.$set(t.cuentaBancaria,"id_coins",e)},expression:"cuentaBancaria.id_coins"}})],1)],1),t.isProveedorInternacional()?e(I["a"],[e(c["a"],{attrs:{cols:"12"}},[e(F["a"],{attrs:{dense:"",placeholder:"Nro swift",label:"Nro swift",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.cuentaBancaria.nro_swift,callback:function(e){t.$set(t.cuentaBancaria,"nro_swift",e)},expression:"cuentaBancaria.nro_swift"}})],1)],1):t._e(),t.isProveedorInternacional()?e(I["a"],[e(c["a"],{attrs:{cols:"12"}},[e(o["a"],{attrs:{dense:"",items:t.$store.state.bank.list,"item-text":"name","item-value":"id",placeholder:"Bancos",label:"Bancos",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.cuentaBancaria.id_intermediario,callback:function(e){t.$set(t.cuentaBancaria,"id_intermediario",e)},expression:"cuentaBancaria.id_intermediario"}})],1)],1):t._e(),t.isProveedorInternacional()?e(I["a"],[e(c["a"],{attrs:{cols:"12"}},[e(F["a"],{attrs:{dense:"",placeholder:"Cuenta Intermediario",label:"Cuenta Intermediario",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.cuentaBancaria.nro_cuenta_intermediario,callback:function(e){t.$set(t.cuentaBancaria,"nro_cuenta_intermediario",e)},expression:"cuentaBancaria.nro_cuenta_intermediario"}})],1)],1):t._e()],1)],1)],1),e(r["a"],[e(T["a"]),e(i["a"],{attrs:{color:"error"},on:{click:function(e){t.dialogCuentaBancaria=!t.dialogCuentaBancaria}}},[t._v("Cancelar")]),e(i["a"],{attrs:{color:"success",loading:t.loadingBotonGuardarCuentaBancaria},on:{click:t.registrarCuentaBancaria}},[t._v("Guardar")])],1)],1)],1),e(p["a"],{attrs:{scrollable:"",persistent:"","max-width":"30%"},model:{value:t.dialogCopiar,callback:function(e){t.dialogCopiar=e},expression:"dialogCopiar"}},[e(s["a"],[e(r["d"],{attrs:{"primary-title":""}},[t._v(" COPIAR COSTOS "+t._s(t.egreso.nombre_proveedor)+" ")]),e(r["c"],[e(b["a"],{ref:"frmCopiar"},[e(o["a"],{attrs:{items:t.$store.state.itemsCoinsList,"item-text":"acronym","item-value":"id",label:"Moneda de Banco Salida",rules:[t=>!!t||"Dato Requerido"]},on:{change:function(e){return t.obtenerMoneda()}},model:{value:t.egreso.id_coins,callback:function(e){t.$set(t.egreso,"id_coins",e)},expression:"egreso.id_coins"}}),e(F["a"],{attrs:{dense:"",type:"number",label:"Tipo de Cambio",step:"0.01",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.egreso.tipocambio,callback:function(e){t.$set(t.egreso,"tipocambio",e)},expression:"egreso.tipocambio"}})],1)],1),e(r["a"],[e(T["a"]),e(i["a"],{attrs:{color:"success"},on:{click:function(e){return t.copiarMontos()}}},[t._v("COPIAR")]),e(i["a"],{attrs:{color:"danger"},on:{click:function(e){t.dialogCopiar=!t.dialogCopiar}}},[t._v(" CANCELAR ")])],1)],1)],1)],1)},R=[],B=(a("14d9"),a("13d5"),a("e9f5"),a("910d"),a("f665"),a("7d54"),a("ab43"),a("9485"),a("a732"),a("c1df")),U=a.n(B),G=a("bc3a"),H=a.n(G),J=a("3d20"),V=a.n(J),z=a("2f62"),q={props:{statusBtn:{type:Number,default:0},prFlag:{type:Boolean,default:!1},opFlag:{type:Boolean,default:!1},egreso_pr:{type:Number,default:0},egreso_op:{type:Number,default:0}},data:()=>({dialogCopiar:!1,loadingPorcentaje:!1,loading:!1,dialog:!1,dialogListInvoice:!1,dialogInvoice:!1,dialogPorcentajeProveedor:!1,dialogPayment:!1,dialogSolicitudDivision:!1,dialogSolicitudDivision:!1,dialogSolicitud:!1,checkPago:!1,checkMaster:!1,date:U()().format("YYYY-MM-DD"),id_proveedor:"",id_correlativo:"",tipocambio:1,id_coins:null,sufmoneda:"USD",nameproveedor:"",payfile:"",boolFile:!1,errFile:"",msgFile:"",nro_invoice:"",conceptos:"",codigo_master:null,search:"",comentarios:"",codigo_pago:"",radio:1,e1:1,egresos:{id:null,concepto:"",statusCalcula:!1,opcion:null,numero:"",fecha:U()(new Date).format("YYYY-MM-DD"),montoop:0,montoopview:0,igvop:0,totalop:0,montopr:0,igvpr:0,totalpr:0,id_proveedor:null,montoopcuentabanco:0,igvopcuentabanco:0,totalopcuentabanco:0},headersInvoice:[{text:"Nombre",value:"originalname"},{text:"Fecha",value:"date_letra"},{text:"Monto de la Factura",value:"monto"},{text:"Ver",value:"path"},{text:"Acción",value:"action"}],headersPdf:[{text:"Nombre",align:"start",sortable:!1,value:"path"},{text:"Fecha Creado",value:"fecha_letra"},{text:"Hora Creado",value:"hora_letra"},{text:"Fecha de Solicitud",value:"fecha_sol_letra"},{text:"Fecha de Pago",value:"fecha_pago_letra"},{text:"Ver",value:"accion"},{text:"Status",value:"status"},{text:"Enviar",value:"accions"}],headersAccount:[{text:"Cuenta",align:"start",sortable:!1,value:"nameaccount"},{text:"Banco",value:"namebanks"},{text:"Moneda",value:"namecoins"},{text:"Número de cuenta",value:"accountnumber"}],headers:[{text:"Concepto",align:"start",sortable:!1,value:"concepto"},{text:"Monto",value:"monto"},{text:"IGV",value:"igv_op"},{text:"Total",value:"total_op"},{text:"Status",value:"pagado"}],itemsListInvoice:[],dataList:[],itemsSPayment:[],selectedAccount:[],selected:[],showSeccion2NuevoEgreso:!1,showSeccion3NuevoEgreso:!1,showSeccion4NuevoEgreso:!1,isBotonGuardarEgresoDisabled:!0,dialogCuentaBancaria:!1,loadingBotonGuardarCuentaBancaria:!1,cuentaBancaria:{id_entities:"",nro_cuenta:"",cci:"",id_banco:"",id_coins:"",nro_swift:"",id_intermediario:"",nro_cuenta_intermediario:""},monto_factura:"",isFileLoading:!1,isDataTableLoading:!1,mostrarImpuesto:!0,egreso:{}}),async mounted(){await this.getBanksListCargar(),await this.getCoinsListCargar(),await this.cargarMasterDetalleTipoTransaccion(),await this._getProveedor(),this.headers[2].text=this.$store.state.enterprises.impuesto.nombre_impuesto,this.mostrarImpuesto=this.$store.state.enterprises.impuesto.mostrarimpuesto},methods:{abrirExpandEgreso(t){},abrirModalCuentaBancaria(){this.dialogCuentaBancaria=!0},nuevoEngreso(){this.egresos.id=null,this.egresos.concepto="",this.egresos.statusCalcula=!1,this.egresos.opcion=null,this.egresos.numero="",this.egresos.fecha=U()(new Date).format("YYYY-MM-DD"),this.egresos.montoop=0,this.egresos.igvop=0,this.egresos.totalop=0,this.egresos.montopr=0,this.egresos.igvpr=0,this.egresos.totalpr=0,this.egresos.id_proveedor=null,this.egresos.montoopcuentabanco=0,this.egresos.igvopcuentabanco=0,this.egresos.totalopcuentabanco=0,this.$emit("statusBtn",1),this.id_coins=null,this.tipocambio=1,this.showSeccion2NuevoEgreso=!1,this.showSeccion3NuevoEgreso=!1,this.showSeccion4NuevoEgreso=!1,this.isBotonGuardarEgresoDisabled=!0,this.dialog=!this.dialog,setTimeout(()=>{this.$refs.frmEgreso.resetValidation()},100)},obtenerMoneda(){if("undefined"!==typeof this.id_coins&&""!==this.id_coins&&null!==this.id_coins){const t=this.$store.state.itemsCoinsList.find(t=>t.id==this.id_coins);t?(this.sufmoneda=t.symbol,this.tipocambio="USD"===this.sufmoneda?1:this.tipocambio):console.warn("No se encontró la moneda con id:",this.id_coins)}},calcularE(){if(this.tipocambio){let t=this.tipocambio.toString().split("."),e=t[1]?t[1].length:0;e>2&&(this.tipocambio=parseFloat(this.tipocambio).toFixed(2))}this.egresos.statusCalcula?(this.egresos.igvpr=parseFloat(this.egresos.montopr*this.$store.state.enterprises.impuesto.impuesto/100).toFixed(2),this.egresos.totalpr=parseFloat(this.egresos.montopr)+parseFloat(this.egresos.igvpr),this.egresos.igvopcuentabanco=parseFloat(this.egresos.montoopcuentabanco*this.$store.state.enterprises.impuesto.impuesto/100).toFixed(2),this.egresos.totalopcuentabanco=parseFloat(parseFloat(this.egresos.montoopcuentabanco)+parseFloat(this.egresos.montoopcuentabanco*this.$store.state.enterprises.impuesto.impuesto/100)).toFixed(2),this.egresos.montoop=parseFloat(this.egresos.montoopcuentabanco/this.tipocambio).toFixed(4),this.egresos.montoopview=parseFloat(this.egresos.montoopcuentabanco/this.tipocambio).toFixed(2),this.egresos.igvop=parseFloat(this.egresos.igvopcuentabanco/this.tipocambio).toFixed(4),this.egresos.totalop=parseFloat(parseFloat(this.egresos.montoop)+parseFloat(this.egresos.igvop)).toFixed(4),this.egresos.igvopview=parseFloat(this.egresos.igvopcuentabanco/this.tipocambio).toFixed(2),this.egresos.totalopview=parseFloat(parseFloat(this.egresos.montoop)+parseFloat(this.egresos.igvop)).toFixed(2)):(this.egresos.igvpr=0,this.egresos.totalpr=parseFloat(this.egresos.montopr),this.egresos.igvopcuentabanco=0,this.egresos.totalopcuentabanco=parseFloat(parseFloat(this.egresos.montoopcuentabanco)).toFixed(2),this.egresos.montoop=parseFloat(this.egresos.montoopcuentabanco/this.tipocambio).toFixed(4),this.egresos.montoopview=parseFloat(this.egresos.montoopcuentabanco/this.tipocambio).toFixed(2),this.egresos.igvop=parseFloat(this.egresos.igvopcuentabanco/this.tipocambio).toFixed(4),this.egresos.igvopview=parseFloat(this.egresos.igvopcuentabanco/this.tipocambio).toFixed(2),this.egresos.totalop=parseFloat(parseFloat(this.egresos.montoop)),this.egresos.totalopview=parseFloat(parseFloat(this.egresos.montoop))),this.$forceUpdate()},validarSolicitudPago(t){let e=this,a=t.detalle[0].tipocambio,o=!0;t.detalle.forEach(t=>{o=a==t.tipocambio&&o});let i=t.detalle.some(t=>!!t.pagado),s=t.detalle.some(t=>!!t.statusadmin&&!t.pagado);i?e.$swal({icon:"error",html:"<b>No se puede realizar una solicitud de pago, porque todos los registros ya han sido pagados</b>",confirmButtonColor:"#3085d6",confirmButtonText:"ACEPTAR"}):s?e.$swal({icon:"question",html:"<b>Ya se ha realizado una solicitud de pago a administración. ¿Desea generar una solicitud nueva y eliminar la anterior?</b>",showCancelButton:!0,confirmButtonColor:"#28a745",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then(async a=>{a.isConfirmed&&(await e._getSPaymentPro(t),e.itemsSPayment[0]&&e.itemsSPayment[0].id&&(await e.eliminar(e.itemsSPayment[0].id),e.selected=[],e.TotalLocal=t.detalle.reduce((t,e)=>t+parseFloat(e.total_op),0),e.total=0,e.proveedorId=t.id_proveedor,e.nameproveedor=t.nombre_proveedor,e.conceptos=t.detalle,e.id_correlativo=t.id_correlativo,e.id_master=t.id_master,await e._generateSolicitud()))}):o?e.solicitar(t):e.$swal({icon:"error",html:'<p style="text-align: center;"><strong>&iexcl;Advertencia!</strong></p>\n                1. Debe registrar cada factura con un solo n&uacute;mero de correlativo y tipo de cambio. <br>\n                2. Se han detectado que hay dos tipos de cambios distintos para el mismo correlativo en la factura.\n                '})},async abrirModalPorcentajeProveedor(t){this.$store.state.cuota=[],this.$store.state.fechacuota=[],this.dataProveedor=t,this.$store.state.nro_cuotas=t.nro_cuotas?t.nro_cuotas:3,t.nro_cuotas&&await t.cuotas.forEach(t=>{this.$store.state.cuota.push(t.porcentaje),this.$store.state.fechacuota.push(t.fecha)}),this.dialogPorcentajeProveedor=!this.dialogPorcentajeProveedor},cerrarModal(){this.$refs.frmPorcentajeProveedor.reset(),this.dialogPorcentajeProveedor=!this.dialogPorcentajeProveedor},viewPdf(t){window.open("https://api.agentedecargaonline.com/"+t,"_blank")},validatePorcentaje(){let t=!0,e=0,a="<ul>";for(let o=0;o<this.$store.state.nro_cuotas;o++)e+=parseFloat(this.$store.state.cuota[o]);return 100!=e&&(t=!1,a+="<li>El porcentaje final debe ser igual al 100%</li>"),a+="</ul>",t||V.a.fire({icon:"error",html:a}),t},async _setData(){if(this.$refs.frmEgreso.validate()){var t=this,e={id_master:t.$store.state.controlGastos.listControlGastos[0].master_id,id_orders:t.$store.state.controlGastos.listControlGastos[0].master_houses.filter(t=>t.id_orders)[0].id_orders,id_proveedor:t.egresos.id_proveedor,concepto:t.egresos.concepto,monto_op:t.egresos.montoop,monto_pr:t.egresos.montopr,igv_pr:t.egresos.igvpr,total_pr:t.egresos.totalpr,igv_op:t.egresos.igvop,total_op:t.egresos.totalop,id_coins:t.id_coins,montoopcuentabanco:t.egresos.montoopcuentabanco,igvopcuentabanco:t.egresos.igvopcuentabanco,totalopcuentabanco:t.egresos.totalopcuentabanco,id_correlativo:t.id_correlativo,tipocambio:t.tipocambio,id_user:JSON.parse(sessionStorage.getItem("dataUser"))[0].id},a={method:"post",url:"https://api.agentedecargaonline.com/setEgresos",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await H()(a).then((function(e){t.listControlGasto(),t.dialog=!1})).catch((function(t){console.log(t)})),this.$emit("recalcularProfit")}},solicitar(t){var e=this;e.selected=[];let a=0;t.detalle.forEach(t=>{a=parseFloat(a)+parseFloat(t.total_op)}),e.TotalLocal=a,e.total=0,e.proveedorId=t.id_proveedor,e.nameproveedor=t.nombre_proveedor,e.conceptos=t.detalle,e.id_correlativo=t.id_correlativo,e.id_master=t.id_master,e.id_tipotransaccion=(e.$store.state.itemsProveedorList.find(e=>e.id==t.id_proveedor)||{}).id_tipotransaccion||"",e.$swal({html:"<b>¿Desea realizar una solicitud de pago? Recuerde que luego de generarse la solicitud no se podrá editar.</b>",showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"No",cancelButtonText:"Cancelar",icon:"warning"}).then(async a=>{a.isConfirmed?await e.mostrarModalSolicitudPago(t):a.isDenied&&(e.dialogSolicitudDivision=!e.dialogSolicitudDivision)})},async mostrarModalSolicitudPago(t){this.egreso=t;var e=this;e.e1=1,e.checkPago=!1,e.checkMaster=!1,e.codigo_pago="",e.codigo_master="",e.selectedAccount=[],e.comentarios="",e.dialogSolicitud=!e.dialogSolicitud,await this._getAccountsNumber()},async _setInvoice(){var t=this;t.$swal({icon:"info",title:"Guardando...",text:"Por favor, espere"});var e={id_house:this.$store.state.controlGastos.listControlGastos[0].master_houses.filter(t=>t.id_house)[0].id_house,id_proveedor:t.egreso.id_proveedor,id_path:t.payPath,type_pago:t.radio,number:t.nro_invoice,date:t.date,monto:t.monto_factura,id_correlativo:t.egreso.id_correlativo,id_master:t.egreso.id_master,status:1},a={method:"post",url:"https://api.agentedecargaonline.com/setInvoice",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await H()(a).then((async function(e){sessionStorage.setItem("auth-token",e.data.token),t.itemsInvoice=e.data.data,t.listControlGasto(),t.$swal({icon:"success",title:"Documento Cargado",text:"El documento ha sido cargado correctamente"}),t.dialogInvoice=!1,await t._getInvoice(t.egreso)})).catch((function(t){console.log(t)}))},async _delInvoice(t){var e=this,a={method:"post",url:"https://api.agentedecargaonline.com/delInvoice/"+t,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await H()(a).then((function(t){sessionStorage.setItem("auth-token",t.data.token),e.itemsInvoice=t.data.data,e._getInvoice(e.egreso),e.dialogInvoice=!1})).catch((function(t){console.log(t)}))},async InsertarActualizarPorcentajeProveedor(){if(this.$refs.frmPorcentajeProveedor.validate()&&this.validatePorcentaje()){var t=this;t.loadingPorcentaje=!0;let e=[];for(let t=0;t<this.$store.state.nro_cuotas;t++)e.push({porcentaje:this.$store.state.cuota[t],fecha:this.$store.state.fechacuota[t]});let a={id_master:t.dataProveedor.id_master,id_proveedor:t.dataProveedor.id_proveedor,id_correlativo:t.dataProveedor.id_correlativo,nro_cuotas:this.$store.state.nro_cuotas,cuotas:e};await this.guardarCuotasCgeTipoProveedor(a),await this.getListControlGastos(this.$route.params.id),this.$refs.frmPorcentajeProveedor.reset(),this.loadingPorcentaje=!1,this.dialogPorcentajeProveedor=!1}},async _getAccountsNumber(){var t=this;let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/getAccountsNumber/"+t.proveedorId,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await H()(a).then((function(e){t.$store.state.itemsDataAccountsNumberList=e.data.data||[]})).catch((function(t){console.log(t)}))},_editEgreso(t){this.egresos={id:t.id,concepto:t.concepto,statusCalcula:!0,opcion:!(!t.igvop&&!t.igvpr),numero:"",fecha:U()(new Date).format("YYYY-MM-DD"),montoop:t.monto_op,igvop:t.igv_op,totalop:t.total_op,montopr:t.monto_pr,igvpr:t.igv_pr,totalpr:t.total_pr,id_proveedor:t.id_proveedor,montoopcuentabanco:t.montoopcuentabanco,igvopcuentabanco:t.igvopcuentabanco,totalopcuentabanco:t.totalopcuentabanco},this.id_correlativo=t.id_correlativo,this.tipocambio=t.tipocambio,this.id_coins=t.id_coins,this.id_coins&&this.obtenerMoneda(),this.$emit("statusBtn",2),this.dialog=!0},async _delEngreso(t){var e=this;e.$swal({icon:"question",title:"Advertencia",html:`Está seguro de eliminar el concepto <b>${t.concepto}</b> del proveedor\n              <b>${t.nombre_proveedor}</b>`,showConfirmButton:!0,showDenyButton:!0,confirmButtonText:"Continuar",denyButtonText:"Cancelar"}).then(a=>{if(a.isConfirmed){e.$store.state.spiner=!0;var o={method:"put",url:"https://api.agentedecargaonline.com/delEgregso/"+t.id,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};H()(o).then((function(t){let a=t.data;1==a.estadoflag?(e.$swal({icon:"info",title:"informacíon",text:a.mensaje}),e.$store.state.spiner=!1,e.listControlGasto()):(e.$swal({icon:"error",title:"informacíon",text:a.mensaje}),e.$store.state.spiner=!1)})).catch((function(t){console.log(t)}))}})},async openPayments(t){var e=this;e.sPaymentId=t.id_proveedor,e.dialogPayment=!0,e.dataList=!1,await e._getSPaymentPro(t),e.dataList=!0},async _getSPaymentPro(t){var e=this,a={method:"get",url:`https://api.agentedecargaonline.com/getSPaymentPro?id_master=${t.id_master}&id_proveedor=${t.id_proveedor}&id_correlativo=${t.id_correlativo}&id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await H()(a).then((function(t){console.log(t),e.itemsSPayment=t.data.data})).catch((function(t){console.log(t)}))},async listControlGasto(){this.$store.state.spiner=!0,await this.getListControlGastos(this.$route.params.id),this.$store.state.spiner=!1},activarSeccion3(){this.egresos.concepto&&(this.showSeccion3NuevoEgreso=!0)},async _editEgresos(){this.calcularE();var t=this,e={id_proveedor:t.egresos.id_proveedor,concepto:t.egresos.concepto,monto_op:t.egresos.montoop,monto_pr:t.egresos.montopr,igv_pr:t.egresos.igvpr,total_pr:t.egresos.totalpr,igv_op:t.egresos.igvop,total_op:t.egresos.totalop,id_coins:t.id_coins,montoopcuentabanco:t.egresos.montoopcuentabanco,igvopcuentabanco:t.egresos.igvopcuentabanco,totalopcuentabanco:t.egresos.totalopcuentabanco,id_user:JSON.parse(sessionStorage.getItem("dataUser"))[0].id,id_master:t.$store.state.controlGastos.listControlGastos[0].master_id,id_correlativo:t.id_correlativo,tipocambio:t.tipocambio,status:!0},a={method:"post",url:"https://api.agentedecargaonline.com/editEgreso/"+t.egresos.id,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await H()(a).then((function(e){t.listControlGasto(),t.dialog=!1})).catch((function(t){console.log(t)})),this.$emit("recalcularProfit")},async imprimirControl(){let t=this.$store.state.controlGastos.listControlGastos[0];t.master_volumen,t.master_peso,t.master_port_begin,t.master_port_end,t.master_shipment,t.master_volumen,parseFloat(this.ingreso_pr-this.egreso_pr).toFixed(2),parseFloat(this.ingreso_op-this.egreso_op).toFixed(2),this.codigo_master,t.master_modality,t.master_egresos.map(t=>({nameproveedor:t.nombre_proveedor,restante:parseFloat(t.monto_pagar_op).toFixed(2),total_op:parseFloat(t.total_total_op).toFixed(2),total_p:parseFloat(t.total_total_op).toFixed(2),total_pr:parseFloat(t.total_total_pr).toFixed(2)})),t.master_houses.map(t=>({consigner:t.consigner,code_house:t.code_house,total_igv_op_ingresos:parseFloat(t.total_igv_op_ingresos).toFixed(2),total_igv_pr_ingresos:parseFloat(t.total_igv_pr_ingresos).toFixed(2),total_monto_op_ingresos:parseFloat(t.total_monto_op_ingresos).toFixed(2),total_monto_pr_ingresos:parseFloat(t.total_monto_pr_ingresos).toFixed(2),total_total_op_ingresos:parseFloat(t.total_total_op_ingresos).toFixed(2),total_total_pr_ingresos:parseFloat(t.total_total_pr_ingresos).toFixed(2)}))},async imprimirControlDetallado(){let t=this.$store.state.controlGastos.listControlGastos[0],e=[],a=0,o=0,i=0,s=0,r=0,n=0;t.master_egresos.forEach(t=>{t.detalle.forEach(t=>{e.push({namePagado:"",nameproveedor:t.nombre_proveedor,concepto:t.concepto,monto_pr:t.monto_pr,igv_pr:t.igv_pr,total_pr:t.total_pr,monto_op:t.monto_op,igv_op:t.igv_op,total_op:t.total_op}),a+=parseFloat(t.monto_pr),o+=parseFloat(t.igv_pr),i+=parseFloat(t.total_pr),s+=parseFloat(t.monto_op),r+=parseFloat(t.igv_op),n+=parseFloat(t.total_op)})});let l={bultos:t.master_volumen,peso:t.master_peso,puerto_origen:t.master_port_begin,puerto_destino:t.master_port_end,tipo_embarque:t.master_shipment,volumen:t.master_volumen,sentido:t.master_modality,gananciapr:parseFloat(this.ingreso_pr-this.egreso_pr).toFixed(2),gananciaop:parseFloat(this.ingreso_op-this.egreso_op).toFixed(2),exp:this.codigo_master,totalEgreso:a,totalIgvEgresos:o,totalTotalEgresos:i,totalEgresoOp:s,totalIgvEgresosOp:r,totalTotalEgresosOp:n,itemsTotalesProveedores:t.master_egresos.map(t=>({nameproveedor:t.nombre_proveedor,restante:parseFloat(t.monto_pagar_op).toFixed(2),total_op:parseFloat(t.total_total_op).toFixed(2),total_p:parseFloat(t.total_total_op).toFixed(2),total_pr:parseFloat(t.total_total_pr).toFixed(2)})),itemTotalHouse:t.master_houses.map(t=>({consigner:t.consigner,code_house:t.code_house,total_igv_op_ingresos:parseFloat(t.total_igv_op_ingresos).toFixed(2),total_igv_pr_ingresos:parseFloat(t.total_igv_pr_ingresos).toFixed(2),total_monto_op_ingresos:parseFloat(t.total_monto_op_ingresos).toFixed(2),total_monto_pr_ingresos:parseFloat(t.total_monto_pr_ingresos).toFixed(2),total_total_op_ingresos:parseFloat(t.total_total_op_ingresos).toFixed(2),total_total_pr_ingresos:parseFloat(t.total_total_pr_ingresos).toFixed(2)})),itemHouses:t.master_houses,itemEgresos:t.master_egresos};var c=this;c._calcularTotales(),c.$swal({icon:"info",title:"Generando PDF...",text:"Por favor espere"});var d={method:"post",url:"https://api.agentedecargaonline.com/getPdfInstructivoDetallado",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:l};await H()(d).then((function(t){c.$swal({icon:"success",title:"PDF Generado",text:"El PDF se descargará automaticamente"}),window.open("https://api.agentedecargaonline.com/"+t.data.path,"_blank")})).catch((function(t){console.log(t)}))},sendAdmin(t){this.$swal({title:"¿Desea realizar esta solicitud a Administración?",showDenyButton:!0,confirmButtonText:"Si",denyButtonText:"No",icon:"info"}).then(e=>{if(e.isConfirmed){var a={fecha_sol:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),status:2},o={method:"post",url:"https://api.agentedecargaonline.com/putSPaymentPro/"+t,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a},i=this;H()(o).then((function(t){i.$swal({icon:"success",title:"Excelente",text:"Solicitud enviada correctamente"}),i.listControlGasto(),i._getSPaymentPro(i.sPaymentId),i.dataList=!0})).catch((function(t){console.log(t)}))}}),this._getAccountsNumber(),this.nameproveedorLocal=this.nameproveedor},async eliminar(t){let e=this,a={id:t};e.$store.state.spiner=!0;var o={method:"put",url:"https://api.agentedecargaonline.com/eliminar_spaymentpro",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await H()(o).then((function(t){sessionStorage.setItem("auth-token",t.data.token);let a=t.data;e.$swal({icon:"info",title:"Información",text:a.data[0].mensaje}).then(async t=>{t.isConfirmed&&(e.dialogPayment=!1,e.$store.state.spiner=!0,await e.listControlGasto(),e.$store.state.spiner=!1)})})).catch((function(t){console.log(t)})),e.$store.state.spiner=!1},async _generateSolicitud(){var t=this;let e;t.loading=!0,t._calcularTotales(),t.$swal({icon:"info",title:"Generando PDF...",text:"Por favor espere"}),e=t.total>0?t.total:t.TotalLocal;let a=[];a=t.selected.length>0?t.selected:t.conceptos;let o=this.$store.state.controlGastos.listControlGastos[0].master_egresos.map(t=>({nameproveedor:t.nombre_proveedor,total_pr:parseFloat(t.total_total_pr).toFixed(2),total_op:parseFloat(t.total_total_op).toFixed(2)}));var i={id_house:t.$store.state.controlGastos.listControlGastos[0].master_houses.filter(t=>t.id_house)[0].id_house,id_proveedor:t.proveedorId,conceptos:a,monto:e,id_correlativo:t.id_correlativo,id_master:t.id_master,status:1},s={method:"post",url:"https://api.agentedecargaonline.com/setSPaymentPro",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:i};let r=this.$store.state.controlGastos.listControlGastos[0].master_houses.map(t=>t.consigner).join(", ");await H()(s).then((function(e){var a={nameProveedor:t.nameproveedor,nameConsignatario:r,totalPagar:t.TotalLocal,expediente:t.$store.state.controlGastos.listControlGastos[0].master_nromaster,fecha:t.currentDate(),totalProveedores:o,comentarios:t.comentarios,codigo_pago:t.codigo_pago,codigo_master:t.$store.state.controlGastos.listControlGastos[0].master_nromaster,cuentas:t.selectedAccount,operador:t.$store.state.dataHouse_operador,conceptos:t.conceptos,selected:t.selected,totalSelected:t.total,number:e.data.number,url_logo:JSON.parse(sessionStorage.getItem("dataUser"))[0].path},i={method:"post",url:"https://api.agentedecargaonline.com/pdfSolicitud",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};H()(i).then((function(e){t.listControlGasto(),t.$swal({icon:"success",title:"PDF Generado",text:"El PDF se descargará automaticamente"}),window.open("https://api.agentedecargaonline.com/"+e.data.path,"_blank"),t.dialogSolicitudDivision=!1,t.dialogSolicitud=!1})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)})),t.loading=!1},_calcularTotales(){var t=this;t.total=0;let e=0;if(t.selected.length>0){let e=0;t.selected.map(a=>{e+=parseFloat(a.total_op),t.total=e.toFixed(2)})}else t.conceptos.map(a=>{e+=parseFloat(a.total_op),t.total=e.toFixed(2)})},currentDate(){const t=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],e=new Date,a=`${e.getDate()} de ${t[e.getMonth()]} del ${e.getFullYear()}`;return a},async uploadFile(){this.msgfile="",this.errfile="",this.payfile?(this.loadingFile=!0,await this._uploadFile(this.payfile),this.loadingFile=!1,this.$store.state.files.payPath?this.msgfile="Archivo cargado":this.errfile="Comuniquese con el admistrador"):this.errfile="Dato Requerido"},async openInvoice(t){var e=this;e.msgFile=null,e.loading=!0,e.itemsListInvoice=[],e.proveedorId=t.id_proveedor,e.egreso=t,e.nameproveedor=t.nombre_proveedor,await e._getInvoice(t),e.loading=!1},async _getInvoice(t){console.log("-----");var e=this;e.isDataTableLoading=!0;var a={method:"get",url:`https://api.agentedecargaonline.com/list_invoice_path?id_master=${t.id_master}&id_proveedor=${t.id_proveedor}&id_correlativo=${t.id_correlativo}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await H()(a).then((function(t){sessionStorage.setItem("auth-token",t.data.token),e.dialogListInvoice=!0,t.data.data[0].estadoflag?e.itemsListInvoice=t.data.data:e.itemsListInvoice=[],e.isDataTableLoading=!1})).catch((function(t){console.log(t)}))},async _uploadFiles(){var t=this;if(t.msgFile="",t.errFile="",t.payfile){var e=a("5a30"),o=(a("3e8f"),new e);o.append("name","Prueba"),o.append("file",t.payfile),t.isFileLoading=!0;var i={method:"post",url:"https://api.agentedecargaonline.com/uploadAllPath",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:o};await H()(i).then((function(e){t.boolFile=!0,t.payPath=JSON.stringify(e.data.data[0].insertid),t.msgFile="Archivo Cargado.",t.isFileLoading=!1})).catch((function(t){console.log(t)}))}else t.boolFile=!1,t.errFile="Dato Requerido"},openDoc(t){window.open(t,"_blank")},validarStep2Solicitud(){var t=this;t.checkPago||t.selectedAccount.length?t.e1=3:t.$swal({icon:"error",text:"Para avanzar al paso 3, debe seleccionar al menos una cuenta bancaria"})},isProveedorInternacional(){let t=this.$store.state.masterusuarios.lstTipoTransaccion.some(t=>"02"==t.codigo&&t.id==this.id_tipotransaccion);return t},registrarCuentaBancaria(){var t=this;t.$refs.frmCuentaBancaria.validate()&&V.a.fire({icon:"question",html:"<b>Si guarda este banco, se agregará a la lista de bancos de la ficha del proveedor. ¿Desea continuar?</b>",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then(async e=>{if(e.isConfirmed){t.loadingBotonGuardarCuentaBancaria=!0;var a={method:"post",url:"https://api.agentedecargaonline.com/setAccount",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{...t.cuentaBancaria,id_entities:t.proveedorId,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}};await H()(a).then((async function(e){sessionStorage.setItem("auth-token",e.data.token),e.data.estadoflag?(V.a.fire({icon:"success",text:e.data.mensaje}),await t._getAccountsNumber()):V.a.fire({icon:"error",text:e.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==e.data.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})})),t.loadingBotonGuardarCuentaBancaria=!1,t.dialogCuentaBancaria=!t.dialogCuentaBancaria,t.$refs.frmCuentaBancaria.reset()}})},getDeudaActual(t={}){let{detalle:e=[],total_total_op:a=0}=t,o=e.reduce((t,e)=>e.pagado?t+(parseFloat(e.total_op)||0):t,0),i=parseFloat(a)-parseFloat(o.toFixed(2));return 0!=i?i.toFixed(2):0},cargarFactura(){this.payfile="",this.msgFile="",this.errFile="";var t=this;let e=t.itemsListInvoice.reduce((t,e)=>t+(parseFloat(e.monto)||0),0);e==parseFloat(t.egreso.total_total_op)?(t.$swal({icon:"error",html:"<b>No se puede cargar más facturas porque el monto de Total Operaciones es igual al total de facturas cargadas.</b>",confirmButtonColor:"#3085d6",confirmButtonText:"ACEPTAR"}),t.dialogInvoice=!1):(t.radio="1",t.date=U()().format("YYYY-MM-DD"),t.nro_invoice="",t.monto_factura="",t.payfile=null,t.boolFile=!1,t.dialogInvoice=!0)},validarMontoFactura(){var t=this;let e=t.itemsListInvoice.reduce((t,e)=>t+(parseFloat(e.monto)||0),0),a=(parseFloat(t.monto_factura)||0)+(parseFloat(e)||0);a>parseFloat(t.egreso.total_total_op)&&t.$swal({icon:"error",html:"<b>La suma del monto de las facturas cargadas debe ser menor o igual al monto del Total Operaciones para el proveedor. Verifique el monto de la factura.</b>",confirmButtonColor:"#3085d6",confirmButtonText:"ACEPTAR"}).then(e=>{e.isConfirmed&&(t.monto_factura="")})},...Object(z["b"])(["setEgresos","setInvoice","delInvoice","getAccountsNumber","delEgregso","getSPaymentPro","getListControlGastos","editEgreso","getPdfInstructivoDetallado","putSPaymentPro","eliminar_spaymentpro","pdfSolicitud","_uploadFile","list_invoice_path","setSPaymentPro","uploadAllPath","guardarCuotasCgeTipoProveedor","getBanksListCargar","getCoinsListCargar","_getProveedor","cargarMasterDetalleTipoTransaccion","copiarCGEgresos"]),bloquearCopiarMontos(t){return t.some(t=>1==t.pagado||1==t.statusadmin)},abriModalCopiar(t,e){this.egreso={},e||(this.egreso=t,this.dialogCopiar=!0)},async copiarMontos(){this.$refs.frmCopiar.validate()&&(await this.copiarCGEgresos(this.egreso),await this.getListControlGastos(this.$route.params.id),this.dialogCopiar=!1)}},watch:{egresos:{handler(t,e){var a=this;t.id_proveedor&&!1===a.showSeccion2NuevoEgreso&&(a.showSeccion2NuevoEgreso=!0),t.concepto&&a.id_correlativo&&(!t.statusCalcula||t.statusCalcula)&&!1===a.showSeccion3NuevoEgreso&&(a.showSeccion3NuevoEgreso=!0),t.montoopcuentabanco||t.montopr?a.isBotonGuardarEgresoDisabled=!1:a.isBotonGuardarEgresoDisabled=!0},deep:!0},id_correlativo:{handler(t){t&&this.egresos.concepto&&this.egresos.statusCalcula&&!1===this.showSeccion3NuevoEgreso&&(this.showSeccion3NuevoEgreso=!0)},immediate:!0},id_coins:{handler(t){t&&this.tipocambio&&!1===this.showSeccion4NuevoEgreso&&(this.showSeccion4NuevoEgreso=!0)},immediate:!0},tipocambio:{handler(t){t&&this.id_coins&&!1===this.showSeccion4NuevoEgreso&&(this.showSeccion4NuevoEgreso=!0)},immediate:!0},checkMaster(){this.codigo_master="",this.checkMaster&&(this.codigo_master=this.$store.state.controlGastos.listControlGastos[0].master_codemaster)}},computed:{nombreCodigoPago(){let t=this.$store.state.controlGastos.listControlGastos[0]&&this.$store.state.controlGastos.listControlGastos[0].master_shipment||"",e="";switch(t){case"LCL":e="Coloader";break;case"FCL":e="Naviera";break;case"Aéreo":e="Linea Aerea";break;default:break}return e}}},K=q,Q=a("2877"),Y=Object(Q["a"])(K,j,R,!1,null,null,null);e["default"]=Y.exports},"9c58":function(t,e,a){},a18c:function(t,e,a){"use strict";var o=a("2b0e"),i=a("8c4f"),s=a("8336"),r=a("b0af"),n=a("62ad"),l=a("a523"),c=a("4bd4"),d=a("0fd9"),u=a("b974"),p=a("8654"),m=function(){var t=this,e=t._self._c;return e(l["a"],{staticClass:"containerLogin",attrs:{fluid:""}},[e("button",{staticStyle:{display:"none"},attrs:{id:"add-to-home"}},[t._v("Añadir a la pantalla de inicio")]),e(d["a"],[e(n["a"],{staticClass:"btnRegistro ocultarMovil",attrs:{cols:"6"}},[e("span",{staticClass:"spanRegistro"},[t._v(" COMIENZA GRATIS TU PRUEBA DE 30 DÍAS ")])]),e(n["a"],{attrs:{cols:"12",lg:"6",xl:"6"}},[e("div",{staticClass:"carousel"},[e("div",{staticClass:"carousel-container",style:{transform:`translateX(-${100*t.currentSlide}%)`}},[e("section",{staticClass:"carousel-slide"},[e(r["a"],{staticClass:"cardLogin",attrs:{elevation:"5"}},[e("p",[t._v("Bienvenido a ACO")]),e("h1",[t._v("Iniciar Sesión")]),e(c["a"],[e("div",{staticClass:"my-2"},[e("p",[t._v("Ingresa Tu Usuario o Email")]),e(p["a"],{attrs:{outlined:"",type:"text",placeholder:"Usuario o Email",dense:"",loading:t.loading,autocomplete:"username"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.acceder()}},model:{value:t.$store.state.securitys.frmLogin.user,callback:function(e){t.$set(t.$store.state.securitys.frmLogin,"user",e)},expression:"$store.state.securitys.frmLogin.user"}})],1),e("div",{staticClass:"my-2"},[e("p",[t._v("Ingresa tu clave")]),e(p["a"],{attrs:{autocomplete:"current-password",outlined:"",dense:"",type:0==t.verClave?"password":"text",placeholder:"Contraseña","append-icon":t.verClave?"mdi-eye-off":"mdi-eye",loading:t.loading},on:{"click:append":function(e){t.verClave=!t.verClave},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.acceder()}},model:{value:t.$store.state.securitys.frmLogin.password,callback:function(e){t.$set(t.$store.state.securitys.frmLogin,"password",e)},expression:"$store.state.securitys.frmLogin.password"}})],1)]),e("span",{staticClass:"red--text"},[t._v(" "+t._s(t.$store.state.securitys.errorClave))]),e("p",{staticClass:"rigth my-2"},[e("a",{on:{click:function(e){return t.ReEstablecerContrasenia()}}},[t._v(" Olvidé Contraseña")])]),e(s["a"],{staticClass:"my-5",attrs:{block:"",color:"info"},on:{click:function(e){return t.acceder()}}},[t._v(" Iniciar Sesión ")]),e("p",{staticClass:"center my-2"},[t._v("O")]),e(s["a"],{staticClass:"my-5",attrs:{block:"",color:"default"},on:{click:function(e){return t.registroEmpresa()}}},[t._v(" Registrate")])],1)],1),e("section",{staticClass:"carousel-slide"},[e(r["a"],{staticClass:"cardLogin",attrs:{elevation:"5"}},[e("p",[t._v("Bienvenido a ACO")]),e("h1",[t._v("SUCURSAL")]),e(u["a"],{attrs:{items:t.$store.state.securitys.lstSucursal,"item-text":"trade_name","item-value":"id",dense:"",placeholder:"Sucursal",label:"Sucursal",outlined:"",rules:[t=>!!t||"Dato Requerido"],"error-messages":t.errorSucursal,loading:t.loading},model:{value:t.$store.state.securitys.frmLogin.id_sucursal,callback:function(e){t.$set(t.$store.state.securitys.frmLogin,"id_sucursal",e)},expression:"$store.state.securitys.frmLogin.id_sucursal"}}),e(s["a"],{staticClass:"my-5",attrs:{block:"",color:"info",loading:t.loading},on:{click:function(e){return t.iraHome()}}},[t._v(" Continuar")]),e(s["a"],{staticClass:"my-5",attrs:{block:"",color:"red",dark:""},on:{click:function(e){return t.cancelar()}}},[t._v(" Cancelar")])],1)],1)])])])],1)],1)},h=[],_=(a("14d9"),a("e9f5"),a("910d"),a("2f62")),g={data(){return{frmUsuario:"ddd",frmClave:"ddd",currentSlide:0,verClave:!1,loading:!1,errorSucursal:"",btnRegistro:!0}},async mounted(){JSON.parse(sessionStorage.getItem("dataBranch"))},methods:{...Object(_["b"])(["singin","_getMenuItem","ReEstablecerContrasenia","ObtenerDatosConfig"]),async acceder(){this.loading=!0;let t=await this.singin();t.estadoflag&&(this.currentSlide=1),this.loading=!1},cancelar(){this.currentSlide=0},async iraHome(){if(this.errorSucursal="",!this.$store.state.securitys.frmLogin.id_sucursal)return void(this.errorSucursal="Dato Requerido");this.loading=!0;let t=this.$store.state.securitys.lstSucursal.filter(t=>t.id==this.$store.state.securitys.frmLogin.id_sucursal);sessionStorage.setItem("dataBranch",JSON.stringify(t)),localStorage.setItem("dataBranch",JSON.stringify(t));let e=JSON.parse(sessionStorage.getItem("dataUser"));e[0].id_branch=this.$store.state.securitys.frmLogin.id_sucursal,sessionStorage.setItem("dataUser",JSON.stringify(e)),sessionStorage.setItem("iso_pais",t[0].iso_pais),sessionStorage.setItem("dataBranch",JSON.stringify(t)),localStorage.setItem("dataBranch",JSON.stringify(t)),await this._getMenuItem(),this.$store.state.lstMenu=JSON.parse(sessionStorage.getItem("menu")),setTimeout(()=>{this.$router.push({name:"Main"},()=>{}),this.loading=!1},2e3),this.ObtenerDatosConfig()},registroEmpresa(){this.$router.push({name:"RegistroEmpresa"})}}},f=g,v=(a("44c3"),a("2877")),b=Object(v["a"])(f,m,h,!1,null,"3b7aa076",null),C=b.exports,k=a("7496"),S=a("40dc"),y=a("5bc1"),I=a("132d"),P=a("f6c4"),x=a("f774"),T=a("2fa4"),$=a("2a7f"),E=function(){var t=this,e=t._self._c;return e(k["a"],{attrs:{id:"inspire"}},[t.mostrarBtnMenu?e(x["a"],{attrs:{width:"320",app:""},model:{value:t.$store.state.drawer,callback:function(e){t.$set(t.$store.state,"drawer",e)},expression:"$store.state.drawer"}},[e("listMenu")],1):t._e(),t.mostrarBtnMenu?e(S["a"],{attrs:{app:"",elevation:"0",color:t.colorBar(),dark:""}},[t.mostrarBtnMenu?e(y["a"],{on:{click:function(e){t.$store.state.drawer=!t.$store.state.drawer}}}):t._e(),e($["a"],[t._v(t._s(t.$store.state.mainTitle))]),e(T["a"]),this.$route.params.id_house?e("b",{staticClass:"mr-10 text-h4"},[t._v(" PROFIT PR: "+t._s(((this.$store.state.totalTotalIngresos?this.$store.state.totalTotalIngresos:0)-(this.$store.state.totalTotalEgresos?this.$store.state.totalTotalEgresos:0)).toFixed(2))+" USD ")]):t._e(),this.$route.params.id_house?e("b",{staticClass:"mr-10 text-h4"},[t._v(" / OP: "+t._s(((this.$store.state.totalTotalIngresosOp?this.$store.state.totalTotalIngresosOp:0)-(this.$store.state.totalTotalEgresosOp?this.$store.state.totalTotalEgresosOp:0)).toFixed(2))+" USD ")]):t._e(),e(T["a"]),"newQuote"==t.getNameUrl()?e("label",{staticClass:"monto"},[t._v(" Profit / Ganancia "+t._s(t.currencyFormat(t.$store.state.pricing.totalVenta-t.$store.state.pricing.totalCosto))+" ")]):t._e(),"newQuote"==t.getNameUrl()&&t.$store.state.pricing.btnRegistrar?e(T["a"]):t._e(),"newQuote"==t.getNameUrl()&&t.$store.state.pricing.btnRegistrar?e(s["a"],{attrs:{color:"#009688",dark:"",disabled:t.$store.state.pricing.bloquearBtnImprimir},on:{click:function(e){return t.guardarCotizacion()}}},[t._v(" GUARDAR ")]):t._e(),"editQuote"==t.getNameUrl()?e("label",{staticClass:"monto"},[t._v(" Profit / Ganancia "+t._s(t.currencyFormat(t.$store.state.pricing.totalVenta-t.$store.state.pricing.totalCosto))+" ")]):t._e(),"editQuote"==t.getNameUrl()?e(T["a"]):t._e(),"editQuote"==t.getNameUrl()&&t.$store.state.pricing.mostrarBtnActualizarFlag?e(s["a"],{attrs:{color:"#009688",dark:""},on:{click:function(e){return t.editarCotizacion()}}},[t._v(" GUARDAR CAMBIOS ")]):t._e(),"verQuote"==t.getNameUrl()?e("label",{staticClass:"monto"},[t._v(" Profit / Ganancia "+t._s(t.currencyFormat(t.$store.state.pricing.totalVenta-t.$store.state.pricing.totalCosto))+" ")]):t._e(),"verQuote"==t.getNameUrl()?e(T["a"]):t._e(),"verQuote"==t.getNameUrl()&&t.$store.state.pricing.mostrarBtnActualizarFlag?e(s["a"],{attrs:{color:"#009688",dark:""},on:{click:function(e){return t.ira("editQuote",t.$route.params.id)}}},[t._v(" EDITAR ")]):t._e(),"verQuote"==t.getNameUrl()?e(s["a"],{staticClass:"mx-1",attrs:{color:"light-blue darken-3",dark:""},on:{click:function(e){return t.copiarCotizacion()}}},[e(I["a"],{staticClass:"mx-1",attrs:{dense:"",small:""}},[t._v("mdi-content-copy")]),t._v(" COPIAR COTIZACIÓN ")],1):t._e(),"nuevoClientes"==t.getNameUrl()&&t.$store.state.entities.showBtnSaveFlag?e(s["a"],{staticClass:"ml-auto",attrs:{color:"success",dark:""},on:{click:t.registrarCliente}},[t._v("Guardar CLIENTE")]):t._e(),"editarCliente"==t.getNameUrl()&&t.$store.state.entities.showBtnSaveFlag?e(s["a"],{staticClass:"ml-auto",attrs:{color:"success",dark:""},on:{click:t.modificarCliente}},[t._v("EDITAR CLIENTE")]):t._e(),"nuevoProveedor"==t.getNameUrl()&&t.$store.state.entities.showBtnSaveFlag?e(s["a"],{staticClass:"ml-auto",attrs:{color:"success",dark:"",disabled:t.$store.state.entities.disabledBtnSave},on:{click:t.registrarProveedor}},[t._v("Guardar Proveedor")]):t._e(),"editarProveedor"==t.getNameUrl()&&t.$store.state.entities.showBtnSaveFlag?e(s["a"],{staticClass:"ml-auto",attrs:{color:"success",dark:"",disabled:t.$store.state.entities.disabledBtnSave},on:{click:t.modificarProveedor}},[t._v("Guardar Cambios Proveedor")]):t._e(),t.routeAduana.includes(t.getNameUrl())?e("label",{staticClass:"monto"},[t._v(" "+t._s(t.currencyFormat((t.$store.state.aduana.totalVenta?t.$store.state.aduana.totalVenta:0)-(t.$store.state.aduana.totalCosto?t.$store.state.aduana.totalCosto:0)))+" ")]):t._e(),e(T["a"]),"EditarAduana"==t.getNameUrl()?e(s["a"],{attrs:{color:"#009688",dark:""},on:{click:function(e){return t.editarCotizacionAduana()}}},[t._v(" GUARDAR CAMBIOS ")]):t._e(),"VerAduana"==t.getNameUrl()&&t.$store.state.aduana.mostrarBtnActualizarFlag?e(s["a"],{attrs:{color:"#009688",dark:""},on:{click:function(e){return t.ira("EditarAduana",t.$route.params.id)}}},[t._v(" EDITAR ")]):t._e()],1):t._e(),e(P["a"],{staticClass:"main"},[e("router-view")],1),t.$store.state.dialogProcessing?e("div",{staticClass:"dialogOverlay"}):t._e(),t.$store.state.dialogProcessing?e("div",{staticClass:"dialogProcessing"},[e("LoadingComponent")],1):t._e()],1)},w=[],M=(a("7d54"),a("ab43"),a("a732"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"_container__menu"})}),O=[],F=a("bc3a"),A=a.n(F),N={name:"leftMenu",data(){return{itemsModule:[]}},mounted(){},methods:{...Object(_["b"])(["_getGroupList"]),_getEntitiesModule(){var t=JSON.parse(sessionStorage.getItem("dataUser")),e=this,a=JSON.stringify({id_entitie:t[0].id}),o={method:"post",url:"https://api.agentedecargaonline.com/getEntitieModules",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};A()(o).then((function(t){e.itemsModule=t.data.data,sessionStorage.setItem("idMenu",JSON.parse(JSON.stringify(e.itemsModule))[0].id),sessionStorage.setItem("idMenuName",JSON.parse(JSON.stringify(e.itemsModule))[0].name),e._getGroupList()})).catch((function(t){console.log(t)}))},_setidMenu(t,e){this.$store.state.dataList=!1,sessionStorage.setItem("idMenu",t),sessionStorage.setItem("idMenuName",e),this._getGroupList()}}},D=N,L=(a("1da1"),Object(v["a"])(D,M,O,!1,null,"05113bae",null)),j=L.exports,R=a("8212"),B=a("99d9"),U=a("169a"),G=a("ce7e"),H=a("adda"),J=a("5d23"),V=a("e449"),z=a("490a"),q=a("eb2a"),K=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"col-12 header"},[e(d["a"],[e(n["a"],{staticClass:"avatar",attrs:{cols:"3"}},[e(V["a"],{attrs:{bottom:"","min-width":"200px",rounded:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(s["a"],t._g({attrs:{icon:"","x-large":""}},a),[e(R["a"],{attrs:{size:"45"}},[t.person.path?e(H["a"],{attrs:{src:t.branch.logo}}):e(H["a"],{attrs:{src:"/img/png/user.png"}})],1)],1)]}}])},[e(r["a"],[e(J["a"],{staticClass:"justify-center"},[e("div",{staticClass:"mx-auto text-center"},[e(R["a"],{attrs:{color:"brown"}},[t.branch.logo?e(H["a"],{attrs:{src:t.branch.logo}}):e(H["a"],{attrs:{src:"/img/png/user.png"}})],1),e("h5",{staticClass:"mt-3"},[t._v(t._s(t.person.nombrecompleto))]),e(G["a"],{staticClass:"my-3"}),e(s["a"],{attrs:{depressed:"",rounded:"",text:""},on:{click:t.cerrarSesion}},[t._v(" Cerrar Sesión ")])],1)])],1)],1)],1),e(n["a"],{staticClass:"header_datos",attrs:{cols:"9"}},[e("p",{staticClass:"my-0 sucursalName"},[t._v(" "+t._s(t.sucursal)+" ")]),e("span",{staticClass:"person"},[t._v(" "+t._s(t.person.nombrecompleto))])])],1)],1),e(G["a"]),e(q["a"],{attrs:{open:t.initiallyOpen,items:t.$store.state.lstMenu,activatable:"","item-key":"id","open-on-click":"","return-object":""},on:{"update:active":t.handleClickTree},scopedSlots:t._u([{key:"prepend",fn:function({item:a,open:o}){return[a.icon?e(I["a"],[t._v(t._s(a.icon))]):e(I["a"],[t._v(" "+t._s(o?"mdi-folder-open":"mdi-folder")+" ")])]}},{key:"label",fn:function({item:a}){return[a.route?e("router-link",{staticClass:"treeview-label full-width-link",staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:{name:a.route}}},[t._v(" "+t._s(a.name)+" ")]):e("span",{staticClass:"treeview-label"},[t._v(t._s(a.name))])]}}]),model:{value:t.tree,callback:function(e){t.tree=e},expression:"tree"}}),e(G["a"]),t.mostrarResumenPricing()&&1==t.mostrarFlag?e("div",{staticClass:"mt-5"},[e(d["a"],{staticClass:"datosPricing"},[e(r["a"],{staticClass:"datosPricing"},[e(B["d"],{staticClass:"custom-card-title justify-center white--text py-0 my-0"},[e("h6",[t._v("DATOS DE LA COTIZACIÓN")])]),e(d["a"],[e(B["c"],[e(u["a"],{staticClass:"my-5 px-5 text-resumen",attrs:{label:"Sentido",dense:"",items:t.$store.state.pricing.listModality,"item-text":"name","item-key":"id","item-value":"id",readonly:""},model:{value:t.$store.state.pricing.datosPrincipales.idsentido,callback:function(e){t.$set(t.$store.state.pricing.datosPrincipales,"idsentido",e)},expression:"$store.state.pricing.datosPrincipales.idsentido"}}),e(u["a"],{staticClass:"my-1 px-5 text-resumen",attrs:{label:"Tipo de Embarque",dense:"",items:t.$store.state.pricing.listShipment,"item-text":"embarque","item-key":"id","item-value":"id",readonly:"","return-object":""},model:{value:t.$store.state.pricing.datosPrincipales.idtipocarga,callback:function(e){t.$set(t.$store.state.pricing.datosPrincipales,"idtipocarga",e)},expression:"$store.state.pricing.datosPrincipales.idtipocarga"}}),e(u["a"],{staticClass:"my-1 px-5 text-resumen",attrs:{label:"Incoterms",dense:"",items:t.$store.state.pricing.listIncoterms,"item-text":"name","item-key":"id","item-value":"id",readonly:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[t._v(" "+t._s(e.item.name)+" - "+t._s(e.item.description)+" ")]}}],null,!1,3369757869),model:{value:t.$store.state.pricing.datosPrincipales.idincoterms,callback:function(e){t.$set(t.$store.state.pricing.datosPrincipales,"idincoterms",e)},expression:"$store.state.pricing.datosPrincipales.idincoterms"}}),e(p["a"],{staticClass:"my-1 px-5 text-resumen",attrs:{prefix:"$",label:"Valor de la mercancia",type:"number",placeholder:"Valor de la mercancia...",dense:"",readonly:""},model:{value:t.$store.state.pricing.datosPrincipales.amount,callback:function(e){t.$set(t.$store.state.pricing.datosPrincipales,"amount",e)},expression:"$store.state.pricing.datosPrincipales.amount"}}),t.$store.state.pricing.datosPrincipales.numerobultos?e("p",{staticClass:"my-1 px-5 text-resumen"},[t._v(" Nro Bultos : "+t._s(t.$store.state.pricing.datosPrincipales.numerobultos)+" uni. ")]):t._e(),t.$store.state.pricing.datosPrincipales.peso?e("p",{staticClass:"my-1 px-5 text-resumen"},[t._v(" Peso : "+t._s(t.$store.state.pricing.datosPrincipales.peso)+" kg ")]):t._e(),t.$store.state.pricing.datosPrincipales.volumen?e("p",{staticClass:"my-1 px-5 text-resumen"},[t._v(" Volumen : "+t._s(t.$store.state.pricing.datosPrincipales.volumen)+" m "),e("sup",[t._v("3")])]):t._e(),t.$store.state.pricing.datosPrincipales.containers.length>0?e("p",{staticClass:"my-1 px-5 text-resumen"},[e("b",[t._v("Contenedores:")])]):t._e(),t._l(t.$store.state.pricing.datosPrincipales.containers,(function(a,o){return e("p",{key:o,staticClass:"my-1 px-5 text-resumen"},[t._v(" "+t._s(a.description)+" : "+t._s(a.cantidad)+" ")])}))],2)],1)],1)],1)],1):t._e(),t.branch.porcentaje_config<100?e("div",{staticClass:"centrado"},[e("h3",[t._v("Avance de Configuración")]),e(z["a"],{attrs:{rotate:360,size:100,width:15,value:t.branch.porcentaje_config,color:"teal"}},[t._v(" "+t._s(t.branch.porcentaje_config)+" % ")]),e(s["a"],{staticClass:"mt-2",attrs:{color:"#4256BE",dark:"",small:""},on:{click:function(e){return t.$router.push({name:"ConfiguracionInicial"})}}},[t._v(" Continuar Configuración ")])],1):t._e(),e("div",{},[e(s["a"],{staticClass:"mt-2 white--text",attrs:{color:"blue-grey",block:""},on:{click:function(e){t.dialogTutorial=!0}}},[t._v(" VER TUTORIAL "),e(I["a"],{staticClass:"mx-5",attrs:{color:"#000"}},[t._v("mdi-video")])],1)],1),t.dialogTutorial?e(U["a"],{attrs:{persistent:"","max-width":"60%"},model:{value:t.dialogTutorial,callback:function(e){t.dialogTutorial=e},expression:"dialogTutorial"}},[e(r["a"],[e(B["d"],{attrs:{"primary-title":""}},[e(T["a"]),e(s["a"],{attrs:{icon:"",color:""},on:{click:function(e){t.dialogTutorial=!1}}},[e(I["a"],[t._v("mdi-close")])],1)],1),e(B["c"],[e("iframe",{attrs:{width:"100%",height:"600px",src:"https://www.youtube.com/embed/yvrDuoS3Fzo?si=t8utZVHDTsiCSGLH",title:"Tutorial ACO",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""}})])],1)],1):t._e()],1)},Q=[],Y={name:"listMenu",data:()=>({router:["newQuote","verQuote","editQuote","newCotizacionAduana","EditarAduana","VerAduana"],dialogTutorial:!1,loadingMenu:!1,mostrarFlag:!0,branch:JSON.parse(sessionStorage.getItem("dataBranch"))[0],sucursal:JSON.parse(sessionStorage.getItem("dataBranch"))[0].trade_name,initiallyOpen:[],tree:[],person:JSON.parse(sessionStorage.getItem("dataUser"))[0]}),mounted(){setTimeout(()=>{this.$store.state.lstMenu=JSON.parse(sessionStorage.getItem("menu"))},10)},computed:{...Object(_["c"])(["itemsList","itemsMenu","datosPrincipales"]),actualizarCostosFlag(){return this.$store.state.pricing.actualizarCostosFlag}},methods:{...Object(_["b"])(["_getMenuItem","_getGroupList","_getEntities"]),_nextView(t,e,a){this.$store.state.dataList=!1,this.$store.state.menuName=a,this.$router.push({name:t,params:{id_role:e}})},cerrarSesion(){sessionStorage.removeItem("auth-token"),sessionStorage.removeItem("dataUser"),sessionStorage.removeItem("dataBranch"),this.$store.state.securitys.MostrarLogin=!0,this.$store.state.securitys.MostrarSucursal=!1,this.$router.push({name:"Login"})},mostrarResumenPricing(){let t=this.$route.name;return this.router.includes(t)},mostrarVolumen(){let t=this;t.$store.state.pricing.datosPrincipales.idtipocarga,t.$store.state.pricing.listShipment.filter(t=>{t.id});return!0},handleTreeviewItemClick(t){if(t&&t.length>0&&t[0].route){this.$router.push({name:t[0].route},()=>{});this.$route.name;this.$store.state.drawer=!1}},handleClickTree(t){const e=t[0];e&&e.route&&this.$router.push({name:e.route})}},watch:{actualizarCostosFlag(){setTimeout(()=>{this.mostrarFlag=!this.mostrarFlag,this.mostrarFlag=!this.mostrarFlag},100)}}},X=Y,Z=(a("4df1"),Object(v["a"])(X,K,Q,!1,null,"a08fa9c6",null)),W=Z.exports,tt=a("54e1"),et=a("3d20"),at=a.n(et),ot=a("c1df"),it=a.n(ot),st=function(){var t=this;t._self._c;return t._m(0)},rt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div"),e("div"),e("div"),e("div")])}],nt={},lt=nt,ct=(a("6c01"),Object(v["a"])(lt,st,rt,!1,null,"54e15776",null)),dt=ct.exports,ut=a("daa8"),pt={created(){this.socket=Object(ut["a"])("https://api.agentedecargaonline.com/"),this.socket.on("connect",()=>{console.log("Conectado al servidor Socket.IO:",this.socket.id)}),this.socket.on("connect_error",t=>{console.error("Error al conectar con Socket.IO:",t)})},mixins:[tt["a"]],data(){return{mostrarBtnMenu:!0,routePricing:["newQuote","verQuote","editQuote"],routeAduana:["newCotizacionAduana","EditarAduana","VerAduana"]}},components:{leftMenu:j,listMenu:W,LoadingComponent:dt},async mounted(){let t=["newQuote","verQuote","editQuote"];this.socket.emit("join-empresa",JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch),this.socket.on("nueva-operacion",e=>{t.includes(this.$route.name)||at.a.fire({title:"¡Nueva Cotización!",text:e.mensaje,icon:"info",timer:5e3,timerProgressBar:!0,showConfirmButton:!1,allowEnterKey:!1,allowOutsideClick:!1,allowOutsideClick:!1})})},beforeMount(){this.mostrarBtnMenu=!JSON.parse(sessionStorage.getItem("dataBranch"))[0].esnuevoflag,this.$store.state.drawer=this.mostrarBtnMenu},methods:{...Object(_["b"])(["copiarQuote","crearCarpetaOneDrive","actualizarURLEnElQuote","updateQuote","validarCosto","GuardaCostosFinalesQuote","generaInstructivo","guardarCliente","actualizarCliente","guardarProveedor","actualizarProveedor","registrarQuote","actualizarQuoteAduana"]),async guardarCotizacion(){let t=this.validarRegistro();if(t){this.$store.state.spiner=!0,await this.registrarQuote({fullflag:!0}).catch(t=>{console.log("registrarQuote",t)}),this.$store.state.spiner=!1;let t=this;at.a.fire({icon:"info",title:"Aviso",text:t.$store.state.pricing.mensaje,confirmButtonText:"Ir a ver"}).then(e=>{e.isConfirmed&&t.$router.push({name:"verQuote",params:{id:t.$store.state.pricing.id}})});let e=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,a=[1,2];a.includes(e)&&(await this.crearCarpetaOneDrive({nro_quote:this.$store.state.pricing.nro_quote,nombre:this.$store.state.pricing.datosPrincipales.nombre}).catch(t=>{console.log("crearCarpetaOneDrive",t)}),await this.actualizarURLEnElQuote({id:this.$store.state.pricing.id,url:this.$store.state.pricing.urlFolder}).catch(t=>{console.log("actualizarURLEnElQuote",t)}))}},async editarCotizacion(){let t=!0;t=!this.$store.state.pricing.opcionCostos.some(t=>!t.date_end||!t.tiempo_transito||!this.isDateValid(t.date_end)),t?(this.$store.state.spiner=!1,await this.updateQuote(),console.log("step",this.$store.state.pricing.step),this.$router.push({name:"verQuote",params:{id:this.$store.state.pricing.id,step:this.$store.state.pricing.step?this.$store.state.pricing.step:1}}),this.$store.state.spiner=!1):(at.a.fire({title:"ADVERTENCIA",icon:"error",text:"Existe una o más Fechas de validez y/o tiempos en tránsito, INCOMPLETOS. Verifique."}),this.$store.state.pricing.tab=2)},async editarCotizacionAduana(){let t=!0;t=!this.$store.state.aduana.opcionCostos.some(t=>!t.date_end||!t.tiempo_transito||!this.isDateValid(t.date_end)),t?(this.$store.state.spiner=!1,await this.actualizarQuoteAduana(),console.log("step",this.$store.state.aduana.step),this.$router.push({name:"VerAduana",params:{id:this.$store.state.aduana.id,step:this.$store.state.aduana.step?this.$store.state.aduana.step:1}}),this.$store.state.spiner=!1):(at.a.fire({title:"ADVERTENCIA",icon:"error",text:"Existe una o más Fechas de validez y/o tiempos en tránsito, INCOMPLETOS. Verifique."}),this.$store.state.aduana.tab=2)},copiarCotizacion(){at.a.fire({title:"ADVERTENCIA",text:"¿Desea Crear una copia de esta cotización?",icon:"warning",showCancelButton:!0,confirmButtonText:"Aceptar",denyButtonText:"Cancelar"}).then(async t=>{if(t.isConfirmed){this.$store.state.spiner=!0,await this.copiarQuote({fullflag:!0,id:this.$route.params.id}).catch(t=>{console.log("copiarQuote",t)}),this.$store.state.spiner=!1;let t=this;console.log(t.$store.state.pricing.id),at.a.fire({icon:"info",title:"Aviso",text:t.$store.state.pricing.mensaje,confirmButtonText:"Ir a ver"}).then(e=>{e.isConfirmed&&(t.$router.push({name:"verQuote",params:{id:t.$store.state.pricing.id}}),this.$nextTick(()=>{location.reload()}))}),await this.crearCarpetaOneDrive({nro_quote:this.$store.state.pricing.nro_quote,nombre:this.$store.state.pricing.datosPrincipales.nombre}).catch(t=>{console.log("crearCarpetaOneDrive",t)}),await this.actualizarURLEnElQuote({id:this.$store.state.pricing.id,url:this.$store.state.pricing.urlFolder}).catch(t=>{console.log("actualizarURLEnElQuote",t)})}})},isDateValid(t){if(!t)return!0;const e=it()(t,"YYYY-MM-DD",!0),a=it()();return e.isAfter(a)},validarRegistro(){let t=!0;if(this.$store.state.pricing.opcionCostos.some(t=>""==t.date_end)?(at.a.fire({icon:"warning",title:"Aviso",text:"La fecha de validez para las opciones es requerida."}),t=!1):this.$store.state.pricing.opcionCostos.some(t=>this.isDateValid(t.date_end))||(at.a.fire({icon:"warning",title:"Aviso",text:"La fecha de validez  para las opciones debe ser mayor que la fecha actual."}),t=!1),this.$store.state.pricing.opcionCostos.some(t=>t.tiempo_transito)||(at.a.fire({icon:"warning",title:"Aviso",text:"El tiempo de transito  para las opciones es requerido. "}),t=!1),t)return t;let e=null;return this.$store.state.pricing.opcionCostos.forEach(a=>{let o=this.validateCost({costo:a.listCostos.filter(t=>1==t.esopcionflag),multiplicador:this.$store.state.pricing.listMultiplicador,services:this.$store.state.pricing.listServices});o.estado&&(e=o,t=!1)}),t&&(at.a.fire({icon:"warning",title:"Aviso",text:e.mensaje}),t=e.estado),t},getNameUrl(){let t=this.$route.name;return t},obtenerTipoAlert(){let t="red",e=["newQuote","editQuote","verQuote"];e.includes(this.getNameUrl())&&(this.$store.state.pricing.totalCosto-this.$store.state.pricing.totalVenta<0&&(t="success"),this.$store.state.pricing.totalCosto-this.$store.state.pricing.totalVenta>0&&(t="error"));return e.includes(this.getNameUrl())&&(this.$store.state.aduana.totalCosto-this.$store.state.aduana.totalVenta<0&&(t="success"),this.$store.state.aduana.totalCosto-this.$store.state.aduana.totalVenta>0&&(t="error")),t},currencyFormat(t){let e=new Intl.NumberFormat("en-IN",{style:"currency",currency:"USD"}).format(t);return e},colorBar(){let t="#252C32",e=["newQuote","editQuote","verQuote","newCotizacionAduana","EditarAduana","VerAduana"];return e.includes(this.getNameUrl())&&(t=this.obtenerTipoAlert()),t},ira(t,e){this.$router.push({name:t,params:{id:e}}),setTimeout(()=>{},100)},isDateValid(t){if(!t)return!0;const e=it()(t,"YYYY-MM-DD",!0),a=it()();return e.isAfter(a)},isClienteInternacional(){let t=this.$store.state.masterusuarios.lstTipoTransaccion.some(t=>"02"==t.codigo&&t.id==this.$store.state.entities.cliente.id_tipotransaccion);return t},async registrarCliente(){var t=this;t.$store.state.spiner=!0,await t.guardarCliente(!1),t.$store.state.spiner=!1},async modificarCliente(){var t=this;t.$store.state.entities.isStep1Valid=!0,t.$store.state.entities.isStep2Valid=!0,t.$store.state.entities.isStep3Valid=!0,t.$store.state.entities.isStep4Valid=!0,t.$store.state.entities.isStep5Valid=!0,t.$store.state.entities.isStep6Valid=!0;let e=!0;t.$store.state.entities.cliente&&(t.$store.state.entities.cliente.id_tipopersona||(e=!1),t.$store.state.entities.cliente.nombrecompleto||(e=!1),t.$store.state.entities.cliente.id_tipotransaccion||(e=!1),t.$store.state.entities.cliente.id_pais||(e=!1),t.$store.state.entities.cliente.emailaddress&&!/^(([^<>()[\]\\.,;:\s@']+(\.[^<>()\\[\]\\.,;:\s@']+)*)|('.+'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.$store.state.entities.cliente.emailaddress)&&(e=!1));let a=!0;t.$store.state.entities.lstTelefonos.length>0&&t.$store.state.entities.lstTelefonos.map(t=>{t.id_tipotelefono||(a=!1),t.telefono||(a=!1)});let o=!0;t.$store.state.entities.lstContactos.length>0&&t.$store.state.entities.lstContactos.map(t=>{t.nombre||(o=!1),t.id_tipotelefono||(o=!1),t.telefono||(o=!1)});let i=!0;t.$store.state.entities.lstConvenios.length>0&&t.$store.state.entities.lstConvenios.map(t=>{t.fecha||(i=!1),t.dias_credito<0&&(i=!1),t.email_soporte&&!/^(([^<>()[\]\\.,;:\s@']+(\.[^<>()\\[\]\\.,;:\s@']+)*)|('.+'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.email_soporte)&&(i=!1)});let s=!0;t.$store.state.entities.lstTarifas.length>0&&t.$store.state.entities.lstTarifas.map(t=>{t.fecha||(s=!1),t.codigo||(s=!1),t.email_soporte&&!/^(([^<>()[\]\\.,;:\s@']+(\.[^<>()\\[\]\\.,;:\s@']+)*)|('.+'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.email_soporte)&&(s=!1),t.tarifa<0&&(s=!1)});let r=!0;t.$store.state.entities.lstInformacionBancaria.length>0&&t.$store.state.entities.lstInformacionBancaria.map(e=>{e.nro_cuenta||(r=!1),e.cci||(r=!1),e.id_banco||(r=!1),e.id_coins||(r=!1),t.isClienteInternacional()&&(e.nro_swift||(r=!1),e.id_intermediario||(r=!1),e.nro_cuenta_intermediario||(r=!1))}),e?a&&o?i&&s?r?(t.$store.state.spiner=!0,await t.actualizarCliente(),t.$store.state.spiner=!1):t.$store.state.entities.isStep4Valid=!t.$store.state.entities.isStep4Valid:t.$store.state.entities.isStep3Valid=!t.$store.state.entities.isStep3Valid:t.$store.state.entities.isStep2Valid=!t.$store.state.entities.isStep2Valid:t.$store.state.entities.isStep1Valid=!t.$store.state.entities.isStep1Valid},isProveedorInternacional(){let t=this.$store.state.masterusuarios.lstTipoTransaccion.some(t=>"02"==t.codigo&&t.id==this.$store.state.entities.proveedor.id_tipotransaccion);return t},isShipper(){let t=this.$store.state.itemsDataRoleList.some(t=>{const e=(t.name.split("-")[1]||"").trim().toUpperCase();return t.id==this.$store.state.entities.proveedor.id_tipoproveedor&&"SHIPPER"==e});return t},isNaviera(){let t=this.$store.state.itemsDataRoleList.some(t=>{const e=(t.name.split("-")[1]||"").trim().toUpperCase();return t.id==this.$store.state.entities.proveedor.id_tipoproveedor&&"NAVIERA"==e});return t},isAlmacen(){let t=this.$store.state.itemsDataRoleList.some(t=>{const e=(t.name.split("-")[1]||"").trim().toUpperCase();return t.id==this.$store.state.entities.proveedor.id_tipoproveedor&&"ALMACEN"==e});return t},async registrarProveedor(){var t=this;t.$store.state.entities.isStep4Valid=!0;let e=!0;t.$store.state.entities.lstInformacionBancaria.length>0&&t.$store.state.entities.lstInformacionBancaria.map(a=>{a.nro_cuenta||(e=!1),a.cci||(e=!1),a.id_banco||(e=!1),a.id_coins||(e=!1),t.isProveedorInternacional()&&(a.nro_swift||(e=!1),a.id_intermediario||(e=!1),a.nro_cuenta_intermediario||(e=!1))}),e?(t.$store.state.spiner=!0,await t.guardarProveedor(),t.$store.state.spiner=!1):t.$store.state.entities.isStep4Valid=!t.$store.state.entities.isStep4Valid},async modificarProveedor(){var t=this;t.$store.state.entities.isStep1Valid=!0,t.$store.state.entities.isStep2Valid=!0,t.$store.state.entities.isStep3Valid=!0,t.$store.state.entities.isStep4Valid=!0;let e=!0;t.$store.state.entities.proveedor&&(t.$store.state.entities.proveedor.nombrecompleto||(e=!1),t.$store.state.entities.proveedor.id_tipoproveedor?t.isShipper()&&!t.$store.state.entities.proveedor.producto&&(e=!1):e=!1,t.$store.state.entities.proveedor.id_tipotransaccion||(e=!1),t.$store.state.entities.proveedor.id_pais||(e=!1),t.$store.state.entities.proveedor.emailaddress&&!/^(([^<>()[\]\\.,;:\s@']+(\.[^<>()\\[\]\\.,;:\s@']+)*)|('.+'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.$store.state.entities.proveedor.emailaddress)&&(e=!1),t.isNaviera()&&t.$store.state.entities.proveedor.dias_sobreestadia<0&&(e=!1),t.isAlmacen()&&t.$store.state.entities.proveedor.dias_almacenaje<0&&(e=!1));let a=!0;t.$store.state.entities.lstTelefonos.length>0&&t.$store.state.entities.lstTelefonos.map(t=>{t.id_tipotelefono||(a=!1),t.telefono||(a=!1)});let o=!0;t.$store.state.entities.lstContactos.length>0&&t.$store.state.entities.lstContactos.map(t=>{t.nombre||(o=!1),t.id_tipotelefono||(o=!1),t.telefono||(o=!1)});let i=!0;t.$store.state.entities.lstConvenios.length>0&&t.$store.state.entities.lstConvenios.map(t=>{t.fecha||(i=!1),t.dias_credito<0&&(i=!1),t.email_soporte&&!/^(([^<>()[\]\\.,;:\s@']+(\.[^<>()\\[\]\\.,;:\s@']+)*)|('.+'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.email_soporte)&&(i=!1)});let s=!0;t.$store.state.entities.lstTarifas.length>0&&t.$store.state.entities.lstTarifas.map(t=>{t.fecha||(s=!1),t.codigo||(s=!1),t.email_soporte&&!/^(([^<>()[\]\\.,;:\s@']+(\.[^<>()\\[\]\\.,;:\s@']+)*)|('.+'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.email_soporte)&&(s=!1),t.tarifa<0&&(s=!1)});let r=!0;t.$store.state.entities.lstInformacionBancaria.length>0&&t.$store.state.entities.lstInformacionBancaria.map(e=>{e.nro_cuenta||(r=!1),e.cci||(r=!1),e.id_banco||(r=!1),e.id_coins||(r=!1),t.isProveedorInternacional()&&(e.nro_swift||(r=!1),e.id_intermediario||(r=!1),e.nro_cuenta_intermediario||(r=!1))}),e?a&&o?i&&s?r?(t.$store.state.spiner=!0,await t.actualizarProveedor(),t.$store.state.spiner=!1):t.$store.state.entities.isStep4Valid=!t.$store.state.entities.isStep4Valid:t.$store.state.entities.isStep3Valid=!t.$store.state.entities.isStep3Valid:t.$store.state.entities.isStep2Valid=!t.$store.state.entities.isStep2Valid:t.$store.state.entities.isStep1Valid=!t.$store.state.entities.isStep1Valid}}},mt=pt,ht=(a("c0e7"),a("85d1"),Object(v["a"])(mt,E,w,!1,null,"07f3c276",null)),_t=ht.exports,gt=function(){var t=this,e=t._self._c;return e("div",[e(l["a"],{attrs:{fluid:""}},[e(d["a"],[e(n["a"],{staticClass:"_col__rigth",attrs:{md:"6",cols:"12"}},[e("formWelcome")],1),e(n["a"],{attrs:{md:"6",cols:"12"}})],1)],1)],1)},ft=[],vt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"_main_avatar__login"}),e("p",{staticClass:"_title__User"},[t._v("Bienvenid"+t._s(t.acronynO)+" "+t._s(t.nameUser))])])},bt=[],Ct={name:"formWelcome",data(){return{nameUser:"",acronynO:"o",imagePath:""}},mounted(){this._proccessName()},methods:{_proccessName(){var t=this,e=JSON.parse(sessionStorage.getItem("dataUser")),a=e[0].names.split(" ");t.nameUser=a[0].nombrecompleto,t.imagePath=e[0].path,1==e[0].id_sex?t.acronynO="o":t.acronynO="a"}}},kt=Ct,St=(a("6aab"),Object(v["a"])(kt,vt,bt,!1,null,"3cfbedab",null)),yt=St.exports,It={name:"home",components:{formWelcome:yt}},Pt=It,xt=(a("1dc9"),Object(v["a"])(Pt,gt,ft,!1,null,"0a9804d4",null)),Tt=xt.exports,$t=function(){var t=this,e=t._self._c;return e("div",[e("listEntitiesCom")],1)},Et=[],wt=a("630c"),Mt={name:"listEntities",components:{listEntitiesCom:wt["default"]},data(){return{}},mounted(){this.$store.state.mainTitle="LISTA DE "+this.$store.state.menuName.toUpperCase()}},Ot=Mt,Ft=Object(v["a"])(Ot,$t,Et,!1,null,null,null),At=Ft.exports,Nt=function(){var t=this,e=t._self._c;return e("div",[e(l["a"],[e(d["a"],[e(n["a"],{attrs:{cols:"12",md:"6"}},[e(r["a"],[e(B["c"],[e("controlEntitiesCom",{attrs:{dataClien:"1"}})],1)],1)],1)],1)],1)],1)},Dt=[],Lt=a("c6a6"),jt=a("1f4f"),Rt=a("a844"),Bt=a("3a2f"),Ut=function(){var t=this,e=t._self._c;return e("div",[e(l["a"],{attrs:{fluid:""}},[e(d["a"],[e(n["a"],{attrs:{cols:"10"}},[e(c["a"],{ref:"frmData"},[e(d["a"],{attrs:{dense:""}},[e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.itemsDocumentsPais,"item-text":"description","item-value":"id",label:"Tipo de Documento Fiscal",rules:[t=>!!t||"Dato Requerido"]},on:{change:function(e){return t._validaDocumento()}},model:{value:t.id_documents,callback:function(e){t.id_documents=e},expression:"id_documents"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{type:"text",label:"N° de Documento Fiscal",rules:[t=>!!t||"Dato Requerido"]},nativeOn:{focusout:function(e){return t._validaDocumento()}},model:{value:t.n_documents,callback:function(e){t.n_documents=e},expression:"n_documents"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.masterusuarios.lstTipoProveedor,"item-text":"descripcion","item-value":"id",label:"Tipo de Proveedor"},model:{value:t.id_tipo_proveedor,callback:function(e){t.id_tipo_proveedor=e},expression:"id_tipo_proveedor"}})],1),2!=t.id_documents?e(n["a"],{attrs:{cols:"12",md:"12"}},[e(p["a"],{attrs:{label:"Nombres",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.names,callback:function(e){t.names=e},expression:"names"}})],1):t._e(),2!=t.id_documents?e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{label:"Primer Apellido",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.surname,callback:function(e){t.surname=e},expression:"surname"}})],1):t._e(),2!=t.id_documents?e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{label:"Segundo Apellido",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.second_surname,callback:function(e){t.second_surname=e},expression:"second_surname"}})],1):t._e(),2==t.id_documents?e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{label:"Nombre Comercial",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.tradename,callback:function(e){t.tradename=e},expression:"tradename"}})],1):t._e(),2==t.id_documents?e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{label:"Razón Social",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.business_name,callback:function(e){t.business_name=e},expression:"business_name"}})],1):t._e(),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{"item-text":"name","item-value":"id",items:t.itemsPais,label:"País",rules:[t=>!!t||"Dato Requerido"]},on:{change:function(e){return t._getState(t.id_pais)}},model:{value:t.id_pais,callback:function(e){t.id_pais=e},expression:"id_pais"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.itemsState,"item-text":"name","item-value":"id",label:"Departamento"},on:{change:function(e){return t._getCity(t.id_state)}},model:{value:t.id_state,callback:function(e){t.id_state=e},expression:"id_state"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.itemsCity,"item-text":"name","item-value":"id",label:"Provincia"},on:{change:function(e){return t._getTown(t.id_city)}},model:{value:t.id_city,callback:function(e){t.id_city=e},expression:"id_city"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.itemsTown,"item-text":"name","item-value":"id",label:"Distrito"},model:{value:t.id_town,callback:function(e){t.id_town=e},expression:"id_town"}})],1),2!=t.id_documents?e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.itemsSex,"item-text":"name","item-value":"id",label:"Sexo",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.id_sex,callback:function(e){t.id_sex=e},expression:"id_sex"}})],1):t._e(),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{type:"number",step:"1",label:"Días de Crédito para que nos paguen",rules:[t=>t>=0||"Dato Requerido"]},model:{value:t.diascredito,callback:function(e){t.diascredito=e},expression:"diascredito"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{type:"number",step:"1",label:"Días de Crédito para nosotros pagar",rules:[t=>t>=0||"Dato Requerido"]},model:{value:t.diasdeuda,callback:function(e){t.diasdeuda=e},expression:"diasdeuda"}})],1),2!=t.id_documents?e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{type:"date",label:"Fecha de Nacimiento"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1):t._e()],1),e(d["a"],{attrs:{dense:""}},[e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Rt["a"],{attrs:{rows:"3",label:"Dirección"},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Rt["a"],{attrs:{rows:"3",label:"Notas Importantes"},model:{value:t.notes,callback:function(e){t.notes=e},expression:"notes"}})],1),e(n["a"],{attrs:{cols:"12",md:"12"}},[1==t.statusData?e(s["a"],{staticClass:"mr-2",attrs:{color:"success",elevation:"0"},on:{click:function(e){return t._postEntitie()}}},[t._v("Guardar")]):t._e(),2==t.statusData?e(s["a"],{staticClass:"mr-2",attrs:{color:"success",elevation:"0"},on:{click:function(e){return t._updatetEntitie()}}},[t._v(" Actualizar ")]):t._e(),e(s["a"],{attrs:{color:"error",elevation:"0"}},[t._v("Cancelar")])],1),e(n["a"],{attrs:{cols:"8"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsDataRoleList,"item-text":"name","item-value":"id",label:"Cambiar Tipo de Role"},model:{value:t.$store.state.data_id_role,callback:function(e){t.$set(t.$store.state,"data_id_role",e)},expression:"$store.state.data_id_role"}})],1),e(n["a"],{attrs:{cols:"4"}},[e(s["a"],{attrs:{"x-large":"",block:""},on:{click:function(e){return t.cambiarRole()}}},[t._v("CAMBIAR")])],1)],1)],1)],1),e(n["a"],{attrs:{cols:"2"}},[e(Bt["a"],{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(s["a"],t._g(t._b({staticClass:"mx-2 mt-5",attrs:{fab:"",dark:"",elevation:"0",large:"",color:"blue-grey darken-3"},on:{click:function(e){return t.getPhone()}}},"v-btn",o,!1),a),[e(I["a"],{attrs:{dark:""}},[t._v(" mdi-phone ")])],1)]}}])},[e("span",[t._v("Teléfonos")])]),e(Bt["a"],{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(s["a"],t._g(t._b({staticClass:"mx-2 mt-5",attrs:{fab:"",dark:"",elevation:"0",large:"",color:"blue-grey darken-3"},on:{click:function(e){t.$store.state.modalContacts=!t.$store.state.modalContacts}}},"v-btn",o,!1),a),[e(I["a"],{attrs:{dark:""}},[t._v(" mdi-account-multiple ")])],1)]}}])},[e("span",[t._v("Contactos")])]),this.$route.params.id?e(Bt["a"],{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(s["a"],t._g(t._b({staticClass:"mx-2 mt-5",attrs:{fab:"",dark:"",elevation:"0",large:"",color:"blue-grey darken-3"},on:{click:function(e){t.$store.state.modalCuentas=!t.$store.state.modalCuentas}}},"v-btn",o,!1),a),[e(I["a"],{attrs:{dark:""}},[t._v(" mdi-bank ")])],1)]}}],null,!1,3069929882)},[e("span",[t._v("Cuentas")])]):e(Bt["a"],{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(s["a"],t._g(t._b({staticClass:"mx-2 mt-5",attrs:{fab:"",dark:"",elevation:"0",large:"",color:"blue-grey darken-3"},on:{click:function(e){t.modalCuentas=!t.modalCuentas}}},"v-btn",o,!1),a),[e(I["a"],{attrs:{dark:""}},[t._v(" mdi-bank ")])],1)]}}])},[e("span",[t._v("Cuentas")])])],1)],1)],1),e(U["a"],{attrs:{"max-width":"750"},model:{value:t.modalCuentas,callback:function(e){t.modalCuentas=e},expression:"modalCuentas"}},[e(r["a"],[e(B["d"],{staticClass:"text-h5"},[t._v(" Cuentas ")]),e(B["c"],[e(d["a"],[e(n["a"],{attrs:{cols:"2"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsDataAccountList,"item-text":"name","item-value":"id",label:"Cuenta"},model:{value:t.$store.state.accountIdTypeAccount,callback:function(e){t.$set(t.$store.state,"accountIdTypeAccount",e)},expression:"$store.state.accountIdTypeAccount"}})],1),e(n["a"],{attrs:{cols:"2"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsDataBanksList,"item-text":"acronym","item-value":"id",label:"Banco"},model:{value:t.$store.state.accountIdBanks,callback:function(e){t.$set(t.$store.state,"accountIdBanks",e)},expression:"$store.state.accountIdBanks"}})],1),e(n["a"],{attrs:{cols:"2"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsCoinsList,"item-text":"acronym","item-value":"id",label:"Moneda"},model:{value:t.$store.state.accountIdCoins,callback:function(e){t.$set(t.$store.state,"accountIdCoins",e)},expression:"$store.state.accountIdCoins"}})],1),e(n["a"],{attrs:{cols:"4"}},[e(p["a"],{attrs:{type:"number",label:"N°. Cuenta"},model:{value:t.$store.state.accountNumer,callback:function(e){t.$set(t.$store.state,"accountNumer",e)},expression:"$store.state.accountNumer"}})],1),e(n["a"],{attrs:{cols:"1"}},[""!=t.$store.state.accountNumer?e(s["a"],{staticClass:"mx-2",attrs:{fab:"",color:"teal darken-1\n",dark:"",elevation:"0"},on:{click:function(e){return t._setAccounts()}}},[e(I["a"],{attrs:{"x-large":""}},[t._v("mdi-plus")])],1):t._e()],1)],1),e(jt["a"],{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Cuenta")]),e("th",{staticClass:"text-left"},[t._v("Banco")]),e("th",{staticClass:"text-left"},[t._v("Moneda")]),e("th",{staticClass:"text-left"},[t._v("Número de cuenta")]),e("th",{staticClass:"text-left"},[t._v("Actions")])])]),e("tbody",t._l(t.cuentas,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.nameaccount))]),e("td",[t._v(t._s(a.namebanks))]),e("td",[t._v(t._s(a.namecoins))]),e("td",[t._v(t._s(a.accountnumber))]),e("td",[e(s["a"],{attrs:{color:"white",elevation:"0"},nativeOn:{click:function(e){return t._delAccount(a.id)}}},[e(I["a"],{attrs:{color:"error"}},[t._v("mdi-delete")])],1)],1)])})),0)]},proxy:!0}])})],1),e(B["a"],[e(T["a"]),e(s["a"],{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.modalCuentas=!1}}},[t._v(" Cerrar ")])],1)],1)],1)],1)},Gt=[],Ht={name:"controlEntitiesCom",data(){return{cuentas:[],modalCuentas:!1,id_documents:"",n_documents:"",names:"",surname:"",second_surname:"",tradename:"",business_name:"",phone:"",mail:"",id_pais:"",id_state:"",id_city:"",id_town:"",id_sex:"",address:"",notes:"",statusData:1,id_entitie:"",id_role:"",dataList:!0,diascredito:0,diasdeuda:0,date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),menu:!1,modal:!1,menu2:!1,id_tipo_proveedor:null}},computed:{...Object(_["c"])(["itemsDocumentsPais","itemsPais","itemsState","itemsCity","itemsTown","itemsSex","lstTipoProveedor"])},async mounted(){this.$store.state.spiner=!0,await this._getDocumentsPais(),await this._getPais(),await this._getRole(),await this._callState(),await this._getSex(),await this._validatyDocuments(),await this.cargarMasterDetalleTipoProveedor(),this.$route.params.id&&await this._getAccountsNumber(),this.id_pais=JSON.parse(sessionStorage.getItem("dataBranch"))[0].id_PaisBrach,this.$route.params.id_role&&(this.$store.state.id_role_actual=this.$route.params.id_role),await this._validaData(),this.$store.state.spiner=!1},methods:{...Object(_["b"])(["_getDocumentsPais","_getPais","_getState","_getCity","_getTown","_getSex","_getEntities","_getAgents","_getConsigners","_getNotify","_getColoaders","_getNavieras","_getRole","ListarPhones","cargarMasterDetalleTipoProveedor"]),_validatyDocuments(){139==JSON.parse(sessionStorage.getItem("dataBranch"))[0].id_PaisBrach&&(this.id_documents=2)},_callState(){this.id_pais>0&&this._getState(this.id_pais)},async _getAccountsNumber(){var t=this;let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/getAccountsNumber/"+t.$route.params.id,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){t.$store.state.itemsDataAccountsNumberList=e.data.data})).catch((function(t){console.log(t)}))},clenData(){this.names="",this.surname="",this.second_surname="",this.tradename="",this.business_name="",this.date="",this.n_documents="",this.address="",this.notes="",this.id_tipo_proveedor=""},getPhone(){this.ListarPhones(this.$route.params.id),this.$store.state.modalPhones=!this.$store.state.modalPhones},_validaDocumento(){var t=this;if(t.n_documents){var e={ic:t.id_documents+t.n_documents,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},a={method:"post",url:"https://api.agentedecargaonline.com/getEntitiesListIc",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};A()(a).then((function(e){1==e.data.estadoflag&&(t.$swal({icon:"warning",title:"Lo sentimos",text:"Este documento ya existe en la base de datos",showDenyButton:!0,confirmButtonText:"Modificar datos existentes",denyButtonText:"Cancelar registro"}).then(a=>{a.isConfirmed?(t.$router.push("/home/folderEntities/control/edit/"+e.data.data[0].id),t._validaData()):a.isDenied&&t.$swal("Registro cancelado","","info")}),t.statusData=2)})).catch((function(t){console.log(t)}))}},_validaData(){var t=this;if(t.$route.params.id){t.dataList=!1,t.$store.state.house_Id_get=t.$route.params.id;var e={id:t.$route.params.id,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},a={method:"post",url:"https://api.agentedecargaonline.com/getEntitiesListId",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};A()(a).then((function(e){t.names=e.data.data[0].names,t.surname=e.data.data[0].surname,t.second_surname=e.data.data[0].second_surname,t.tradename=e.data.data[0].tradename,t.business_name=e.data.data[0].business_name,t.date=e.data.data[0].birthday,t.n_documents=e.data.data[0].document,t.address=e.data.data[0].address,t.notes=e.data.data[0].notes,t.id_pais=e.data.data[0].id_pais,t.id_state=e.data.data[0].id_state,t._getCity(e.data.data[0].id_state),t.id_city=e.data.data[0].id_city,t._getTown(e.data.data[0].id_city),t.id_town=e.data.data[0].id_town,t.id_sex=e.data.data[0].id_sex,t.id_documents=e.data.data[0].id_document,t.statusData=2,t.id_entitie=e.data.data[0].id,t.id_role=e.data.data[0].id_role,t.diascredito=e.data.data[0].diascredito,t.diasdeuda=e.data.data[0].diasdeuda,t.id_tipo_proveedor=e.data.data[0].id_tipo_proveedor,t.dataList=!0})).catch((function(t){console.log(t)}))}},async _postEntitie(){if(this.$refs.frmData.validate()){var t=this,e={names:t.names&&""!=t.names?t.names:null,surname:t.surname&&""!=t.surname?t.surname:null,second_surname:t.second_surname&&""!=t.second_surname?t.second_surname:null,tradename:t.tradename&&""!=t.tradename?t.tradename:null,business_name:t.business_name&&""!=t.business_name?t.business_name:null,birthday:t.date&&""!=t.date?t.date:null,document:t.n_documents&&""!=t.n_documents?t.n_documents:null,address:t.address&&""!=t.address?t.address:null,notes:t.notes&&""!=t.notes?t.notes:null,status:1,id_pais:t.id_pais&&""!=t.id_pais?t.id_pais:null,id_state:t.id_state?t.id_state:null,id_city:t.id_city?t.id_city:null,id_town:t.id_town?t.id_town:null,id_sex:t.id_sex?t.id_sex:null,id_document:t.id_documents?t.id_documents:null,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,dataPhones:t.$store.state.itemsListPhone,dataContacts:t.$store.state.itemsListContact,accounts:t.cuentas,id_role:t.$store.state.data_id_role,diascredito:t.diascredito,diasdeuda:t.diasdeuda,id_tipo_proveedor:t.id_tipo_proveedor},a={method:"post",url:"https://api.agentedecargaonline.com/addEntities",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){if(200==e.data.status){var a=e.data.data[0].insertid;t._postRoleEntitie(a)}else t.$swal({icon:"error",title:"Lo sentimos",text:"Ha ocurrido un error en el proceso"})})).catch((function(e){console.log(e),t.$swal({icon:"error",title:"Lo sentimos",text:"Ha ocurrido un error en el proceso "+e})}))}},cambiarRole(){var t=this,e={id_role:t.$store.state.data_id_role},a={method:"post",url:"https://api.agentedecargaonline.com/editRole/"+t.$route.params.id,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};A()(a).then((function(e){200==e.data.status?(t.$swal({icon:"success",title:"Excelente",text:"Role actualizada con éxito"}),t.$route.params.id&&t.$router.back()):t.$swal({icon:"error",title:"Lo sentimos",text:"Ha ocurrido un error en el proceso"})})).catch((function(t){console.log(t)}))},async _updatetEntitie(){if(this.$refs.frmData.validate()){var t=this,e={names:t.names,surname:t.surname,second_surname:t.second_surname,tradename:t.tradename,business_name:t.business_name,birthday:t.date,document:t.n_documents,address:t.address,notes:t.notes,id_pais:t.id_pais,id_state:t.id_state,id_city:t.id_city,id_town:t.id_town,id_sex:t.id_sex,id_document:t.id_documents,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,telefono:t.$store.state.itemsListPhone,diascredito:t.diascredito,diascredito:t.diascredito,diasdeuda:t.diasdeuda,id_tipo_proveedor:t.id_tipo_proveedor},a={method:"post",url:"https://api.agentedecargaonline.com/editEntitie/"+t.id_entitie,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){200==e.data.status?(t.$swal({icon:"success",title:"Excelente",text:"Entidad actualizada con éxito"}),t.$route.params.id&&t.$router.back()):t.$swal({icon:"error",title:"Lo sentimos",text:"Ha ocurrido un error en el proceso"})})).catch((function(e){t.$swal({icon:"error",title:"Lo sentimos",text:"Ha ocurrido un error en el proceso "+e})}))}},async _postRoleEntitie(t){var e=this,a={id_entities:t,id_role:e.$store.state.id_role_actual},o={method:"post",url:"https://api.agentedecargaonline.com/addRoleEntitie",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await A()(o).then((function(a){200==a.data.status?(1==e.$store.state.id_role_actual?(e._getAgents(),e.clenData(),e.$store.state.modalAgente=!1):11==e.$store.state.id_role_actual?(e._getConsigners(),e._getNotify(),e.clenData(),e.$store.state.modalEntitie=!1):17==e.$store.state.id_role_actual?(e._getColoaders(),e.clenData(),e.$store.state.modalColoader=!1):2==e.$store.state.id_role_actual&&(e._getNavieras(),e.clenData(),e.$store.state.modalNaviera=!1),e.$swal({icon:"success",title:"Excelente",text:"Proceso éxitoso"}),0==e.$store.state.modalEntitie?(e.$store.state.registroClienteFlag=!e.$store.state.registroClienteFlag,e.$store.state.entities.id=t,e.$store.state.modalEntitie=!1):e.$router.back()):e.$swal({icon:"error",title:"Lo sentimos",text:"Ha ocurrido un error en el proceso"})})).catch((function(t){e.$swal({icon:"error",title:"Lo sentimos",text:"Ha ocurrido un error en el proceso "+t})}))},_setAccounts(){this.cuentas.push({accountIdTypeAccount:this.$store.state.accountIdTypeAccount,nameaccount:this.$store.state.itemsDataAccountList.filter(t=>t.id==this.$store.state.accountIdTypeAccount)[0].name,accountIdBanks:this.$store.state.accountIdBanks,namebanks:this.$store.state.itemsDataBanksList.filter(t=>t.id==this.$store.state.accountIdBanks)[0].name,accountIdCoins:this.$store.state.accountIdCoins,namecoins:this.$store.state.itemsCoinsList.filter(t=>t.id==this.$store.state.accountIdCoins)[0].acronym,accountnumber:this.$store.state.accountNumer}),this.$store.state.accountIdTypeAccount="",this.$store.state.accountIdBanks="",this.$store.state.accountIdCoins="",this.$store.state.accountNumer=""}}},Jt=Ht,Vt=Object(v["a"])(Jt,Ut,Gt,!1,null,null,null),zt=Vt.exports,qt={name:"controlEntities",components:{controlEntitiesCom:zt},mounted(){this.$store.state.mainTitle="Datos Generales de la Entidad"}},Kt=qt,Qt=Object(v["a"])(Kt,Nt,Dt,!1,null,null,null),Yt=Qt.exports,Xt=function(){var t=this,e=t._self._c;return e("div",[e("div",[e("listMasterCom")],1),e(x["a"],{attrs:{right:"",absolute:"",bottom:"",persistent:"",width:"20%",temporary:""},model:{value:t.$store.state.master_filtrarData,callback:function(e){t.$set(t.$store.state,"master_filtrarData",e)},expression:"$store.state.master_filtrarData"}},[e(r["a"],{attrs:{elevation:"0"}},[e("FiltroMaster")],1)],1),e(U["a"],{attrs:{persistent:"","max-width":"30%",transition:"dialog-transition"},model:{value:t.dialogConfig,callback:function(e){t.dialogConfig=e},expression:"dialogConfig"}},[e(r["a"],[e("ConfigCotizacion"),e(B["a"],[e(T["a"]),e(s["a"],{staticClass:"mx-1",attrs:{color:"success"},on:{click:function(e){return t.guardarConfig()}}},[t._v(" Guardar ")])],1)],1)],1)],1)},Zt=[],Wt=a("cc20"),te=a("8fea"),ee=a("8860"),ae=a("da13"),oe=a("34c3"),ie=function(){var t=this,e=t._self._c;return e(l["a"],{attrs:{fluid:""}},[e(U["a"],{attrs:{scrollable:"",persistent:"","max-width":"20%",transition:"dialog-transition"},model:{value:t.dialogEscogerCotizacion,callback:function(e){t.dialogEscogerCotizacion=e},expression:"dialogEscogerCotizacion"}},[e(r["a"],[e(B["d"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Escoger la cotización para redireccionar: ")]),e(B["c"],[e(c["a"],{ref:"frmQuote"},[e(Lt["a"],{attrs:{items:t.$store.state.pricing.listQuotes.filter(t=>!!t.porasignar),"item-text":"code","item-value":"id",rules:[t=>!!t||"Dato Requerido."]},model:{value:t.id_quote,callback:function(e){t.id_quote=e},expression:"id_quote"}})],1)],1),e(B["a"],[e(s["a"],{attrs:{color:"success"},on:{click:function(e){return t.redireccionarQuote()}}},[t._v(" REDIRECCIONAR ")]),e(s["a"],{attrs:{color:"red",dark:""},on:{click:function(e){t.dialogEscogerCotizacion=!t.dialogEscogerCotizacion}}},[t._v("CANCELAR")])],1)],1)],1),e(r["a"],{attrs:{elevation:"0"}},[e(B["d"],{staticClass:"align-end"},[e(p["a"],{staticClass:"col-6",attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e(T["a"]),e("div",{},[t._v(" - Leyenda "),e("span",{staticStyle:{display:"inline-block",background:"#00ea80",width:"20px",height:"20px","border-radius":"250px","margin-left":"10px","margin-right":"20px"}}),t._v(" Cargas Llegadas | "),e("span",{staticStyle:{display:"inline-block",background:"#fddd0c",width:"20px",height:"20px","border-radius":"250px","margin-left":"10px","margin-right":"20px"}}),t._v(" Cargas a 5 días de llegar "),e("div",{staticClass:"d-flex justify-end mt-3"},[e(s["a"],{attrs:{color:"success",elevation:"0",dark:"",rounded:""},on:{click:function(e){return t.abrirModalSeleccionQuote()}}},[t._v(" NUEVO EXPEDIENTE ")]),e(s["a"],{staticClass:"ml-3",attrs:{color:"secondary",elevation:"0",dark:"",rounded:""},on:{click:function(e){t.$store.state.master_filtrarData=!t.$store.state.master_filtrarData}}},[t._v(" FILTRAR ")])],1)])],1),e(te["a"],{attrs:{headers:t.headers,items:t.itemsMasterList,search:t.search,"item-class":t.itemRowBackground,"single-expand":t.singleExpand,expanded:t.expanded,"item-key":"id",loading:t.loadingDataTable,"disable-sort":""},on:{"click:row":t.clickRow,"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"expanded-item",fn:function({item:a}){return[(a.list_comentarios.length>0||a.list_houses.length>0)&&0!=a.status?e("td",{staticClass:"px-3",attrs:{colspan:t.headers.length+1}},[a.list_comentarios.length>0?e(jt["a"],[e("thead",[e("tr",[e("th",[t._v("Fecha")]),e("th",[t._v("Ejecutivo")]),e("th",[t._v("Comentario")])])]),e("tbody",t._l(a.list_comentarios,(function(a,o){return e("tr",{key:o,staticClass:"bg-comentarios"},[e("td",{staticClass:"bg-comentarios"},[t._v(t._s(a.fecha))]),e("td",{staticClass:"bg-comentarios"},[t._v(t._s(a.ejecutivo))]),e("td",{staticClass:"bg-comentarios"},[t._v(t._s(a.comentario))])])})),0)]):t._e(),a.list_houses.length>0?e(jt["a"],[e("thead",[e("tr",[e("th",[t._v("Acción")]),e("th",[t._v("Code House")]),e("th",[t._v("Cliente")])])]),e("tbody",t._l(a.list_houses,(function(a,o){return e("tr",{key:o,staticStyle:{background:"#e0f2f1"}},[e("td",[e(s["a"],{attrs:{icon:"",color:"primary"},on:{click:function(e){return t.redirectHouse(a.id_house)}}},[e(I["a"],[t._v("mdi-pencil")])],1)],1),e("td",[t._v(t._s(a.code_house))]),e("td",[t._v(t._s(a.namelong))])])})),0)]):t._e()],1):t._e()]}},{key:"item.canal",fn:function({item:a}){return[a.descripcion_canal?e(Wt["a"],{attrs:{dark:"",color:a.codigo01}},[t._v(" "+t._s(a.descripcion_canal)+" ")]):t._e()]}},{key:"item.code_master",fn:function({item:a}){return[0==a.status?e("label",{staticStyle:{color:"red","font-weight":"700 !important"}},[t._v(t._s(a.code_master))]):t._e(),1==a.status?e("label",{staticStyle:{color:"black"}},[t._v(t._s(a.code_master))]):t._e()]}},{key:"item.actions",fn:function({item:a}){return[0==a.status?e("label",{staticStyle:{color:"red","font-weight":"700 !important"}},[t._v("ANULADO")]):t._e(),1==a.status?e(V["a"],{attrs:{bottom:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(s["a"],t._g(t._b({attrs:{fab:"",small:"",color:"default",elevation:"0"}},"v-btn",o,!1),a),[e(I["a"],{attrs:{dark:""}},[t._v(" mdi-format-list-bulleted ")])],1)]}}],null,!0)},[e(ee["a"],[a.statuslock||1!=a.status?t._e():e(ae["a"],{attrs:{link:""},on:{click:function(e){return t.editMaster(a.id)}}},[e(oe["a"],[e(I["a"],[t._v("mdi-pencil")])],1),e(J["c"],[t._v("Editar")])],1),1==a.status?e(ae["a"],{attrs:{link:""},on:{click:function(e){return t.viewMaster(a.id)}}},[e(oe["a"],[e(I["a"],[t._v("mdi-eye")])],1),e(J["c"],[t._v("Ver")])],1):t._e(),a.statuslock?t._e():e(ae["a"],{attrs:{link:""},on:{click:function(e){return t._lockMaster(a.id)}}},[e(oe["a"],[e(I["a"],[t._v("mdi-lock")])],1),e(J["c"],[t._v("Cerrar Expediente Operativo")])],1),a.statuslock?e(ae["a"],{attrs:{link:""}},[e(oe["a"],[e(I["a"],[t._v("mdi-lock-open")])],1),e(J["c"],[t._v("Abrir Expediente Operativo")])],1):t._e(),a.statuslockadm?t._e():e(ae["a"],{attrs:{link:""},on:{click:function(e){return t._lockMasterAdm(a.id)}}},[e(oe["a"],[e(I["a"],[t._v("mdi-lock")])],1),e(J["c"],[t._v("Cerrar Expediente Administrativo")])],1),a.statuslockadm?e(ae["a"],{attrs:{link:""}},[e(oe["a"],[e(I["a"],[t._v("mdi-lock-open")])],1),e(J["c"],[t._v("Abrir Expediente Administrativo")])],1):t._e(),a.url_folderonedrive?e(ae["a"],{attrs:{link:""},on:{click:function(e){return t.to_link({url:a.url_folderonedrive})}}},[e(oe["a"],[e(I["a"],[t._v("mdi-folder")])],1),e(J["c"],[t._v("Abrir Carpeta ")])],1):t._e(),e(ae["a"],{attrs:{link:""},on:{click:function(e){return t.abrirModalNotaMaster(a)}}},[e(oe["a"],[e(I["a"],[t._v("mdi-comment-alert-outline")])],1),e(J["c"],[t._v("Añadir Estado/ Comentario ")])],1),1==a.status?e(ae["a"],{staticStyle:{background:"#ffd9d9",color:"#890606"},attrs:{link:""},on:{click:function(e){return t._nullMaster(a.id)}}},[e(oe["a"],[e(I["a"],{attrs:{color:"#890606"}},[t._v("mdi-cancel")])],1),e(J["c"],[t._v("Anular")])],1):t._e(),1==a.status?e(ae["a"],{attrs:{link:""},on:{click:function(e){return t.deleteMaster(a.id)}}},[e(oe["a"],[e(I["a"],[t._v("mdi-trash-can")])],1),e(J["c"],[t._v("Eliminar")])],1):t._e()],1)],1):t._e()]}}],null,!0)})],1),e(U["a"],{attrs:{persistent:"",width:"50%"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(r["a"],[e(B["d"],[t._v(" Registro de Estado/ Comentario - "+t._s(t.master.code_master)+" "),e(T["a"]),e(s["a"],{attrs:{icon:"",color:"default"},on:{click:function(e){t.dialog=!t.dialog}}},[e(I["a"],[t._v("mdi-close")])],1)],1),e(B["c"],[e(c["a"],{ref:"frmComentario"},[e(p["a"],{attrs:{label:"Fecha",type:"date",readonly:""},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}}),e(Lt["a"],{staticClass:"my-1",attrs:{label:"Ejecutivo",items:t.$store.state.pricing.listEjecutivo,"item-text":"name","item-value":"id_entitie","item-key":"id_entitie",rules:[t=>!!t||"Dato requerido"]},model:{value:t.id_vendedor,callback:function(e){t.id_vendedor=e},expression:"id_vendedor"}}),e(Rt["a"],{attrs:{label:"Estado/ Comentario",rows:"4","auto-grow":"",rules:[t=>!!t||"Dato requerido"]},model:{value:t.comentario,callback:function(e){t.comentario=e},expression:"comentario"}})],1)],1),e(B["a"],[e(T["a"]),e(s["a"],{attrs:{small:"",color:"success",loading:t.loading},on:{click:t.guardarComentario}},[t._v("Guardar")])],1)],1)],1)],1)},se=[],re={name:"listMasterCom",data(){return{dialogEscogerCotizacion:!1,loading:!1,id_vendedor:JSON.parse(sessionStorage.getItem("dataUser"))?JSON.parse(sessionStorage.getItem("dataUser"))[0].id:"",id_quote:"",comentario:"",fecha:it()().format("YYYY-MM-DD"),dialog:!1,master:"",search:"",expanded:[],singleExpand:!1,options:{},loadingDataTable:!1,headers:[{text:"Canal",value:"canal"},{text:"Codigo",value:"code_master",align:"start"},{text:"Sentido",value:"namemodality"},{text:"Origen",value:"nameportbegin"},{text:"Destino",value:"nameportend"},{text:"Agente",value:"nameagent"},{text:"Consignatario del House",value:"nameconsigner"},{text:"Fecha ETD",value:"fecha_etd"},{text:"Fecha ETA",value:"fecha_eta"},{text:"House",value:"cantidad_houses"},{text:"Acciones",value:"actions",sortable:!1}]}},async mounted(){this.$store.state.drawer=!1,this.$store.state.spiner=!0,await this._getMasterList(),this.$store.state.spiner=!1,await Promise.all([this.getModulesEntities(),this.getQuoteNoAsignadoHouse(),this.cargarMasterDetalleCanal(),this._getModality(),this._getProveedor(),this._getShipment()])},computed:{...Object(_["c"])(["itemsMasterList","itemsModality","totalItemsMasterList"])},methods:{...Object(_["b"])(["_getMasterList","getModulesEntities","insertComentarioMaster","getQuoteNoAsignadoHouse","_getPortBegin","_getPortEnd","cargarMasterDetalleCanal","_getModality","_getShipment","_getProveedor"]),abrirModalSeleccionQuote(){at.a.fire({icon:"question",title:"Puede crear una expediente de dos formas.",html:"<p>1. Aprobando una cotización</p> <p>2. Realizando un expediente desde cero</p>",showConfirmButton:!0,confirmButtonText:"Escoger una Cotización",showDenyButton:!0,denyButtonText:"Crear un expediente desde cero",allowOutsideClick:!1}).then(t=>{t.isDenied&&this.$router.push({name:"controlMaster"}),t.isConfirmed&&(this.dialogEscogerCotizacion=!0)})},clickRow(t,e){if(e.isExpanded){const e=this.expanded.findIndex(e=>e===t);this.expanded.splice(e,1)}else this.expanded.push(t)},itemRowBackground:function(t){return 1===t.statusLock&&0===t.statusLockAdm&&1===t.status||0===t.statusLock&&1===t.statusLockAdm&&1===t.status?"rowRed":1===t.statusLock&&1===t.statusLockAdm&&1===t.status?"rowRedMark":0===t.status?"rowNull":"#ff9898"==t.background?"rowLlego":"#f9cfcf"==t.background?"rowLlegar":void 0},_lockMaster(t){this.$swal({title:"Esta seguro de cerrar el expediente operativamente?",text:"Una vez cerrado, tendra que solicitar permiso para poder abrir",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Cerrar",cancelButtonText:"Cancelar"}).then(e=>{if(e.isConfirmed){var a=this,o={method:"post",url:"https://api.agentedecargaonline.com/lockMaster/"+t,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};A()(o).then((async function(t){sessionStorage.setItem("auth-token",t.data.token),t.data.estadoflag?(a.$swal("Cerrado!","Expediente cerrado","success"),await a._getMasterList()):at.a.fire({icon:"401"==t.data.status?"error":"info",text:t.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(e=>{e.isConfirmed&&"401"==t.data.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})})).catch((function(t){console.log(t)}))}})},_nullMaster(t){this.$swal({title:"Esta seguro de anular el expediente?",text:"Una vez anulado, tendra que solicitar permiso para poder aperturarlo de nuevo",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, anular",cancelButtonText:"Cancelar"}).then(e=>{if(e.isConfirmed){var a=this,o={method:"post",url:"https://api.agentedecargaonline.com/nullMaster/"+t,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{status:0}};A()(o).then((async function(t){sessionStorage.setItem("auth-token",t.data.token),t.data.estadoflag?(a.$swal("Anulado!","Expediente anulado","success"),await a._getMasterList()):at.a.fire({icon:"401"==t.data.status?"error":"info",text:t.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(e=>{e.isConfirmed&&"401"==t.data.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})})).catch((function(t){console.log(t)}))}})},_lockMasterAdm(t){this.$swal({title:"Esta seguro de cerrar el expediente administrativamente?",text:"Una vez cerrado, tendra que solicitar permiso para poder abrir",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Cerrar",cancelButtonText:"Cancelar"}).then(e=>{if(e.isConfirmed){var a=this,o={method:"post",url:"https://api.agentedecargaonline.com/lockMasterAdm/"+t,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};A()(o).then((async function(t){sessionStorage.setItem("auth-token",t.data.token),t.data.estadoflag?(a.$swal("Cerrado!","Expediente cerrado","success"),await a._getMasterList()):at.a.fire({icon:"401"==t.data.status?"error":"info",text:t.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(e=>{e.isConfirmed&&"401"==t.data.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})})).catch((function(t){console.log(t)}))}})},editMaster(t){this.$router.push("/home/folderMaster/control/editar/"+t)},viewMaster(t){this.$router.push("/home/folderMaster/control/ver/"+t)},to_link({url:t=""}){window.open(t,"_blank")},redirectHouse(t){this.$router.push("/home/folderMaster/control/editar/"+t)},abrirModalNotaMaster(t){this.master=t,this.dialog=!0},async guardarComentario(){this.$refs.frmComentario.validate()&&(this.loading=!0,this.$store.state.spiner=!0,await this.insertComentarioMaster({id_entitie:this.id_vendedor,id_master:this.master.id,fecha:this.fecha,comentario:this.comentario}),this.dialog=!this.dialog,await this._getMasterList(),this.comentario="",this.$store.state.spiner=!1,this.loading=!1)},redireccionarQuote(){this.$refs.frmQuote.validate()&&this.$router.push({name:"verQuote",params:{id:this.id_quote}})},isImportacion(t){let e=!1,a=this.itemsModality.filter(e=>e.id==t).length>0?this.itemsModality.filter(e=>e.id==t)[0].name:"";return"Importación"==a&&(e=!0),e},isExportacion(t){let e=!1,a=this.itemsModality.filter(e=>e.id==t).length>0?this.itemsModality.filter(e=>e.id==t)[0].name:"";return"Exportación"==a&&(e=!0),e},async getMasterListPaginated(t={}){const{page:e=1,itemsPerPage:a=10,sortBy:o=[],sortDesc:i=[]}=t;this.$store.state.master_filtro.pagina=e,this.$store.state.master_filtro.limite=a,this.$store.state.master_filtro.orden=o.map((t,e)=>t+" "+(i[e]?"DESC":"ASC")).toString(),this.$store.state.master_filtro.busqueda=this.search,this.loadingDataTable=!0,await this._getMasterList(),this.loadingDataTable=!1},deleteMaster(t){this.$swal({html:"Si elimina el expediente máster, también se eliminarán todos los expedientes houses asociados. <br>¿Está seguro que desea continuar?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then(e=>{if(e.isConfirmed){var a=this,o={method:"delete",url:"https://api.agentedecargaonline.com/deleteMaster/"+t,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};A()(o).then((async function(t){sessionStorage.setItem("auth-token",t.data.token);const e=t.data;200==e.status&&(a.$swal("",e.mensaje,"success"),await a.getMasterListPaginated())})).catch((function(t){console.log(t)}))}})}}},ne=re,le=(a("deb3"),Object(v["a"])(ne,ie,se,!1,null,null,null)),ce=le.exports,de=a("67b6"),ue=a("43a6"),pe=function(){var t=this,e=t._self._c;return e(r["a"],{attrs:{elevation:"0"}},[e(B["d"],{staticClass:"black white--text rounded-0"},[t._v("EXPEDIENTES MÁSTER")]),e(B["d"],[t._v("FILTRAR REGISTROS")]),e(B["c"],[e(c["a"],{ref:"frmFiltro"},[e(Lt["a"],{attrs:{items:t.$store.state.masterusuarios.lstCanales,"item-text":"descripcion","item-value":"id",label:"Canal",clearable:""},model:{value:t.$store.state.master_filtro.id_canal,callback:function(e){t.$set(t.$store.state.master_filtro,"id_canal",e)},expression:"$store.state.master_filtro.id_canal"}}),e(Lt["a"],{attrs:{items:t.$store.state.itemsModality,"item-text":"name","item-value":"id",label:"Sentido",clearable:""},model:{value:t.$store.state.master_filtro.id_sentido,callback:function(e){t.$set(t.$store.state.master_filtro,"id_sentido",e)},expression:"$store.state.master_filtro.id_sentido"}}),e(Lt["a"],{attrs:{items:t.$store.state.itemsShipment,"item-text":"embarque","item-value":"id",label:"Tipo Embarque",clearable:"","return-object":""},on:{change:function(e){return t.activarPort(t.$store.state.master_filtro.id_tipo_embarque.id_transport)}},model:{value:t.$store.state.master_filtro.id_tipo_embarque,callback:function(e){t.$set(t.$store.state.master_filtro,"id_tipo_embarque",e)},expression:"$store.state.master_filtro.id_tipo_embarque"}}),e(Lt["a"],{attrs:{items:t.$store.state.itemsPortBegin,"item-text":"name","item-value":"id_port",label:"Origen",clearable:""},model:{value:t.$store.state.master_filtro.id_origen,callback:function(e){t.$set(t.$store.state.master_filtro,"id_origen",e)},expression:"$store.state.master_filtro.id_origen"}}),e(Lt["a"],{attrs:{items:t.$store.state.itemsPortEnd,"item-text":"name","item-value":"id_port",label:"Destino",clearable:""},model:{value:t.$store.state.master_filtro.id_destino,callback:function(e){t.$set(t.$store.state.master_filtro,"id_destino",e)},expression:"$store.state.master_filtro.id_destino"}}),e(Lt["a"],{attrs:{items:t.$store.state.itemsProveedorList,"item-text":"namelong","item-value":"id",label:"Agente",clearable:""},model:{value:t.$store.state.master_filtro.id_agente,callback:function(e){t.$set(t.$store.state.master_filtro,"id_agente",e)},expression:"$store.state.master_filtro.id_agente"}}),e(p["a"],{attrs:{type:"date",label:"Fecha ETD",clearable:""},model:{value:t.$store.state.master_filtro.fecha_etd,callback:function(e){t.$set(t.$store.state.master_filtro,"fecha_etd",e)},expression:"$store.state.master_filtro.fecha_etd"}}),e(p["a"],{attrs:{type:"date",label:"Fecha ETA",clearable:""},model:{value:t.$store.state.master_filtro.fecha_eta,callback:function(e){t.$set(t.$store.state.master_filtro,"fecha_eta",e)},expression:"$store.state.master_filtro.fecha_eta"}}),e(d["a"],[e(n["a"],{attrs:{col:"6"}},[e("p",[t._v("Estado Operativo")]),e(ue["a"],{model:{value:t.$store.state.master_filtro.status_operativo,callback:function(e){t.$set(t.$store.state.master_filtro,"status_operativo",e)},expression:"$store.state.master_filtro.status_operativo"}},[e(de["a"],{attrs:{color:"green",label:"Abierto",value:"0"}}),e(de["a"],{attrs:{color:"error",label:"Cerrado",value:"1"}}),e(de["a"],{attrs:{color:"default",label:"Todos",value:"2"}})],1)],1),e(n["a"],{attrs:{col:"6"}},[e("p",{staticClass:"text-truncate"},[t._v("Estado Administrativo")]),e(ue["a"],{model:{value:t.$store.state.master_filtro.status_administrativo,callback:function(e){t.$set(t.$store.state.master_filtro,"status_administrativo",e)},expression:"$store.state.master_filtro.status_administrativo"}},[e(de["a"],{attrs:{color:"green",label:"Abierto",value:"0"}}),e(de["a"],{attrs:{color:"error",label:"Cerrado",value:"1"}}),e(de["a"],{attrs:{color:"default",label:"Todos",value:"2"}})],1)],1)],1)],1)],1),e(B["a"],[e(T["a"]),e(s["a"],{staticClass:"mx-1",attrs:{small:"",color:"success"},on:{click:function(e){return t.filtrar()}}},[t._v(" Aceptar ")]),e(s["a"],{staticClass:"mx-1",attrs:{small:"",color:"error"},on:{click:function(e){t.$store.state.master_filtrarData=!t.$store.state.master_filtrarData}}},[t._v(" Cancelar ")]),e(s["a"],{staticClass:"mx-1",attrs:{small:"",color:"default"},on:{click:function(e){return t.limpiar()}}},[t._v(" Limpiar ")])],1)],1)},me=[],he={mixins:[tt["a"]],data(){return{}},methods:{...Object(_["b"])(["_getPortBegin","_getPortEnd","_getMasterList","_getTotalMasterList"]),async filtrar(){this.$store.state.spiner=!0,this.$store.state.master_filtro.pagina=1,this.$store.state.master_filtro.limite=10,await this._getTotalMasterList(),await this._getMasterList(),this.$store.state.master_filtrarData=!this.$store.state.master_filtrarData,this.$store.state.spiner=!1},async activarPort(t){await this._getPortBegin({id_transport:t}),await this._getPortEnd({id_transport:t})},async limpiar(){this.$store.state.spiner=!0,this.$refs.frmFiltro.reset(),this.$store.state.master_filtro.status_operativo="",this.$store.state.master_filtro.status_administrativo="",this.$store.state.master_filtro.pagina=1,this.$store.state.master_filtro.limite=10,await this._getTotalMasterList(),await this._getMasterList(),this.$store.state.master_filtrarData=!this.$store.state.master_filtrarData,this.$store.state.spiner=!1}}},_e=he,ge=Object(v["a"])(_e,pe,me,!1,null,null,null),fe=ge.exports,ve={name:"listEntities",components:{listMasterCom:ce,FiltroMaster:fe,ConfigCotizacion:()=>a.e("chunk-2d0de6e3").then(a.bind(null,"862a"))},data(){return{dialogConfig:!1}},mounted(){this.$store.state.drawer=!1,this.$store.state.mainTitle="LISTA DE EXPEDIENTES";let t=JSON.parse(sessionStorage.getItem("ConfigEmpresa"));this.dialogConfig=!t.existemaster},methods:{...Object(_["b"])(["GuardarConfiguracionEmpresa","ObtenerDatosConfig"]),async guardarConfig(){await this.GuardarConfiguracionEmpresa(),await this.ObtenerDatosConfig(),this.dialogConfig=!1}}},be=ve,Ce=Object(v["a"])(be,Xt,Zt,!1,null,null,null),ke=Ce.exports,Se=function(){var t=this,e=t._self._c;return e("div",[e("controlMasterCom")],1)},ye=[],Ie=a("0789"),Pe=a("c73b"),xe=function(){var t=this,e=t._self._c;return e(c["a"],{ref:"formControlMaster",attrs:{readonly:t.formControlMasterReadonly}},[e(l["a"],{attrs:{fluid:""}},[e(d["a"],[e(n["a"],{attrs:{cols:"12",md:"4"}},[e(r["a"],[e(B["c"],[e("dataGen")],1)],1)],1),e(n["a"],{attrs:{cols:"12",md:"5"}},[e(r["a"],[e(B["c"],[e("dataEmbar",{attrs:{isFormActionsDisabled:t.formControlMasterReadonly}})],1)],1)],1),e(n["a"],{attrs:{cols:"12",md:"3"}},[e(r["a"],[e(B["c"],[e("h3",[t._v("Fechas")]),e("dataFechas")],1)],1),t.$store.state.statusData?e("houselist",{staticClass:"mt-5"}):t._e()],1),e("div",{staticStyle:{position:"fixed",bottom:"16px",right:"16px"}},[t.formControlMasterReadonly?e(Ie["c"],[e(s["a"],{attrs:{fab:"",large:"",dark:"",bottom:"",left:"",color:"info"},on:{click:function(e){return t.irAVerMaster()}}},[e(I["a"],[t._v(" mdi-pencil ")])],1)],1):e(Pe["a"],{attrs:{top:t.top,bottom:t.bottom,right:t.right,left:t.left,direction:t.direction,"open-on-hover":t.hover,transition:t.transition},scopedSlots:t._u([{key:"activator",fn:function(){return[e(s["a"],{attrs:{color:"info",dark:"",fab:""},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[t.fab?e(I["a"],[t._v(" mdi-close ")]):e(I["a"],[t._v(" mdi-tools ")])],1)]},proxy:!0}]),model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[this.$route.params.id?t._e():e(s["a"],{attrs:{color:"success",dark:"","x-small":""},on:{click:function(e){return t._setMaster()}}},[t._v(" Guardar ")]),this.$route.params.id?e(s["a"],{attrs:{color:"success",dark:"","x-small":""},on:{click:function(e){return t._putMaster()}}},[t._v(" Guardar Cambios ")]):t._e(),t.$store.state.statusData?e(s["a"],{attrs:{"x-small":"",color:"primary",loading:t.loadingBotonNuevoHouse},on:{click:function(e){return t.addNewHouse()}}},[t._v(" Agregar House ")]):t._e(),t.$store.state.url_folderonedrive?e(s["a"],{attrs:{"x-small":"",color:"yellow"},on:{click:function(e){return t.openURL({url:t.$store.state.url_folderonedrive})}}},[t._v(" Carpeta ")]):t._e()],1)],1)],1)],1)],1)},Te=[],$e=a("ac7c"),Ee=function(){var t=this,e=t._self._c;return t.mostrarflag?e("div",[e("h3",[t._v("Datos y Servicios a Realizar")]),e(d["a"],{attrs:{dense:""}},[e(n["a"],{attrs:{cols:"12",md:"12"}},[e(p["a"],{attrs:{label:"N° de Expedientes",disabled:""},model:{value:t.$store.state.master_expediente,callback:function(e){t.$set(t.$store.state,"master_expediente",e)},expression:"$store.state.master_expediente"}})],1),t.mostrarGrupal?e(n["a"],{attrs:{cols:"6"}},[e($e["a"],{attrs:{label:"Campañas Grupales"},model:{value:t.$store.state.grupalflag,callback:function(e){t.$set(t.$store.state,"grupalflag",e)},expression:"$store.state.grupalflag"}})],1):t._e(),t.mostrarGrupal?e(n["a"],{attrs:{cols:"6"}},[t.$store.state.grupalflag?e(p["a"],{attrs:{label:"Nro Cuotas",min:"0",type:"number"},model:{value:t.$store.state.nro_cuotas,callback:function(e){t.$set(t.$store.state,"nro_cuotas",e)},expression:"$store.state.nro_cuotas"}}):t._e()],1):t._e(),t.$store.state.grupalflag?e(n["a"],{attrs:{cols:"12",md:"12"}},[e(p["a"],{attrs:{label:"Nombre de Campaña"},model:{value:t.$store.state.namecampaign,callback:function(e){t.$set(t.$store.state,"namecampaign",e)},expression:"$store.state.namecampaign"}})],1):t._e(),t.$store.state.grupalflag?e(n["a"],{attrs:{cols:"12"}},[e("center",{staticClass:"my-5"},[e("h3",[t._v("Porcentaje y Fecha de pago")])]),e(d["a"],t._l(Number(t.$store.state.nro_cuotas),(function(a){return e(n["a"],{key:a,attrs:{cols:"6"}},[e(d["a"],[e(n["a"],{attrs:{cols:"4"}},[e(p["a"],{attrs:{label:"Porcentaje Cuota-"+a,type:"number",suffix:"%",min:"0",max:"100",dense:"",rules:[t=>!!t||"Dato Requerido",t=>t>0||"El porcentaje tiene que ser positivo",t=>t<=100||"El por centaje no puede ser mayor que 100%"]},model:{value:t.$store.state.cuota[a-1],callback:function(e){t.$set(t.$store.state.cuota,a-1,e)},expression:"$store.state.cuota[n - 1]"}})],1),e(n["a"],{attrs:{cols:"8"}},[e(p["a"],{attrs:{rules:[t=>!!t||"Dato Requerido"],label:"Fecha de pago "+a,type:"date",dense:""},model:{value:t.$store.state.fechacuota[a-1],callback:function(e){t.$set(t.$store.state.fechacuota,a-1,e)},expression:"$store.state.fechacuota[n - 1]"}})],1)],1)],1)})),1)],1):t._e(),e(n["a"],{attrs:{cols:"12",md:"12"}},[e(Lt["a"],{attrs:{items:t.itemsModality,"item-text":"name","item-value":"id",label:"Sentido"},on:{change:function(e){t.handleSentido(),t._getDataService()}},model:{value:t.$store.state.master_sentido,callback:function(e){t.$set(t.$store.state,"master_sentido",e)},expression:"$store.state.master_sentido"}})],1),e(n["a"],{attrs:{cols:"12",md:"12"}},[e(Lt["a"],{attrs:{items:t.itemsShipment,"item-text":"embarque","item-value":"id",label:"Tipo de Embarque","return-object":""},on:{change:function(e){return t._activePort(t.$store.state.master_id_trasnport.id_transport)}},model:{value:t.$store.state.master_id_trasnport,callback:function(e){t.$set(t.$store.state,"master_id_trasnport",e)},expression:"$store.state.master_id_trasnport"}})],1),e(n["a"],{attrs:{cols:"12",md:"12"}},[e(Lt["a"],{attrs:{items:t.itemsIncoterms,"item-text":"name","item-value":"id",label:"Incoterms"},on:{change:function(e){return t._getDataService()}},model:{value:t.$store.state.master_incoterms,callback:function(e){t.$set(t.$store.state,"master_incoterms",e)},expression:"$store.state.master_incoterms"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.itemsPortBegin,"item-text":"name","item-value":"id_port",label:"Origen"},on:{"update:search-input":t.recargarPuertoOrigen},model:{value:t.$store.state.master_origen,callback:function(e){t.$set(t.$store.state,"master_origen",e)},expression:"$store.state.master_origen"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.itemsPortEnd,"item-text":"name","item-value":"id_port",label:"Destino"},on:{"update:search-input":t.recargarPuertoDestino},model:{value:t.$store.state.master_destino,callback:function(e){t.$set(t.$store.state,"master_destino",e)},expression:"$store.state.master_destino"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{type:"text",step:"1",min:"1",readonly:"",label:"Cantidad de House"},model:{value:t.$store.state.master_cantidad_house,callback:function(e){t.$set(t.$store.state,"master_cantidad_house",e)},expression:"$store.state.master_cantidad_house"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.itemsOperadorList,"item-text":"namelong","item-value":"id",label:"Operador"},model:{value:t.$store.state.master_id_operador,callback:function(e){t.$set(t.$store.state,"master_id_operador",e)},expression:"$store.state.master_id_operador"}})],1)],1)],1):t._e()},we=[],Me=(a("f665"),{name:"dataGen",data(){return{mostrarflag:!0,mostrarGrupal:!1,id_transport:null}},async mounted(){let t=JSON.parse(sessionStorage.getItem("dataBranch"))[0];this.mostrarGrupal=1==t.id,this.$store.state.spiner=!0,this.limpiar(),await Promise.all([this._getValidad(),this._getModality(),this._getShipment(),this._getIncoterms(),this.cargarMasterDetalleCanal(),this._getOperador(),this._validaDatass()]),this.$route.params.id||await this._getnroMaster(),this.$store.state.spiner=!1},computed:{...Object(_["c"])(["itemsModality","itemsShipment","itemsPortBegin","itemsPortEnd","itemsIncoterms","itemsServicesBegin","itemsBitacoraList","itemsOperadorList","drawer","itemsContainers"])},methods:{...Object(_["b"])(["_getModality","_getShipment","_getPortBegin","_getPortEnd","_getIncoterms","_getServicesBegin","_getBitacoraList","_getnroMaster","_getServicesList","_getOperador","_getHouseList","cargarMasterDetalleCanal"]),async _activePort(t){this.id_transport=t,this.$store.state.spiner=!0,await Promise.all([this._getPortBegin({id_transport:t}),this._getPortEnd({id_transport:t})]),1==this.$store.state.master_id_trasnport.id?this.$store.state.embar_title_nacn="Aerolinea":2==this.$store.state.master_id_trasnport.id?this.$store.state.embar_title_nacn="Naviera":3==this.$store.state.master_id_trasnport.id?this.$store.state.embar_title_nacn="Coloader":this.$store.state.embar_title_nacn="Aerolinea/Coloader/Naviera",this.$store.state.spiner=!1},_getDataService(){this._getServicesBegin()},_getValidad(){var t=JSON.parse(sessionStorage.getItem("dataUser"));this.$store.state.master_id_operador=t[0].id},_getDate(){1==this.$store.state.master_sentido?this.$store.state.master_fecha_disponibilidad=this.$store.state.master_fecha_eta:2==this.$store.state.master_sentido&&(this.$store.state.master_fecha_disponibilidad=this.$store.state.master_fecha_etd)},_validaDatass(){var t=this;if(t.$route.params.id){t.$store.state.master_Id_get=t.$route.params.id;var e={method:"post",url:"https://api.agentedecargaonline.com/getMasterId/"+t.$store.state.master_Id_get,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};A()(e).then((async function(e){sessionStorage.setItem("auth-token",e.data.token),t.$store.state.master_insertId=t.$store.state.master_Id_get,t.$store.state.nro_master=e.data.data[0].nro_master,t.$store.state.master_cantidad_house=e.data.data[0].cantidad_house,t.$store.state.master_nro_expediente=e.data.data[0].code_master,t.$store.state.master_expediente=e.data.data[0].code_master,t.$store.state.master_sentido=e.data.data[0].id_modality,t.$store.state.master_id_trasnport=e.data.data[0].id_shipment,t.$store.state.master_cotizanion=e.data.data[0].id_cot,t.$store.state.master_incoterms=e.data.data[0].id_incoterms,t.id_transport=e.data.data[0].id_transport,await t._getPortBegin({id_transport:e.data.data[0].id_transport,id:e.data.data[0].id_port_begin}),await t._getPortEnd({id_transport:e.data.data[0].id_transport,id:e.data.data[0].id_port_end}),t.$store.state.master_origen=e.data.data[0].id_port_begin,t.$store.state.master_destino=e.data.data[0].id_port_end,t.$store.state.master_id_operador=e.data.data[0].id_operador,t.$store.state.master_fecha_eta=e.data.data[0].fecha_eta,t.$store.state.master_fecha_etd=e.data.data[0].fecha_etd,t.$store.state.master_fecha_disponibilidad=e.data.data[0].fecha_disponibilidad,t.$store.state.master_ganancia_pricing=e.data.data[0].ganancia_pricing,t.$store.state.master_ganancia_operaciones=e.data.data[0].ganancia_operaciones,t.$store.state.master_id_agente=e.data.data[0].id_agent,t.$store.state.master_id_consigner=e.data.data[0].id_consigner,t.$store.state.master_id_notify=e.data.data[0].id_notify,t.$store.state.master_id_airlines=e.data.data[0].id_aerolinea,t.$store.state.statusData=!0,t.$store.state.master_id_coloader=e.data.data[0].id_coloader,t.$store.state.master_id_naviera=e.data.data[0].id_naviera,t.$store.state.master_blmaster=e.data.data[0].nro_mbl,t.$store.state.master_id_motonave=e.data.data[0].id_motonave,t.$store.state.master_viaje=e.data.data[0].nro_viaje,t.$store.state.master_bultos=e.data.data[0].bultos,t.$store.state.master_peso=e.data.data[0].peso,t.$store.state.master_volumen=e.data.data[0].volumen,t.$store.state.master_id_condicion=e.data.data[0].id_conditions,t.$store.state.master_id_coins=e.data.data[0].id_moneda,t.$store.state.master_monto=e.data.data[0].monto,t.$store.state.grupalflag=e.data.data[0].grupalflag,t.$store.state.nro_cuotas=e.data.data[0].nro_cuotas,t.$store.state.comentario=e.data.data[0].comentario,t.$store.state.fecha_libre_almacenaje=e.data.data[0].fecha_libre_almacenaje,t.$store.state.almacen_recepcion=e.data.data[0].almacen_recepcion,t.$store.state.dias_sobreestadia=e.data.data[0].dias_sobreestadia,t.$store.state.id_canal=e.data.data[0].id_masterdetallecanal,t.$store.state.nro_manifiesto=e.data.data[0].nro_manifiesto,t.$store.state.url_folderonedrive=e.data.data[0].url_folderonedrive;const a=e.data.data[0].cuotas||[];a.forEach(e=>{t.$store.state.cuota.push(e.porcentaje),t.$store.state.fechacuota.push(e.fecha)}),t.$store.state.namecampaign=e.data.data[0].namecampaign,t.$store.state.master_itemsContainers=e.data.data[0].lstmastercontainers.map(e=>({...e,name:t.itemsContainers.filter(t=>t.id==e.id_container).length?t.itemsContainers.find(t=>t.id==e.id_container).name:""})),t.mostrarflag=!1,t.mostrarflag=!0,await t._getHouseList()})).catch((function(t){console.log(t)}))}},limpiar(){let t=this;t.$store.state.master_nro_expediente="",t.$store.state.master_expediente="",t.$store.state.master_sentido="",t.$store.state.master_id_trasnport="",t.$store.state.master_incoterms="",t.$store.state.master_origen="",t.$store.state.master_destino="",t.$store.state.master_id_operador="",t.$store.state.master_ganancia_pricing="",t.$store.state.master_ganancia_operaciones="",t.$store.state.master_id_agente="",t.$store.state.master_id_consigner="",t.$store.state.master_id_notify="",t.$store.state.master_id_airlines="",t.$store.state.statusData="",t.$store.state.master_id_coloader="",t.$store.state.master_id_naviera="",t.$store.state.master_blmaster="",t.$store.state.master_id_motonave="",t.$store.state.master_viaje="",t.$store.state.master_bultos="",t.$store.state.master_volumen="",t.$store.state.master_id_condicion="",t.$store.state.master_id_coins="",t.$store.state.master_monto="",t.$store.state.grupalflag=!1,t.$store.state.nro_cuotas=3,t.$store.state.comentario=[],t.$store.state.cuota=[],t.$store.state.master_fecha_eta="",t.$store.state.master_fecha_etd="",t.$store.state.master_fecha_disponibilidad="",t.$store.state.fecha_libre_almacenaje="",t.$store.state.almacen_recepcion="",t.$store.state.dias_sobreestadia="",t.$store.state.id_canal="",t.$store.state.nro_manifiesto=""},async obternerDatosCotizacion(){if(this.$store.state.master_cotizanion&&!this.$route.params.id){let t=this.$store.state.pricing.listQuotes.filter(t=>t.id==this.$store.state.master_cotizanion)[0],e=this;e.$store.state.master_sentido=t.id_modality,e.$store.state.master_id_trasnport=t.id_shipment;let a=this.itemsShipment.filter(e=>e.id==t.id_shipment)[0].id_transport;await this._activePort(a),e.$store.state.master_incoterms=t.id_incoterms,e.$store.state.master_origen=t.id_port_begin,e.$store.state.master_destino=t.id_port_end,e.$store.state.master_fecha_disponibilidad=t.fecha_fin,e.$store.state.master_id_operador=t.id_vendedor}},validarCampaniaGrupales(){let t=!0;if(this.$route.params.id){let e=this.$store.state.itemsHouseList;e.length>1&&(t=!1)}return t},isImportacion(){let t=!1,e=this.$store.state.master_sentido||"",a=this.itemsModality.filter(t=>t.id==e).length>0?this.itemsModality.filter(t=>t.id==e)[0].name:"";return"Importación"==a&&(t=!0),t},isExportacion(){let t=!1,e=this.$store.state.master_sentido||"",a=this.itemsModality.filter(t=>t.id==e).length>0?this.itemsModality.filter(t=>t.id==e)[0].name:"";return"Exportación"==a&&(t=!0),t},handleSentido(){if(this.isImportacion()){const t="PIC CARGO S.A.C",e=this.$store.state.clientes.filter(e=>e.namelong.toUpperCase()==t).length?this.$store.state.clientes.find(e=>e.namelong.toUpperCase()==t).id:"";this.$store.state.master_id_consigner=e,this.$store.state.master_id_notify=e}else this.isExportacion()&&(this.$store.state.master_id_consigner="",this.$store.state.master_id_notify="")},async recargarPuertoOrigen(t){await this._getPortBegin({id_transport:this.id_transport,id:this.$store.state.master_origen,search:t})},async recargarPuertoDestino(t){await this._getPortEnd({id_transport:this.id_transport,id:this.$store.state.master_destino,search:t})}}}),Oe=Me,Fe=(a("8914"),Object(v["a"])(Oe,Ee,we,!1,null,"4d055e54",null)),Ae=Fe.exports,Ne=a("cd55"),De=a("49e2"),Le=a("c865"),je=a("0393"),Re=a("8270"),Be=function(){var t=this,e=t._self._c;return e("div",[[e(je["a"],{model:{value:t.openExpand,callback:function(e){t.openExpand=e},expression:"openExpand"}},[e(Ne["a"],[e(Le["a"],[t._v(" LISTA DE HOUSE ")]),e(De["a"],t._l(t.$store.state.itemsHouseList,(function(a,o){return e(ae["a"],{key:o,attrs:{link:""},nativeOn:{click:function(e){return t.showHouse(a.id)}}},[e(Re["a"],[e(R["a"],{attrs:{color:"teal",size:"32"}},[e("span",{staticClass:"white--text text-h6"},[t._v(t._s(o+1))])])],1),e(J["a"],[e(J["c"],{domProps:{innerHTML:t._s(a.nro_hbl?a.nro_hbl:a.code_house)}}),e(J["b"],[t._v(" Cliente: "+t._s(a.cliente_nombre)+" ")])],1)],1)})),1)],1)],1)]],2)},Ue=[],Ge={name:"houselist",methods:{showHouse(t){"controlMasterEditar"==this.$route.name?this.$router.push("/home/folderHouse/control/editar/"+t):"controlMasterVer"==this.$route.name&&this.$router.push("/home/folderHouse/control/ver/"+t)}},mounted(){this.$nextTick(()=>{this.openExpand=0})},data:()=>({openExpand:0,items:[{header:"LISTA DE HOUSE"},{avatar:"https://cdn.vuetifyjs.com/images/lists/1.jpg",title:"Brunch this weekend?",subtitle:'<span class="text--primary">Ali Connors</span> &mdash; I\'ll be in your neighborhood doing errands this weekend. Do you want to hang out?'},{divider:!0,inset:!0},{avatar:"https://cdn.vuetifyjs.com/images/lists/2.jpg",title:'Summer BBQ <span class="grey--text text--lighten-1">4</span>',subtitle:'<span class="text--primary">to Alex, Scott, Jennifer</span> &mdash; Wish I could come, but I\'m out of town this weekend.'},{divider:!0,inset:!0},{avatar:"https://cdn.vuetifyjs.com/images/lists/3.jpg",title:"Oui oui",subtitle:'<span class="text--primary">Sandra Adams</span> &mdash; Do you have Paris recommendations? Have you ever been?'},{divider:!0,inset:!0},{avatar:"https://cdn.vuetifyjs.com/images/lists/4.jpg",title:"Birthday gift",subtitle:'<span class="text--primary">Trevor Hansen</span> &mdash; Have any ideas about what we should get Heidi for her birthday?'},{divider:!0,inset:!0},{avatar:"https://cdn.vuetifyjs.com/images/lists/5.jpg",title:"Recipe to try",subtitle:'<span class="text--primary">Britta Holt</span> &mdash; We should eat this: Grate, Squash, Corn, and tomatillo Tacos.'}]}),watch:{"$store.state.itemsHouseList":function(t,e){this.openExpand=0}}},He=Ge,Je=Object(v["a"])(He,Be,Ue,!1,null,null,null),Ve=Je.exports,ze=function(){var t=this,e=t._self._c;return e("div",[e("h3",[t._v("Datos del Embarque")]),e(d["a"],{attrs:{dense:""}},[e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsProveedorRolAgente,"item-text":"namelong","item-value":"id",label:"Agente"},model:{value:t.$store.state.master_id_agente,callback:function(e){t.$set(t.$store.state,"master_id_agente",e)},expression:"$store.state.master_id_agente"}},[e(I["a"],{staticClass:"btn__add",attrs:{slot:"append",color:"primary",disabled:t.isFormActionsDisabled},nativeOn:{click:function(e){return t._callModalEntitie(1)}},slot:"append"},[t._v(" mdi-plus ")])],1)],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.clientes,"item-text":"namelong","item-value":"id",label:t.obtenerLabelNotifyMasterMBL},model:{value:t.$store.state.master_id_notify,callback:function(e){t.$set(t.$store.state,"master_id_notify",e)},expression:"$store.state.master_id_notify"}},[e(I["a"],{staticClass:"btn__add",attrs:{slot:"append",color:"primary",disabled:t.isFormActionsDisabled},nativeOn:{click:function(e){return t._callModalEntitie(11)}},slot:"append"},[t._v(" mdi-plus ")])],1)],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{directives:[{name:"show",rawName:"v-show",value:t.mostrarCboAerolinea,expression:"mostrarCboAerolinea"}],attrs:{items:t.$store.state.itemsProveedorRolAerolinea,"item-text":"namelong","item-value":"id",label:"Aerolinea"},model:{value:t.$store.state.master_id_airlines,callback:function(e){t.$set(t.$store.state,"master_id_airlines",e)},expression:"$store.state.master_id_airlines"}})],1),t.isAereo()||t.isFCL()?t._e():e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsProveedorRolColoader,"item-text":"namelong","item-value":"id",label:"Coloader"},model:{value:t.$store.state.master_id_coloader,callback:function(e){t.$set(t.$store.state,"master_id_coloader",e)},expression:"$store.state.master_id_coloader"}},[e(I["a"],{staticClass:"btn__add",attrs:{slot:"append",color:"primary",disabled:t.isFormActionsDisabled},nativeOn:{click:function(e){return t._callModalEntitie(17)}},slot:"append"},[t._v(" mdi-plus ")])],1)],1),t.isAereo()||t.isLCL()?t._e():e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsProveedorRolNaviera,"item-text":"namelong","item-value":"id",label:"Naviera"},model:{value:t.$store.state.master_id_naviera,callback:function(e){t.$set(t.$store.state,"master_id_naviera",e)},expression:"$store.state.master_id_naviera"}},[e(I["a"],{staticClass:"btn__add",attrs:{slot:"append",color:"primary",disabled:t.isFormActionsDisabled},nativeOn:{click:function(e){return t._callModalEntitie(2)}},slot:"append"},[t._v(" mdi-plus ")])],1)],1),e(n["a"],{attrs:{cols:"12",md:"3"}},[e(p["a"],{attrs:{type:t.obtenerInputTypeBLMaster,label:t.obtenerLabelBLMaster},model:{value:t.$store.state.master_blmaster,callback:function(e){t.$set(t.$store.state,"master_blmaster",e)},expression:"$store.state.master_blmaster"}})],1),e(n["a"],{attrs:{cols:"12",md:"3"}},[e(p["a"],{attrs:{label:"Viaje"},model:{value:t.$store.state.master_viaje,callback:function(e){t.$set(t.$store.state,"master_viaje",e)},expression:"$store.state.master_viaje"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.itemsMotonave,"item-text":"name","item-value":"id",label:"Motonave"},model:{value:t.$store.state.master_id_motonave,callback:function(e){t.$set(t.$store.state,"master_id_motonave",e)},expression:"$store.state.master_id_motonave"}})],1),e(n["a"],{attrs:{cols:"12",md:"3",lg:"3",xl:"3"}},[e(Lt["a"],{attrs:{items:t.itemsFleteCon,"item-text":"name","item-value":"id",label:"Condición"},model:{value:t.$store.state.master_id_condicion,callback:function(e){t.$set(t.$store.state,"master_id_condicion",e)},expression:"$store.state.master_id_condicion"}})],1),e(n["a"],{attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[e(Lt["a"],{attrs:{items:t.itemsCoinsList,"item-text":"symbol","item-value":"id",label:"Moneda"},model:{value:t.$store.state.master_id_coins,callback:function(e){t.$set(t.$store.state,"master_id_coins",e)},expression:"$store.state.master_id_coins"}})],1),e(n["a"],{attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[e(p["a"],{attrs:{type:"number",label:"Monto"},model:{value:t.$store.state.master_monto,callback:function(e){t.$set(t.$store.state,"master_monto",e)},expression:"$store.state.master_monto"}})],1),t.isFCL()?e(n["a"],{attrs:{cols:"12",md:"12"}},[e(s["a"],{attrs:{small:"",color:"primary",elevation:"0",rounded:"",disabled:t.isFormActionsDisabled},on:{click:function(e){t.$store.state.modalContainers=!t.$store.state.modalContainers}}},[t._v("AGREGAR CONTENEDOR")]),e(jt["a"],{attrs:{"fixed-header":"",height:"180px"},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Nombre")]),e("th",{staticClass:"text-left"},[t._v("N°. Contenedor")]),e("th",{staticClass:"text-left"},[t._v("N° Precinto")]),e("th",{staticClass:"text-left"},[t._v("Cantidad")]),e("th",{staticClass:"text-left"},[t._v("Acción")])])]),e("tbody",t._l(t.$store.state.master_itemsContainers,(function(a,o){return e("tr",{key:a.name},[e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.nro_container))]),e("td",[t._v(t._s(a.nro_precinto))]),e("td",[t._v(t._s(a.cantidad))]),e("td",[e(s["a"],{attrs:{small:"",icon:"",disabled:t.isFormActionsDisabled},nativeOn:{click:function(e){return t._delContainers(o)}}},[e(I["a"],{attrs:{color:"red"}},[t._v("mdi-delete")])],1)],1)])})),0)]},proxy:!0}],null,!1,1155732709)})],1):t._e(),t.$store.state.comentario.length>0?e(n["a"],{attrs:{cols:"12",md:"12"}},[e(r["a"],[e(B["d"],{attrs:{"primary-title":""}},[t._v(" Listado de Estado/Comentario ")]),e(B["c"],[e(te["a"],{attrs:{"disable-sort":"",headers:t.headers,items:t.$store.state.comentario,"item-key":"id"}})],1)],1)],1):t._e()],1)],1)},qe=[],Ke={name:"dataEmbar",props:{isFormActionsDisabled:Boolean},data(){return{headers:[{text:"Fecha",value:"fecha"},{text:"Ejecutivo",value:"namelong"},{text:"Estado/ Comentario",value:"comentario"},{}],itemsAgente:[]}},async mounted(){Promise.all([await this._getProveedor(),await this._getMotonave(),await this._getContainers(),await this._getFleteCon(),await this._getCoinsList(),await this.cargarClientes(),await this._getProveedorRolAgente(),await this._getProveedorRolAerolinea(),await this._getProveedorRolColoader(),await this._getProveedorRolNaviera()])},computed:{...Object(_["c"])(["itemsCoinsList","itemsAgents","itemsConsigners","itemsNotify","itemsMotonave","itemsContainers","itemsFleteCon","datanroMaster","itemsShipment","itemsProveedorList"]),mostrarCboAerolinea(){return!(this.isFCL()||this.isLCL())},obtenerLabelConsignerMasterMBL(){return this.isAereo()?"Consigner Master AWE":"Consigner Master MBL"},obtenerLabelNotifyMasterMBL(){return this.isAereo()?"Notify Master AWE":"Notify Master MBL"},obtenerLabelBLMaster(){return this.isAereo()?"BL Máster Nro.":"BL Máster"},obtenerInputTypeBLMaster(){return this.isAereo()?"number":"text"},obtenerContainerName(){return t=>this.itemsContainers.filter(e=>e.id==t).length?this.itemsContainers.find(e=>e.id==t).name:""},obtenerItemsProveedoresCboAgente(){return this.itemsProveedorList.filter(t=>"SHIPPER"!==t.rol.toUpperCase())},obtenerItemsProveedores(){return t=>this.itemsProveedorList.filter(e=>e.rol.toUpperCase()===t.toUpperCase())}},methods:{...Object(_["b"])(["_getnroMaster","_getAgents","_getConsigners","_getNotify","_getMotonave","_getContainers","_getFleteCon","_getCoinsList","_getProveedor","cargarClientes","_getProveedorRolAgente","_getProveedorRolAerolinea","_getProveedorRolColoader","_getProveedorRolNaviera"]),isAereo(){let t=!1,e=this.$store.state.master_id_trasnport.id?this.$store.state.master_id_trasnport.id:this.$store.state.master_id_trasnport,a=this.itemsShipment.filter(t=>t.id==e).length>0?this.itemsShipment.filter(t=>t.id==e)[0].code:"";return"Aéreo"==a&&(t=!0),t},isLCL(){let t=!1,e=this.$store.state.master_id_trasnport.id?this.$store.state.master_id_trasnport.id:this.$store.state.master_id_trasnport,a=this.itemsShipment.filter(t=>t.id==e).length>0?this.itemsShipment.filter(t=>t.id==e)[0].code:"";return"LCL"==a&&(t=!0),t},isFCL(){let t=!1,e=this.$store.state.master_id_trasnport.id?this.$store.state.master_id_trasnport.id:this.$store.state.master_id_trasnport,a=this.itemsShipment.filter(t=>t.id==e).length>0?this.itemsShipment.filter(t=>t.id==e)[0].code:"";return"FCL"==a&&(t=!0),t},_callModalEntitie(t){this.$store.state.id_role_actual=t,1==t?this.$store.state.modalAgente=!this.$store.state.modalAgente:11==t?this.$store.state.modalEntitie=!this.$store.state.modalEntitie:17==t?this.$store.state.modalColoader=!this.$store.state.modalColoader:2==t&&(this.$store.state.modalNaviera=!this.$store.state.modalNaviera)},_setDataContainers(t,e,a,o,i){this.$store.state.master_itemsContainers.push({id:t,name:e,nro_container:a,nro_precinto:o,cantidad:i})},_delContainers(t){this.$store.state.master_itemsContainers.splice(t,1)}}},Qe=Ke,Ye=(a("25a7"),Object(v["a"])(Qe,ze,qe,!1,null,"80ac40ec",null)),Xe=Ye.exports,Ze=function(){var t=this,e=t._self._c;return e("div",[e(d["a"],{attrs:{dense:""}},[e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{type:"date",label:"Salida (ETD)"},on:{change:function(e){return t._getDate()}},model:{value:t.$store.state.master_fecha_etd,callback:function(e){t.$set(t.$store.state,"master_fecha_etd",e)},expression:"$store.state.master_fecha_etd"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{type:"date",label:"Llegada (ETA)"},on:{change:function(e){return t._getDate()}},model:{value:t.$store.state.master_fecha_eta,callback:function(e){t.$set(t.$store.state,"master_fecha_eta",e)},expression:"$store.state.master_fecha_eta"}})],1),e(n["a"],{attrs:{cols:"12",md:"6",align:"right",justify:"right"}},[e(p["a"],{attrs:{type:"date",label:"Fecha de Disponibilidad"},on:{change:function(e){return t._validaDate()}},model:{value:t.$store.state.master_fecha_disponibilidad,callback:function(e){t.$set(t.$store.state,"master_fecha_disponibilidad",e)},expression:"$store.state.master_fecha_disponibilidad"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{type:"date",label:"Fecha Máxima Libre de Almacenaje"},model:{value:t.$store.state.fecha_libre_almacenaje,callback:function(e){t.$set(t.$store.state,"fecha_libre_almacenaje",e)},expression:"$store.state.fecha_libre_almacenaje"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{label:"Almacén Recepción"},model:{value:t.$store.state.almacen_recepcion,callback:function(e){t.$set(t.$store.state,"almacen_recepcion",e)},expression:"$store.state.almacen_recepcion"}})],1),t.isAereo()||t.isLCL()?t._e():e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{label:"Días Libres de Sobreestadía.",type:"number",suffix:"Día(s)",min:"0"},model:{value:t.$store.state.dias_sobreestadia,callback:function(e){t.$set(t.$store.state,"dias_sobreestadia",e)},expression:"$store.state.dias_sobreestadia"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(u["a"],{attrs:{items:t.$store.state.masterusuarios.lstCanales,"item-text":"descripcion","item-value":"id",label:"Canal"},model:{value:t.$store.state.id_canal,callback:function(e){t.$set(t.$store.state,"id_canal",e)},expression:"$store.state.id_canal"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{type:"number",min:"0",label:"Número de Manifiesto"},model:{value:t.$store.state.nro_manifiesto,callback:function(e){t.$set(t.$store.state,"nro_manifiesto",e)},expression:"$store.state.nro_manifiesto"}})],1)],1)],1)},We=[],ta={name:"fechas",computed:{...Object(_["c"])(["itemsModality","itemsShipment"])},methods:{isAereo(){let t=!1,e=this.$store.state.master_id_trasnport.id?this.$store.state.master_id_trasnport.id:this.$store.state.master_id_trasnport,a=this.itemsShipment.filter(t=>t.id==e).length>0?this.itemsShipment.filter(t=>t.id==e)[0].code:"";return"Aéreo"==a&&(t=!0),t},isLCL(){let t=!1,e=this.$store.state.master_id_trasnport.id?this.$store.state.master_id_trasnport.id:this.$store.state.master_id_trasnport,a=this.itemsShipment.filter(t=>t.id==e).length>0?this.itemsShipment.filter(t=>t.id==e)[0].code:"";return"LCL"==a&&(t=!0),t},_getDate(){let t=this.itemsModality.filter(t=>t.id==this.$store.state.master_sentido)[0].code;"E"==t?this.$store.state.master_fecha_disponibilidad||(this.$store.state.master_fecha_disponibilidad=this.$store.state.master_fecha_eta):"I"==t&&(this.$store.state.master_fecha_disponibilidad||(this.$store.state.master_fecha_disponibilidad=this.$store.state.master_fecha_etd)),this._validaDate()},_validaDate(){let t=this.itemsModality.filter(t=>t.id==this.$store.state.master_sentido)[0].code;var e=this;"E"==t?e.$store.state.master_fecha_disponibilidad<e.$store.state.master_fecha_eta&&(e.$store.state.master_fecha_disponibilidad=e.$store.state.master_fecha_eta,e.$swal({icon:"warning",title:"Lo sentimos",text:"La fecha de disponibilidad no puede ser menor a la fecha de llegada"})):"I"==t&&e.$store.state.master_fecha_disponibilidad<e.$store.state.master_fecha_etd&&(e.$store.state.master_fecha_disponibilidad=e.$store.state.master_fecha_etd,e.$swal({icon:"warning",title:"Lo sentimos",text:"La fecha de disponibilidad no puede ser menor a la fecha de llegada"}))}}},ea=ta,aa=Object(v["a"])(ea,Ze,We,!1,null,null,null),oa=aa.exports,ia={name:"controlMasterCom",components:{dataGen:Ae,houselist:Ve,dataEmbar:Xe,dataFechas:oa},data(){return{formControlMasterReadonly:!1,loadingBotonNuevoHouse:!1,direction:"left",fab:!1,fling:!1,hover:!1,tabs:null,top:!1,right:!0,bottom:!0,left:!1,transition:"slide-y-reverse-transition"}},async mounted(){"controlMaster"==this.$route.name?this.$store.state.mainTitle="CONTROL DE EXPEDIENTE MÁSTER":"controlMasterEditar"==this.$route.name?this.$store.state.mainTitle="CONTROL DE EXPEDIENTE MÁSTER [EDITAR]":"controlMasterVer"==this.$route.name&&(this.$store.state.mainTitle="CONTROL DE EXPEDIENTE MÁSTER [MODO VISTA]",this.formControlMasterReadonly=!0),await Promise.all([this.cleanData(),this._getnroHouse()])},methods:{...Object(_["b"])(["_getnroMaster","_getnroHouse","_getHouseList","_getHouseServices","openURL","atras"]),irAVerMaster(){this.$router.push({name:"controlMasterEditar",id:this.$route.params.id}),window.location.reload()},async createCarpetaOneDrive({name:t=""}){var e={method:"get",url:"https://api.agentedecargaonline.com/crear-carpeta-master?nromaster="+t,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};let a=await A()(e).then((async function(t){return t.data.data}));return a},async actualizarMaster({id:t=0,url:e=""}){var a={method:"put",url:"https://api.agentedecargaonline.com/update_folder_onedrive",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id:t,url:e}};await A()(a).then((async function(t){return t.data.data}))},_setMasterContainer(t,e,a,o,i){var s=this,r=JSON.stringify({id_master:t,id_containers:e,nro_containers:a,nro_precinto:o,quantity:i,status:1}),n={method:"post",url:"https://api.agentedecargaonline.com/setMasterContainers",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:r};A()(n).then((function(t){console.log(t)})).catch((function(t){console.log(t),s.$swal({icon:"error",title:"Lo sentimos",text:t})}))},_setHouseContainer(t,e,a,o,i){var s=this,r=JSON.stringify({id_house:t,id_containers:e,nro_containers:a,nro_precinto:o,quantity:i,status:1}),n={method:"post",url:"https://api.agentedecargaonline.com/setHouseContainers",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:r};A()(n).then((function(t){})).catch((function(t){console.log(t),s.$swal({icon:"error",title:"Lo sentimos",text:t})}))},_setMasterServices(t,e,a){var o=this;o.$store.state.itemsServicesList.map((function(t){var a={id_house:e,id_begend:t.id_begend,nameservice:t.nameservice,price_services:t.price,status:0},o={method:"post",url:"https://api.agentedecargaonline.com/setServices",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};A()(o).then((function(){})).catch((function(t){console.log(t)}))})),o.$store.state.statusData=!0,o.$store.state.master_itemsContainers.map((function(t){o._setHouseContainer(e,t.id,t.nro_container,t.nro_precinto,t.cantidad)})),o._getHouseList(),a==o.$store.state.master_cantidad_house&&o.$swal({icon:"success",title:"Excelente",text:"Master registrado éxitosamente con el número "+o.$store.state.master_expediente})},async addNewHouse(){var t=this;t.loadingBotonNuevoHouse=!t.loadingBotonNuevoHouse,await t._setHouse(),await t._getHouseList(),t.loadingBotonNuevoHouse=!t.loadingBotonNuevoHouse},async _setHouse(t=""){var e=this;let a=e.$store.state.itemsHouseList.length+1;var o=JSON.stringify({id_master:t||e.$store.state.master_insertId,nro_house:e.$store.state.house_nro_expediente,code_house:e.$store.state.house_expediente+"-"+a,id_cot:e.$store.state.master_cotizanion,id_modality:e.$store.state.master_sentido,id_shipment:e.$store.state.master_id_trasnport.id||e.$store.state.master_id_trasnport,id_port_begin:e.$store.state.master_origen,id_port_end:e.$store.state.master_destino,id_agent:e.$store.state.master_id_agente,id_consigner:e.$store.state.master_id_consigner,id_notify:e.$store.state.master_id_notify,id_aerolinea:e.$store.state.master_id_airlines,id_coloader:e.$store.state.master_id_coloader,id_naviera:e.$store.state.master_id_naviera,id_incoterms:e.$store.state.master_incoterms,nro_hbl:e.$store.state.master_blmaster,id_motonave:e.$store.state.master_id_motonave,nro_viaje:e.$store.state.master_viaje,bultos:e.$store.state.master_bultos,peso:e.$store.state.master_peso,volumen:e.$store.state.master_volumen,id_conditions:e.$store.state.master_id_condicion,id_moneda:e.$store.state.master_id_coins,monto:e.$store.state.master_monto,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,id_consigner_real:e.$store.state.master_id_consigner}),i={method:"post",url:"https://api.agentedecargaonline.com/setHouse",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:o};await A()(i).then((function(t){sessionStorage.setItem("auth-token",t.data.token),"401"!=t.data.status?e.$swal({icon:"success",title:t.data.data.rows[0].mensaje}):at.a.fire({icon:"error",text:t.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(e=>{e.isConfirmed&&"401"==t.data.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})})).catch((function(t){console.log(t),e.$swal({icon:"error",title:"Lo sentimos",text:t})}))},_setMasterHouse(t){var e=this;for(let i=1;i<=e.$store.state.master_cantidad_house;i++){var a=JSON.stringify({code_house:e.$store.state.house_expediente+"-"+i,id_master:t&&""!=t?t:null,nro_house:e.$store.state.house_nro_expediente&&""!=e.$store.state.house_nro_expediente?e.$store.state.house_nro_expediente:null,id_agent:e.$store.state.master_id_agente&&""!=e.$store.state.master_id_agente?e.$store.state.master_id_agente:null,id_consigner:e.$store.state.master_id_consigner&&""!=e.$store.state.master_id_consigner?e.$store.state.master_id_consigner:null,id_notify:e.$store.state.master_id_notify&&""!=e.$store.state.master_id_notify?e.$store.state.master_id_notify:null,id_aerolinea:e.$store.state.master_id_airlines&&""!=e.$store.state.master_id_airlines?e.$store.state.master_id_airlines:null,id_coloader:e.$store.state.master_id_coloader&&""!=e.$store.state.master_id_coloader?e.$store.state.master_id_coloader:null,id_naviera:e.$store.state.master_id_naviera&&""!=e.$store.state.master_id_naviera?e.$store.state.master_id_naviera:null,id_incoterms:e.$store.state.master_incoterms&&""!=e.$store.state.master_incoterms?e.$store.state.master_incoterms:null,nro_hbl:e.$store.state.master_blmaster&&""!=e.$store.state.master_blmaster?e.$store.state.master_blmaster:null,id_motonave:e.$store.state.master_id_motonave&&""!=e.$store.state.master_id_motonave?e.$store.state.master_id_motonave:null,nro_viaje:e.$store.state.master_viaje&&""!=e.$store.state.master_viaje?e.$store.state.master_viaje:null,bultos:e.$store.state.master_bultos&&""!=e.$store.state.master_bultos?e.$store.state.master_bultos:null,peso:e.$store.state.master_peso&&""!=e.$store.state.master_peso?e.$store.state.master_peso:null,volumen:e.$store.state.master_volumen&&""!=e.$store.state.master_volumen?e.$store.state.master_volumen:null,id_conditions:e.$store.state.master_id_condicion&&""!=e.$store.state.master_id_condicion?e.$store.state.master_id_condicion:null,id_moneda:e.$store.state.master_id_coins&&""!=e.$store.state.master_id_coins?e.$store.state.master_id_coins:null,monto:e.$store.state.master_monto&&""!=e.$store.state.master_monto?e.$store.state.master_monto:null,status:1,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}),o={method:"post",url:"https://api.agentedecargaonline.com/setHouse",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};A()(o).then((function(t){t.data.status,e.cleanData()})).catch((function(t){console.log(t),e.$swal({icon:"error",title:"Lo sentimos",text:t})}))}},async _putMaster(){if(this.validate()){var t=this;t.$store.state.spiner=!0;let o=[];for(let t=0;t<this.$store.state.nro_cuotas;t++)o.push({porcentaje:this.$store.state.cuota[t],fecha:this.$store.state.fechacuota[t]});var e=JSON.stringify({nro_master:t.$store.state.nro_master,code_master:t.$store.state.master_expediente,id_cot:t.$store.state.master_cotizanion,id_modality:t.$store.state.master_sentido,id_shipment:t.$store.state.master_id_trasnport.id,id_incoterms:t.$store.state.master_incoterms,id_port_begin:t.$store.state.master_origen,id_port_begin:t.$store.state.master_origen&&""!=t.$store.state.master_origen?t.$store.state.master_origen:null,id_port_end:t.$store.state.master_destino&&""!=t.$store.state.master_destino?t.$store.state.master_destino:null,id_operador:t.$store.state.master_id_operador&&""!=t.$store.state.master_id_operador?t.$store.state.master_id_operador:null,fecha_eta:t.$store.state.master_fecha_eta&&""!=t.$store.state.master_fecha_eta?t.$store.state.master_fecha_eta:null,fecha_etd:t.$store.state.master_fecha_etd&&""!=t.$store.state.master_fecha_etd?t.$store.state.master_fecha_etd:null,fecha_disponibilidad:t.$store.state.master_fecha_disponibilidad&&""!=t.$store.state.master_fecha_disponibilidad?t.$store.state.master_fecha_disponibilidad:null,ganancia_pricing:t.$store.state.master_ganancia_pricing&&""!=t.$store.state.master_ganancia_pricing?t.$store.state.master_ganancia_pricing:null,ganancia_operaciones:t.$store.state.master_ganancia_operaciones&&""!=t.$store.state.master_ganancia_operaciones?t.$store.state.master_ganancia_operaciones:null,id_agent:t.$store.state.master_id_agente&&""!=t.$store.state.master_id_agente?t.$store.state.master_id_agente:null,id_consigner:t.$store.state.master_id_consigner&&""!=t.$store.state.master_id_consigner?t.$store.state.master_id_consigner:null,id_notify:t.$store.state.master_id_notify&&""!=t.$store.state.master_id_notify?t.$store.state.master_id_notify:null,id_aerolinea:t.$store.state.master_id_airlines&&""!=t.$store.state.master_id_airlines?t.$store.state.master_id_airlines:null,id_coloader:t.$store.state.master_id_coloader&&""!=t.$store.state.master_id_coloader?t.$store.state.master_id_coloader:null,id_naviera:t.$store.state.master_id_naviera&&""!=t.$store.state.master_id_naviera?t.$store.state.master_id_naviera:null,nro_mbl:t.$store.state.master_blmaster&&""!=t.$store.state.master_blmaster?t.$store.state.master_blmaster:null,id_motonave:t.$store.state.master_id_motonave&&""!=t.$store.state.master_id_motonave?t.$store.state.master_id_motonave:null,nro_viaje:t.$store.state.master_viaje&&""!=t.$store.state.master_viaje?t.$store.state.master_viaje:null,bultos:t.$store.state.master_bultos&&""!=t.$store.state.master_bultos?t.$store.state.master_bultos:null,peso:t.$store.state.master_peso&&""!=t.$store.state.master_peso?t.$store.state.master_peso:null,volumen:t.$store.state.master_volumen&&""!=t.$store.state.master_volumen?t.$store.state.master_volumen:null,id_conditions:t.$store.state.master_id_condicion&&""!=t.$store.state.master_id_condicion?t.$store.state.master_id_condicion:null,id_moneda:t.$store.state.master_id_coins&&""!=t.$store.state.master_id_coins?t.$store.state.master_id_coins:null,monto:t.$store.state.master_monto&&""!=t.$store.state.master_monto?t.$store.state.master_monto:null,status:1,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,cuotas:o,nro_cuotas:t.$store.state.nro_cuotas,grupalflag:t.$store.state.grupalflag,fecha_libre_almacenaje:t.$store.state.fecha_libre_almacenaje,almacen_recepcion:t.$store.state.almacen_recepcion,dias_sobreestadia:t.$store.state.dias_sobreestadia,id_canal:t.$store.state.id_canal,nro_manifiesto:t.$store.state.nro_manifiesto,namecampaign:t.$store.state.namecampaign,master_itemsContainers:t.$store.state.master_itemsContainers}),a={method:"post",url:"https://api.agentedecargaonline.com/editMaster/"+t.$store.state.master_Id_get,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){sessionStorage.setItem("auth-token",e.data.token),200==e.data.status?t.$swal({icon:"success",title:"Excelente",text:"Expediente actualizado con éxito"}):at.a.fire({icon:"error",text:e.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==e.data.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})})).catch((function(e){console.log(e),t.$swal({icon:"error",title:"Lo sentimos",text:e})})),t.$store.state.spiner=!1}},cleanData(){var t=this;t.$store.state.master_nro_expediente="",t.$store.state.master_sentido="",t.$store.state.master_id_trasnport="",t.$store.state.master_incoterms="",t.$store.state.master_origen="",t.$store.state.master_destino="",t.$store.state.master_id_operador="",t.$store.state.master_ganancia_pricing="",t.$store.state.master_ganancia_operaciones="",t.$store.state.master_id_agente="",t.$store.state.master_id_consigner="",t.$store.state.master_id_notify="",t.$store.state.master_id_airlines="",t.$store.state.master_id_coloader="",t.$store.state.master_id_naviera="",t.$store.state.master_blmaster="",t.$store.state.master_id_motonave="",t.$store.state.master_viaje="",t.$store.state.master_bultos="",t.$store.state.master_peso="",t.$store.state.master_volumen="",t.$store.state.master_id_condicion="",t.$store.state.master_id_coins="",t.$store.state.master_monto="",t.$store.state.cuotas=3,t.$store.state.grupalflag=!1,t.$store.state.cuota=[],t.$store.state.fechacuota=[],t.$store.state.url_folderonedrive="",t.$store.state.master_itemsContainers=[]},validate(){let t=!0,e=0,a="<ul>";if(this.$store.state.grupalflag){let o="";for(let i=0;i<this.$store.state.nro_cuotas;i++)this.$store.state.cuota[i]<0&&(t=!1,a+=`<li> El porcentaje ${i+1} no puede ser negativo</li>`),this.$store.state.cuota[i]>100&&(t=!1,a+=`<li> El porcentaje ${i+1}  no puede ser mayor que el 100% </li>`),e+=parseFloat(this.$store.state.cuota[i]),this.$store.state.fechacuota[i]?this.$store.state.fechacuota[i]<o&&(a+=`<li> La fecha de pago ${i+1} debe ser mayor o igual a la anterior</li>`):a+=`<li> La fecha de pago ${i+1} es requerida</li>`,o=this.$store.state.fechacuota[i];100!=e&&(t=!1,a+="<li>El porcentaje final debe ser igual al 100%</li>")}return this.$store.state.dias_sobreestadia&&this.$store.state.dias_sobreestadia<0&&(t=!1,a+="<li>Días Libres de Sobreestadía no pueden ser negativos</li>"),this.$store.state.master_sentido||(t=!1,a+="<li>El sentido es requerido</li>"),this.$store.state.master_id_trasnport||(t=!1,a+="<li>El tipo de embarque es requerido</li>"),this.$store.state.master_incoterms||(t=!1,a+="<li>El incoterms es requerido</li>"),this.$store.state.master_origen||(t=!1,a+="<li>El origen es requerido</li>"),this.$store.state.master_destino||(t=!1,a+="<li>El destino es requerido</li>"),this.$store.state.master_fecha_eta||(t=!1,a+="<li>La fecha eta es requerida</li>"),this.$store.state.master_fecha_etd||(t=!1,a+="<li>La fecha etd es requerida</li>"),this.$store.state.statusData&&!this.$store.state.itemsHouseList.length&&(t=!1,a+="<li>Debe asignar un Expediente House como mínimo para guardar el expediente máster</li>"),a+="</ul>",t||at.a.fire({icon:"error",html:a}),t},async _setMaster(){if(this.validate()){var t=this;t.$store.state.spiner=!0;let o=[];for(let t=0;t<this.$store.state.nro_cuotas;t++)o.push({porcentaje:this.$store.state.cuota[t],fecha:this.$store.state.fechacuota[t]});var e=JSON.stringify({nro_master:t.$store.state.master_nro_expediente,code_master:t.$store.state.master_expediente,id_cot:t.$store.state.master_cotizanion?t.$store.state.master_cotizanion:null,id_modality:t.$store.state.master_sentido,id_shipment:t.$store.state.master_id_trasnport.id,id_incoterms:t.$store.state.master_incoterms,id_port_begin:t.$store.state.master_origen&&""!=t.$store.state.master_origen?t.$store.state.master_origen:null,id_port_end:t.$store.state.master_destino&&""!=t.$store.state.master_destino?t.$store.state.master_destino:null,id_operador:t.$store.state.master_id_operador&&""!=t.$store.state.master_id_operador?t.$store.state.master_id_operador:null,fecha_eta:t.$store.state.master_fecha_eta,fecha_etd:t.$store.state.master_fecha_etd,fecha_disponibilidad:t.$store.state.master_fecha_disponibilidad,ganancia_pricing:t.$store.state.master_ganancia_pricing?t.$store.state.master_ganancia_pricing:null,ganancia_operaciones:t.$store.state.master_ganancia_operaciones?t.$store.state.master_ganancia_operaciones:null,id_agent:t.$store.state.master_id_agente?t.$store.state.master_id_agente:null,id_consigner:t.$store.state.master_id_consigner,id_notify:t.$store.state.master_id_notify&&""!=t.$store.state.master_id_notify?t.$store.state.master_id_notify:null,id_aerolinea:t.$store.state.master_id_airlines?t.$store.state.master_id_airlines:null,id_coloader:t.$store.state.master_id_coloader&&""!=t.$store.state.master_id_coloader?t.$store.state.master_id_coloader:null,id_naviera:t.$store.state.master_id_naviera&&""!=t.$store.state.master_id_naviera?t.$store.state.master_id_naviera:null,nro_mbl:t.$store.state.master_blmaster&&""!=t.$store.state.master_blmaster?t.$store.state.master_blmaster:null,id_motonave:t.$store.state.master_id_motonave&&""!=t.$store.state.master_id_motonave?t.$store.state.master_id_motonave:null,nro_viaje:t.$store.state.master_viaje&&""!=t.$store.state.master_viaje?t.$store.state.master_viaje:null,bultos:t.$store.state.master_bultos&&""!=t.$store.state.master_bultos?t.$store.state.master_bultos:null,peso:t.$store.state.master_peso&&""!=t.$store.state.master_peso?t.$store.state.master_peso:null,volumen:t.$store.state.master_volumen&&""!=t.$store.state.master_volumen?t.$store.state.master_volumen:null,id_conditions:t.$store.state.master_id_condicion&&""!=t.$store.state.master_id_condicion?t.$store.state.master_id_condicion:null,id_moneda:t.$store.state.master_id_coins&&""!=t.$store.state.master_id_coins?t.$store.state.master_id_coins:null,monto:t.$store.state.master_monto&&""!=t.$store.state.master_monto?t.$store.state.master_monto:null,status:1,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,cuotas:o,nro_cuotas:t.$store.state.nro_cuotas,grupalflag:t.$store.state.grupalflag,fecha_libre_almacenaje:t.$store.state.fecha_libre_almacenaje,almacen_recepcion:t.$store.state.almacen_recepcion,dias_sobreestadia:t.$store.state.dias_sobreestadia,id_canal:t.$store.state.id_canal,nro_manifiesto:t.$store.state.nro_manifiesto,namecampaign:t.$store.state.namecampaign,master_itemsContainers:t.$store.state.master_itemsContainers}),a={method:"post",url:"https://api.agentedecargaonline.com/setMaster",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((async function(e){sessionStorage.setItem("auth-token",e.data.token),"401"==e.data.status&&at.a.fire({icon:"error",text:e.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==e.data.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}),t.$swal({icon:"info",title:"Espera",timerProgressBar:!0,text:"Generando expediente..."});let a=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,o=[1,2];if(o.includes(a)){let a=await t.createCarpetaOneDrive({name:t.$store.state.master_nro_expediente});await t.actualizarMaster({id:e.data.data[0].insertid,url:a})}await t._setHouse(e.data.data[0].insertid),t.$store.state.itemsHouseList=[],t.$store.state.master_insertId=e.data.data[0].insertid,t.$router.push({name:"controlMasterEditar",params:{id:e.data.data[0].insertid}}),window.location.reload()})).catch((function(e){console.log(e),t.$swal({icon:"error",title:"Lo sentimos",text:e})})),t.$store.state.spiner=!1}}}},sa=ia,ra=(a("0127"),Object(v["a"])(sa,xe,Te,!1,null,"c4c06166",null)),na=ra.exports,la={name:"controlMaster",components:{controlMasterCom:na}},ca=la,da=Object(v["a"])(ca,Se,ye,!1,null,null,null),ua=da.exports,pa=function(){var t=this,e=t._self._c;return e("div",[e("listMasterCom"),e(x["a"],{attrs:{right:"",absolute:"",bottom:"",persistent:"",width:"20%",temporary:""},model:{value:t.$store.state.house_filtrarData,callback:function(e){t.$set(t.$store.state,"house_filtrarData",e)},expression:"$store.state.house_filtrarData"}},[e(r["a"],{attrs:{elevation:"0"}},[e("FiltroHouse")],1)],1)],1)},ma=[],ha=function(){var t=this,e=t._self._c;return e("div",[e(r["a"],{attrs:{elevation:"0"}},[e(B["d"],[e(d["a"],[e(n["a"],{attrs:{cols:"12",lg:"6",xl:"6"}},[e(p["a"],{attrs:{label:"Buscar","single-line":"","hide-details":"","prepend-icon":"mdi-magnify"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e(n["a"],{attrs:{cols:"12",lg:"6",xl:"6"}},[e(s["a"],{attrs:{color:"secondary",elevation:"0",dark:""},on:{click:function(e){t.$store.state.house_filtrarData=!t.$store.state.house_filtrarData}}},[t._v(" FILTRAR ")])],1)],1)],1),e(te["a"],{attrs:{headers:t.headers,items:t.$store.state.houses.listHouse,search:t.search,expanded:t.expanded,"single-expand":"","disable-sort":""},on:{"click:row":t.handleClickRow,"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"expanded-item",fn:function({item:a}){return[a.list_comentarios.length>0&&0!=a.status?e("td",{staticClass:"py-3 px-3",attrs:{colspan:t.headers.length}},[a.list_comentarios.length>0?e(jt["a"],[e("thead",[e("tr",[e("th",{attrs:{width:"10%"}},[t._v("Fecha")]),e("th",{attrs:{width:"20%"}},[t._v("Ejecutivo")]),e("th",{attrs:{width:"70%"}},[t._v("Comentario")])])]),e("tbody",t._l(a.list_comentarios,(function(a,o){return e("tr",{key:o,staticClass:"bg-comentarios"},[e("td",{staticClass:"bg-comentarios"},[t._v(t._s(a.fecha))]),e("td",{staticClass:"bg-comentarios"},[t._v(t._s(a.ejecutivo))]),e("td",{staticClass:"bg-comentarios"},[t._v(t._s(a.comentario))])])})),0)]):t._e()],1):t._e()]}},{key:"item.actions",fn:function({item:a}){return[e("div",{staticClass:"d-flex"},["2"!=t.statusList?e(I["a"],{staticClass:"mr-1",attrs:{color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.abrirModalComentario(a)}}},[t._v(" mdi-chat-plus ")]):t._e(),"2"!=t.statusList?e(I["a"],{staticClass:"mr-1",attrs:{color:"info"},on:{click:function(e){return e.stopPropagation(),t.viewHouse(a.id)}}},[t._v(" mdi-eye ")]):t._e(),"2"!=t.statusList?e(I["a"],{staticClass:"mr-1",attrs:{color:"orange"},on:{click:function(e){return e.stopPropagation(),t.editHouse(a.id)}}},[t._v(" mdi-pencil ")]):t._e(),"2"==t.statusList?e(I["a"],{staticClass:"mr-1",attrs:{large:"",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.selectHouse(a)}}},[t._v(" mdi-cursor-default-click ")]):t._e()],1)]}}],null,!0)}),e(l["a"],[e(d["a"],[e(n["a"],[t.statusReport?e(s["a"],{attrs:{color:"primary",elevation:"0"}},[t._v("GENERAR REPORTE "+t._s(t.pagination.page))]):t._e()],1)],1)],1),e(U["a"],{attrs:{persistent:"",width:"50%"},model:{value:t.dialogComentario,callback:function(e){t.dialogComentario=e},expression:"dialogComentario"}},[e(r["a"],[e(B["d"],[t._v(" Registro de Estado/ Comentario - "+t._s(t.house.code_house)+" "),e(T["a"]),e(s["a"],{attrs:{icon:"",color:"default"},on:{click:function(e){t.dialogComentario=!t.dialogComentario}}},[e(I["a"],[t._v("mdi-close")])],1)],1),e(B["c"],[e(c["a"],{ref:"frmComentario"},[e(p["a"],{attrs:{label:"Fecha",type:"date",readonly:""},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}}),e(Lt["a"],{attrs:{label:"Ejecutivo",items:t.$store.state.pricing.listEjecutivo,"item-text":"name","item-value":"id_entitie","item-key":"id_entitie",rules:[t=>!!t||"Dato requerido"]},model:{value:t.id_vendedor,callback:function(e){t.id_vendedor=e},expression:"id_vendedor"}}),e(Rt["a"],{attrs:{label:"Estado/ Comentario",rows:"4","auto-grow":"",rules:[t=>!!t||"Dato requerido"]},model:{value:t.comentario,callback:function(e){t.comentario=e},expression:"comentario"}})],1)],1),e(B["a"],[e(T["a"]),e(s["a"],{attrs:{small:"",color:"success",loading:t.loading},on:{click:t.guardarComentario}},[t._v("Guardar")])],1)],1)],1)],1)],1)},_a=[],ga={name:"listMasterCom",props:{statusReport:Boolean,statusList:String},data(){return{search:"",options:{},expanded:[],singleExpand:!1,loadingDataTable:!1,headers:[{text:"Master",value:"code_master"},{text:"Nro BL House",value:"nro_hbl",align:"start"},{text:"Sentido",value:"namemodality"},{text:"Origen",value:"nameportbegin"},{text:"Destino",value:"nameportend"},{text:"Proveedor",value:"nameproveedor"},{text:"Cliente del House",value:"nameconsigner"},{text:"Salida ETD",value:"fecha_etd"},{text:"Llegada ETA",value:"fecha_eta"},{text:"Naviera",value:"naviera"},{text:"Acciones",value:"actions",sortable:!1}],dialogComentario:!1,loading:!1,house:{},fecha:it()().format("YYYY-MM-DD"),id_vendedor:"",comentario:""}},async mounted(){this.$store.state.spiner=!0,await this.listarHouse(this.$store.state.house_filtro),this.$store.state.spiner=!1,await this.getModulesEntities(),await this._getModality(),await this._getShipment(),await this.cargarClientes(),await this._getMasterList()},computed:{...Object(_["c"])(["itemsHouseListAll","totalItemsHouseListAll"])},methods:{...Object(_["b"])(["_getHouseListAll","_getTotalHouseListAll","_getMasterList","_getModality","_getShipment","cargarClientes","getModulesEntities","insertComentarioHouse","listarHouse"]),editHouse(t){this.$router.push("/home/folderHouse/control/editar/"+t)},viewHouse(t){this.$router.push("/home/folderHouse/control/ver/"+t)},selectHouse(t){this.$router.push({name:"editControlGasto",params:{id:t.id_master,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}})},abrirModalComentario(t){this.dialogComentario=!0,this.house=t,this.id_vendedor=JSON.parse(sessionStorage.getItem("dataUser"))?JSON.parse(sessionStorage.getItem("dataUser"))[0].id:"",this.comentario=""},async guardarComentario(){this.$refs.frmComentario.validate()&&(this.loading=!0,this.$store.state.spiner=!0,await this.insertComentarioHouse({id_house:this.house.id,id_entities:this.id_vendedor,fecha:this.fecha,comentario:this.comentario}),this.dialogComentario=!this.dialogComentario,await this._getHouseListAll(),this.$store.state.spiner=!1,this.loading=!1)},handleClickRow(t,e){if(e.isExpanded){const e=this.expanded.findIndex(e=>e===t);this.expanded.splice(e,1)}else this.expanded.push(t)}}},fa=ga,va=Object(v["a"])(fa,ha,_a,!1,null,null,null),ba=va.exports,Ca=function(){var t=this,e=t._self._c;return e(r["a"],{attrs:{elevation:"0"}},[e(B["d"],{staticClass:"black white--text rounded-0"},[t._v("EXPEDIENTES HOUSE's")]),e(B["d"],[t._v("FILTRAR REGISTROS")]),e(B["c"],[e(c["a"],{ref:"frmFiltro"},[e(Lt["a"],{attrs:{items:t.$store.state.itemsMasterList,"item-text":"code_master","item-value":"id",label:"Exp. Máster",clearable:""},model:{value:t.$store.state.house_filtro.id_master,callback:function(e){t.$set(t.$store.state.house_filtro,"id_master",e)},expression:"$store.state.house_filtro.id_master"}}),e(Lt["a"],{attrs:{items:t.$store.state.itemsModality,"item-text":"name","item-value":"id",label:"Sentido",clearable:""},model:{value:t.$store.state.house_filtro.id_sentido,callback:function(e){t.$set(t.$store.state.house_filtro,"id_sentido",e)},expression:"$store.state.house_filtro.id_sentido"}}),e(Lt["a"],{attrs:{items:t.$store.state.itemsShipment,"item-text":"embarque","item-value":"id",label:"Tipo Embarque",clearable:"","return-object":""},on:{change:function(e){return t.activarPort(t.$store.state.house_filtro.id_tipo_embarque.id_transport)}},model:{value:t.$store.state.house_filtro.id_tipo_embarque,callback:function(e){t.$set(t.$store.state.house_filtro,"id_tipo_embarque",e)},expression:"$store.state.house_filtro.id_tipo_embarque"}}),e(Lt["a"],{attrs:{items:t.$store.state.itemsPortBegin,"item-text":"name","item-value":"id_port",label:"Origen",clearable:""},model:{value:t.$store.state.house_filtro.id_origen,callback:function(e){t.$set(t.$store.state.house_filtro,"id_origen",e)},expression:"$store.state.house_filtro.id_origen"}}),e(Lt["a"],{attrs:{items:t.$store.state.itemsPortEnd,"item-text":"name","item-value":"id_port",label:"Destino",clearable:""},model:{value:t.$store.state.house_filtro.id_destino,callback:function(e){t.$set(t.$store.state.house_filtro,"id_destino",e)},expression:"$store.state.house_filtro.id_destino"}}),e(Lt["a"],{attrs:{items:t.$store.state.clientes,"item-text":"namelong","item-value":"id",label:"Cliente del House",clearable:""},model:{value:t.$store.state.house_filtro.id_cliente,callback:function(e){t.$set(t.$store.state.house_filtro,"id_cliente",e)},expression:"$store.state.house_filtro.id_cliente"}}),e(p["a"],{attrs:{type:"date",label:"Fecha ETD",clearable:""},model:{value:t.$store.state.house_filtro.fecha_etd,callback:function(e){t.$set(t.$store.state.house_filtro,"fecha_etd",e)},expression:"$store.state.house_filtro.fecha_etd"}}),e(p["a"],{attrs:{type:"date",label:"Fecha ETA",clearable:""},model:{value:t.$store.state.house_filtro.fecha_eta,callback:function(e){t.$set(t.$store.state.house_filtro,"fecha_eta",e)},expression:"$store.state.house_filtro.fecha_eta"}})],1)],1),e(B["a"],[e(T["a"]),e(s["a"],{staticClass:"mx-1",attrs:{small:"",color:"success"},on:{click:function(e){return t.filtrar()}}},[t._v(" Aceptar ")]),e(s["a"],{staticClass:"mx-1",attrs:{small:"",color:"error"},on:{click:function(e){t.$store.state.house_filtrarData=!t.$store.state.house_filtrarData}}},[t._v(" Cancelar ")]),e(s["a"],{staticClass:"mx-1",attrs:{small:"",color:"default"},on:{click:function(e){return t.limpiar()}}},[t._v(" Limpiar ")])],1)],1)},ka=[],Sa={mixins:[tt["a"]],data(){return{}},methods:{...Object(_["b"])(["_getPortBegin","_getPortEnd","_getHouseListAll","_getTotalHouseListAll","listarHouse"]),async filtrar(){this.$store.state.spiner=!0,await this.listarHouse(this.$store.state.house_filtro),this.$store.state.spiner=!1,this.$store.state.house_filtrarData=!1},async activarPort(t){await this._getPortBegin({id_transport:t}),await this._getPortEnd({id_transport:t})},async limpiar(){this.$store.state.spiner=!0,this.$refs.frmFiltro.reset(),this.$store.state.house_filtro.pagina=1,this.$store.state.house_filtro.limite=10,await this._getTotalHouseListAll(),await this._getHouseListAll(),this.$store.state.house_filtrarData=!this.$store.state.house_filtrarData,this.$store.state.spiner=!1}}},ya=Sa,Ia=Object(v["a"])(ya,Ca,ka,!1,null,null,null),Pa=Ia.exports,xa={name:"listEntities",components:{listMasterCom:ba,FiltroHouse:Pa},data(){return{}},mounted(){this.$store.state.mainTitle="LISTA DE EXPEDIENTES HOUSE's"}},Ta=xa,$a=Object(v["a"])(Ta,pa,ma,!1,null,null,null),Ea=$a.exports,wa=function(){var t=this,e=t._self._c;return e("div",[e("controlMasterCom")],1)},Ma=[],Oa=function(){var t=this,e=t._self._c;return e(c["a"],{ref:"formControlHouse",attrs:{readonly:t.formControlHouseReadonly}},[e(l["a"],{attrs:{fluid:""}},[e(d["a"],[e(n["a"],{attrs:{cols:"12",md:"4"}},[e(r["a"],[e(B["c"],[e("dataGen")],1)],1),e(r["a"],{staticClass:"mt-5"},[e(B["c"],[e("dataEmbar",{attrs:{isFormActionsDisabled:t.formControlHouseReadonly}})],1)],1)],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(r["a"],[e(B["c"],[e("services",{attrs:{isFormActionsDisabled:t.formControlHouseReadonly}})],1)],1)],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(r["a"],[e(B["c"],[e("Bitacora",{attrs:{isFormActionsDisabled:t.formControlHouseReadonly}})],1)],1)],1)],1)],1),e("div",{staticClass:"text-center"},[e(V["a"],{attrs:{top:"","offset-y":"","content-class":"elevation-0"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(s["a"],t._g(t._b({attrs:{color:"success",dark:!t.formControlHouseReadonly,fixed:"",bottom:"",right:"",disabled:t.formControlHouseReadonly,loading:t.loadingBotonNotificaciones},on:{click:t.validarMenuNotificaciones}},"v-btn",o,!1),a),[e(I["a"],{staticStyle:{transform:"rotate(-45deg)"},attrs:{left:"",color:"black"}},[t._v(" mdi-send ")]),t._v(" NOTIFICACIONES ")],1)]}}])},[e(ee["a"],{directives:[{name:"show",rawName:"v-show",value:t.displayMenuNotificaciones,expression:"displayMenuNotificaciones"}],attrs:{color:"transparent"}},t._l(t.getItemsNotificaciones(),(function(a,o){return e(ae["a"],{key:o,staticClass:"px-0"},[e(J["c"],[e(s["a"],{attrs:{depressed:"",block:"",color:"primary"},on:{click:function(e){return t.sendNotificacion(a)}}},[t._v(" "+t._s(a.title)+" ")])],1)],1)})),1)],1)],1),e("div",{staticStyle:{position:"fixed",bottom:"16px",left:"16px"}},[e(Pe["a"],{attrs:{top:t.top,bottom:t.bottom,right:t.right,left:t.left,direction:t.direction,"open-on-hover":t.hover,transition:t.transition},scopedSlots:t._u([{key:"activator",fn:function(){return[e(s["a"],{attrs:{color:"info",dark:"",fab:""},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[t.fab?e(I["a"],[t._v(" mdi-close ")]):e(I["a"],[t._v(" mdi-tools ")])],1)]},proxy:!0}]),model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},["controlHouseVer"!=t.$route.name?e(s["a"],{attrs:{color:"success",block:"",dark:"","x-small":"",loading:t.loadingBotonGuardarHouse},on:{click:function(e){return t._setHouseEdit()}}},[t._v("GUARDAR CAMBIOS ")]):t._e(),"controlHouseVer"!=t.$route.name?e(s["a"],{attrs:{color:"red",block:"",dark:"","x-small":"",loading:t.loadingBotonEliminarHouse},on:{click:function(e){return t.eliminarHouse()}}},[t._v(" ELIMINAR ")]):t._e(),"controlHouseVer"==t.$route.name?e(s["a"],{attrs:{fab:"",large:"",dark:"",bottom:"",left:"",color:"info"},on:{click:function(e){return t.irAVerMaster()}}},[t._v(" Editar ")]):t._e()],1)],1),e(U["a"],{attrs:{persistent:"",width:"70%"},model:{value:t.abrirModalCuentasNotificacion,callback:function(e){t.abrirModalCuentasNotificacion=e},expression:"abrirModalCuentasNotificacion"}},[e(r["a"],[e(B["d"],{attrs:{"primary-title":""}},[t._v(" Seleccione las cuentas a utilizar ")]),e(B["c"],[e("p",{staticClass:"red--text"},[t._v(t._s(t.errorCuentas))]),e(te["a"],{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.$store.state.cuentas_pic,"item-key":"id","show-select":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),e(B["a"],[e(T["a"]),e(s["a"],{attrs:{color:"success",loading:t.loadingBotonNotificaciones},on:{click:function(e){return t.enviarNotificacion(t.notificacion)}}},[t._v("Enviar Notificación")]),e(s["a"],{attrs:{color:"danger"},on:{click:function(e){t.abrirModalCuentasNotificacion=!t.abrirModalCuentasNotificacion}}},[t._v("Cancelar")])],1)],1)],1)],1)},Fa=[],Aa=function(){var t=this,e=t._self._c;return e("div",[e("h3",[t._v("Datos y Servicios a Realizar")]),e(d["a"],{attrs:{dense:""}},[e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{readonly:"",label:"N° de Expedientes Master"},model:{value:t.$store.state.house_master_expediente,callback:function(e){t.$set(t.$store.state,"house_master_expediente",e)},expression:"$store.state.house_master_expediente"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{label:"Quote Asociado al House",items:t.$store.state.pricing.listQuotes,"item-text":"code","item-value":"id","search-input":t.searchHouseCotizacion,clearable:"",disabled:t.bloquearQuote},on:{"update:searchInput":function(e){t.searchHouseCotizacion=e},"update:search-input":function(e){t.searchHouseCotizacion=e},change:function(e){return t.asignarDatos()}},model:{value:t.$store.state.house_cotizacion,callback:function(e){t.$set(t.$store.state,"house_cotizacion",e)},expression:"$store.state.house_cotizacion"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{label:"Aduana Asociado al House",items:t.$store.state.aduana.listQuotes2,"item-text":"quote","item-value":"id","search-input":t.searchHouseCotizacionAduana,clearable:"","item-disabled":t.aduanaaprobada,disabled:t.bloquearQuote},on:{"update:searchInput":function(e){t.searchHouseCotizacionAduana=e},"update:search-input":function(e){t.searchHouseCotizacionAduana=e},change:function(e){return t.asignarDatosAduana()}},model:{value:t.$store.state.house_cotizacionaduana,callback:function(e){t.$set(t.$store.state,"house_cotizacionaduana",e)},expression:"$store.state.house_cotizacionaduana"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(Lt["a"],{attrs:{readonly:"",items:t.$store.state.itemsModality,"item-text":"name","item-value":"id",label:"Sentido"},on:{change:function(e){return t._getDataService()}},model:{value:t.$store.state.house_sentido,callback:function(e){t.$set(t.$store.state,"house_sentido",e)},expression:"$store.state.house_sentido"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(Lt["a"],{attrs:{readonly:"",items:t.$store.state.itemsShipment,"item-text":"embarque","item-value":"id",label:"Tipo de Embarque","return-object":""},on:{change:function(e){return t._activePort(t.$store.state.house_id_trasnport.id_transport)}},model:{value:t.$store.state.house_id_trasnport,callback:function(e){t.$set(t.$store.state,"house_id_trasnport",e)},expression:"$store.state.house_id_trasnport"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsIncoterms,"item-text":"name","item-value":"id",label:"Incoterms"},on:{change:function(e){return t._getDataService()}},model:{value:t.$store.state.house_incoterms,callback:function(e){t.$set(t.$store.state,"house_incoterms",e)},expression:"$store.state.house_incoterms"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsPortBegin,"item-text":"name","item-value":"id_port",label:"Origen",readonly:""},model:{value:t.$store.state.house_origen,callback:function(e){t.$set(t.$store.state,"house_origen",e)},expression:"$store.state.house_origen"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsPortEnd,"item-text":"name","item-value":"id_port",label:"Destino",readonly:""},model:{value:t.$store.state.house_destino,callback:function(e){t.$set(t.$store.state,"house_destino",e)},expression:"$store.state.house_destino"}})],1)],1),e(U["a"],{attrs:{"max-width":"400"},model:{value:t.$store.state.modalServices_manualMode,callback:function(e){t.$set(t.$store.state,"modalServices_manualMode",e)},expression:"$store.state.modalServices_manualMode"}},[e(r["a"],[e(B["d"],{staticClass:"text-h6"},[t._v(" Agregar Servicio Manual "),e(T["a"]),e(s["a"],{attrs:{icon:"",color:"red"},on:{click:function(e){t.$store.state.modalServices_manualMode=!t.$store.state.modalServices_manualMode}}},[e(I["a"],[t._v("mdi-close")])],1)],1),e(B["c"],[e(c["a"],{ref:"formNewService"},[e(l["a"],[e(d["a"],[e(n["a"],{attrs:{cols:"12"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsBegEndList,"item-text":"name","item-value":"id",label:"Ubicación/Tramo",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.house_service_id_begend,callback:function(e){t.house_service_id_begend=e},expression:"house_service_id_begend"}})],1),e(n["a"],{attrs:{cols:"12"}},[e(p["a"],{attrs:{label:"Nombre Servicio",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.house_service_name,callback:function(e){t.house_service_name=e},expression:"house_service_name"}})],1)],1)],1)],1)],1),e(B["a"],[e(T["a"]),e(s["a"],{attrs:{color:"red",rounded:"",dark:""},on:{click:t.cancelNewService}},[t._v("CANCELAR ")]),e(s["a"],{staticClass:"ml-2",attrs:{color:"success",rounded:"",dark:""},on:{click:t.setNewService}},[t._v("ACEPTAR ")])],1)],1)],1),e(U["a"],{staticClass:"classDialog",attrs:{scrollable:"",persistent:"","max-width":"50%",transition:"dialog-transition"},model:{value:t.dialogCostos,callback:function(e){t.dialogCostos=e},expression:"dialogCostos"}},[e(r["a"],{attrs:{cass:"px-5"}},[e(B["d"],{attrs:{"primary-title":""}},[t._v(" OPCIÓN SOBRE LOS COSTOS "),e(T["a"]),e(s["a"],{attrs:{icon:"",color:"default"},on:{click:function(e){t.dialogCostos=!t.dialogCostos}}},[e(I["a"],[t._v("mdi-close")])],1)],1),e(B["c"],[e(Lt["a"],{attrs:{items:t.optionCostos,"item-value":"id"},on:{change:t.validarExistePagosMaster},model:{value:t.id_opcion,callback:function(e){t.id_opcion=e},expression:"id_opcion"}})],1),e("p",{staticClass:"red--text mx-5 my-0"},[t._v(" "+t._s(t.textValidacionPago)+" ")]),e(B["a"],[e(T["a"]),e(s["a"],{staticClass:"mx-1",attrs:{small:"",color:"success",disabled:t.activarBtnContinuar},on:{click:t.asociarCotizacionP}},[t._v(" ASOCIAR COTIZACIÓN ")]),e(s["a"],{staticClass:"mx-1",attrs:{small:"",color:"error"},on:{click:function(e){t.dialogCostos=!t.dialogCostos}}},[t._v(" Cancelar ")])],1)],1)],1),e(U["a"],{staticClass:"classDialog",attrs:{scrollable:"",persistent:"","max-width":"50%",transition:"dialog-transition"},model:{value:t.dialogCostosAduana,callback:function(e){t.dialogCostosAduana=e},expression:"dialogCostosAduana"}},[e(r["a"],{attrs:{cass:"px-5"}},[e(B["d"],{attrs:{"primary-title":""}},[t._v(" OPCIÓN SOBRE LOS COSTOS "),e(T["a"]),e(s["a"],{attrs:{icon:"",color:"default"},on:{click:function(e){t.dialogCostos=!t.dialogCostos}}},[e(I["a"],[t._v("mdi-close")])],1)],1),e(B["c"],[e(Lt["a"],{attrs:{items:t.optionCostos,"item-value":"id"},on:{change:t.validarExistePagosMaster},model:{value:t.id_opcion,callback:function(e){t.id_opcion=e},expression:"id_opcion"}})],1),e("p",{staticClass:"red--text mx-5 my-0"},[t._v(" "+t._s(t.textValidacionPago)+" ")]),e(B["a"],[e(T["a"]),e(s["a"],{staticClass:"mx-1",attrs:{small:"",color:"success",disabled:t.activarBtnContinuar},on:{click:t.asociarCotizacionA}},[t._v(" ASOCIAR COTIZACIÓN ")]),e(s["a"],{staticClass:"mx-1",attrs:{small:"",color:"error"},on:{click:function(e){t.dialogCostos=!t.dialogCostos}}},[t._v(" Cancelar ")])],1)],1)],1)],1)},Na=[],Da={name:"dataGen",data(){return{searchHouseCotizacion:"",searchHouseCotizacionAduana:"",house_service_id_begend:"",house_service_name:"",bloquearQuote:!1,dataAprobar:{},id_opcion:"",activarBtnContinuar:!1,dialogCostos:!1,dialogCostosAduana:!1,textValidacionPago:"",optionCostos:[{id:"0",text:"No hacer ninguna acción"},{id:"1",text:"Reemplazar los costos, ya existente de proveedores"},{id:"2",text:"Sumar los nuevos costos, a los costos ya existentes de proveedores"}]}},async mounted(){this.$store.state.spiner=!0,await Promise.all([this._getModality(),this._getShipment(),this._getIncoterms(),this._getnroMaster(),this._getAgents(),this._getConsigners(),this._getNotify(),this._getColoaders(),this._getAirlines(),this._getNavieras(),this._getMotonave(),this._getContainers(),this._getFleteCon(),this._getCoinsList(),this._validaData(),this._getProveedor(),this._getBegEndList(),this._getHouseContainers({id:this.$route.params.id})]),console.log("house_cotizacion",this.$store.state.house_cotizacion),this.$store.state.house_cotizacion||this.$store.state.house_cotizacionaduana?await this.getQuoteNoAsignadoHouse():(await this.ListarMontosFinalesQuoteMONGODB(),await this.ListarMontosFinalesAduanaMONGODB()),this.$store.state.house_id_coins=this.$store.state.itemsCoinsList.filter(t=>"USD"===t.symbol)[0].id,this.$store.state.spiner=!1,this.$forceUpdate()},computed:{...Object(_["c"])(["itemsModality","itemsShipment","itemsPortBegin","itemsPortEnd","itemsIncoterms","itemsServicesBegin","itemsBitacoraList","drawer"])},methods:{...Object(_["b"])(["_getModality","_getShipment","_getPortBegin","_getPortEnd","_getIncoterms","_getServicesBegin","_getBitacoraList","_getBitacoraLineal","_getnroMaster","getQuoteDataNoAsignadaHouse","_getnroMaster","_getAgents","_getConsigners","_getNotify","_getColoaders","_getAirlines","_getNavieras","_getMotonave","_getContainers","_getFleteCon","_getCoinsList","_getHouseContainers","_getProveedor","_getHouseContainers","getQuoteNoAsignadoHouse","_getBegEndList","_getBitacoraLineal","ListarMontosFinalesQuoteMONGODB","ListarMontosFinalesAduanaMONGODB","aprobarCotizacion","aprobarCotizacionAduana"]),isDisabled(t){return!t.porasignar},aduanaaprobada(t){return t.aprobadoflag},async validarExistePagosMaster(){if(this.activarBtnContinuar=!0,this.textValidacionPago="","1"==this.id_opcion){var t={method:"get",url:"https://api.agentedecargaonline.com/validar_existe_pago_master",headers:{"Content-Type":"application/json","auth-token":sessionStorage.getItem("auth-token")},params:{id:this.$store.state.house_cotizacion}};let e=await A()(t).then(t=>t.data);return this.activarBtnContinuar=e.estadoflag,void(this.textValidacionPago=e.mensaje)}this.activarBtnContinuar=!1},async asignarDatos(){this.dataAprobar=this.$store.state.pricing.listQuotes.filter(t=>t.id==this.$store.state.house_cotizacion)[0],this.dialogCostos=!0},async asignarDatosAduana(){this.dataAprobar=this.$store.state.aduana.listQuotes2.filter(t=>t.id==this.$store.state.house_cotizacionaduana)[0],console.log(this.dataAprobar),this.dialogCostosAduana=!0},async asociarCotizacionP(){let t=this.dataAprobar.listIngresosInstructivo.filter(t=>"TOTAL"===t.descripcion)[0].valor,e=this.dataAprobar.listIngresosInstructivo.filter(t=>"TOTAL"===t.descripcion)[0].igv;await this.aprobarCotizacion({id_quote:this.$store.state.house_cotizacion,nuevoexpediente:!1,id_exp:this.$store.state.house_master,fecha_validez:"",totalIngreso:t,igvIngreso:e,valorIngreso:t,listCostosInstructivo:this.dataAprobar.listCostosInstructivo,listVentasInstructivo:this.dataAprobar.listIngresosInstructivo,id_house:this.$route.params.id,id_opcion:this.id_opcion})},async asociarCotizacionA(){let t=this.dataAprobar.listIngresosInstructivo.filter(t=>"TOTAL"===t.descripcion)[0].valor,e=this.dataAprobar.listIngresosInstructivo.filter(t=>"TOTAL"===t.descripcion)[0].igv;await this.aprobarCotizacionAduana({id_quote:this.$store.state.house_cotizacionaduana,nuevoexpediente:!1,id_exp:this.$store.state.house_master,fecha_validez:"",totalIngreso:t,igvIngreso:e,valorIngreso:t,listCostosInstructivo:this.dataAprobar.listCostosInstructivo,listVentasInstructivo:this.dataAprobar.listIngresosInstructivo,id_house:this.$route.params.id,id_opcion:this.id_opcion})},async _validaData(){var t=this;if(t.$route.params.id){var e={id:t.$route.params.id,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},a={method:"get",url:"https://api.agentedecargaonline.com/house_ver",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},params:e};await A()(a).then((async function(e){sessionStorage.setItem("auth-token",e.data.token),t.$store.state.copy_house=e.data.data[0],t.$store.state.dataHouse_transporte=e.data.data[0].id_transport,t.$store.state.house_origen=e.data.data[0].id_port_begin,t.$store.state.house_destino=e.data.data[0].id_port_end,t.$store.state.house_sentido=e.data.data[0].id_modality,t.$store.state.house_id_trasnport=e.data.data[0].id_shipment,t.$store.state.house_incoterms=e.data.data[0].id_incoterms,t.$store.state.house_cotizacion=e.data.data[0].id_cot,t.$store.state.house_cotizacionaduana=e.data.data[0].id_quoteaduana,t.id_transport=e.data.data[0].id_transport,await t._getPortBegin({id_transport:e.data.data[0].id_transport,id:e.data.data[0].id_port_begin}),await t._getPortEnd({id_transport:e.data.data[0].id_transport,id:e.data.data[0].id_port_end}),t.$store.state.house_origen=e.data.data[0].id_port_begin,t.$store.state.house_destino=e.data.data[0].id_port_end,t.$store.state.house_expediente=e.data.data[0].code_house,t.$store.state.house_master=e.data.data[0].id_master,t.$store.state.house_master_expediente=e.data.data[0].code_master,t.$store.state.house_id_agente=e.data.data[0].id_proveedor,t.$store.state.house_id_consigner=e.data.data[0].id_consigner,t.$store.state.house_id_notify=e.data.data[0].id_notify,t.$store.state.house_id_airlines=e.data.data[0].id_aerolinea,t.$store.state.house_id_coloader=e.data.data[0].id_coloader,t.$store.state.house_id_naviera=e.data.data[0].id_naviera,t.$store.state.house_blmaster=e.data.data[0].nro_hbl,t.$store.state.house_id_motonave=e.data.data[0].id_motonave,t.$store.state.house_viaje=e.data.data[0].nro_viaje,t.$store.state.house_bultos=e.data.data[0].bultos,t.$store.state.house_peso=e.data.data[0].peso,t.$store.state.house_volumen=e.data.data[0].volumen,t.$store.state.house_id_condicion=e.data.data[0].id_conditions,t.$store.state.house_id_coins=e.data.data[0].id_moneda,t.$store.state.house_monto=e.data.data[0].monto,t.$store.state.house_id=e.data.data[0].id,t.$store.state.house_id_consigner_real=e.data.data[0].id_consigner_real,t.$store.state.itemsHouseContainers=e.data.data[0].itemshousecontainers;const a=e.data.data[0].id_cot,o=e.data.data[0].id_quoteaduana;t.bloquearQuote=!(!a&&!o),await t._getServicesBegin(),t.$store.state.house_enlace_tracking=e.data.data[0].token_rastreo?"https://aco.agentedecargaonline.com/tracking/"+e.data.data[0].token_rastreo:""})).catch((function(t){console.log(t)})),t.$store.state.spiner=!1,await t._getBitacoraLineal({id_modalidad:t.$store.state.house_sentido,id_shipment:t.$store.state.house_id_trasnport,id_incoterms:t.$store.state.house_incoterms})}},async _activePort(t){await this._getPortBegin({id_transport:t}),await this._getPortEnd({id_transport:t}),1==this.$store.state.master_id_trasnport.id?this.$store.state.embar_title_nacn="Aerolinea":2==this.$store.state.master_id_trasnport.id?this.$store.state.embar_title_nacn="Naviera":3==this.$store.state.master_id_trasnport.id?this.$store.state.embar_title_nacn="Coloader":this.$store.state.embar_title_nacn="Aerolinea/Coloader/Naviera"},_getDataService(){this._getServicesBegin()},setNewService(){var t=this;if(t.$refs.formNewService.validate()){const e=t.$store.state.itemsBegEndList.find(e=>e.id===t.house_service_id_begend)||{},a={id_begend:t.house_service_id_begend,namebegend:e.name,position_begend:e.position_begend,nameservice:t.house_service_name,status:0};let o=null,i=t.$store.state.itemsHouseServices.findIndex(t=>"IMPUESTOS"==t.nameservice.toUpperCase());-1!==i&&(o=t.$store.state.itemsHouseServices[i],t.$store.state.itemsHouseServices.splice(i,1)),t.$store.state.itemsHouseServices.push(a),null!==o&&t.$store.state.itemsHouseServices.push(o),t.$store.state.modalServices_manualMode=!1}t.$refs.formNewService.reset()},cancelNewService(){this.$refs.formNewService.reset(),this.$store.state.modalServices_manualMode=!this.$store.state.modalServices_manualMode}},computed:{...Object(_["c"])(["dataHouse_transporte"])}},La=Da,ja=Object(v["a"])(La,Aa,Na,!1,null,null,null),Ra=ja.exports,Ba=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mb-10"},[e("h3",[t._v("Datos del Embarque")]),e(d["a"],{attrs:{dense:""}},[e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsProveedorRolShipper,"item-text":"namelong","item-value":"id",label:"Proveedor"},model:{value:t.$store.state.house_id_agente,callback:function(e){t.$set(t.$store.state,"house_id_agente",e)},expression:"$store.state.house_id_agente"}},[e(I["a"],{staticClass:"btn__add",attrs:{slot:"append",color:"primary",disabled:t.isFormActionsDisabled},nativeOn:{click:function(e){return t._callModalEntitie(1)}},slot:"append"},[t._v(" mdi-plus ")])],1)],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.clientes,"item-text":"namelong","item-value":"id",label:"Consigne HBL"},model:{value:t.$store.state.house_id_consigner_real,callback:function(e){t.$set(t.$store.state,"house_id_consigner_real",e)},expression:"$store.state.house_id_consigner_real"}},[e(I["a"],{staticClass:"btn__add",attrs:{slot:"append",color:"primary",disabled:t.isFormActionsDisabled},nativeOn:{click:function(e){return t._callModalEntitie(11)}},slot:"append"},[t._v(" mdi-plus ")])],1)],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.clientes,"item-text":"namelong","item-value":"id",label:"Cliente HBL"},model:{value:t.$store.state.house_id_consigner,callback:function(e){t.$set(t.$store.state,"house_id_consigner",e)},expression:"$store.state.house_id_consigner"}},[e(I["a"],{staticClass:"btn__add",attrs:{slot:"append",color:"primary",disabled:t.isFormActionsDisabled},nativeOn:{click:function(e){return t._callModalEntitie(11)}},slot:"append"},[t._v(" mdi-plus ")])],1)],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.clientes,"item-text":"namelong","item-value":"id",label:"Notify HBL"},model:{value:t.$store.state.house_id_notify,callback:function(e){t.$set(t.$store.state,"house_id_notify",e)},expression:"$store.state.house_id_notify"}},[e(I["a"],{staticClass:"btn__add",attrs:{slot:"append",color:"primary",disabled:t.isFormActionsDisabled},nativeOn:{click:function(e){return t._callModalEntitie(11)}},slot:"append"},[t._v(" mdi-plus ")])],1)],1),t.mostrarAerolineaYGuia?e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.itemsAirlines,"item-text":"name","item-value":"id",label:"Aerolinea"},model:{value:t.$store.state.house_id_airlines,callback:function(e){t.$set(t.$store.state,"house_id_airlines",e)},expression:"$store.state.house_id_airlines"}})],1):t._e(),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.itemsColoaders,"item-text":"namelong","item-value":"id",label:"Coloader"},model:{value:t.$store.state.house_id_coloader,callback:function(e){t.$set(t.$store.state,"house_id_coloader",e)},expression:"$store.state.house_id_coloader"}},[e(I["a"],{staticClass:"btn__add",attrs:{slot:"append",color:"primary",disabled:t.isFormActionsDisabled},nativeOn:{click:function(e){return t._callModalEntitie(17)}},slot:"append"},[t._v(" mdi-plus ")])],1)],1),t.mostrarAerolineaYGuia?t._e():e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsProveedorRolNaviera,"item-text":"namelong","item-value":"id",label:"Naviera"},model:{value:t.$store.state.house_id_naviera,callback:function(e){t.$set(t.$store.state,"house_id_naviera",e)},expression:"$store.state.house_id_naviera"}},[e(I["a"],{staticClass:"btn__add",attrs:{slot:"append",color:"primary",disabled:t.isFormActionsDisabled},nativeOn:{click:function(e){return t._callModalEntitie(2)}},slot:"append"},[t._v(" mdi-plus ")])],1)],1),e(n["a"],{attrs:{cols:"12",md:"3"}},[e(p["a"],{attrs:{label:"N° BL House"},model:{value:t.$store.state.house_blmaster,callback:function(e){t.$set(t.$store.state,"house_blmaster",e)},expression:"$store.state.house_blmaster"}})],1),e(n["a"],{attrs:{cols:"12",md:"3"}},[e(p["a"],{attrs:{label:"Viaje"},model:{value:t.$store.state.house_viaje,callback:function(e){t.$set(t.$store.state,"house_viaje",e)},expression:"$store.state.house_viaje"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.itemsMotonave,"item-text":"name","item-value":"id",label:"Motonave"},model:{value:t.$store.state.house_id_motonave,callback:function(e){t.$set(t.$store.state,"house_id_motonave",e)},expression:"$store.state.house_id_motonave"}})],1),t.mostrarContenedor?t._e():e(n["a"],{attrs:{cols:"12",md:"3",lg:"3",xl:"3"}},[e(p["a"],{attrs:{type:"number",label:"Bultos"},model:{value:t.$store.state.house_bultos,callback:function(e){t.$set(t.$store.state,"house_bultos",e)},expression:"$store.state.house_bultos"}})],1),t.mostrarContenedor?t._e():e(n["a"],{attrs:{cols:"12",md:"3",lg:"3",xl:"3"}},[e(p["a"],{attrs:{type:"number",suffix:"kg",label:"Peso"},model:{value:t.$store.state.house_peso,callback:function(e){t.$set(t.$store.state,"house_peso",e)},expression:"$store.state.house_peso"}})],1),t.mostrarContenedor?t._e():e(n["a"],{attrs:{cols:"12",md:"3",lg:"3",xl:"3"}},[e(p["a"],{attrs:{type:"number",suffix:"m3",label:"Volumen"},model:{value:t.$store.state.house_volumen,callback:function(e){t.$set(t.$store.state,"house_volumen",e)},expression:"$store.state.house_volumen"}})],1),e(n["a"],{attrs:{cols:"12",md:"3",lg:"3",xl:"3"}},[e(Lt["a"],{attrs:{items:t.itemsFleteCon,"item-text":"name","item-value":"id",label:"Condición"},model:{value:t.$store.state.house_id_condicion,callback:function(e){t.$set(t.$store.state,"house_id_condicion",e)},expression:"$store.state.house_id_condicion"}})],1),e(n["a"],{attrs:{cols:"12",md:"3",lg:"3",xl:"3"}},[e(Lt["a"],{attrs:{items:t.itemsCoinsList,"item-text":"symbol","item-value":"id",label:"Moneda"},model:{value:t.$store.state.house_id_coins,callback:function(e){t.$set(t.$store.state,"house_id_coins",e)},expression:"$store.state.house_id_coins"}})],1),e(n["a"],{attrs:{cols:"12",md:"3",lg:"3",xl:"3"}},[e(p["a"],{attrs:{type:"number",label:"Monto"},model:{value:t.$store.state.house_monto,callback:function(e){t.$set(t.$store.state,"house_monto",e)},expression:"$store.state.house_monto"}})],1),t.lstHouse.length>0?e(n["a"],{attrs:{cols:"12"}},[e(u["a"],{attrs:{items:t.lstHouse,label:"Cambiar de House","item-text":"house","return-object":""},on:{change:t.cambiarHouse},model:{value:t.idHouse,callback:function(e){t.idHouse=e},expression:"idHouse"}})],1):t._e()],1),e(d["a"],[t.mostrarContenedor?e(n["a"],{attrs:{cols:"12",md:"3",lg:"3",xl:"3"}},[e(Lt["a"],{attrs:{items:t.itemsContainers,"item-text":"name","item-value":"id","return-object":"",label:"Tipo de contenedor"},model:{value:t.$store.state.house_id_containers,callback:function(e){t.$set(t.$store.state,"house_id_containers",e)},expression:"$store.state.house_id_containers"}})],1):t._e(),t.mostrarContenedor?e(n["a"],{attrs:{cols:"12",md:"3",lg:"3",xl:"3"}},[e(p["a"],{attrs:{label:"N°. Contenedor"},model:{value:t.$store.state.house_nro_containers,callback:function(e){t.$set(t.$store.state,"house_nro_containers",e)},expression:"$store.state.house_nro_containers"}})],1):t._e(),t.mostrarContenedor?e(n["a"],{attrs:{cols:"12",md:"3",lg:"3",xl:"3"}},[e(p["a"],{attrs:{label:"N°. Precinto"},model:{value:t.$store.state.house_nro_precinto,callback:function(e){t.$set(t.$store.state,"house_nro_precinto",e)},expression:"$store.state.house_nro_precinto"}})],1):t._e(),t.mostrarContenedor?e(n["a"],{attrs:{cols:"12",md:"3",lg:"3",xl:"3"}},[e(p["a"],{attrs:{label:"Cant."},model:{value:t.$store.state.house_cantidad,callback:function(e){t.$set(t.$store.state,"house_cantidad",e)},expression:"$store.state.house_cantidad"}},[e(I["a"],{staticClass:"btn__add",attrs:{slot:"append",color:"green"},nativeOn:{click:function(e){return t._setHouseContainers(t.$store.state.house_id_containers.id,t.$store.state.house_id_containers.name,t.$store.state.house_nro_containers,t.$store.state.house_nro_precinto,t.$store.state.house_cantidad)}},slot:"append"},[t._v(" mdi-plus ")])],1)],1):t._e(),t.mostrarContenedor?e(n["a"],{attrs:{cols:"12"}},[e(jt["a"],{attrs:{"fixed-header":"",height:"180px"},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Nombre")]),e("th",{staticClass:"text-left"},[t._v("N°. Contenedor")]),e("th",{staticClass:"text-left"},[t._v("N°. Precinto")]),e("th",{staticClass:"text-left"},[t._v("Cantidad")]),e("th",{staticClass:"text-left"},[t._v("Acción")])])]),e("tbody",t._l(t.$store.state.itemsHouseContainers,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.nro_containers))]),e("td",[t._v(t._s(a.nro_precinto))]),e("td",[t._v(t._s(a.quantity))]),e("td",[e(I["a"],{staticClass:"btn__add",attrs:{dense:"",color:"red"},nativeOn:{click:function(e){return t._deleteContainers(a.id)}}},[t._v("mdi-delete")])],1)])})),0)]},proxy:!0}],null,!1,3760276406)})],1):t._e()],1)],1)},Ua=[],Ga={name:"dataEmbar",props:{isFormActionsDisabled:Boolean},data(){return{itemsAgente:[],lstHouse:[],idHouse:null}},async mounted(){this.limpiarData(),await Promise.all([this._getProveedor(),this._getProveedorRolShipper(),this._getProveedorRolNaviera(),this.cargarClientes(),this.cargarHousesAsociados()])},computed:{...Object(_["c"])(["itemsCoinsList","itemsAgents","itemsConsigners","itemsNotify","itemsColoaders","itemsAirlines","itemsNavieras","itemsMotonave","itemsContainers","itemsFleteCon","datanroMaster","itemsProveedorList","itemsShipment"]),mostrarContenedor(){let t=this.itemsShipment.find(t=>t.id==this.$store.state.house_id_trasnport);return t&&"FCL"===t.code},mostrarAerolineaYGuia(){let t=this.itemsShipment.find(t=>t.id==this.$store.state.house_id_trasnport);return t&&"Aéreo"===t.code},mostrarContenedor(){let t=this.itemsShipment.find(t=>t.id==this.$store.state.house_id_trasnport);return t&&"FCL"===t.code}},methods:{...Object(_["b"])(["_getnroMaster","_getAgents","_getConsigners","_getNotify","_getColoaders","_getAirlines","_getNavieras","_getMotonave","_getContainers","_getFleteCon","_getCoinsList","_getHouseContainers","_getProveedor","cargarClientes","_getProveedorRolShipper","_getProveedorRolNaviera"]),cleanData(){this.$store.state.house_cantidad=""},cargarHousesAsociados(){let t=this;var e={method:"get",url:"https://api.agentedecargaonline.com/obtener_house_master_asociados",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},params:{id:t.$route.params.id}};A()(e).then((function(e){let a=e.data;a.estadoflag&&(console.log(a),t.lstHouse=a.data)})).catch((function(t){console.log(t)}))},cambiarHouse(t){console.log(t),at.a.fire({icon:"question",title:"¿Cambiar de House?",text:"Desea Ir A Editar el House: "+t.house,allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,confirmButtonText:"Si Cambiar",cancelButtonText:"Cancelar",cancelButtonColor:"red",showCancelButton:!0}).then(e=>{e.isConfirmed&&(this.$router.push({name:"controlHouseEditar",params:{id:t.id}}),setTimeout(()=>{window.location.reload()},100))})},_deleteContainers(t){var e=this,a={id:t},o={method:"post",url:"https://api.agentedecargaonline.com/deleteContainers",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};A()(o).then((function(t){200==t.data.status&&e._getHouseContainers({id:e.$route.params.id})})).catch((function(t){console.log(t)}))},_setHouseContainers(t,e,a,o,i){var s=this,r={id_house:s.$route.params.id,id_containers:t,nro_containers:a,nro_precinto:o,quantity:i,status:1},n={method:"post",url:"https://api.agentedecargaonline.com/setHouseContainers",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:r};A()(n).then((function(t){200==t.data.status&&(s._getHouseContainers({id:s.$route.params.id}),s.cleanData())})).catch((function(t){console.log(t)}))},async _validaData(){var t=this;t.$route.params.id&&await this._getHouseContainers({vm:this.$route.params.id})},_callModalEntitie(t){this.$store.state.id_role_actual=t,1==t?this.$store.state.modalAgente=!this.$store.state.modalAgente:11==t?this.$store.state.modalEntitie=!this.$store.state.modalEntitie:17==t?this.$store.state.modalColoader=!this.$store.state.modalColoader:2==t&&(this.$store.state.modalNaviera=!this.$store.state.modalNaviera)},_setDataContainers(t,e,a){this.$store.state.master_itemsContainers.push({id:t,name:e,nro_container:nrocontainer,nro_precinto:nroprecinto,cantidad:a})},_delContainers(t){this.$store.state.master_itemsContainers.splice(t,1)},limpiarData(){let t=this;t.$store.state.house_id_agente="",t.$store.state.house_id_consigner="",t.$store.state.house_id_notify="",t.$store.state.house_id_airlines="",t.$store.state.house_id_coloader="",t.$store.state.house_id_agente="",t.$store.state.house_id_naviera="",t.$store.state.house_blmaster="",t.$store.state.house_id_motonave="",t.$store.state.house_viaje="",t.$store.state.house_bultos="",t.$store.state.house_peso="",t.$store.state.house_volumen="",t.$store.state.house_id_condicion="",t.$store.state.house_id_coins="",t.$store.state.house_monto="",t.$store.state.house_id=""}}},Ha=Ga,Ja=(a("3cbe"),Object(v["a"])(Ha,Ba,Ua,!1,null,"76528a15",null)),Va=Ja.exports,za=a("2e4b"),qa=a("b73d"),Ka=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"min-height":"620px"}},[e("h3",[t._v("Estatus del embarque")]),e(l["a"],{staticStyle:{padding:"0"}},[e(d["a"],{attrs:{dense:""}},[e(n["a"],{attrs:{cols:"12",md:"12"}},[e(Lt["a"],{attrs:{"append-outer-icon":"mdi-plus",items:t.$store.state.itemsBitacoraLineal,"item-text":"name","item-value":"id",label:"Estatus del embarque"},on:{"click:append-outer":t.abrirRegistroBitacora},scopedSlots:t._u([{key:"item",fn:function({item:a}){return[e(Re["a"],{staticClass:"text-h5 font-weight-light white--text",attrs:{color:t.existeEnBitacora(a)?"bg-selected":"indigo"}},[t._v(" "+t._s(t.$store.state.itemsBitacoraLineal.indexOf(a)+1)+" ")]),e(J["a"],{staticClass:"ml-3"},[e(J["c"],{domProps:{textContent:t._s(a.name)}})],1)]}}]),model:{value:t.$store.state.bitacora_id_bitacora,callback:function(e){t.$set(t.$store.state,"bitacora_id_bitacora",e)},expression:"$store.state.bitacora_id_bitacora"}})],1),e(n["a"],{staticStyle:{width:"120px"},attrs:{cols:"12",md:"12"}},[t.$store.state.bitacora_id_bitacora?e(Lt["a"],{attrs:{items:t.ObtenerComentariosPredifinidos(),"item-text":"descripcion","item-value":"id",label:"Seleccione un comentario predefinido","content-class":"custom-autocomplete-menu","return-object":""},on:{change:t.activarComentarioFlag},scopedSlots:t._u([{key:"item",fn:function({item:a,on:o,attrs:i}){return[e(ae["a"],t._g(t._b({},"v-list-item",i,!1),o),[e(J["a"],{staticStyle:{width:"120px"}},[e(J["c"],{staticClass:"wrap-text"},[t._v(" "+t._s(a.descripcion)+" ")])],1)],1)]}}],null,!1,4273833920),model:{value:t.$store.state.bitacora_comentario_predefinido,callback:function(e){t.$set(t.$store.state,"bitacora_comentario_predefinido",e)},expression:"$store.state.bitacora_comentario_predefinido"}}):t._e()],1),t.$store.state.bitacora_comentario_flag?e(n["a"],{attrs:{cols:"12",md:"12"}},[e(p["a"],{attrs:{label:"Comentario",id:"txtBitacoraComentario"},model:{value:t.$store.state.bitacora_comentario,callback:function(e){t.$set(t.$store.state,"bitacora_comentario",e)},expression:"$store.state.bitacora_comentario"}})],1):t._e(),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(U["a"],{ref:"dialog",attrs:{"return-value":t.date,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(p["a"],t._g(t._b({attrs:{label:"Fecha","prepend-icon":"mdi-calendar",readonly:"",disabled:t.isFormActionsDisabled},model:{value:t.$store.state.bitacora_fecha,callback:function(e){t.$set(t.$store.state,"bitacora_fecha",e)},expression:"$store.state.bitacora_fecha"}},"v-text-field",o,!1),a))]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[e(za["a"],{attrs:{scrollable:""},model:{value:t.$store.state.bitacora_fecha,callback:function(e){t.$set(t.$store.state,"bitacora_fecha",e)},expression:"$store.state.bitacora_fecha"}},[e(T["a"]),e(s["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){t.modal=!1}}},[t._v(" Cancel ")]),e(s["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dialog.save(t.$store.state.bitacora_fecha)}}},[t._v(" OK ")])],1)],1)],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e("p",{staticClass:"mb-1"},[t._v("Visible para cliente")]),e(qa["a"],{staticClass:"mt-0",attrs:{disabled:t.isFormActionsDisabled},model:{value:t.$store.state.bitacora_visible_cliente,callback:function(e){t.$set(t.$store.state,"bitacora_visible_cliente",e)},expression:"$store.state.bitacora_visible_cliente"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(s["a"],{attrs:{color:"primary",block:"",loading:t.loadingBotonBitacora,small:""},on:{click:t._setBitacora}},[t._v("Agregar")])],1)],1),e(d["a"],[e(n["a"],{attrs:{cols:"12"}},[e(jt["a"],{attrs:{dense:"","fixed-header":"",height:"400px"},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Nombre")]),e("th",{staticClass:"text-left"},[t._v("Comentario")]),e("th",{staticClass:"text-left"},[t._v("Fecha")]),e("th",{staticClass:"text-left"},[t._v("Visible/No Visible")]),e("th",{staticClass:"text-left"},[t._v("Acción")])])]),e("tbody",t._l(t.$store.state.itemsBitacora,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.namebitacora))]),e("td",[t._v(t._s(a.comentario))]),e("td",[t._v(t._s(a.date))]),e("td",[e(qa["a"],{attrs:{dense:"",color:"primary",disabled:t.isFormActionsDisabled},on:{click:function(e){return t._changeStatusVisibleBitacora(a)}},model:{value:a.visible_cliente,callback:function(e){t.$set(a,"visible_cliente",e)},expression:"item.visible_cliente"}})],1),e("td",{staticClass:"text-center"},[e(I["a"],{staticClass:"btn_add",attrs:{dense:"",color:"red",disabled:t.isFormActionsDisabled},nativeOn:{click:function(e){return t._deleteBitacora(a.id)}}},[t._v("mdi-delete")])],1)])})),0)]},proxy:!0}])})],1)],1),e(d["a"],{staticClass:"align-end"},[e(n["a"],{attrs:{cols:"6"}},[e(s["a"],{attrs:{color:"primary",block:"",small:"",disabled:t.isBotonTrackingDisabled,loading:t.loadingBotonTracking},on:{click:t._generateTrackingToken}},[t._v("Generar Enlace Tracking")])],1),e(n["a"],[e(p["a"],{attrs:{label:"",readonly:"","hide-details":""},model:{value:t.$store.state.house_enlace_tracking,callback:function(e){t.$set(t.$store.state,"house_enlace_tracking",e)},expression:"$store.state.house_enlace_tracking"}},[e(I["a"],{staticClass:"btn_add",attrs:{slot:"append",color:"secondary"},nativeOn:{click:function(e){return t._copyEnlaceTracking(t.$store.state.house_enlace_tracking)}},slot:"append"},[t._v(" mdi-content-copy ")])],1)],1)],1)],1),e(U["a"],{attrs:{scrollable:"",persistent:"","max-width":"70%",transition:"dialog-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(r["a"],[t.id?e(B["d"],{attrs:{"primary-title":""}},[t._v(" Editar Status ")]):e(B["d"],{attrs:{"primary-title":""}},[t._v(" Agregar Status ")]),e(B["c"],[e(c["a"],{ref:"frmStatus"},[e(d["a"],[e(n["a"],{attrs:{cols:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.pricing.listModality,label:"Sentido*","item-text":"name","item-value":"id",rules:[t=>!!t||"Dato Requerido"]},on:{change:function(e){return t.obtenerOrden()}},model:{value:t.id_modality,callback:function(e){t.id_modality=e},expression:"id_modality"}})],1),e(n["a"],{attrs:{cols:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.pricing.listShipment,label:"Tipo de Embarque*","item-text":"embarque","item-value":"id",rules:[t=>!!t||"Dato Requerido"]},on:{change:t.obtenerOrden},model:{value:t.id_shipment,callback:function(e){t.id_shipment=e},expression:"id_shipment"}})],1),e(n["a"],{attrs:{cols:"6"}},[e(p["a"],{attrs:{label:"Estatus",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),e(n["a"],{attrs:{cols:"6"}},[t.nroorden?e(p["a"],{attrs:{label:"Orden",type:"number",rules:[t=>!!t||"Dato Requerido",t=>t>0||"No puede ser 0 o menor"],min:"1"},model:{value:t.nroorden,callback:function(e){t.nroorden=e},expression:"nroorden"}}):t._e()],1)],1),e(d["a"],[e(n["a"],{attrs:{cols:"12"}},[e("h4",[t._v("Incoterms")])]),t.errorInconterms?e(n["a"],{attrs:{cols:"12"}},[e("span",{staticClass:"red--text"},[t._v(" "+t._s(t.errorInconterms)+" ")])]):t._e()],1),e(d["a"],[e($e["a"],{staticClass:"mx-2",attrs:{row:"",label:"EXW",value:!0},model:{value:t.exw,callback:function(e){t.exw=e},expression:"exw"}}),e($e["a"],{staticClass:"mx-2",attrs:{row:"",label:"FOB",value:!0},model:{value:t.fob,callback:function(e){t.fob=e},expression:"fob"}}),e($e["a"],{staticClass:"mx-2",attrs:{row:"",label:"FCA",value:!0},model:{value:t.fca,callback:function(e){t.fca=e},expression:"fca"}}),e($e["a"],{staticClass:"mx-2",attrs:{row:"",label:"CFR",value:!0},model:{value:t.cfr,callback:function(e){t.cfr=e},expression:"cfr"}}),e($e["a"],{staticClass:"mx-2",attrs:{row:"",label:"CIF",value:!0},model:{value:t.cif,callback:function(e){t.cif=e},expression:"cif"}}),e($e["a"],{staticClass:"mx-2",attrs:{row:"",label:"DDP",value:!0},model:{value:t.ddp,callback:function(e){t.ddp=e},expression:"ddp"}})],1),e(d["a"],[e(n["a"],{attrs:{cols:"12"}},[e(s["a"],{attrs:{color:"success",disabled:t.anadirComentarioFlag,small:""},on:{click:function(e){return t.anadirComentario()}}},[t._v(" Añadir Comentario ")])],1),e(n["a"],{attrs:{cols:"12"}},[e(jt["a"],[e("thead",[e("tr",[e("th",[t._v("Orden")]),e("th",[t._v("Comentario")]),e("th",[t._v("Mover")])])]),e("tbody",t._l(t.items,(function(a,o){return e("tr",{key:o},[e("td",[t._v(t._s(o+1))]),e("td",[e(Rt["a"],{attrs:{"auto-grow":"",dense:"","hide-details":"",solo:"",rows:"1",id:"description"+o},model:{value:a.descripcion,callback:function(e){t.$set(a,"descripcion",e)},expression:"item.descripcion"}})],1),e("td",[e(s["a"],{attrs:{color:"error",icon:"",disabled:0===o},on:{click:function(e){return t.moveUp(o)}}},[e(I["a"],[t._v("mdi-arrow-up-drop-circle-outline")])],1),e(s["a"],{attrs:{color:"success",icon:"",disabled:o===t.items.length-1},on:{click:function(e){return t.moveDown(o)}}},[e(I["a"],[t._v("mdi-arrow-down-drop-circle-outline")])],1),e(s["a"],{attrs:{icon:"",color:"error"},on:{click:function(e){return t.eliminarComentario(a,o)}}},[e(I["a"],[t._v("mdi-delete")])],1)],1)])})),0)])],1)],1)],1)],1),t.id?e(B["a"],[e(T["a"]),e(s["a"],{staticClass:"mx-1",attrs:{small:"",color:"success"},on:{click:function(e){return t.guardarStatus()}}},[t._v(" Actualizar ")]),e(s["a"],{staticClass:"mx-1",attrs:{small:"",color:"error"},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancelar ")])],1):e(B["a"],[e(T["a"]),e(s["a"],{staticClass:"mx-1",attrs:{small:"",color:"success"},on:{click:function(e){return t.guardarStatus()}}},[t._v(" Guardar ")]),e(s["a"],{staticClass:"mx-1",attrs:{small:"",color:"error"},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancelar ")])],1)],1)],1)],1)},Qa=[],Ya=a("ec26"),Xa={name:"bitacora",props:{isFormActionsDisabled:Boolean},components:{EstadoHouseForm:()=>a.e("chunk-2d0d6776").then(a.bind(null,"7359"))},data:()=>({date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),menu:!1,modal:!1,menu2:!1,loadingBotonBitacora:!1,loadingBotonTracking:!1,disabledBotonBitacora:!1,id:"",exw:!1,fob:!1,fca:!1,cfr:!1,cif:!1,ddp:!1,nroorden:"",items:[],id_modality:"",id_shipment:"",dialog:!1,errorInconterms:"",name:""}),computed:{...Object(_["c"])("statushouse",["listStatusHouse","orden"]),isBotonTrackingDisabled:function(){return""!==this.$store.state.house_enlace_tracking&&null!==this.$store.state.house_enlace_tracking||this.isFormActionsDisabled},isBotonBitacoraDisabled:function(){return this.isFormActionsDisabled||this.disabledBotonBitacora},iraComentarioManual(){this.$store.state.bitacora_comentario_flag=!0},anadirComentarioFlag(){return!(this.exw||this.fob||this.fca||this.cfr||this.cif||this.ddp)}},async mounted(){await this._getHouseBitacora().then(()=>{this._setDefaultBitacora()}),this.getModality(),this.getShipment()},methods:{...Object(_["b"])(["_getBitacoraLineal","_getHouseBitacora","_getComentariosPredefinidos","getModality","getShipment","getObtenerOrdenStatusHouse"]),...Object(_["b"])("statushouse",["getListStatusHouse","getObtenerOrdenStatusHouse","GuardarStatusHouse","GuardarStatus","EliminarStatus","EliminarComentario"]),abrirRegistroBitacora(){this.dialog=!0,this.items=[]},async obtenerOrden(){if(this.id_modality&&this.id_shipment){await this.getObtenerOrdenStatusHouse({id_modalidad:this.id_modality,id_shipment:this.id_shipment});let t={...this.orden};this.nroorden=t.orden}},anadirComentario(){this.items.push({descripcion:""}),this.$nextTick(()=>{let t=this.items.length;console.log(t);let e=document.getElementById("description"+(t-1));e.focus()})},async guardarStatus(){if(this.errorInconterms="",this.$refs.frmStatus.validate()){if(!this.exw&&!this.fca&&!this.cfr&&!this.cif&&!this.ddp)return this.errorInconterms="Es necesario seleccionar al menos un Incoterms",!1;this.items.map((t,e)=>{t.orden=e+1});let t={id:this.id,id_modality:this.id_modality,id_shipment:this.id_shipment,name:this.name,nroorden:this.nroorden,exw:this.exw,fob:this.fob,fca:this.fca,cfr:this.cfr,cif:this.cif,ddp:this.ddp,lstComentatios:this.items};await this.GuardarStatusHouse(t),await this._getBitacoraLineal({id_modalidad:this.$store.state.house_sentido,id_shipment:this.$store.state.house_id_trasnport,id_incoterms:this.$store.state.house_incoterms}),this.dialog=!1}},eliminarComentario(t,e){t.id?at.a.fire({title:"¿Estás seguro?",text:"¡No podrás revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, eliminarlo!"}).then(async e=>{e.isConfirmed&&(this.$store.state.spiner=!0,await this.EliminarComentario(t),this.$store.state.spiner=!1,this.dialog=!1)}):this.items.splice(e,1)},existeEnBitacora(t){let e=this.$store.state.itemsBitacora.some(e=>e.id_bitacora==t.id);return e},ObtenerComentariosPredifinidos(){let t=this.$store.state.itemsBitacoraLineal.filter(t=>t.id==this.$store.state.bitacora_id_bitacora)[0];return t.comentarios.some(t=>-1==t.id)||t.comentarios.push({id:-1,descripcion:"Comentario Manual"}),t?t.comentarios:[]},activarComentarioFlag(){let t={...this.$store.state.bitacora_comentario_predefinido};-1==t.id?(this.$store.state.bitacora_comentario_flag=!0,this.$nextTick(()=>{let t=document.getElementById("txtBitacoraComentario");t.focus()})):(this.$store.state.bitacora_comentario="",this.$store.state.bitacora_comentario_flag=!1)},cleanData(){this.$store.state.bitacora_id_bitacora="",this.$store.state.bitacora_comentario_predefinido="",this.$store.state.bitacora_comentario_flag=!1,this.$store.state.bitacora_comentario="",this.$store.state.bitacora_visible_cliente=!0},_validaData(){var t=this;t.$route.params.id&&t._getBitacoraLineal({id_modalidad:t.$store.state.house_sentido,id_shipment:t.$store.state.house_id_trasnport,id_incoterms:t.$store.state.house_incoterms})},async _deleteBitacora(t){var e=this,a={id:t},o={method:"post",url:"https://api.agentedecargaonline.com/deleteBitacora",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await A()(o).then((async function(t){sessionStorage.setItem("auth-token",t.data.token),200==t.data.status&&await e._getHouseBitacora().then(()=>{e._setDefaultBitacora()}),"401"==t.data.status&&at.a.fire({icon:"error",text:t.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(e=>{e.isConfirmed&&"401"==t.data.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})})).catch((function(t){console.log(t)}))},async _changeStatusBitacora({id:t,status:e}){var a=this,o={id:t,status:e},i={method:"put",url:"https://api.agentedecargaonline.com/changeStatusBitacora",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:o};await A()(i).then((async function(t){sessionStorage.setItem("auth-token",t.data.token),200==t.data.status&&await a._getHouseBitacora(),"401"==t.data.status&&at.a.fire({icon:"error",text:t.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(e=>{e.isConfirmed&&"401"==t.data.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})})).catch((function(t){console.log(t)}))},async _changeStatusVisibleBitacora({id:t,visible_cliente:e}){var a=this,o={id:t,visible:e},i={method:"put",url:"https://api.agentedecargaonline.com/changeStatusVisibleBitacora",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:o};await A()(i).then((async function(t){sessionStorage.setItem("auth-token",t.data.token),200==t.data.status&&await a._getHouseBitacora(),"401"==t.data.status&&at.a.fire({icon:"error",text:t.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(e=>{e.isConfirmed&&"401"==t.data.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})})).catch((function(t){console.log(t)}))},_setDefaultBitacora(){var t=this;t.disabledBotonBitacora=!1},_handleFlagComentarioManual(){this.$store.state.bitacora_comentario_flag&&(this.$store.state.bitacora_comentario_predefinido=null)},async _setBitacora(){var t=this;if(t.$store.state.bitacora_id_bitacora){var e=!0;if(0==t.$store.state.itemsBitacora.length&&(e=t.$store.state.itemsBitacoraLineal[0].id==t.$store.state.bitacora_id_bitacora),t.$store.state.itemsBitacora.length>0){let a=this.$store.state.itemsBitacoraLineal.findIndex(e=>e.id==t.$store.state.bitacora_id_bitacora),o=this.$store.state.itemsBitacoraLineal[a-1];e=!o||this.$store.state.itemsBitacora.some(t=>t.orden==o.orden)}if(e)if(t.$store.state.bitacora_comentario_flag&&!t.$store.state.bitacora_comentario)t.$swal("","¡El comentario es requerido!","error");else{t.loadingBotonBitacora=!t.loadingBotonBitacora;var a={id_house:t.$route.params.id,id_bitacora:t.$store.state.bitacora_id_bitacora,id_comentario:t.$store.state.bitacora_comentario_flag?"":t.$store.state.bitacora_comentario_predefinido.id,comentario:t.$store.state.bitacora_comentario_flag?t.$store.state.bitacora_comentario:"",fecha:t.$store.state.bitacora_fecha,visible_cliente:t.$store.state.bitacora_visible_cliente},o={method:"post",url:"https://api.agentedecargaonline.com/setBitacora",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await A()(o).then((async function(e){sessionStorage.setItem("auth-token",e.data.token),200==e.data.status&&await t._getHouseBitacora().then(()=>{t.cleanData(),t._setDefaultBitacora()}),"401"==e.data.status&&at.a.fire({icon:"error",text:e.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==e.data.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})})).catch((function(t){console.log(t)})).finally((function(){t.loadingBotonBitacora=!t.loadingBotonBitacora}))}else t.$swal("","¡Debe registrar las bitácoras en el orden que aparecen en la lista!","error")}else t.$swal("","¡La bitacora es requerida!","error")},async _generateTrackingToken(){const t=Object(Ya["a"])();this.loadingBotonTracking=!this.loadingBotonTracking,await this._setTrackingToken(t),this.loadingBotonTracking=!this.loadingBotonTracking},async _setTrackingToken(t){var e=this,a={id_house:e.$route.params.id,token:t,fecha:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},o={method:"put",url:"https://api.agentedecargaonline.com/setTrackingToken",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await A()(o).then((function(t){sessionStorage.setItem("auth-token",t.data.token),t.data.estadoflag?e.$store.state.house_enlace_tracking="https://aco.agentedecargaonline.com/tracking/"+t.data.data[0].token:at.a.fire({icon:"401"==t.data.status?"error":"info",text:t.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(e=>{e.isConfirmed&&"401"==t.data.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})})).catch((function(t){console.log(t)}))},async _copyEnlaceTracking(t){await navigator.clipboard.writeText(t)}}},Za=Xa,Wa=(a("632a"),Object(v["a"])(Za,Ka,Qa,!1,null,"bd1eb962",null)),to=Wa.exports,eo=function(){var t=this,e=t._self._c;return e("div",[e("p",[t._v(t._s(t.selected_certificado))]),e("h3",[t._v("Servicios a Realizar")]),e(Ie["c"],[e(s["a"],{attrs:{color:"green",absolute:"",top:"",right:"",small:"",fab:"",dark:!t.isFormActionsDisabled,disabled:t.isFormActionsDisabled},on:{click:t.showModalServices}},[e(I["a"],[t._v("mdi-plus")])],1)],1),e(jt["a"],{attrs:{"fixed-header":"",height:"605px",dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left",attrs:{width:"45%"}},[t._v("Servicio")]),e("th",{staticClass:"text-center",attrs:{width:"25%"}},[t._v("Realizado (Sí/No)")]),e("th",{staticClass:"text-center",attrs:{width:"5%"}},[t._v("Acciones")])])]),e("tbody",t._l(t.$store.state.itemsHouseServices,(function(a,o){return e("tr",{key:a.id,style:"background:"+a.color},[e("td",[t._v(t._s(a.nameservice))]),e("td",[e("div",{staticClass:"d-flex justify-center"},["CERTIFICADO DE ORIGEN"!=a.nameservice?e(qa["a"],{attrs:{dense:"",color:"primary",disabled:t.getDisabledPropServiceStatus(o)},on:{change:function(e){return t.toggleServiceStatusSwitch(a,o)}},model:{value:a.status,callback:function(e){t.$set(a,"status",e)},expression:"item.status"}}):t._e()],1),"CERTIFICADO DE ORIGEN"==a.nameservice?e(V["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:o,attrs:i}){return[e(s["a"],t._g(t._b({attrs:{large:"",color:"default"}},"v-btn",i,!1),o),[t._v(" "+t._s(1==a.status?"SI":0==a.status?"NO":2==a.status?"NO APLICA":"")+" ")])]}}],null,!0)},[e(ee["a"],[e(ae["a"],{attrs:{link:""},on:{click:function(e){return t._editServices(a.id,1)}}},[e(J["c"],[t._v("SI")])],1),e(ae["a"],{attrs:{link:""},on:{click:function(e){return t._editServices(a.id,0)}}},[e(J["c"],[t._v("NO")])],1),e(ae["a"],{attrs:{link:""},on:{click:function(e){return t._editServices(a.id,2)}}},[e(J["c"],[t._v("NO APLICA")])],1)],1)],1):t._e()],1),e("td",{staticClass:"text-center"},[e(I["a"],{staticClass:"btn_add",attrs:{dense:"",color:"red",disabled:t.isFormActionsDisabled},on:{click:function(e){return t.deleteService(o)}}},[t._v("mdi-delete")])],1)])})),0)]},proxy:!0}])}),e(s["a"],{attrs:{color:"success"},on:{click:t.abriModalaFormato}},[t._v("Imprimir Formato")]),e(U["a"],{attrs:{"max-width":"30%"},model:{value:t.dialogFormato,callback:function(e){t.dialogFormato=e},expression:"dialogFormato"}},[e(r["a"],[e(B["d"],{attrs:{"primary-title":""}},[t._v(" Imprimir Formato "+t._s(t.tipoAreo?"GUÍA AÉREA":"BL")+" ")]),e(B["c"],[t._v(" Imprimir Con Fondo "),e(ue["a"],{model:{value:t.formatoflag,callback:function(e){t.formatoflag=e},expression:"formatoflag"}},[e(de["a"],{attrs:{label:"Si",value:!0}}),e(de["a"],{attrs:{label:"No",value:!1}})],1)],1),e(B["a"],[t.tipoAreo?e(s["a"],{attrs:{color:"success",block:""},on:{click:function(e){return t.exportarFormatoAWB()}}},[t._v(" Imprimir Formato Guía Aérea ")]):e(s["a"],{attrs:{color:"success",block:""},on:{click:function(e){return t.exportarFormatoHBL()}}},[t._v(" Imprimir Formato BL ")])],1)],1)],1)],1)},ao=[],oo=(a("88a7"),a("271a"),a("5494"),{name:"services",props:{isFormActionsDisabled:Boolean},data:()=>({itemsCertificado:[{value:1,text:"Si"},{value:0,text:"No"},{value:2,text:"No Aplica"}],selected_certificado:"",dialogFormato:!1,formatoflag:!0}),computed:{},async mounted(){await this._validaData()},methods:{...Object(_["b"])(["getQuoteDataNoAsignadaHouseByIncoterms","_getPortBegin","_getPortEnd"]),getDisabledPropServiceStatus(t){return t=>0!==t&&!this.$store.state.itemsHouseServices[t-1].status},send(){alert("Jpla")},_deleteServices(t){var e=this,a={id:t},o={method:"post",url:"https://api.agentedecargaonline.com/deleteServices",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};A()(o).then((async function(t){200==t.data.status&&await e._validaData()})).catch((function(t){console.log(t)}))},_activeServices(t){var e=this,a={id:t},o={method:"post",url:"https://api.agentedecargaonline.com/activeServices",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};A()(o).then((async function(t){200==t.data.status&&await e._validaData()})).catch((function(t){console.log(t)}))},_inactiveServices(t){var e=this,a={id:t},o={method:"post",url:"https://api.agentedecargaonline.com/inactiveServices",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};A()(o).then((async function(t){200==t.data.status&&await e._validaData()})).catch((function(t){console.log(t)}))},_editServices(t,e){var a=this,o={id:t,status:e},i={method:"post",url:"https://api.agentedecargaonline.com/editServices",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:o};A()(i).then((function(t){200==t.data.status&&a._validaData()})).catch((function(t){console.log(t)}))},async _validaData(){var t=this;if(t.$route.params.id){t.$store.state.house_Id_get=t.$route.params.id;var e={id:t.$route.params.id,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},a={method:"post",url:"https://api.agentedecargaonline.com/getHouseServices",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){if(sessionStorage.setItem("auth-token",e.data.token),e.data.estadoflag){let a=[],o=null;e.data.data.map((t,e)=>{"IMPUESTOS"==t.nameservice.toUpperCase()?o=t:a.push(t)}),null!==o&&a.push(o),t.$store.state.itemsHouseServices=a}else t.$store.state.itemsHouseServices=[]})).catch((function(t){console.log(t)}))}},showModalServices(){var t=this;t.$store.state.modalServices_manualMode=!1,!t.$store.state.house_cotizacion&&!t.$store.state.itemsHouseServices.length||!t.$store.state.house_incoterms&&!t.$store.state.itemsHouseServices.length?t.$swal({icon:"question",html:"<b>¿Desea asociar una cotización para cargar los servicios?</b>",showConfirmButton:!0,confirmButtonText:"Sí",confirmButtonColor:"#4CAF50",showDenyButton:!0,denyButtonText:"No tengo una cotización",allowOutsideClick:!1}).then(({isDenied:e})=>{e&&t.$swal({icon:"info",html:"<b>Los servicios se cargarán según el incoterm seleccionado. Si no ha seleccionado un incoterm, seleccione uno para cargar los servicios.</b>",showConfirmButton:!0,confirmButtonText:"Aceptar",confirmButtonColor:"#4CAF50",allowOutsideClick:!1}).then(async e=>{t.$store.state.house_incoterms&&(t.$store.state.spiner=!0,await t._getServicesByIncoterms(t.$store.state.house_sentido,t.$store.state.house_id_trasnport,t.$store.state.house_incoterms),t.$store.state.spiner=!1)})}):t.$store.state.itemsHouseServices.length&&(t.$store.state.modalServices_manualMode=!0)},toggleServiceStatusSwitch(t,e){t.status||(this.$store.state.itemsHouseServices=this.$store.state.itemsHouseServices.map((t,a)=>({...t,status:a>e?0:t.status})))},deleteService(t){this.$store.state.itemsHouseServices.splice(t,1)},async _activePort(t){await this._getPortBegin({id_transport:t}),await this._getPortEnd({id_transport:t}),1==this.$store.state.master_id_trasnport.id?this.$store.state.embar_title_nacn="Aerolinea":2==this.$store.state.master_id_trasnport.id?this.$store.state.embar_title_nacn="Naviera":3==this.$store.state.master_id_trasnport.id?this.$store.state.embar_title_nacn="Coloader":this.$store.state.embar_title_nacn="Aerolinea/Coloader/Naviera"},async _getServicesByIncoterms(t=0,e=0,a=0){var o=this,i={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,id_modality:t,id_shipment:e,id_incoterms:a},s={method:"post",url:"https://api.agentedecargaonline.com/getServicesByIncoterms",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:i};await A()(s).then((function(t){if(sessionStorage.setItem("auth-token",t.data.token),t.data.estadoflag){let e=[],a=null;t.data.data.map((t,o)=>{const i={id_begend:t.id_begend,namebegend:t.namebegend,position_begend:t.position_begend,nameservice:t.namegroupservice,status:0};"IMPUESTOS"==t.namegroupservice.toUpperCase()?a=i:e.push(i)}),null!==a&&e.push(a),o.$store.state.itemsHouseServices=e}else o.$store.state.itemsHouseServices=[],o.$swal({icon:"error",text:t.data.mensaje})})).catch((function(t){console.log(t)}))},abriModalaFormato(){this.dialogFormato=!0},async exportarFormatoAWB(){try{const t=await A()({method:"get",url:"https://api.agentedecargaonline.com/generar_formato_awb",params:{id_house:this.$route.params.id,formatoflag:this.formatoflag},headers:{"auth-token":sessionStorage.getItem("auth-token")},responseType:"blob"}),e=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=document.createElement("a");a.href=window.URL.createObjectURL(e);const o=it()().format("YYYY_MM_DD_HH_mm_ss"),i=`formato_awb_${o}.xlsx`;a.download=i,a.click(),window.URL.revokeObjectURL(a.href)}catch(t){console.error("Error exportando archivo:",t)}this.dialogFormato=!1},async exportarFormatoHBL(){try{const t=await A()({method:"get",url:"https://api.agentedecargaonline.com/generar_formato_bl",params:{id_house:this.$route.params.id,formatoflag:this.formatoflag},headers:{"auth-token":sessionStorage.getItem("auth-token")},responseType:"blob"}),e=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=document.createElement("a");a.href=window.URL.createObjectURL(e);const o=it()().format("YYYY_MM_DD_HH_mm_ss"),i=`formato_bl_${o}.xlsx`;a.download=i,a.click(),window.URL.revokeObjectURL(a.href)}catch(t){console.error("Error exportando archivo:",t)}this.dialogFormato=!1}},computed:{tipoAreo(){this.$nextTick(()=>{let t=this.$store.state.itemsShipment.filter(t=>t.id==this.$store.state.house_id_trasnport);return!(t.length>0)||"Aéreo"==t[0].code})}}}),io=oo,so=(a("b461"),Object(v["a"])(io,eo,ao,!1,null,"5fb89f8b",null)),ro=so.exports,no={name:"controlMasterCom",components:{dataGen:Ra,dataEmbar:Va,Bitacora:to,services:ro},data:()=>({direction:"right",fab:!1,fling:!1,hover:!1,tabs:null,top:!1,right:!1,bottom:!0,left:!1,transition:"slide-y-transition",selected:[],errorCuentas:"",headers:[{value:"label",text:"Nombre"},{value:"cuenta",text:"Cuenta"},{value:"cci",text:"CCI"},{value:"symbol",text:"Moneda"}],notificacion:null,abrirModalCuentasNotificacion:!1,statusData:!1,formControlHouseReadonly:!1,itemsNotificacionesImport:[{title:"Aviso de Salida",value:1},{title:"Actualización de Salida",value:2},{title:"Pre-Aviso de Llegada",value:3},{title:"Aviso de Llegada",value:4},{title:"Actualización de Llegada",value:5}],itemsNotificacionesExport:[{title:"Aviso de Salida",value:1},{title:"Actualización de Salida",value:2},{title:"Aviso de Llegada",value:3}],houseData:{},displayMenuNotificaciones:!1,loadingBotonNotificaciones:!1,loadingBotonGuardarHouse:!1,loadingBotonEliminarHouse:!1}),async mounted(){"controlHouse"==this.$route.name?this.$store.state.mainTitle="CONTROL DE EXPEDIENTE HOUSE":"controlHouseEditar"==this.$route.name?this.$store.state.mainTitle="CONTROL DE EXPEDIENTE HOUSE [EDITAR]":"controlHouseVer"==this.$route.name&&(this.$store.state.mainTitle="CONTROL DE EXPEDIENTE HOUSE [MODO VISTA]",this.formControlHouseReadonly=!0),Promise.all([this._getModality(),this._getShipment(),this.getListBanksDetailsCargarPorSucursal(),this.cargarListadoQuoteAduana(),this.fetchDataBank({code:"",name:"",acronym:"",description:"",status:1})])},computed:{...Object(_["c"])(["itemsModality","itemsShipment"])},methods:{...Object(_["b"])(["_getnroMaster","_getnroHouse","_getHouseList","atras","_getModality","_getShipment","getListBanksDetailsCargarPorSucursal","fetchDataBank","cargarListadoQuoteAduana"]),irAVerMaster(){this.$router.push({name:"controlHouseEditar",id:this.$route.params.id}),window.location.reload()},_setMasterContainer(t,e,a){var o=this,i=JSON.stringify({id_master:t,id_containers:e,quantity:a,status:1}),s={method:"post",url:"https://api.agentedecargaonline.com/setMasterContainers",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:i};A()(s).then((function(t){})).catch((function(t){console.log(t),o.$swal({icon:"error",title:"Lo sentimos",text:t})}))},async _setHouseEdit(){var t=this;t.loadingBotonGuardarHouse=!t.loadingBotonGuardarHouse;var e=JSON.stringify({id_modality:this.$store.state.house_sentido?this.$store.state.house_sentido:"",id_shipment:this.$store.state.house_id_trasnport?this.$store.state.house_id_trasnport:"",id_consigner_real:t.$store.state.house_id_consigner_real?t.$store.state.house_id_consigner_real:"",id_port_begin:this.$store.state.house_origen?this.$store.state.house_origen:"",id_port_end:this.$store.state.house_destino?this.$store.state.house_destino:"",id_proveedor:t.$store.state.house_id_agente?t.$store.state.house_id_agente:"",id_consigner:t.$store.state.house_id_consigner?t.$store.state.house_id_consigner:"",id_notify:t.$store.state.house_id_notify?t.$store.state.house_id_notify:"",id_aerolinea:t.$store.state.house_id_airlines?t.$store.state.house_id_airlines:"",id_coloader:t.$store.state.house_id_coloader?t.$store.state.house_id_coloader:"",id_naviera:t.$store.state.house_id_naviera?t.$store.state.house_id_naviera:"",id_incoterms:t.$store.state.house_incoterms?t.$store.state.house_incoterms:"",nro_hbl:t.$store.state.house_blmaster?t.$store.state.house_blmaster:"",id_motonave:t.$store.state.house_id_motonave?t.$store.state.house_id_motonave:"",nro_viaje:t.$store.state.house_viaje?t.$store.state.house_viaje:"",bultos:t.$store.state.house_bultos?t.$store.state.house_bultos:"",peso:t.$store.state.house_peso?t.$store.state.house_peso:"",volumen:t.$store.state.house_volumen?t.$store.state.house_volumen:"",id_conditions:t.$store.state.house_id_condicion?t.$store.state.house_id_condicion:"",id_moneda:t.$store.state.house_id_coins?t.$store.state.house_id_coins:"",monto:t.$store.state.house_monto?t.$store.state.house_monto:"",id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,id_cot:t.$store.state.house_cotizacion?t.$store.state.house_cotizacion:"",lstservices:this.$store.state.itemsHouseServices||[],id:t.$store.state.house_id}),a={method:"put",url:"https://api.agentedecargaonline.com/setHouseEdit",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((async function(e){sessionStorage.setItem("auth-token",e.data.token),"401"==e.data.status&&at.a.fire({icon:"error",text:e.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==e.data.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}),t.statusData=!0,await t._getHouseList(),await t._getHouseById(),await t._getHouseServices(),t.$swal({icon:"success",title:"Excelente",text:"House actualizado éxitosamente"}).then(t=>{}),t.loadingBotonGuardarHouse=!t.loadingBotonGuardarHouse})).catch((function(e){console.log(e),t.$swal({icon:"error",title:"Lo sentimos",text:e})}))},eliminarHouse(){let t=this;t.$store.state.copy_house.cantidad_houses_x_master>1?at.a.fire({icon:"question",title:"ADVERTENCIA",text:"¿Está seguro que desea eliminar el house?",showDenyButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then(async e=>{if(e.isConfirmed){t.loadingBotonEliminarHouse=!t.loadingBotonEliminarHouse;var a={method:"put",url:"https://api.agentedecargaonline.com/setHouseDelete/"+t.$route.params.id,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(a).then((function(e){sessionStorage.setItem("auth-token",e.data.token),"401"==e.data.status&&at.a.fire({icon:"error",text:e.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==e.data.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}),e.data.statusBol&&(at.a.fire({icon:"success",title:"REGISTRO ELIMINADO."}),t.loadingBotonEliminarHouse=!t.loadingBotonEliminarHouse,t.$router.go(-1))}))}}):at.a.fire({icon:"info",text:"Un expediente máster debe tener al menos un house asignado"})},isImportacion(){let t=!1,e=this.$store.state.house_sentido||"",a=this.itemsModality.filter(t=>t.id==e).length>0?this.itemsModality.filter(t=>t.id==e)[0].name:"";return"Importación"==a&&(t=!0),t},isExportacion(){let t=!1,e=this.$store.state.house_sentido||"",a=this.itemsModality.filter(t=>t.id==e).length>0?this.itemsModality.filter(t=>t.id==e)[0].name:"";return"Exportación"==a&&(t=!0),t},isAereo(){let t=!1,e=this.$store.state.house_id_trasnport,a=this.itemsShipment.filter(t=>t.id==e).length>0?this.itemsShipment.filter(t=>t.id==e)[0].code:"";return"Aéreo"==a&&(t=!0),t},isLCL(){let t=!1,e=this.$store.state.house_id_trasnport,a=this.itemsShipment.filter(t=>t.id==e).length>0?this.itemsShipment.filter(t=>t.id==e)[0].code:"";return"LCL"==a&&(t=!0),t},isFCL(){let t=!1,e=this.$store.state.house_id_trasnport,a=this.itemsShipment.filter(t=>t.id==e).length>0?this.itemsShipment.filter(t=>t.id==e)[0].code:"";return"FCL"==a&&(t=!0),t},getItemsNotificaciones(){return this.isImportacion()?this.itemsNotificacionesImport:this.isExportacion()?this.itemsNotificacionesExport:[]},getSentidoHouse(){return this.isImportacion()?"Import":this.isExportacion()?"Export":""},getTipoEmbarqueHouse(){return this.isAereo()?"Aéreo":this.isLCL()?"LCL":this.isFCL()?"FCL":""},async validarMenuNotificaciones(){var t=this;if(console.log(this.$store.state.bank),0==this.$store.state.bank.list.length)return at.a.fire({icon:"warning",title:"Cuentas Bancarias",text:"Para poder enviar la notificación. Es necesario al menos una cuenta bancaría"}),!1;if(!this.$store.state.bank.list.some(t=>t.banks_details.length>0))return at.a.fire({icon:"warning",title:"Cuentas Bancarias",text:"Para poder enviar la notificación. Es necesario al menos una cuenta bancaría."}),!1;t.displayMenuNotificaciones=!1;var e=[];t.$store.state.copy_house.id_modality||e.push("Sentido"),t.$store.state.copy_house.id_shipment||e.push("Tipo de Embarque"),t.$store.state.copy_house.id_port_begin||e.push("Puerto de Origen"),t.$store.state.copy_house.id_port_end||e.push("Puerto de Destino"),t.$store.state.copy_house.id_proveedor||e.push("Proveedor"),t.$store.state.copy_house.id_consigner||e.push("Cliente"),t.$store.state.copy_house.emailaddress_clientefinal||e.push("El cliente debe tener asignado un correo electrónico"),t.$store.state.copy_house.id_operador||e.push("Operador"),t.$store.state.copy_house.fecha_etd||e.push("Fecha ETD"),t.$store.state.copy_house.fecha_eta||e.push("Fecha ETA"),t.itemsShipment.filter(e=>e.id==t.$store.state.copy_house.id_shipment&&"FCL"==e.code).length||(t.$store.state.copy_house.bultos||e.push("Nº de bultos"),t.$store.state.copy_house.peso||e.push("Peso"),t.$store.state.copy_house.volumen||e.push("Volumen")),t.$store.state.copy_house.monto||e.push("Monto"),e.length?t.$swal({icon:"error",html:`\n            <b>¡El Expediente House requiere los siguientes datos para mostrar el menú de notificaciones!</b>\n            <br><br>\n            ${e.map(t=>`<p>${t}</p>`).join("")}\n          `}):t.displayMenuNotificaciones=!0},async _getHouseById(){var t=this,e={id:t.$route.params.id,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},a={method:"post",url:"https://api.agentedecargaonline.com/getHouseListId/",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){sessionStorage.setItem("auth-token",e.data.token),t.$store.state.copy_house=e.data.data&&e.data.data[0]})).catch((function(t){console.log(t)}))},async _getHouseServices(){var t=this;if(t.$route.params.id){var e={id:t.$route.params.id,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},a={method:"post",url:"https://api.agentedecargaonline.com/getHouseServices",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){if(sessionStorage.setItem("auth-token",e.data.token),e.data.estadoflag){let a=[],o=null;e.data.data.map((t,e)=>{"IMPUESTOS"==t.nameservice.toUpperCase()?o=t:a.push(t)}),null!==o&&a.push(o),t.$store.state.itemsHouseServices=a}else t.$store.state.itemsHouseServices=[]})).catch((function(t){console.log(t)}))}},sendNotificacion(t){this.selected=[],this.notificacion=t,this.abrirModalCuentasNotificacion=!0},async enviarNotificacion(t){if(this.errorCuentas="",0==this.selected.length)return this.errorCuentas="Es necesario al menos una cuenta",!1;var e=this;e.loadingBotonNotificaciones=!e.loadingBotonNotificaciones;var a={id:e.$store.state.house_id,notificacion:t.title,cuentasBancarias:e.selected.map(t=>t.id).join(","),id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},o={method:"post",url:"https://api.agentedecargaonline.com/sendNotificacionHouse",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await A()(o).then((function(t){sessionStorage.setItem("auth-token",t.data.token),"401"==t.data.status?at.a.fire({icon:"error",text:t.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(e=>{e.isConfirmed&&"401"==t.data.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}):(e.abrirModalCuentasNotificacion=!1,e.$swal({icon:"success",title:"Excelente",text:"Notificación enviada éxitosamente"}))})).catch((function(t){console.log(t),e.$swal({icon:"error",title:"Lo sentimos",text:t})})).finally((function(){e.loadingBotonNotificaciones=!e.loadingBotonNotificaciones}))}}},lo=no,co=(a("bed5"),Object(v["a"])(lo,Oa,Fa,!1,null,"7be2b966",null)),uo=co.exports,po={name:"controlMaster",components:{controlMasterCom:uo}},mo=po,ho=Object(v["a"])(mo,wa,Ma,!1,null,null,null),_o=ho.exports,go=function(){var t=this,e=t._self._c;return e(l["a"],{attrs:{fluid:""}},[e(r["a"],[e(B["c"],[e("Editor")],1),e(B["a"],[e(s["a"],{attrs:{color:"success"},on:{click:t.guardarContenido}},[t._v(" Guardar contenido ")]),e(s["a"],{attrs:{color:"warning"},on:{click:t.reset}},[t._v(" Resetear al Original ")])],1)],1)],1)},fo=[],vo=a("0798"),bo=function(){var t=this,e=t._self._c;return e(l["a"],{attrs:{fluid:""}},[e(d["a"],[e(n["a"],{staticClass:"px-5 py-0",attrs:{cols:"12"}},[e(vo["a"],{attrs:{border:"left","colored-border":"",type:"info",elevation:"2",shaped:""}},[t._v(" Los valores entre corchetes representan los datos que serán reemplazados automáticamente con la información correspondiente al house. Por favor, no modifique ni elimine el contenido dentro de los corchetes. Si desea que un valor no se muestre, simplemente elimine el texto entre los corchetes. ")])],1),e(n["a"],{staticClass:"px-5 py-0",attrs:{cols:"6"}},[e("editor",{attrs:{init:t.editorInit,"api-key":"ekgy1sit0k1ooxgcad7shciwqa3oc3ykfrd9mp5hso1ch8r7"},model:{value:t.$store.state.configAviso.configAviso.aviso_llegada,callback:function(e){t.$set(t.$store.state.configAviso.configAviso,"aviso_llegada",e)},expression:"$store.state.configAviso.configAviso.aviso_llegada"}})],1),e(n["a"],{staticClass:"classPreview",attrs:{cols:"6"}},[e("div",{domProps:{innerHTML:t._s(t.$store.state.configAviso.configAviso.aviso_llegada)}})])],1)],1)},Co=[],ko=a("9917"),So={components:{Editor:ko["a"]},props:["html"],data(){return{editorContent:"",editorInit:{height:920,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | code | link image",placeholder:"Escribe tu contenido aquí...",setup:t=>{t.on("init",()=>{console.log("Editor de TinyMCE inicializado.")})}}}},methods:{guardarContenido(){console.log(this.editorContent)}}},yo=So,Io=(a("d428"),Object(v["a"])(yo,bo,Co,!1,null,"36e4e0a0",null)),Po=Io.exports,xo={components:{Editor:Po},mounted(){console.log("Component montado"),this.obtenerConfigAviso()},methods:{...Object(_["b"])(["obtenerConfigAviso","actualizarConfigAviso"]),reset(){this.$store.state.configAviso.configAviso.aviso_llegada=this.$store.state.configAviso.configAviso.aviso_llegada_original},async guardarContenido(){await this.actualizarConfigAviso(this.$store.state.configAviso.configAviso)}}},To=xo,$o=Object(v["a"])(To,go,fo,!1,null,null,null),Eo=$o.exports,wo=function(){var t=this,e=t._self._c;return e("div",[e("listMasterCom",{attrs:{statusReport:"true"}})],1)},Mo=[],Oo=function(){var t=this,e=t._self._c;return e("div",[e(U["a"],{attrs:{width:"600",persistent:""},model:{value:t.$store.state.reportsDialog,callback:function(e){t.$set(t.$store.state,"reportsDialog",e)},expression:"$store.state.reportsDialog"}},[e(r["a"],[e(B["d"],{staticClass:"text-h5 grey lighten-2"},[t._v(" Filtros Generales ")]),e(B["c"],[e(Lt["a"],{attrs:{items:t.itemsStatusExpedientes,"item-value":"id","item-text":"name",label:"Estado de Expediente Operativo"},model:{value:t.filtro.status_op,callback:function(e){t.$set(t.filtro,"status_op",e)},expression:"filtro.status_op"}}),e(Lt["a"],{attrs:{items:t.itemsStatusExpedientes,"item-value":"id","item-text":"name",label:"Estado de Expediente Administrativo"},model:{value:t.filtro.status_admin,callback:function(e){t.$set(t.filtro,"status_admin",e)},expression:"filtro.status_admin"}}),e(Lt["a"],{attrs:{items:t.itemsSentido,"item-value":"id","item-text":"name",label:"Sentido"},model:{value:t.filtro.sentido,callback:function(e){t.$set(t.filtro,"sentido",e)},expression:"filtro.sentido"}}),e(Lt["a"],{attrs:{items:t.$store.state.itemsOperadorList,"item-value":"id","item-text":"namelong",label:"Operador",clearable:""},model:{value:t.filtro.id_operativo,callback:function(e){t.$set(t.filtro,"id_operativo",e)},expression:"filtro.id_operativo"}}),e("p",[t._v("Fecha de Disponibilidad")]),e(p["a"],{attrs:{type:"date",label:"Fecha Inicio"},model:{value:t.filtro.desde,callback:function(e){t.$set(t.filtro,"desde",e)},expression:"filtro.desde"}}),e(p["a"],{attrs:{type:"date",label:"Fecha Final"},model:{value:t.filtro.hasta,callback:function(e){t.$set(t.filtro,"hasta",e)},expression:"filtro.hasta"}})],1),e(G["a"]),e(B["a"],[e(T["a"]),e(s["a"],{attrs:{color:"primary",loading:t.loading,text:""},on:{click:function(e){return t.refreshReport()}}},[t._v(" BUSCAR ")]),e(s["a"],{attrs:{color:"error",loading:t.loading,text:""},on:{click:function(e){t.$store.state.reportsDialog=!t.$store.state.reportsDialog}}},[t._v(" Cerrar ")])],1)],1)],1),e(r["a"],{attrs:{elevation:"0"}},[e(B["d"],[t._v(" LISTA DE EXPEDIENTES MASTER's "),e(s["a"],{staticClass:"ml-4",attrs:{rounded:"",elevation:"0",color:"primary",loading:t.loading},on:{click:function(e){t.$store.state.reportsDialog=!t.$store.state.reportsDialog}}},[t._v("FILTRAR")]),e(s["a"],{staticClass:"ml-4",attrs:{rounded:"",elevation:"0",color:"success",loading:t.loading},on:{click:function(e){return t._generatePDF()}}},[t._v("GENERAR PDF")]),e(T["a"]),t._v(" - Leyenda "),e("span",{staticStyle:{background:"#00ea80",width:"20px",height:"20px","border-radius":"250px","margin-left":"10px","margin-right":"20px"}}),t._v(" Cargas Llegadas | "),e("span",{staticStyle:{background:"#fddd0c",width:"20px",height:"20px","border-radius":"250px","margin-left":"10px","margin-right":"20px"}}),t._v(" Cargas a 5 días de llegar ")],1),e(te["a"],{staticClass:"div_table__Main",attrs:{headers:t.headers,items:t.$store.state.itemsReportFileAll,"item-key":"index",loading:t.loading,"disable-pagination":"","fixed-header":"","disable-sort":"","hide-default-footer":"",height:"650",dense:""},scopedSlots:t._u([{key:"item",fn:function({item:a}){return[e("tr",{style:{backgroundColor:a.background}},[e("td",{attrs:{width:"11%"}},[e("p",{staticClass:"ma-0"},[e("b",[t._v(t._s(a.code_master))])]),e("p",{staticClass:"ma-0"},[t._v(t._s(a.modality)+" "+t._s(a.shipment))]),e("p",{staticClass:"ma-0"},[t._v(t._s(a.port_begin))]),e("p",{staticClass:"ma-0"},[t._v(t._s(a.port_end))]),e("p",{staticClass:"ma-0"},[t._v("Salida: "+t._s(t.getFecha(a.fecha_eta)))]),e("p",{staticClass:"ma-0"},[t._v("Llegada: "+t._s(t.getFecha(a.fecha_etd)))]),e("p",{staticClass:"ma-0"},[t._v(" Disponibilidad:"+t._s(t.getFecha(a.fecha_disponibilidad))+" ")]),e("p",{staticClass:"ma-0"},[t._v("Incoterms: "+t._s(a.incoterms))])]),e("td",{attrs:{width:"59%"}},[e("p",{staticClass:"ma-0"},[t._v("Cliente: "+t._s(a.listhouse))]),e("p",{staticClass:"ma-0"},[e("b",[t._v("Comentarios:")])]),t._l(a.comentario,(function(a,o){return e("p",{key:o,staticClass:"ma-0"},[t._v(" "+t._s(a.fecha)+" ("+t._s(a.namelong)+") : "+t._s(a.comentario)+" ")])}))],2),e("td",{attrs:{width:"30%"}},[e("p",{staticClass:"ma-0"},[t._v("Operador:"+t._s(a.operador))]),e("p",{staticClass:"ma-0"},[t._v("Fecha Registro:"+t._s(t.getFecha(a.created)))]),e("p",{staticClass:"ma-0"},[t._v(" Status Expediente Op.:"+t._s(0==a.statuslock?"Abierto":"Cerrado")+" ")]),e("p",{staticClass:"ma-0"},[t._v(" Status Expediente Adm.:"+t._s(0==a.statuslockadm?"Abierto":"Cerrado")+" ")])]),e(G["a"])],1)]}}])}),e(l["a"],{staticClass:"div__total"},[e(d["a"],[e(n["a"],{attrs:{cols:"12",md:"3"}},[e("p",[t._v(" Total de Expedientes Master: "+t._s(t.$store.state.itemsReportFileAll.length)+" ")])]),e(n["a"],{attrs:{cols:"12",md:"2"}},[e("p",[t._v(" Total Llegados: "+t._s(t.$store.state.itemsReportFileAll.filter(t=>1==t.orden).length)+" ")]),e("p",[t._v(" Total por Llegar: "+t._s(t.$store.state.itemsReportFileAll.filter(t=>2==t.orden).length)+" ")]),e("p",[t._v(" Total de Otras: "+t._s(t.$store.state.itemsReportFileAll.filter(t=>3==t.orden).length)+" ")])]),e(n["a"],{attrs:{cols:"12",md:"5"}},[e(jt["a"],{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Operador")]),e("th",{staticClass:"text-left"},[t._v("Cerradas")]),e("th",{staticClass:"text-left"},[t._v("Abiertas")]),e("th",{staticClass:"text-left"},[t._v("Total")])])]),e("tbody",t._l(t.resumenOperador,(function(a,o){return e("tr",{key:o},[e("td",[t._v(t._s(a.operador))]),e("td",[t._v(t._s(a.totalAbiertas))]),e("td",[t._v(t._s(a.totalCerradas))]),e("td",[t._v(t._s(a.totalFiles))])])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)},Fo=[],Ao={name:"listMasterCom",props:{statusList:String},data(){return{search:"",filterFlag:!1,dialog:!1,filtro:{status_op:"0",status_admin:"",sentido:"",desde:"",id_operativo:"",hasta:""},itemsStatusExpedientes:[{id:"0",name:"Abierto"},{id:"1",name:"Cerrado"},{id:"",name:"Todos"}],itemsOperadores:[{id:"9",name:"ANDREINA REYES"},{id:"10",name:"HENRRY CISNEROS"},{id:"",name:"TODOS"}],itemsSentido:[{id:"1",name:"Importación"},{id:"2",name:"Exportación"},{id:"",name:"Todos"}],headers:[{text:"EXP MASTER",value:"datos_expedientes"},{text:"GENERALES EMBARQUE",align:"start",value:"datos_embarque"},{text:"OPERADOR / FECHAS",value:"datos_operador"}],loading:!1,resumenOperador:[]}},async mounted(){this.loading=!0,await this._getOperador(),await this._getControlFileAll(this.filtro),await this.getResumen(),this.loading=!1},computed:{...Object(_["c"])(["itemsHouseListAll","itemsReportFileAll","itemsOperadorList"])},methods:{...Object(_["b"])(["_getHouseListAll","_getControlFileAll","_getControlFileAllFilter","_getOperador","exportReporteFile","_getTotalesAll","_getTotales","getModulesEntities"]),getFecha(t){return it.a.locale("es"),it()(t).format("DD-MMM-YYYY")},getResumen(){let t=this.$store.state.itemsReportFileAll;const e={};t.forEach(t=>{const a=t.operador;e[a]||(e[a]={operador:a,totalAbiertas:0,totalCerradas:0,totalFiles:0}),e[a].totalFiles++,1===t.statuslock?e[a].totalAbiertas++:0===t.statuslock&&e[a].totalCerradas++}),this.resumenOperador=e},selectHouse(t){this.$router.push("/home/folderBilling/billControlGastos/"+t)},async refreshReport(){this.loading=!0,this.filterFlag=!0,await this._getControlFileAll(this.filtro),await this.getResumen(),this.$store.state.reportsDialog=!1,this.filterFlag=!1,this.loading=!1},getRowBackground(t){const e=t.background;return`background-color: ${e};`},async _generatePDF(){if(0==this.$store.state.itemsReportFileAll.length)return at.a.fire({icon:"error",text:"No se encontraron registros"}),!1;await this.exportReporteFile(this.filtro)},getColor(t){return t+" !important"}}},No=Ao,Do=(a("90c3"),Object(v["a"])(No,Oo,Fo,!1,null,"65ad191a",null)),Lo=Do.exports,jo={name:"listEntities",components:{listMasterCom:Lo},mounted(){this.$store.state.mainTitle="REPORTE CONTROL DE FILE"},data(){return{}}},Ro=jo,Bo=Object(v["a"])(Ro,wo,Mo,!1,null,null,null),Uo=Bo.exports,Go=function(){var t=this,e=t._self._c;return e("div",[e("listMasterComD",{attrs:{statusReport:"true"}})],1)},Ho=[],Jo=a("8e36"),Vo=function(){var t=this,e=t._self._c;return e("div",[e(U["a"],{attrs:{persistent:"","max-width":"600"},model:{value:t.dialogDate,callback:function(e){t.dialogDate=e},expression:"dialogDate"}},[e(r["a"],{attrs:{disabled:!t.dataList,loading:!t.dataList}},[e(B["d"],[t._v(" Seleccione fecha ")]),e(B["c"],[e(l["a"],{attrs:{fluid:""}},[e(d["a"],[e(n["a"],[e(V["a"],{ref:"menuDesde",attrs:{"close-on-content-click":!1,"return-value":t.dateDesde,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.dateDesde=e},"update:return-value":function(e){t.dateDesde=e}},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(p["a"],t._g(t._b({attrs:{label:"Fecha desde","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.dateDesde,callback:function(e){t.dateDesde=e},expression:"dateDesde"}},"v-text-field",o,!1),a))]}}]),model:{value:t.menuDesde,callback:function(e){t.menuDesde=e},expression:"menuDesde"}},[e(za["a"],{attrs:{"no-title":"",scrollable:""},model:{value:t.dateDesde,callback:function(e){t.dateDesde=e},expression:"dateDesde"}},[e(T["a"]),e(s["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){t.menuDesde=!1}}},[t._v(" Cancel ")]),e(s["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menuDesde.save(t.dateDesde)}}},[t._v(" OK ")])],1)],1)],1),e(n["a"],[e(V["a"],{ref:"menuHasta",attrs:{"close-on-content-click":!1,"return-value":t.dateHasta,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.dateHasta=e},"update:return-value":function(e){t.dateHasta=e}},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(p["a"],t._g(t._b({attrs:{label:"Fecha Hasta","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.dateHasta,callback:function(e){t.dateHasta=e},expression:"dateHasta"}},"v-text-field",o,!1),a))]}}]),model:{value:t.menuHasta,callback:function(e){t.menuHasta=e},expression:"menuHasta"}},[e(za["a"],{attrs:{"no-title":"",scrollable:""},model:{value:t.dateHasta,callback:function(e){t.dateHasta=e},expression:"dateHasta"}},[e(T["a"]),e(s["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){t.menuHasta=!1}}},[t._v(" Cancel ")]),e(s["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menuHasta.save(t.dateHasta)}}},[t._v(" OK ")])],1)],1)],1)],1)],1)],1),e(B["a"],[e(s["a"],{attrs:{color:"primary",elevation:"0"},on:{click:function(e){return t.getFileDetails()}}},[t._v("Buscar")]),e(T["a"]),e(s["a"],{attrs:{color:"red",outlined:"",elevation:"0"},on:{click:function(e){t.dialogDate=!1}}},[t._v("Cerrar")])],1)],1)],1),e(r["a"],{attrs:{elevation:"0"}},[e(B["d"],[t._v(" REPORTE DE CONTROL DE FILE DETALLADO "),e(T["a"]),e(s["a"],{staticClass:"mr-5",attrs:{outlined:"",color:"primary"},on:{click:function(e){t.dialogDate=!0}}},[t._v("BUSCAR NUEVA FECHA")]),e(s["a"],{attrs:{color:"primary",elevation:"0"},on:{click:function(e){return t._exportPdf()}}},[t._v("EXPORTAR PDF")])],1),e(l["a"],{attrs:{fluid:""}},[e(d["a"],[e(n["a"],{attrs:{cols:"12",md:"12"}},[e(jt["a"],[e("tbody",[e("tr",{staticStyle:{background:"#ddd","font-weight":"bold"}},[e("td",[t._v(" EXPEDIENTES: "+t._s(t.itemsDetails.length)+" ")]),e("td",[t._v(" GANANCIA PR: "+t._s(parseFloat(t.gananciaPr).toFixed(2))+" USD ")]),e("td",[t._v(" GANANCIA OP: "+t._s(parseFloat(t.gananciaOp).toFixed(2))+" USD ")]),e("td",[t._v(" COBRADO: "+t._s(parseFloat(t.cobrado).toFixed(2))+" USD ")]),e("td",[t._v(" POR COBRAR: "+t._s(parseFloat(t.porCobrar).toFixed(2))+" USD ")]),e("td",[t._v(" POR PAGAR: "+t._s(parseFloat(t.porPagar).toFixed(2))+" USD ")])])])])],1)],1)],1),e(B["c"],[t.dataList?t._e():e(l["a"],{staticStyle:{height:"400px"}},[e(d["a"],{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[e(n["a"],{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[t._v(" Cargando informacíon ")]),e(n["a"],{attrs:{cols:"6"}},[e(Jo["a"],{attrs:{color:"deep-purple accent-4",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1),t.dataList?e(te["a"],{staticClass:"elevation-0",attrs:{headers:t.dessertHeaders,items:t.itemsDetails,"single-expand":t.singleExpand,expanded:t.expanded,"item-key":"id_master","show-expand":""},on:{"update:expanded":function(e){t.expanded=e},"click:row":t.clickRow},scopedSlots:t._u([{key:"item.ganancia_pr",fn:function({item:e}){return[t._v(" "+t._s(parseFloat(parseFloat(e.ingresos_pr)-parseFloat(e.egresos_pr)).toFixed(2))+" ")]}},{key:"item.ganancia_op",fn:function({item:e}){return[t._v(" "+t._s(parseFloat(parseFloat(e.ingresos_op)-parseFloat(e.egresos_op)).toFixed(2))+" ")]}},{key:"item.porcobrar",fn:function({item:e}){return[t._v(" "+t._s(parseFloat(parseFloat(0!=e.ingresos_op?e.ingresos_op:e.ingresos_pr)-parseFloat(e.ingesos_pagado)).toFixed(2))+" ")]}},{key:"expanded-item",fn:function({item:a}){return[e("td",{attrs:{colspan:"1"}}),e("td",{attrs:{colspan:t.dessertHeaders.length}},[e(jt["a"],{staticStyle:{width:"100%"}},[e("thead",[e("tr",{staticStyle:{background:"#b2dfdb"}},[e("th",[t._v("Cliente")]),e("th",[t._v("Facturado Pr")]),e("th",[t._v("Facturado Op")]),e("th",[t._v("Por Cobrar")])])]),e("tbody",t._l(a.listhouse,(function(a){return e("tr",{key:a.id,staticStyle:{background:"#e0f2f1"}},[e("td",[t._v(t._s(a.cliente))]),e("td",[t._v(t._s(parseFloat(a.monto_pr).toFixed(2)))]),e("td",[t._v(t._s(parseFloat(a.monto_op).toFixed(2)))]),e("td",[t._v(" "+t._s(parseFloat(parseFloat(0!=a.monto_op?a.monto_op:a.monto_pr)-parseFloat(a.ingresos_pagado)).toFixed(2))+" ")])])})),0)]),e(jt["a"],{staticStyle:{width:"100%"}},[e("thead",[e("tr",{staticStyle:{background:"#ffccbc"}},[e("th",[t._v("Proveedor")]),e("th",[t._v("Documento")]),e("th",[t._v("Facturado Pr")]),e("th",[t._v("Facturado Op")]),e("th",[t._v("Por Pagar")])])]),e("tbody",t._l(a.listproveedor,(function(a,o){return e("tr",{key:o,staticStyle:{background:"#fbe9e7"}},[e("td",[t._v(t._s(a.proveedor))]),e("td",[t._v(" "+t._s(t.getTipo(a.type_pago))+" ")]),e("td",[t._v(t._s(parseFloat(a.monto_pr).toFixed(2)))]),e("td",[t._v(t._s(parseFloat(a.monto_op).toFixed(2)))]),e("td",[t._v(" "+t._s(parseFloat(parseFloat(0!=a.monto_op?a.monto_op:a.monto_pr)-parseFloat(a.egresos_pagado)).toFixed(2))+" ")])])})),0)])],1)]}}],null,!0)}):t._e()],1)],1)],1)},zo=[],qo=(a("13d5"),a("9485"),{mixins:[tt["a"]],name:"reportFileDetails",data:()=>({dateDesde:it()().startOf("month").format("YYYY-MM-DD"),menuDesde:!1,dateHasta:it()().endOf("month").format("YYYY-MM-DD"),menuHasta:!1,expanded:[],singleExpand:!1,dataList:!0,dialogDate:!0,gananciaOp:0,gananciaPr:0,cobrado:0,porCobrar:0,porPagar:0,dessertHeaders:[{text:"NRO MASTER",value:"nro_master"},{text:"MASTER",value:"code_master"},{text:"FECHA DISPONIBILIDAD",value:"fecha_disponibilidad"},{text:"GANANCIA PR",value:"ganancia_pr"},{text:"GANANCIA OP",value:"ganancia_op"},{text:"FACTURADO PR",value:"ingresos_pr"},{text:"FACTURADO OP",value:"ingresos_op"},{text:"POR COBRAR",value:"porcobrar"}],dateRange:"",itemsDetails:[]}),mounted(){},methods:{sumField(t){return this.itemsDetails.reduce((e,a)=>e+parseFloat(a[t]||0),0)},clickRow(t,e){if(e.isExpanded){const e=this.expanded.findIndex(e=>e===t);this.expanded.splice(e,1)}else this.expanded.push(t)},getFileDetails(){var t=this;t.dataList=!1;var e={method:"get",url:`https://api.agentedecargaonline.com/getReportFileDetails?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&desde=${t.dateDesde?t.dateDesde:""}&hasta=${t.dateHasta?t.dateHasta:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};A()(e).then((function(e){let a=e.data;1==a.estadoflag?(t.itemsDetails=a.data,t.gananciaPr=a.data.reduce((t,e)=>parseFloat(t)+(parseFloat(e.ingresos_pr)-parseFloat(e.egresos_pr)),0),t.gananciaOp=a.data.reduce((t,e)=>parseFloat(t)+(parseFloat(e.ingresos_op)-parseFloat(e.egresos_op)),0),t.cobrado=a.data.reduce((t,e)=>parseFloat(t)+parseFloat(e.ingesos_pagado),0),t.porCobrar=a.data.reduce((t,e)=>parseFloat(t)+(parseFloat(0!=e.ingresos_op?e.ingresos_op:e.ingresos_pr)-parseFloat(e.ingesos_pagado)),0),t.porPagar=a.data.reduce((t,e)=>parseFloat(t)+(parseFloat(0!=e.egresos_op?e.egresos_op:e.egresos_pr)-parseFloat(e.egresos_pagado)),0),t.dataList=!0,t.dialogDate=!1):(t.itemsDetails=[],t.dataList=!0,t.dialogDate=!1,at.a.fire({icon:"error",text:a.mensaje}))})).catch((function(t){console.log(t)}))},getTipo(t){switch(t){case 1:return"FACTURA";case 2:return"PROFORMACE";case 3:return"OTRO";default:return"SIN CARGAR"}},async _exportPdf(){if(0==this.itemsDetails.length)return at.a.fire({icon:"error",text:"No se encontraron registros"}),!1;var t=this;t.$swal({icon:"info",title:"Generando PDF",text:"Espere... "});var e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,desde:this.dateDesde,hasta:this.dateHasta},a={method:"post",url:"https://api.agentedecargaonline.com/pdfFD",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};A()(a).then((function(e){t.$swal({icon:"success",title:"PDF Generado",text:"El PDF se descargará automaticamente"}),window.open("https://api.agentedecargaonline.com/"+e.data.path,"_blank")})).catch((function(t){console.log(t)}))}}}),Ko=qo,Qo=(a("96a9"),Object(v["a"])(Ko,Vo,zo,!1,null,null,null)),Yo=Qo.exports,Xo={name:"listEntities",components:{listMasterComD:Yo},mounted(){this.$store.state.mainTitle="REPORTE CONTROL DE FILE DETALLADO"},data(){return{}}},Zo=Xo,Wo=Object(v["a"])(Zo,Go,Ho,!1,null,null,null),ti=Wo.exports,ei=function(){var t=this,e=t._self._c;return e("div",[e("controlGastos")],1)},ai=[],oi=a("23a7"),ii=function(){var t=this,e=t._self._c;return e("div",[e(l["a"],{attrs:{fluid:""}},[e(d["a"],[e(n["a"],{attrs:{cols:"9",md:"8"}},[e(r["a"],{staticClass:"cardHouse"},[e(B["c"],[e("dataHouse")],1)],1)],1),e(n["a"],[this.$route.params.id_control?t._e():e(s["a"],{attrs:{block:"",disabled:""!=t.$store.state.dataControl_Numero,color:"primary"},on:{click:t._setControl}},[t._v("GENERAR CONTROL")]),this.$route.params.id_control?e(s["a"],{attrs:{block:"",disabled:""!=t.$store.state.dataControl_Numero,color:"primary"},on:{click:t._setControl}},[t._v(" GENERAR NUEVA VERSION DE CONTROL")]):t._e(),e(s["a"],{staticClass:"mt-2",attrs:{disabled:!this.$route.params.id_control,block:"",color:"orange"},nativeOn:{click:function(e){return t._generatePDF()}}},[t._v("IMPRIMIR CONTROL")]),e(s["a"],{staticClass:"mt-2",attrs:{disabled:""==t.$store.state.dataControl_Numero,block:"",color:"primary"},on:{click:function(e){return t._openDebs()}}},[t._v("CARGAR ABONOS DEL CLIENTE")]),e(s["a"],{staticClass:"mt-2",attrs:{disabled:""==t.$store.state.dataControl_Numero,block:"",color:"pink",dark:""},on:{click:function(e){return t.abrirModalFacturar()}}},[t._v(" EMITIR FACTURA A CLIENTE ")])],1),e(n["a"],{attrs:{cols:"12",md:"8"}},[e(je["a"],{attrs:{multiple:""},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}},t._l(t.items,(function(a,o){return e(Ne["a"],{key:o},[e(Le["a"],[e("b",[t._v("Ingresos ")])]),e(De["a"],[e("ingresos")],1)],1)})),1),e(je["a"],{staticClass:"mt-5",attrs:{multiple:""},model:{value:t.panels,callback:function(e){t.panels=e},expression:"panels"}},t._l(t.items,(function(a,o){return e(Ne["a"],{key:o},[e(Le["a"],[e("b",[t._v("Costos ")])]),e(De["a"],[e("egresos")],1)],1)})),1),e(r["a"],{staticClass:"mt-5",attrs:{disabled:""==t.$store.state.dataControl_Numero}},[e(B["c"],[e("totales")],1)],1)],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(je["a"],[e(Ne["a"],[e(Le["a"],[e("b",[t._v("Servicios a Realizar")])]),e(De["a"],[e("services")],1)],1)],1),e(r["a"],{staticClass:"mt-5",attrs:{disabled:""==t.$store.state.dataControl_Numero}},[e(B["c"],[e("totalesProveedor")],1)],1)],1),e(n["a"],{attrs:{cols:"12"}}),e(U["a"],{attrs:{"max-width":"900"},model:{value:t.dialogDebs,callback:function(e){t.dialogDebs=e},expression:"dialogDebs"}},[e(r["a"],[e(B["d"],[t._v(" Abonos del cliente "),e(T["a"]),e(s["a"],{attrs:{outlined:"",color:"primary"},on:{click:function(e){return t._newDebs()}}},[t._v("CARGAR NUEVO ABONO")])],1),e(B["c"],[e(te["a"],{attrs:{headers:t.headersdebs,items:t.itemsDebsClient},scopedSlots:t._u([{key:"item.accion",fn:function({item:a}){return[e(I["a"],{staticClass:"btn_add mr-2",attrs:{dense:"",large:"",color:"grey"},on:{click:function(e){return t.openDoc(a.path)}}},[t._v("mdi-eye")]),1==a.status?e(I["a"],{staticClass:"btn_add mr-2",attrs:{dense:"",large:"",color:"red"},on:{click:function(e){return t._delDebsClient(a.id)}}},[t._v("mdi-delete")]):t._e()]}},{key:"item.status",fn:function({item:a}){return[2==a.status?e(Wt["a"],{attrs:{block:"",small:"",color:"success",outlined:""}},[e(I["a"],{attrs:{left:""}},[t._v(" mdi-check ")]),t._v(" Confirmado ")],1):t._e(),1==a.status?e(Wt["a"],{attrs:{block:"",small:"",color:"orange",outlined:""}},[e(I["a"],{attrs:{left:""}},[t._v(" mdi-warning ")]),t._v(" Por Confirmar ")],1):t._e()]}}],null,!0)})],1)],1)],1),e(U["a"],{attrs:{"max-width":"800"},model:{value:t.dialogNewDebs,callback:function(e){t.dialogNewDebs=e},expression:"dialogNewDebs"}},[e(r["a"],[e(B["d"],[t._v(" Cargar un nuevo abono "),e(T["a"])],1),e(B["c"],[e(l["a"],[e(d["a"],{attrs:{dense:""}},[e(n["a"],{attrs:{cols:"12",md:"6"}},[e(V["a"],{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(p["a"],t._g(t._b({attrs:{label:"Fecha de Operación","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",o,!1),a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e(za["a"],{attrs:{locale:"es-pe","no-title":"",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[e(T["a"]),e(s["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),e(s["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v(" OK ")])],1)],1)],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{label:"No. Operación"},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsDataBanksList,"item-text":"acronym","item-value":"id",label:"Banco"},model:{value:t.id_banks,callback:function(e){t.id_banks=e},expression:"id_banks"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsCoinsList,"item-text":"acronym","item-value":"id",label:"Moneda"},model:{value:t.id_coins,callback:function(e){t.id_coins=e},expression:"id_coins"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(p["a"],{attrs:{type:"number",label:"Monto"},model:{value:t.monto,callback:function(e){t.monto=e},expression:"monto"}})],1),e(n["a"],{attrs:{cols:"12",md:"12"}},[e(Rt["a"],{attrs:{rows:"2",label:"Comentario"},model:{value:t.comentario,callback:function(e){t.comentario=e},expression:"comentario"}})],1),e(n["a"],{attrs:{cols:"12",md:"9"}},[t.boolFile?t._e():e(oi["a"],{attrs:{"show-size":"",label:"Adjuntar Pago"},model:{value:t.payfile,callback:function(e){t.payfile=e},expression:"payfile"}}),t.boolFile?e(Wt["a"],{attrs:{block:"",large:"",color:"success",outlined:""}},[e(I["a"],{attrs:{left:""}},[t._v(" mdi-check ")]),t._v(" Archivo cargado éxitosamente ")],1):t._e()],1),e(n["a"],{attrs:{cols:"3"}},[e(s["a"],{staticClass:"ma-2 white--text",attrs:{disabled:t.boolFile||t.payfile==[],color:"blue-grey",block:"",large:""},on:{click:function(e){return t._uploadFile()}}},[t._v(" Subir "),e(I["a"],{attrs:{right:"",dark:""}},[t._v(" mdi-cloud-upload ")])],1)],1)],1)],1)],1),e(B["a"],[e(s["a"],{attrs:{color:"primary",disabled:!t.boolFile},on:{click:function(e){return t._setDebsClient()}}},[t._v("GUARDAR ABONO")]),e(T["a"]),e(s["a"],{attrs:{outlined:"",color:"red"},on:{click:function(e){t.dialogNewDebs=!t.dialogNewDebs}}},[t._v("Cerrar")])],1)],1)],1)],1)],1),e(U["a"],{attrs:{scrollable:"",persistent:"",overlay:!1,"max-width":"50%",transition:"dialog-transition"},model:{value:t.dialogFacturar,callback:function(e){t.dialogFacturar=e},expression:"dialogFacturar"}},[e(r["a"],[e(B["d"],{attrs:{"primary-title":""}},[t._v(" GENERAR FACTURA ")]),e(B["c"],[e(d["a"],[e(n["a"],[e(Lt["a"],{attrs:{items:t.branch,"item-text":"trade_name","item-value":"id",label:"Sucursal",placeholder:"Seleccione una sucursal"},on:{change:function(e){return t.obtenerDatos()}},model:{value:t.id_branch,callback:function(e){t.id_branch=e},expression:"id_branch"}})],1)],1)],1),e(B["a"],[e(s["a"],{attrs:{color:"success",loading:t.obtenerDatosHouse,disabled:""==t.id_branch},on:{click:function(e){return t.generarDocumento()}}},[t._v(" Generar Facturar ")]),e(s["a"],{attrs:{color:"warning"},on:{click:function(e){t.dialogFacturar=!t.dialogFacturar}}},[t._v("Cancelar")])],1)],1)],1)],1)},si=[],ri=function(){var t=this,e=t._self._c;return e("div",[e(l["a"],{attrs:{fluid:""}},[e(d["a"],[e(n["a"],{attrs:{cols:"3"}},[e("div",{staticClass:"divExped"},[e("h3",[t._v("N° CONTROL: "+t._s(t.$store.state.dataControl_Numero))]),e("h3",{staticClass:"mt-4"},[t._v(" Master: "+t._s(t.$store.state.dataHouse_code_master)+" ")]),e("h3",{staticClass:"mt-1"},[t._v("House: "+t._s(t.$store.state.dataHouse_code_house))])])]),e(n["a"],{attrs:{cols:"3"}},[e("h3",[t._v("Datos de Generales")]),e("div",[e("p",[t._v("Sentido: "+t._s(t.$store.state.dataHouse_modality))]),e("p",[t._v("Tipo de Embarque: "+t._s(t.$store.state.dataHouse_shipment))]),e("p",[t._v("Puerto de Origen: "+t._s(t.$store.state.dataHouse_port_begin))]),e("p",[t._v("Puerto de Destino: "+t._s(t.$store.state.dataHouse_port_end))])])]),e(n["a"],{attrs:{cols:"3"}},[e("h3",[t._v("Datos del Embarque")]),e("div",[e("p",[t._v("Agente: "+t._s(t.$store.state.dataHouse_agente))]),e("p",[t._v("Consignatario: "+t._s(t.$store.state.dataHouse_consigners))]),e("p",[t._v("Notify: "+t._s(t.$store.state.dataHouse_notify))])])]),e(n["a"],{attrs:{cols:"3"}},[e("h3",[t._v("Datos de la carga")]),e("div",[e("p",[t._v("Bultos: "+t._s(t.$store.state.dataHouse_bultos))]),e("p",[t._v("Peso: "+t._s(t.$store.state.dataHouse_peso)+" Kg")]),e("p",[t._v("Volumen: "+t._s(t.$store.state.dataHouse_volumen)+" m"),e("sup",[t._v("3")])])])])],1)],1)],1)},ni=[],li={name:"dataHouse",mounted(){let t=this;t.$store.state.drawer=!0,this._getData(),this.$route.params.code&&(this.$store.state.dataControl_Numero=this.$route.params.code),t.$store.state.drawer=!1},methods:{_getData(){var t=this;if(t.$route.params.id_house){var e={id:t.$route.params.id_house,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},a={method:"post",url:"https://api.agentedecargaonline.com/getHouseListId/",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};A()(a).then((function(e){t.$store.state.dataHouse_modality=e.data.data[0].id_transport,e.data.data[0].namemodality,t.$store.state.dataHouse_code_house=e.data.data[0].code_house,t.$store.state.dataHouse_code_master=e.data.data[0].code_master,t.$store.state.dataHouse_shipment=e.data.data[0].nameshipment,t.$store.state.dataHouse_port_begin=e.data.data[0].nameportbegin,t.$store.state.dataHouse_port_end=e.data.data[0].nameortEnd,t.$store.state.dataHouse_agente=e.data.data[0].nameagent,t.$store.state.dataHouse_operador=e.data.data[0].operador,t.$store.state.dataHouse_ruc=e.data.data[0].documentlong,t.$store.state.dataHouse_exp=e.data.data[0].nro_master,t.$store.state.dataHouse_consigners=e.data.data[0].nameconsigner,t.$store.state.dataHouse_notify=e.data.data[0].namenotify,t.$store.state.dataHouse_bultos=e.data.data[0].bultos,t.$store.state.dataHouse_peso=e.data.data[0].peso,t.$store.state.dataHouse_volumen=e.data.data[0].volumen})).catch((function(t){console.log(t)}))}}}},ci=li,di=(a("345c"),Object(v["a"])(ci,ri,ni,!1,null,"2e78bbe6",null)),ui=di.exports,pi=a("98d2"),mi=a("9984"),hi=function(){var t=this,e=t._self._c;return e("div",[e(jt["a"],{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Servicio")]),e("th",{staticClass:"text-left"},[t._v("Status")])])]),e("tbody",t._l(t.$store.state.itemsHouseServices,(function(a){return e("tr",{key:a.id,style:"background:"+a.color},[e("td",[t._v(t._s(a.nameservice))]),e("td",[t._v(" "+t._s(a.status?"SI":"NO")+" ")])])})),0)]},proxy:!0}])})],1)},_i=[],gi={name:"services",data:()=>({}),mounted(){this._validaData()},methods:{_deleteServices(t){var e=this,a={id:t},o={method:"post",url:"https://api.agentedecargaonline.com/deleteServices",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};A()(o).then((function(t){200==t.data.status&&e._validaData()})).catch((function(t){console.log(t)}))},_validaData(){var t=this;if(t.$route.params.id_house){t.$store.state.house_Id_get=t.$route.params.id_house;var e={id:t.$route.params.id_house,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},a={method:"post",url:"https://api.agentedecargaonline.com/getHouseServices",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};A()(a).then((function(e){t.$store.state.itemsHouseServices=e.data.data})).catch((function(t){console.log(t)}))}}}},fi=gi,vi=(a("c8d9"),Object(v["a"])(fi,hi,_i,!1,null,"66102c60",null)),bi=vi.exports,Ci=a("9e88"),ki=a("7e85"),Si=a("e516"),yi=a("9c54"),Ii=a("56a4"),Pi=a("71d9"),xi=function(){var t=this,e=t._self._c;return e("div",[e("h3",[t._v("Total por Proveedores")]),e(U["a"],{attrs:{width:"780"},model:{value:t.dialogSolicitud,callback:function(e){t.dialogSolicitud=e},expression:"dialogSolicitud"}},[e(ki["a"],{model:{value:t.e1,callback:function(e){t.e1=e},expression:"e1"}},[e(yi["a"],[e(Ii["a"],{attrs:{complete:t.e1>1,step:"1"}},[t._v(" Códigos ")]),e(G["a"]),e(Ii["a"],{attrs:{complete:t.e1>2,step:"3"}},[t._v(" Cuentas Bancarias ")]),e(G["a"]),e(Ii["a"],{attrs:{complete:t.e1>3,step:"3"}},[t._v(" Observaciones ")])],1),e(yi["b"],[e(Si["a"],{attrs:{step:"1"}},[e(r["a"],{staticClass:"mb-12",attrs:{elevation:"0",height:"200px"}},[e(B["c"],[e(d["a"],{attrs:{dense:""}},[e(n["a"],{attrs:{md:"6",cols:"12"}},[e($e["a"],{attrs:{label:"Aplica código de pago"},model:{value:t.checkPago,callback:function(e){t.checkPago=e},expression:"checkPago"}}),t.checkPago?e(p["a"],{attrs:{label:"CODIGO DE PAGO"},model:{value:t.codigo_pago,callback:function(e){t.codigo_pago=e},expression:"codigo_pago"}},[t._v("CODIGO DE PAGO")]):t._e()],1),e(n["a"],{attrs:{md:"6",cols:"12"}},[e($e["a"],{attrs:{label:"Aplica Número de Expediente"},model:{value:t.checkMaster,callback:function(e){t.checkMaster=e},expression:"checkMaster"}}),t.checkMaster?e(p["a"],{attrs:{label:"CODIGO DE MASTER BL"},model:{value:t.codigo_master,callback:function(e){t.codigo_master=e},expression:"codigo_master"}},[t._v("CODIGO DE MASTER BL")]):t._e()],1)],1)],1)],1),e(s["a"],{attrs:{color:"primary"},on:{click:function(e){t.e1=2}}},[t._v(" Continuar ")]),e(s["a"],{attrs:{text:""},on:{click:function(e){t.e1=1}}},[t._v(" Volver ")]),e(s["a"],{attrs:{text:""},on:{click:function(e){t.dialogSolicitud=!1}}},[t._v(" Cerrar ")])],1),e(Si["a"],{attrs:{step:"2"}},[e(r["a"],{staticClass:"mb-12",attrs:{elevation:"0",height:"200px"}},[e(B["c"],[e("b",[t._v("Cuentas")]),t.checkPago?t._e():e(te["a"],{staticClass:"elevation-0",attrs:{headers:t.headersAccount,items:t.$store.state.itemsDataAccountsNumberList,"hide-default-footer":"","item-key":"id","show-select":"",dense:""},model:{value:t.selectedAccount,callback:function(e){t.selectedAccount=e},expression:"selectedAccount"}}),e("h2",{staticClass:"mt-5"},[t._v("Ya seleccionó el codigo de pago")])],1)],1),e(s["a"],{attrs:{color:"primary"},on:{click:function(e){t.e1=3}}},[t._v(" Continuar ")]),e(s["a"],{attrs:{text:""},on:{click:function(e){t.e1=1}}},[t._v(" Volver")]),e(s["a"],{attrs:{text:""},on:{click:function(e){t.dialogSolicitud=!1}}},[t._v(" Cerrar ")])],1),e(Si["a"],{attrs:{step:"3"}},[e(r["a"],{staticClass:"mb-12",attrs:{elevation:"0",height:"200px"}},[e(B["c"],[e(Rt["a"],{attrs:{rows:"3",label:"Observación Adicionales"},model:{value:t.comentarios,callback:function(e){t.comentarios=e},expression:"comentarios"}}),e(s["a"],{staticClass:"mt-2",attrs:{block:"",color:"primary"},nativeOn:{click:function(e){return t._generateSolicitud()}}},[t._v("GENERAR SOLICITUD")])],1)],1),e(s["a"],{attrs:{text:""},on:{click:function(e){t.e1=2}}},[t._v(" Volver ")]),e(s["a"],{attrs:{text:""},on:{click:function(e){t.dialogSolicitud=!1}}},[t._v(" Cerrar ")])],1)],1)],1)],1),e(U["a"],{attrs:{width:"680"},model:{value:t.dialogSolicitudDivision,callback:function(e){t.dialogSolicitudDivision=e},expression:"dialogSolicitudDivision"}},[e(r["a"],[e(B["d"],[t._v(" Solicitar pago por concepto")]),e(B["c"],[e(d["a"],{attrs:{dense:""}},[e(n["a"],{attrs:{md:"6",cols:"12"}},[e(p["a"],{attrs:{label:"CODIGO DE PAGO"},model:{value:t.codigo_pago,callback:function(e){t.codigo_pago=e},expression:"codigo_pago"}},[t._v("CODIGO DE PAGO")])],1),e(n["a"],{attrs:{md:"6",cols:"12"}},[e(p["a"],{attrs:{label:"CODIGO DE MASTER BL"},model:{value:t.codigo_master,callback:function(e){t.codigo_master=e},expression:"codigo_master"}},[t._v("CODIGO DE MASTER BL")])],1)],1),e(Rt["a"],{attrs:{rows:"3",label:"Observación Adicionales"},model:{value:t.comentarios,callback:function(e){t.comentarios=e},expression:"comentarios"}}),e("h2",[t._v("Seleccione los conceptos")]),e(te["a"],{staticClass:"elevation-0",attrs:{headers:t.headers,"hide-default-header":"",items:t.$store.state.itemsDataConceptos,"hide-default-footer":"","item-key":"concepto","footer-props":{"items-per-page-options":[10,20,30,40,50]},"items-per-page":30,dense:"","show-select":""},scopedSlots:t._u([{key:"item.data-table-select",fn:function({item:a,isSelected:o,select:i}){return[1==!a.pagado?e(Ci["a"],{attrs:{value:o,readonly:1==a.pagado},on:{input:function(t){return i(t)}}}):t._e()]}},{key:"item.status",fn:function({item:a}){return[1==a.pagado?e(Wt["a"],{staticClass:"ma-2",attrs:{color:"green",small:"","text-color":"white"}},[t._v(" "+t._s(1==a.status?"Pagado":"")+" ")]):t._e(),1==a.pagado?e(I["a"],{staticClass:"btn__add mr-2",attrs:{dense:"",large:"",color:"grey"},nativeOn:{click:function(e){return t.openPaymentFile(a.path)}}},[t._v("mdi-eye")]):t._e()]}}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),e("b",[t._v("Cuentas")]),e(te["a"],{staticClass:"elevation-0",attrs:{headers:t.headersAccount,items:t.$store.state.itemsDataAccountsNumberList,"hide-default-footer":"","item-key":"id","show-select":"",dense:""},model:{value:t.selectedAccount,callback:function(e){t.selectedAccount=e},expression:"selectedAccount"}}),e(s["a"],{staticClass:"mt-2",attrs:{block:"",color:"primary"},nativeOn:{click:function(e){return t._generateSolicitud()}}},[t._v("GENERAR SOLICITUD")])],1)],1)],1),e(U["a"],{attrs:{width:"70%"},model:{value:t.dialogPayment,callback:function(e){t.dialogPayment=e},expression:"dialogPayment"}},[e(r["a"],{staticClass:"mx-auto"},[e(Pi["a"],{attrs:{color:"cyan",dark:""}},[e($["a"],[t._v("SOLICITUDES GENERADAS")]),e(T["a"])],1),e(B["d"],[e(p["a"],{attrs:{"append-icon":"mdi-magnify",label:"Buscar solicitud","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t.dataList?t._e():e(l["a"],{staticStyle:{height:"400px"}},[e(d["a"],{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[e(n["a"],{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[t._v(" Cargando informacíon ")]),e(n["a"],{attrs:{cols:"6"}},[e(Jo["a"],{attrs:{color:"deep-purple accent-4",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1),t.dataList?e(te["a"],{attrs:{headers:t.headersPdf,items:t.itemsSPayment,search:t.search},scopedSlots:t._u([{key:"item.status",fn:function({item:a}){return[2==a.status?e(Wt["a"],{staticClass:"ma-2",attrs:{color:"orange","text-color":"white"}},[t._v(" "+t._s(2==a.status?"Pendiente":"")+" ")]):t._e(),3==a.status?e(Wt["a"],{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[t._v(" "+t._s(3==a.status?"Pagado":"")+" ")]):t._e()]}},{key:"item.accion",fn:function({item:a}){return[e(I["a"],{staticClass:"mr-2",on:{click:function(e){return t.viewPdf(a.path)}}},[t._v(" mdi-eye ")])]}},{key:"item.accions",fn:function({item:a}){return[3!=a.status?e(I["a"],{staticClass:"mr-2",on:{click:function(e){return t.sendAdmin(a.id)}}},[t._v(" mdi-send ")]):t._e()]}}],null,!0)}):t._e()],1)],1),e(U["a"],{attrs:{"max-width":"800"},model:{value:t.dialogListInvoince,callback:function(e){t.dialogListInvoince=e},expression:"dialogListInvoince"}},[e(r["a"],[e(B["d"],[t._v(" Facturas y Performance de "+t._s(t.nameproveedor)+" "),e(T["a"]),e(s["a"],{attrs:{outlined:"",color:"primary"},on:{click:function(e){t.dialogInvoice=!0}}},[t._v("Cargar Nueva")])],1),e(B["c"],[e(te["a"],{staticClass:"elevation-0",attrs:{headers:t.headersInvoice,items:t.itemsListInvoice,dense:"","item-key":"id"},scopedSlots:t._u([{key:"item.originalname",fn:function({item:a}){return["pdf"==a.type?e(I["a"],{staticClass:"mr-2",attrs:{color:"red"}},[t._v("mdi-file-pdf")]):t._e(),"png"==a.type||"jpg"==a.type||"jpeg"==a.type?e(I["a"],{staticClass:"mr-2",attrs:{color:"blue-grey darken-1\n"}},[t._v("mdi-file-image")]):t._e(),t._v(" "+t._s(1==a.type_pago?"FACTURA":2==a.type_pago?"PERFORMANCE":"OTRO")+" - "+t._s(a.number)+" ")]}},{key:"item.path",fn:function({item:a}){return[e(I["a"],{staticClass:"btn_add mr-2",attrs:{dense:"",large:"",color:"grey"},nativeOn:{click:function(e){return t.openDoc(a.path)}}},[t._v("mdi-eye")])]}},{key:"item.action",fn:function({item:a}){return[e(I["a"],{staticClass:"btn_add mr-2",attrs:{dense:"",large:"",color:"red"},nativeOn:{click:function(e){return t._delInvoice(a.id)}}},[t._v("mdi-delete")])]}}],null,!0)})],1)],1)],1),e(U["a"],{attrs:{width:"800"},model:{value:t.dialogInvoice,callback:function(e){t.dialogInvoice=e},expression:"dialogInvoice"}},[e(r["a"],[e(B["d"],[e("h3",[t._v("Subir factura o proforma para "+t._s(t.nameproveedor))])]),e(B["c"],[e(l["a"],[e(d["a"],{attrs:{dense:""}},[e(n["a"],{attrs:{cols:"12",md:"12"}},[e(ue["a"],{attrs:{row:""},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[e(de["a"],{attrs:{label:"Factura",value:"1"}}),e(de["a"],{attrs:{label:"Performance",value:"2"}}),e(de["a"],{attrs:{label:"Otro",value:"3"}})],1)],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(V["a"],{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(p["a"],t._g(t._b({attrs:{label:"Fecha de "+(1==t.radio?"Factura":2==t.radio?"Performance":"Otro"),"prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",o,!1),a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e(za["a"],{attrs:{locale:"es-pe","no-title":"",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[e(T["a"]),e(s["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),e(s["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v(" OK ")])],1)],1)],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{label:"Nro de "+(1==t.radio?"Factura":2==t.radio?"Performance":"Otro")},model:{value:t.nro_invoice,callback:function(e){t.nro_invoice=e},expression:"nro_invoice"}})],1),e(n["a"],{attrs:{cols:"12",md:"7"}},[t.boolFile?t._e():e(oi["a"],{attrs:{"show-size":"",label:"Adjuntar File de "+(1==t.radio?"Factura":2==t.radio?"Performance":"Otro")},model:{value:t.payfile,callback:function(e){t.payfile=e},expression:"payfile"}}),t.boolFile?e(Wt["a"],{attrs:{block:"",large:"",color:"success",outlined:""}},[e(I["a"],{attrs:{left:""}},[t._v(" mdi-check ")]),t._v(" Archivo cargado éxitosamente ")],1):t._e()],1),e(n["a"],{attrs:{cols:"5"}},[e(s["a"],{staticClass:"ma-2 white--text",attrs:{disabled:t.boolFile||t.payfile==[],color:"blue-grey",block:"",large:""},on:{click:function(e){return t._uploadFile()}}},[t._v(" Subir "+t._s(1==t.radio?"Factura":2==t.radio?"Performance":"Otro")+" "),e(I["a"],{attrs:{right:"",dark:""}},[t._v(" mdi-cloud-upload ")])],1)],1)],1)],1)],1),e(B["a"],[e(T["a"]),e(s["a"],{attrs:{color:"primary",disabled:!t.boolFile},on:{click:function(e){return t._setInvoice()}}},[t._v(" GUARDAR "+t._s(1==t.radio?"Factura":2==t.radio?"Performance":"Otro"))]),e(s["a"],{attrs:{outlined:"",color:"red"},on:{click:function(e){t.dialogInvoice=!t.dialogInvoice}}},[t._v(" Cerrar ")])],1)],1)],1),e(jt["a"],{attrs:{dense:"","max-height":"440","fixed-header":""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Proveedor")]),e("th",{staticClass:"text-left"},[t._v("Total Pricing")]),e("th",{staticClass:"text-left"},[t._v("Total Operaciones")]),e("th",{staticClass:"text-left"},[t._v("Facturas o Proformance")]),e("th",{staticClass:"text-left"},[t._v("Generar PDF de pago")]),e("th",{staticClass:"text-left"},[t._v("Solicitar a Administración")])])]),e("tbody",t._l(t.$store.state.itemsDataTotalesProveedor,(function(a){return e("tr",{key:a.id,style:"background:"+a.color},[e("td",[t._v(t._s(a.nameproveedor))]),e("td",[t._v(t._s(a.total_pr))]),e("td",[t._v(t._s(a.total_op))]),e("td",[e(Bt["a"],{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:o,attrs:i}){return[e(s["a"],t._g(t._b({attrs:{elevation:"0",small:"",color:"white"},nativeOn:{click:function(e){return t.openInvoice(a.id_proveedor,a.nameproveedor,a.type)}}},"v-btn",i,!1),o),[e(I["a"],{attrs:{color:a.docs>0?"blue":"grey"}},[t._v("mdi-file-compare")])],1)]}}],null,!0)},[e("span",[t._v(t._s(a.docs))])])],1),e("td",[e(s["a"],{attrs:{elevation:"0",small:"",color:"white"},nativeOn:{click:function(e){return t.solicitar(a.nameproveedor,a.total_op,a.id_proveedor,a.type)}}},[e(I["a"],{attrs:{color:"blue"}},[t._v("mdi-send")])],1)],1),e("td",[e(Bt["a"],{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:o,attrs:i}){return[e(s["a"],t._g(t._b({attrs:{elevation:"0",small:"",color:"white"},nativeOn:{click:function(e){return t.openPayments(a.id_proveedor,a.type)}}},"v-btn",i,!1),o),[e(I["a"],{attrs:{color:a.solicitudes>0?"blue":"grey"}},[t._v("mdi-email-send")])],1)]}}],null,!0)},[e("span",[t._v(t._s(a.solicitudes))])])],1)])})),0)]},proxy:!0}])})],1)},Ti=[],$i={name:"services",data:()=>({dialogSolicitud:!1,dialogSolicitudDivision:!1,nameproveedorLocal:"",TotalLocal:"",proveedorId:"",comentarios:"",codigo_pago:"",codigo_master:"",active:!0,selected:[],selectedAccount:[],total:0,e1:1,dataList:!1,dialogInvoice:!1,radio:1,boolFile:!1,dialogListInvoince:!1,payPath:"",payfile:"",item:"",date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),menu:!1,modal:!1,menu2:!1,nro_invoice:"",checkPago:!1,checkMaster:!1,proveedorId:"",nameproveedor:"",singleSelect:!1,selected:[],dialogPayment:!1,itemsSPayment:[],itemsListInvoice:[],itemsInvoice:[],search:"",headers:[{text:"Concepto",align:"start",sortable:!1,value:"concepto"},{text:"Monto",value:"monto_op"},{text:"Status",value:"status"}],sPaymentId:"",headersPdf:[{text:"Nombre",align:"start",sortable:!1,value:"path"},{text:"Fecha Creado",value:"fecha_letra"},{text:"Hora Creado",value:"hora_letra"},{text:"Fecha de Solicitud",value:"fecha_sol_letra"},{text:"Fecha de Pago",value:"fecha_pago_letra"},{text:"Ver",value:"accion"},{text:"Status",value:"status"},{text:"Enviar",value:"accions"}],headersInvoice:[{text:"Nombre",value:"originalname"},{text:"Fecha",value:"date_letra"},{text:"Ver",value:"path"},{text:"Acción",value:"action"}],headersAccount:[{text:"Cuenta",align:"start",sortable:!1,value:"nameaccount"},{text:"Banco",value:"namebanks"},{text:"Moneda",value:"namecoins"},{text:"Número de cuenta",value:"accountnumber"}]}),mounted(){this._validaData()},computed:{...Object(_["c"])(["itemsDataTotalesProveedor","actualizar"])},methods:{...Object(_["b"])(["_getProveedor","_getTotalesProveedor"]),openDoc(t){window.open(t,"_blank")},cleandData(){this.nro_invoice="",this.payfile=[],this.boolFile=!1},openInvoice(t,e,a){var o=this;o.itemsListInvoice=[],o.proveedorId=t,o._getInvoice(),o.nameproveedor=e},async _getInvoice(){var t=this,e={id_house:t.$route.params.id_house,id_proveedor:t.proveedorId,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},a={method:"get",url:`https://api.agentedecargaonline.com/list_invoice_path/${t.$route.params.id_house}/${t.proveedorId}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){t.dialogListInvoince=!0,e.data.data[0].estadoflag&&(t.itemsListInvoice=e.data.data)})).catch((function(t){console.log(t)}))},async _setInvoice(){var t=this;t.$swal({icon:"info",title:"Guardando...",text:"Por favor espere"});var e={id_house:t.$route.params.id_house,id_proveedor:t.proveedorId,id_path:t.payPath,type_pago:t.radio,number:t.nro_invoice,date:t.date,status:1},a={method:"post",url:"https://api.agentedecargaonline.com/setInvoice",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){t.itemsInvoice=e.data.data,t._getTotalesProveedor(),t.$swal({icon:"success",title:"Documento Cargado",text:"El documento ha sido cargado correctamente"}),t.cleandData(),t._getInvoice(),t.dialogInvoice=!1})).catch((function(t){console.log(t)}))},async _delInvoice(t){var e=this,a={method:"post",url:"https://api.agentedecargaonline.com/delInvoice/"+t,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(a).then((function(t){e.itemsInvoice=t.data.data,e._getInvoice(),e.dialogInvoice=!1})).catch((function(t){console.log(t)}))},_uploadFile(){var t=a("5a30"),e=(a("3e8f"),new t),o=this;e.append("name","Prueba"),e.append("file",o.payfile);var i={method:"post",url:"https://api.agentedecargaonline.com/uploadAllPath",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};A()(i).then((function(t){o.boolFile=!0,o.payPath=JSON.stringify(t.data.data[0].insertid)})).catch((function(t){console.log(t)}))},openPayments(t,e){var a=this;1==e?a.$swal({icon:"warning",title:"Lo sentimos",text:"No puede realizar solicitudes hasta colocar un proveedor real."}):(a._getSPaymentPro(t),a.sPaymentId=t,a.dataList=!1,a.dialogPayment=!0)},viewPdf(t){window.open("https://api.agentedecargaonline.com/"+t,"_blank")},async _getAccountsNumber(){var t=this;let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/getAccountsNumber/"+t.proveedorId,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){t.$store.state.itemsDataAccountsNumberList=e.data.data})).catch((function(t){console.log(t)}))},sendAdmin(t){this.$swal({title:"¿Desea realizar esta solicitud a Administración?",showDenyButton:!0,confirmButtonText:"Si",denyButtonText:"No",icon:"info"}).then(e=>{if(e.isConfirmed){var a={fecha_sol:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),status:2},o={method:"post",url:"https://api.agentedecargaonline.com/putSPaymentPro/"+t,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a},i=this;A()(o).then((function(t){i.$swal({icon:"success",title:"Excelente",text:"Solicitud enviada correctamente"}),i._getSPaymentPro(i.sPaymentId)})).catch((function(t){console.log(t)}))}}),this._getAccountsNumber(),this.nameproveedorLocal=nameproveedor,this.TotalLocal=pagar},async _getSPaymentPro(t){var e=this,a={method:"post",url:"https://api.agentedecargaonline.com/getSPaymentPro/"+e.$route.params.id_house+"/"+t+"/"+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(a).then((function(t){e.itemsSPayment=t.data.data,e.dataList=!0})).catch((function(t){console.log(t)}))},openPaymentFile(t){window.open(t,"_blank")},solicitar(t,e,a,o){var i=this;1==o?i.$swal({icon:"warning",title:"Lo sentimos",text:"No puede realizar solicitudes hasta colocar un proveedor real."}):(i.proveedorId=a,i.selected=[],i.selectedAccount=[],i.$swal({title:"¿Desea realizar una solicitud con división de pago?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"No",cancelButtonText:"Cancelar",imageUrl:"https://point.qreport.site/files/alto_icono.png"}).then(t=>{t.isConfirmed?i._getConceptos():t.isDenied&&(i._getConceptosSimple(),i.dialogSolicitud=!i.dialogSolicitud)}),i._getAccountsNumber(),i.nameproveedorLocal=t,i.TotalLocal=e)},async _generateSolicitud(){var t=this;let e;t._calcularTotales(),t.$swal({icon:"info",title:"Generando PDF...",text:"Por favor espere"}),""==t.$store.state.report_id_sentido||t.$store.state.report_id_sentido,e=this.total>0?this.total:this.TotalLocal;let a=[];a=t.selected.length>0?t.selected:t.$store.state.itemsDataConceptos;var o={id_house:t.$route.params.id_house,id_proveedor:t.proveedorId,conceptos:a,monto:e,status:1},i={method:"post",url:"https://api.agentedecargaonline.com/setSPaymentPro",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:o};A()(i).then((function(e){var a={nameProveedor:t.nameproveedorLocal,nameConsignatario:t.$store.state.dataHouse_consigners,totalPagar:t.TotalLocal,expediente:t.$store.state.dataHouse_exp,fecha:t.currentDate(),totalProveedores:t.$store.state.itemsDataTotalesProveedor,comentarios:t.comentarios,codigo_pago:t.codigo_pago,codigo_master:t.codigo_master,cuentas:t.selectedAccount,operador:t.$store.state.dataHouse_operador,conceptos:t.$store.state.itemsDataConceptos,selected:t.selected,totalSelected:t.total,number:e.data.data[0].number,url_logo:JSON.parse(sessionStorage.getItem("dataUser"))[0].path},o={method:"post",url:"https://api.agentedecargaonline.com/pdfSolicitud",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};A()(o).then((function(e){t._getTotalesProveedor(),t.$swal({icon:"success",title:"PDF Generado",text:"El PDF se descargará automaticamente"}),window.open("https://api.agentedecargaonline.com/"+e.data.path,"_blank")})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))},_calcularTotales(){if(this.selected.length>0){var t=this;t.total=0;let e=0;t.selected.map(a=>{e+=parseFloat(a.total_op),t.total=e.toFixed(2)})}else{t=this;t.total=0;let e=0;t.$store.state.itemsDataConceptos.map(a=>{e+=parseFloat(a.total_op),t.total=e.toFixed(2)})}},currentDate(){const t=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],e=new Date,a=`${e.getDate()} de ${t[e.getMonth()]} del ${e.getFullYear()}`;return a},_deleteServices(t){var e=this,a={id:t},o={method:"post",url:"https://api.agentedecargaonline.com/deleteServices",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};A()(o).then((function(t){200==t.data.status&&e._validaData()})).catch((function(t){console.log(t)}))},_validaData(){var t=this;if(t.$store.state.spiner=!0,t.$route.params.id_house){t.$store.state.house_Id_get=t.$route.params.id_house;var e={id:t.$route.params.id_house,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},a={method:"post",url:"https://api.agentedecargaonline.com/getHouseServices",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};A()(a).then((function(e){t.$store.state.itemsHouseServices=e.data.data})).catch((function(t){console.log(t)}))}t.$store.state.spiner=!1},async _getConceptosSimple(){var t=this,e={method:"post",url:"https://api.agentedecargaonline.com/getEgresosDivision/"+t.$route.params.id_orders+"/"+t.proveedorId,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(e).then((function(e){t.$store.state.itemsDataConceptos=e.data.data})).catch((function(t){console.log(t)}))},async _getConceptos(){var t=this,e={method:"post",url:"https://api.agentedecargaonline.com/getEgresosDivision/"+t.$route.params.id_orders+"/"+t.proveedorId,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(e).then((function(e){t.$store.state.itemsDataConceptos=e.data.data,t.dialogSolicitudDivision=!t.dialogSolicitudDivision})).catch((function(t){console.log(t)}))}},watch:{actualizar(){this._getTotalesProveedor()}}},Ei=$i,wi=(a("03e1"),Object(v["a"])(Ei,xi,Ti,!1,null,"ab2594d8",null)),Mi=wi.exports,Oi=function(){var t=this,e=t._self._c;return e("div",[e(l["a"],[e(d["a"],{attrs:{dense:""}},[e(n["a"],{attrs:{cols:"12"}},[e("h3",[t._v("Totales")])]),e(n["a"],{attrs:{cols:"12",md:"3"}},[e("p",[t._v("Total de Ingresos: "+t._s(this.$store.state.totalIngresos)+" USD")])]),e(n["a"],{attrs:{cols:"12",md:"3"}},[e("p",[t._v("Total de Costos: "+t._s(this.$store.state.totalEgresos)+" USD")])]),e(n["a"],{attrs:{cols:"12",md:"3"}},[e("p",[t._v(" Total de "+t._s(t.$store.state.enterprises.impuesto.nombre_impuesto)+": "+t._s(t.$store.state.dataTotalIGV?t.$store.state.dataTotalIGV:0)+" USD ")])]),e(n["a"],{attrs:{cols:"12",md:"3"}},[e("b",[t._v("Total PROFIT: "+t._s(((this.$store.state.totalIngresos?this.$store.state.totalIngresos:0)-(this.$store.state.totalEgresos?this.$store.state.totalEgresos:0)).toFixed(2))+" USD")])])],1)],1)],1)},Fi=[],Ai={name:"totales"},Ni=Ai,Di=Object(v["a"])(Ni,Oi,Fi,!1,null,"391d790d",null),Li=Di.exports,ji={name:"ControlGastos",components:{dataHouse:ui,ingresos:pi["default"],egresos:mi["default"],totales:Li,services:bi,totalesProveedor:Mi},data(){return{panel:[0],panels:[0],items:1,dataGastos:!0,dialogDebs:!1,dialogNewDebs:!1,dialogFacturar:!1,obtenerDatosHouse:!1,pathfile:"",payPath:"",payfile:"",boolFile:"",pathfileAll:"",itemsDebsClient:[],branch:[],id_branch:"",number:"",id_banks:"",id_coins:"",monto:"",comentario:"",datosFactura:[],date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),menu:!1,modal:!1,menu2:!1,headersdebs:[{text:"Documento",align:"start",sortable:!1,value:"name"},{text:"Fecha",value:"date"},{text:"Monto",value:"monto_letra"},{text:"Comentario de Admin.",value:"comentario_admin"},{text:"Status",value:"status"},{text:"Ver",value:"accion"}]}},computed:{...Object(_["c"])(["itemsDataControl"])},beforeMount(){this._getDebsClient()},methods:{...Object(_["b"])(["_setControl","_getIngresos","_getEgresos","_getBanksList","_getCoinsList"]),openDoc(t){window.open(t,"_blank")},all(){this.panel=[...Array(this.items).keys()].map((t,e)=>e)},_newDebs(){this.dialogNewDebs=!0},_openDebs(){this.dialogDebs=!0},async cargarBranch(){let t=this;var e={method:"get",url:"https://api.agentedecargaonline.com/CargarBranch/"+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_user,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(e).then((function(e){1==e.data.statusBol&&(t.branch=e.data.data)}))},abrirModalFacturar(){let t=this;t.dialogFacturar=!0},async obtenerDatos(){let t=this;t.obtenerDatosHouse=!0,t.datosFactura=[];var e={method:"get",url:`https://api.agentedecargaonline.com/data_factura/${t.$route.params.id_house}/${t.id_branch}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(e).then((function(e){1==e.data.statusBol&&(t.datosFactura=e.data.data[0])})),t.obtenerDatosHouse=!1},async generarDocumento(){let t=this;t.obtenerDatosHouse=!0;let e=t.datosFactura;var a={method:"post",url:"https://api.agentedecargaonline.com/factura",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};let o=await A()(a).then((function(t){return t}));1==o.data.statusBol&&(t.registrarFactura(o.data),t.dialogFacturar=!1,t.id_branch=""),t.obtenerDatosHouse=!1},async registrarFactura(t){let e=this,a={id_house:e.$route.params.id_house,nro_factura:t.nro_factura,url_documento:"https://api.agentedecargaonline.com/"+t.path,total_monto:e.datosFactura.total_monto,total_igv:e.datosFactura.total_igv,total:e.datosFactura.total};var o={method:"post",url:"https://api.agentedecargaonline.com/registrar_factura",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await A()(o),window.open("https://api.agentedecargaonline.com/"+t.path,"_blank")},cleandData(){this.date=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),this.number="",this.monto="",this.comentario="",this.payfile=[],this.payPath="",this.boolFile=!1},async _delDebsClient(t){var e=this,a={method:"post",url:"https://api.agentedecargaonline.com/delDebsClient/"+t,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(a).then((function(t){e._getDebsClient()})).catch((function(t){console.log(t)}))},async _setDebsClient(){var t=this;t.$swal({icon:"info",title:"Cargando pago...",text:"Por favor espere"});var e={id_house:t.$route.params.id_house,date:t.date,number:t.number,id_banks:t.id_banks,id_coins:t.id_coins,monto:t.monto,comentario_usuario:t.comentario,id_path:t.payPath,status:1},a={method:"post",url:"https://api.agentedecargaonline.com/setDebsClient",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){t.$swal({icon:"success",title:"Pago Cargado",text:"El pago ha sido cargado correctamente"}),t._getDebsClient(),t.cleandData(),t.dialogNewDebs=!1})).catch((function(t){console.log(t)}))},async _getDebsClient(){var t=this;let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/getDebsClient/"+t.$route.params.id_house,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){t.itemsDebsClient=e.data.data})).catch((function(t){console.log(t)}))},_uploadFile(){var t=a("5a30"),e=(a("3e8f"),new t),o=this;e.append("name","Prueba"),e.append("file",o.payfile);var i={method:"post",url:"https://api.agentedecargaonline.com/uploadAllPath",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};A()(i).then((function(t){o.boolFile=!0,o.payPath=JSON.stringify(t.data.data[0].insertid)})).catch((function(t){console.log(t)}))},async _generatePDF(){this.$swal({icon:"info",title:"Generando PDF...",text:"Por favor espere"}),""==this.$store.state.report_id_sentido||this.$store.state.report_id_sentido;var t={nombre_impuesto:this.$store.state.enterprises.impuesto.nombre_impuesto,nro_control:this.$store.state.dataControl_Numero,profit:((this.$store.state.totalTotalIngresos?this.$store.state.totalTotalIngresos:0)-(this.$store.state.totalTotalEgresos?this.$store.state.totalTotalEgresos:0)).toFixed(2),code_master:this.$store.state.dataHouse_code_master,code_house:this.$store.state.dataHouse_code_house,sentido:this.$store.state.dataHouse_modality,tipo_embarque:this.$store.state.dataHouse_shipment,puerto_origen:this.$store.state.dataHouse_port_begin,puerto_destino:this.$store.state.dataHouse_port_end,agente:this.$store.state.dataHouse_agente,consignatario:this.$store.state.dataHouse_consigners,notify:this.$store.state.dataHouse_notify,bultos:this.$store.state.dataHouse_bultos,peso:this.$store.state.dataHouse_peso,volumen:this.$store.state.dataHouse_volumen,itemsIngreso:this.$store.state.itemsDataIngresosList,itemsEgreso:this.$store.state.itemsDataEgresosList,itemsTotalesProveedores:this.$store.state.itemsDataTotalesProveedor,ruc:this.$store.state.dataHouse_ruc,totalIngreso:this.$store.state.totalIngresos,totalIngresoOp:this.$store.state.totalIngresosOp,totalEgreso:this.$store.state.totalEgresos,totalEgresoOp:this.$store.state.totalEgresosOp,exp:this.$store.state.dataHouse_exp,totalIgv:this.$store.state.dataHouse_exp,exp:this.$store.state.dataHouse_exp,totalIgvEgresos:this.$store.state.totalIgvEgresos,totalIgvEgresosOp:this.$store.state.totalIgvEgresosOp,totalTotalEgresos:this.$store.state.totalTotalEgresos,totalTotalEgresosOp:this.$store.state.totalTotalEgresosOp,totalIgvIngresos:this.$store.state.totalIgvIngresos,totalIgvIngresosOp:this.$store.state.totalIgvIngresosOp,totalTotalIngresos:this.$store.state.totalTotalIngresos,totalTotalIngresosOp:this.$store.state.totalTotalIngresosOp,gananciapr:((this.$store.state.totalTotalIngresos?this.$store.state.totalTotalIngresos:0)-(this.$store.state.totalTotalEgresos?this.$store.state.totalTotalEgresos:0)).toFixed(2),igvpr:Math.abs((this.$store.state.totalIgvIngresos-this.$store.state.totalIgvEgresos).toFixed(2)),subtotalpr:(this.$store.state.totalTotalIngresos-this.$store.state.totalTotalEgresos).toFixed(2),gananciaop:((this.$store.state.totalTotalIngresosOp?this.$store.state.totalTotalIngresosOp:0)-(this.$store.state.totalTotalEgresosOp?this.$store.state.totalTotalEgresosOp:0)).toFixed(2),igvop:Math.abs((this.$store.state.totalIgvIngresosOp-this.$store.state.totalIgvEgresosOp).toFixed(2)),subtotalop:(this.$store.state.totalTotalIngresosOp-this.$store.state.totalTotalEgresosOp).toFixed(2)},e={method:"post",url:"https://api.agentedecargaonline.com/getPdfInstructivo",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:t},a=this;await A()(e).then((function(t){a.$swal({icon:"success",title:"PDF Generado",text:"El PDF se descargará automaticamente"}),window.open("https://api.agentedecargaonline.com/INSTRUCTIVO.pdf","_blank")})).catch((function(t){console.log(t)}))}},mounted(){let t=this;this.$store.state.dataControl_id_house=this.$route.params.id_house,this.all(),this._getBanksList(),this._getCoinsList(),this.cargarBranch(),this.$route.params.id_control&&(this.$store.state.drawer=!1,this.$store.state.dataControl_id_user=JSON.parse(sessionStorage.getItem("dataUser"))[0].id),t.$store.state.drawer=!1}},Ri=ji,Bi=(a("6e84"),Object(v["a"])(Ri,ii,si,!1,null,"32eb0f6f",null)),Ui=Bi.exports,Gi={name:"controlEntities",components:{controlGastos:Ui}},Hi=Gi,Ji=Object(v["a"])(Hi,ei,ai,!1,null,null,null),Vi=Ji.exports,zi=function(){var t=this,e=t._self._c;return e("div",[e("listControlGastosCom")],1)},qi=[],Ki=function(){var t=this,e=t._self._c;return e("div",[e(r["a"],{attrs:{elevation:"10"}},[e(B["d"],[e(s["a"],{staticClass:"mb-2 ml-5",attrs:{color:"primary",elevation:"0",dark:"",rounded:""},nativeOn:{click:function(e){t.statusDialog=!t.statusDialog}}},[t._v(" NUEVO CONTROL ")]),e(T["a"]),e(p["a"],{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t.$store.state.dataGastos?t._e():e(l["a"],{staticStyle:{height:"400px"}},[e(d["a"],{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[e(n["a"],{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[t._v(" Cargando informacíon ")]),e(n["a"],{attrs:{cols:"6"}},[e(Jo["a"],{attrs:{color:"deep-purple accent-4",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1),t.$store.state.dataGastos?e(te["a"],{attrs:{headers:t.headers,items:t.itemsDataControlList,search:t.search},scopedSlots:t._u([{key:"item.actions",fn:function({item:a}){return[e(I["a"],{staticClass:"mr-2",attrs:{large:"",color:"blue"},on:{click:function(e){return t.editControlGasto(a)}}},[t._v(" mdi-eye ")]),e(I["a"],{staticClass:"mr-2",attrs:{large:"",color:"orange"},on:{click:function(e){return t.editControlGasto(a)}}},[t._v(" mdi-pencil ")])]}}],null,!0)}):t._e(),e(l["a"],[e(d["a"],[e(n["a"],[t.statusReport?e(s["a"],{attrs:{color:"primary",elevation:"0"}},[t._v("GENERAR REPORTE")]):t._e()],1)],1)],1)],1),e("modalListHouse",{attrs:{dialog:t.statusDialog}})],1)},Qi=[],Yi=function(){var t=this,e=t._self._c;return e("div",[e(U["a"],{attrs:{width:"1400"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(r["a"],[e(B["d"],{staticClass:"text-h5 grey lighten-2"},[t._v(" SELECCIONE UN HOUSE ")]),e(B["c"],[e("listHouse",{attrs:{statusList:"2"}})],1),e(G["a"]),e(B["a"],[e(T["a"]),e(s["a"],{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cerrar ")])],1)],1)],1)],1)},Xi=[],Zi={name:"modalListFile",props:{dialog:{type:Boolean,default:!1}},components:{listHouse:ba}},Wi=Zi,ts=Object(v["a"])(Wi,Yi,Xi,!1,null,null,null),es=ts.exports,as={name:"listMasterCom",components:{modalListHouse:es},props:{statusReport:Boolean},data(){return{search:"",statusDialog:!1,headers:[{text:"Master",value:"code_master"},{text:"Versión",value:"posicion"},{text:"Sentido",value:"namemodality"},{text:"Embarque",value:"nameshipment"},{text:"Origen",value:"nameportbegin"},{text:"Destino",value:"nameportend"},{text:"Consignatario",value:"nameconsigner"},{text:"Acciones",value:"actions"}]}},mounted(){this._getControlList()},computed:{...Object(_["c"])(["itemsDataControlList"])},methods:{...Object(_["b"])(["_getControlList"]),editControlGasto(t){this.$router.push({name:"editControlGasto",params:{id:t.id,id_branch:t.id_branch}})}}},os=as,is=Object(v["a"])(os,Ki,Qi,!1,null,null,null),ss=is.exports,rs={name:"listEntities",components:{listControlGastosCom:ss},mounted(){this.$store.state.mainTitle="LISTA DE CONTROL DE GASTOS"},data(){return{}}},ns=rs,ls=Object(v["a"])(ns,zi,qi,!1,null,null,null),cs=ls.exports,ds=function(){var t=this,e=t._self._c;return e("div",[e(l["a"],{attrs:{fluid:""}},[e(d["a"],[e(n["a"],{attrs:{cols:"12",md:"12"}},[e("list-request-payment",{attrs:{filtrarFlag:"false"}})],1)],1)],1)],1)},us=[],ps=a("9971"),ms=function(){var t=this,e=t._self._c;return e(l["a"],{attrs:{fluid:""}},[e(r["a"],{attrs:{elevation:"0"}},[e(B["d"],[e("h3",[t._v("REPORTE DE CUENTAS POR PAGAR")]),e(T["a"]),e(s["a"],{staticClass:"ml-5",attrs:{color:"primary",elevation:"0",small:"",plain:""},on:{click:function(e){t.offcanvas=!t.offcanvas}}},[e(I["a"],[t._v("mdi-filter-multiple")]),t._v(" FILTRAR ")],1),e(s["a"],{staticClass:"mx-1",attrs:{color:"#1D6F42",dark:"",loading:t.exportando,small:"",plain:""},on:{click:t.exportar}},[e(I["a"],[t._v("mdi-file-excel")]),t._v(" EXCEL")],1),e(s["a"],{staticClass:"ml-5",attrs:{color:"red",loading:t.exportandopdf,elevation:"0",small:"",plain:""},on:{click:function(e){return t.exportarPDF()}}},[e(I["a"],[t._v("mdi-file-pdf")]),t._v(" PDF")],1)],1),e(B["c"],[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 px-10"},[e("h5",[t._v("TOTAL OPERATIVO")]),e(te["a"],{attrs:{headers:t.cabTotalOperativo,items:t.totalOperativo,"hide-default-footer":""}})],1),e("div",{staticClass:"col-6 px-10"},[e("h5",[t._v("TOTAL ADMINISTRATIVO")]),e(te["a"],{attrs:{headers:t.cabTotalAdministrativo,items:t.totalAdministrativo,"hide-default-footer":""}})],1)]),t.dataList?e(te["a"],{attrs:{headers:t.headersdbp,items:t.itemsCpp,search:t.search,expanded:t.expanded,"single-expand":t.singleExpand,"item-key":"nameproveedor","show-expand":""},on:{"update:expanded":function(e){t.expanded=e},"click:row":t.clickRow},scopedSlots:t._u([{key:"item.nameproveedor",fn:function({item:a}){return[e("div",{staticClass:"d-flex"},[e("div",[t._v(t._s(a.nameproveedor))]),e(s["a"],{staticClass:"ml-auto",attrs:{small:"",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.mostrarComentariosOp(a)}}},[e(I["a"],{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-comment")]),t._v(" Comentarios ")],1)],1)]}},{key:"expanded-item",fn:function({item:a}){return[e("td",{attrs:{colspan:"11"}},[e(jt["a"],{staticStyle:{width:"100%"}},[e("thead",[e("tr",{staticStyle:{background:"#fff1cf"}},[e("th",[t._v("Expediente")]),e("th",[t._v("Correlativo Factura")]),e("th",[t._v("Correlativo Programación")]),e("th",[t._v("Cliente")]),e("th",[t._v("Facturas")]),e("th",[t._v("Fecha Disponibilidad")]),e("th",[t._v("Total a Pagar")]),e("th",[t._v("Status")])])]),e("tbody",t._l(a.details,(function(o,i){return e("tr",{key:i,staticStyle:{background:"#fff1cf"}},[e("td",[t._v(" "+t._s(o.nro_master)+" "),1==o.controlgastoegreso?e(I["a"],{on:{click:function(e){return t.editControl(o)}}},[t._v(" mdi-eye ")]):t._e(),0==o.programado?e(I["a"],{on:{click:function(e){return t.nuevaFecha({item:a,tipo:1})}}},[t._v("mdi-clock-outline")]):t._e()],1),e("td",[t._v(" "+t._s(o.code_correlativo)+" ")]),e("td",[t._v(" "+t._s(o.programado_correlativo)+" ")]),e("td",[t._v(" "+t._s(o.nameconsigner)+" ")]),e("td",[t._v(" "+t._s(o.expedientes)+" ")]),e("td",[t._v(" "+t._s(o.fecha_disponibilidad)+" ")]),e("td",[t._v(" "+t._s(o.symbol)+" "+t._s(parseFloat(o.total_pagar).toFixed(2))+" ")]),e("td",[t._v(" "+t._s(1==o.llegada?"LLEGADA":"NO LLEGADA")+" ")])])})),0)])],1)]}}],null,!0)}):t._e(),e(B["d"],{attrs:{"primary-title":""}},[t._v(" REPORTE DE CUENTAS POR PAGAR ADMINISTRATIVAS ")]),e(te["a"],{attrs:{search:t.search,headers:t.headersdbpa,items:t.itemsCppa,expanded:t.expandeda,"single-expand":t.singleExpanda,"item-key":"nameconsigner","show-expand":""},on:{"update:expanded":function(e){t.expandeda=e},"click:row":t.clickRowa},scopedSlots:t._u([{key:"item.nameconsigner",fn:function({item:a}){return[e("div",{staticClass:"d-flex"},[e("div",[t._v(t._s(a.nameconsigner))]),e(s["a"],{staticClass:"ml-auto",attrs:{small:"",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.mostrarComentariosAdmin(a)}}},[e(I["a"],{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-comment")]),t._v(" Comentarios ")],1)],1)]}},{key:"expanded-item",fn:function({item:a}){return[e("td",{attrs:{colspan:"11"}},[e(jt["a"],{staticStyle:{width:"100%"}},[e("thead",[e("tr",{staticStyle:{background:"#fff1cf"}},[e("th",[t._v("Acción")]),e("th",[t._v("Factura")]),e("th",[t._v("Fecha Registro")]),e("th",[t._v("Monto")]),e("th",[t._v(" "+t._s(t.$store.state.enterprises.impuesto.nombre_impuesto)+" ")]),e("th",[t._v("Total")])])]),e("tbody",t._l(a.details,(function(o){return e("tr",{key:o.id,staticStyle:{background:"#fff1cf"}},[e("td",[o.programado?e(I["a"],{on:{click:function(e){return t.nuevaFecha({item:a,tipo:2})}}},[t._v("mdi-clock-outline")]):t._e()],1),e("td",[t._v(" "+t._s(o.nro_factura)+" ")]),e("td",[t._v(t._s(o.fecha))]),e("td",[t._v(t._s(o.symbol)+" "+t._s(o.monto))]),e("td",[t._v(t._s(o.symbol)+" "+t._s(o.igv))]),e("td",[t._v(t._s(o.symbol)+" "+t._s(o.total))])])})),0)])],1)]}}],null,!0)})],1)],1),e(U["a"],{attrs:{persistent:"",width:"70%"},model:{value:t.dialogComentarios,callback:function(e){t.dialogComentarios=e},expression:"dialogComentarios"}},[e(r["a"],[e(B["d"],[t._v(" Estados/Comentarios de la CxP - "+t._s(t.dataCXP.proveedor)+" "),e(T["a"]),t.dataCXP.esoperativo?[e(s["a"],{attrs:{rounded:"",small:"",color:"primary"},on:{click:t.agregarComentarioOp}},[t._v("Nuevo Comentario")])]:t.dataCXP.esadministrativo?[e(s["a"],{attrs:{rounded:"",small:"",color:"primary"},on:{click:t.agregarComentarioAdmin}},[t._v("Nuevo Comentario")])]:t._e()],2),e(B["c"],[e(te["a"],{staticClass:"elevation-1",attrs:{headers:t.headersLstComentarios,items:t.lstComentarios,loading:t.loadingDataTableComentarios}})],1),e(B["a"],[e(T["a"]),e(s["a"],{attrs:{small:"",color:"error"},on:{click:function(e){t.dialogComentarios=!t.dialogComentarios}}},[t._v("Cerrar")])],1)],1)],1),e(U["a"],{attrs:{persistent:"",width:"50%"},model:{value:t.dialogNuevoComentario,callback:function(e){t.dialogNuevoComentario=e},expression:"dialogNuevoComentario"}},[e(r["a"],[e(B["d"],[t._v(" Registro de Estado/Comentario de la CxP - "+t._s(t.dataCXP.proveedor)+" "),e(T["a"]),e(s["a"],{attrs:{icon:"",color:"default"},on:{click:function(e){t.dialogNuevoComentario=!t.dialogNuevoComentario}}},[e(I["a"],[t._v("mdi-close")])],1)],1),e(B["c"],[e(c["a"],{ref:"frmComentario"},[e(p["a"],{attrs:{dense:"",label:"Fecha",type:"date",readonly:""},model:{value:t.comentario.fecha,callback:function(e){t.$set(t.comentario,"fecha",e)},expression:"comentario.fecha"}}),e(Lt["a"],{attrs:{dense:"",label:"Ejecutivo",items:t.$store.state.pricing.listEjecutivo,"item-text":"name","item-value":"id_entitie","item-key":"id_entitie",rules:[t=>!!t||"Dato requerido"],readonly:""},model:{value:t.comentario.id_ejecutivo,callback:function(e){t.$set(t.comentario,"id_ejecutivo",e)},expression:"comentario.id_ejecutivo"}}),e(Rt["a"],{attrs:{dense:"",label:"Estado/Comentario",rows:"4","auto-grow":"",rules:[t=>!!t||"Dato requerido"]},model:{value:t.comentario.texto,callback:function(e){t.$set(t.comentario,"texto",e)},expression:"comentario.texto"}})],1)],1),e(B["a"],[e(T["a"]),e(s["a"],{attrs:{small:"",color:"success",loading:t.loadingBotonGuardarComentario},on:{click:t.guardarComentario}},[t._v("Guardar")])],1)],1)],1),e(U["a"],{attrs:{"max-width":"400"},model:{value:t.dialogPdf,callback:function(e){t.dialogPdf=e},expression:"dialogPdf"}},[e(r["a"],[e(B["d"],[t._v(" Opción de PDF ")]),e(B["c"],[e(ue["a"],{model:{value:t.radiopdf,callback:function(e){t.radiopdf=e},expression:"radiopdf"}},[e(de["a"],{attrs:{value:"1",label:"Reporte Simple"}}),e(de["a"],{attrs:{value:"2",label:"Reporte Detallado"}})],1)],1),e(B["a"],[""!=t.radiopdf?e(s["a"],{attrs:{color:"primary",outlined:""},on:{click:function(e){return t._exportPdf()}}},[t._v(" EXPORTAR ")]):t._e(),e(T["a"]),e(s["a"],{attrs:{color:"red",outlined:""},on:{click:function(e){t.dialogPdf=!1}}},[t._v("Cerrar")])],1)],1)],1),e(U["a"],{attrs:{scrollable:"",persistent:"","max-width":"70%"},model:{value:t.dialogNuevoPago,callback:function(e){t.dialogNuevoPago=e},expression:"dialogNuevoPago"}},[e(r["a"],[e(B["d"],{attrs:{"primary-title":""}},[t._v(" Programación de Pago del Proveedor "+t._s(t.nameProveedor)+" "),e(T["a"]),e(s["a"],{attrs:{icon:"",color:"default"},on:{click:function(e){t.dialogNuevoPago=!t.dialogNuevoPago}}},[e(I["a"],[t._v("mdi-close")])],1)],1),e(B["c"],[e(d["a"],[t.nuevaFechaFlag?t._e():e(n["a"],{attrs:{cols:"3"}},[e(Lt["a"],{attrs:{items:t.$store.state.programaciones.listProgramacion.filter(t=>0!=t.programend_id),"item-text":"programend_fecha","item-value":"programend_id"},model:{value:t.programend_id,callback:function(e){t.programend_id=e},expression:"programend_id"}})],1),t.nuevaFechaFlag?e(n["a"],{attrs:{cols:"3"}},[e(p["a"],{attrs:{type:"date"},model:{value:t.fechaNuevaProgramacion,callback:function(e){t.fechaNuevaProgramacion=e},expression:"fechaNuevaProgramacion"}})],1):t._e(),e(n["a"],{attrs:{cols:"3"}},[e(T["a"]),e(s["a"],{attrs:{color:"success",disabled:0==t.selected.length},on:{click:function(e){return t.enviarProgramacion()}}},[t._v("Programar")])],1),e(n["a"],{attrs:{cols:"12"}},[e(te["a"],{staticClass:"elevation-0",attrs:{headers:t.headerProgramacion,items:t.details,"item-key":"index","show-select":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)],1)],1)],1),t.offcanvas?e(x["a"],{attrs:{absolute:"",bottom:"",right:"",width:"20%"},model:{value:t.offcanvas,callback:function(e){t.offcanvas=e},expression:"offcanvas"}},[e(r["a"],[e(B["d"],{attrs:{"primary-title":""}},[t._v(" FILTRO PAGOS ")]),e(B["c"],[e(d["a"],[e(n["a"],{staticClass:"py-0 my-0",attrs:{cols:"12"}},[e(Lt["a"],{attrs:{clearable:"",label:"Proveedores",items:t.provedores,"item-text":"namelong","item-value":"id",multiple:"",chips:"",outlined:"",dense:""},model:{value:t.proveedorOp,callback:function(e){t.proveedorOp=e},expression:"proveedorOp"}})],1),e(n["a"],{staticClass:"py-0 my-0",attrs:{cols:"12"}},[e(p["a"],{attrs:{name:"name",label:"Nro Expediente",clearable:"",outlined:"",dense:""},model:{value:t.nro_expediente,callback:function(e){t.nro_expediente=e},expression:"nro_expediente"}})],1),e(n["a"],{staticClass:"py-0 my-0",attrs:{cols:"12"}},[e(Lt["a"],{attrs:{clearable:"",label:"Gasto",items:t.$store.state.gastos.list,"item-text":"description","item-value":"id",multiple:"","small-chips":"",dense:"",outlined:""},model:{value:t.gasto,callback:function(e){t.gasto=e},expression:"gasto"}})],1),e(n["a"],{staticClass:"py-0 my-0",attrs:{cols:"12"}},[e(Lt["a"],{attrs:{clearable:"",label:"Sub Gasto",items:t.$store.state.subgasto.lstSubGasto,"item-text":"description","item-value":"id",multiple:"","small-chips":"",dense:"",outlined:""},model:{value:t.subgasto,callback:function(e){t.subgasto=e},expression:"subgasto"}})],1),e(n["a"],{staticClass:"py-0 my-0",attrs:{cols:"12"}},[e(p["a"],{attrs:{label:"Fecha Hasta",type:"date",clearable:"",outlined:"",dense:""},model:{value:t.fechaOp,callback:function(e){t.fechaOp=e},expression:"fechaOp"}})],1),e(n["a"],{staticClass:"py-0 my-0",attrs:{cols:"12"}},[e("p",{staticClass:"py-0 my-0"},[t._v("Estado:")]),e(ue["a"],{staticClass:"py-0 my-0",attrs:{dense:"",row:""},model:{value:t.llegadaOp,callback:function(e){t.llegadaOp=e},expression:"llegadaOp"}},[e(de["a"],{attrs:{label:"Llegada",value:"1"}}),e(de["a"],{attrs:{label:"No llegada",value:"0"}})],1)],1)],1)],1)],1),e(r["a"],[e(B["a"],[e(s["a"],{attrs:{color:"success",medium:""},on:{click:t.filtrar}},[t._v("Aceptar")]),e(s["a"],{attrs:{color:"error",medium:""},on:{click:t.limpiar}},[t._v("Limpiar")]),e(s["a"],{attrs:{color:"info",medium:""},on:{click:function(e){t.offcanvas=!t.offcanvas}}},[t._v(" Cancelar ")])],1)],1)],1):t._e()],1)},hs=[],_s=(a("2e92"),{name:"debstoPay",components:{newProgrammedPayment:()=>a.e("chunk-2d0b60d1").then(a.bind(null,"1c09"))},data:()=>({moneda:"",gasto:"",subgasto:"",nuevaFechaFlag:!1,nameProveedor:"",proveedorOp:"",llegadaOp:"",fechaOp:"",id_master:"",id_proveedor:"",nro_expediente:"",filtroOp:{proveedorOp:"",llegadaOp:"",fechaOp:""},proveedorAd:"",llegadaAd:"",fechaAd:"",filtroAd:{proveedorAd:"",llegadaAd:"",fechaAd:""},dialogNuevoPago:!1,overlay:!1,tab:null,dataCpp:!1,dataCppa:!1,itemsCpp:[],itemsCppa:[],search:"",cabTotalOperativo:[{text:"Operativo",value:"moneda"},{text:"Llegados",value:"llegada"},{text:"No Llegado",value:"no_llegada"},{text:"Total",value:"total"}],totalOperativo:[],cabTotalAdministrativo:[{text:"Administrativo",value:"moneda"},{text:"Nonto",value:"monto"},{text:"IGV",value:"igv"},{text:"Total",value:"total"}],offcanvas:!1,totalAdministrativo:[],expanded:[],expandeda:[],expand:[],expanda:[],date:["",""],value:0,radio:1,menu:!1,modal:!1,menu2:!1,radiopdf:"",dialogPdf:!1,exportando:!1,exportandopdf:!1,singleExpand:!1,singleExpanda:!1,dataList:!1,details:[],fechaNuevaProgramacion:it()(new Date).format("YYYY-MM-DD"),headersdbp:[{text:"PROVEEDOR OPERATIVO",align:"start",sortable:!0,value:"nameproveedor",class:"hProveedor"},{text:"LLEGADAS",value:"restante_llegada",class:"hLlegada",sortable:!1},{text:"NO LLEGADAS",value:"restante_no_llegada",class:"hNoLlegada",sortable:!1},{text:"GENERAL",value:"restante_pagar",class:"hGeneral",sortable:!1},{text:"",value:"data-table-expand"}],headersdbpa:[{text:"Proveedor",align:"start",sortable:!1,value:"nameconsigner"},{text:"Pendiente por Pagar",value:"pendiente_pago"},{text:"",value:"data-table-expand"}],headerProgramacion:[{text:"Expediente",value:"nro_master"},{text:"Consignatario",value:"nameconsigner"},{text:"Fecha Disponibilidad",value:"fecha_disponibilidad"},{text:"Moneda",value:"symbol"},{text:"Monto Pagar",value:"total_pagar"}],id:"",tipo:"",selected:[],programend_id:null,otro:!1,loadingBotonGuardarComentario:!1,loadingDataTableComentarios:!1,dialogComentarios:!1,dialogNuevoComentario:!1,headersLstComentarios:[{text:"Fecha",value:"fecha",width:"15%"},{text:"Ejecutivo",value:"ejecutivo",width:"30%"},{text:"Comentario",value:"comentario",width:"55%"}],comentario:{fecha:it()().format("YYYY-MM-DD"),id_ejecutivo:JSON.parse(sessionStorage.getItem("dataUser"))?JSON.parse(sessionStorage.getItem("dataUser"))[0].id:"",ejecutivo:JSON.parse(sessionStorage.getItem("dataUser"))?JSON.parse(sessionStorage.getItem("dataUser"))[0].nombrecompleto:"",texto:"",esoperativo:!1,esadministrativo:!1},dataCXP:{},lstComentarios:[]}),async mounted(){this.moneda=JSON.parse(sessionStorage.getItem("dataBranch"))[0].moneda[0].acronym,this.offcanvas=!1,await this.obtenerImpuestoXEmpresa(),this.$store.state.spiner=!0,this.cabTotalAdministrativo[2].text=this.$store.state.enterprises.impuesto.nombre_impuesto,await this._getDebsToPay(),await this._getDebsToPayAdmin(),this.$store.state.spiner=!1,await this.getModulesEntities(),await this.cargarProveedores(),await this.cargarGasto(),await this.GetListSubGasto(),this.programend_id=(this.$store.state.programaciones.listProgramacion.filter(t=>1==t.programend_select)[0]||{}).programend_id},watch:{cerrar(){}},computed:{...Object(_["c"])(["provedores","refreshReport","listProgramacion"]),dateRange(){return this.date.join(" ~ ")}},methods:{...Object(_["b"])(["cargarProveedores","GetTotalCotizacion","getModulesEntities","obtenerImpuestoXEmpresa","cargarGasto","GetListSubGasto"]),nuevaFecha({item:t=null,tipo:e=null}){this.$swal({icon:"question",title:"¿Deseas agregar el pago a una programación que ya existe o crear una nueva?",confirmButtonText:"Agregar a una programación que ya existe",denyButtonText:"Crear una Programación Nueva",showDenyButton:!0,showCancelButton:!0}).then(a=>{a.isConfirmed&&(this.programar({item:t,tipo:e}),this.nuevaFechaFlag=!1),a.isDenied&&(this.programend_id=0,this.nuevaFechaFlag=!0,this.programar({item:t,tipo:e}))})},viewPDF(){this.dialogPdf=!0},_cleanFilter(){this.date=["",""],this.radio=""},editControl(t){window.open(`/home/folderBilling/editControlGastos/view/${t.id}/${t.id_branch}`,"Instructivo","width=1593,height=1293","menubar=no","location=no","resizable=no")},sumField(t){return this.itemsCpp.reduce((e,a)=>e+parseFloat(a[t]||0),0)},sumFieldA(t){return this.itemsCppa.reduce((e,a)=>e+parseFloat(a[t]||0),0)},clickRow(t,e){if(e.isExpanded){const e=this.expanded.findIndex(e=>e===t);this.expanded.splice(e,1)}else this.expanded.push(t)},clickRowa(t,e){if(e.isExpandeda){const e=this.expandeda.findIndex(e=>e===t);this.expandeda.splice(e,1)}else this.expandeda.push(t)},async _exportPdf(){var t=this;let e;t.$swal({icon:"info",title:"Generando PDF",text:"Espere... "}),""==t.radio?e="Todos":1==t.radio?e="Vencidas":0==t.radio&&(e="No Vencidas");var a={itemsCpp:t.itemsCpp,total_pagar:Intl.NumberFormat().format(t.sumField("total_pagar").toFixed(2)),total_pagado:Intl.NumberFormat().format(t.sumField("total_pagado").toFixed(2)),total_restante:Intl.NumberFormat().format(t.sumField("restante_pagar").toFixed(2)),total_pagar_llegada:Intl.NumberFormat().format(t.sumField("total_pagar_llegada").toFixed(2)),total_pagado_llegada:Intl.NumberFormat().format(t.sumField("total_pagado_llegada").toFixed(2)),total_restante_llegada:Intl.NumberFormat().format(t.sumField("restante_llegada").toFixed(2)),total_pagar_no_llegada:Intl.NumberFormat().format(t.sumField("total_pagar_no_llegada").toFixed(2)),total_pagado_no_llegada:Intl.NumberFormat().format(t.sumField("total_pagado_no_llegado").toFixed(2)),total_restante_no_llegada:Intl.NumberFormat().format(t.sumField("restante_pagar_no_llegada").toFixed(2)),fecha:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),dateRange:t.dateRange,status:e,totalOperativo:t.totalOperativo,totalAdministrativo:t.totalAdministrativo};let o;1==t.radiopdf?o="pdfcxp":2==t.radiopdf&&(o="pdfcxpD");var i={method:"post",url:"https://api.agentedecargaonline.com/"+o,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await A()(i).then((function(e){t.$swal({icon:"success",title:"PDF Generado",text:"El PDF se descargará automaticamente"}),t.dialogPdf=!1,window.open("https://api.agentedecargaonline.com/"+e.data.path,"_blank")})).catch((function(t){console.log(t)}))},async _getDebsToPay(){var t=this;t.overlay=!0,t.itemsCpp=[],setInterval(()=>{t.value=t.value+3},1e3),t.dataList=!1;var e={method:"get",url:`https://api.agentedecargaonline.com/getReporteCXP?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_proveedor=${this.proveedorOp?this.proveedorOp:""}&llegada=${this.llegadaOp?this.llegadaOp:""}&desde=&hasta=${this.fechaOp?this.fechaOp:""}&nro_expediente=${this.nro_expediente}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(e).then((function(e){t.itemsCpp=e.data.data,t.dataList=!0,t.calcularTotalOperativo({data:e.data.data})})).catch((function(t){console.log(t)})),t.overlay=!1},async _getDebsToPayAdmin(){var t=this;t.overlay=!0;var e={method:"get",url:`https://api.agentedecargaonline.com/getDebsToPayAdmin?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_proveedor=${this.proveedorOp?this.proveedorOp:""}&llegada=${this.llegadaOp?this.llegadaOp:""}&desde=&hasta=${this.fechaOp?this.fechaOp:""}&nro_expediente=${this.nro_expediente}&id_gasto=${this.gasto?this.gasto:""}&id_subgasto=${this.subgasto?this.subgasto:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(e).then((function(e){t.itemsCppa=e.data.data,t.$store.state.drawer=!1,setTimeout(()=>{t.calcularTotalAdministrativo({data:e.data.data})},100)})).catch((function(t){console.log(t)})),t.overlay=!1,t.offcanvas=!1},async _getDebsToPayFilter(){var t=this;t.dataList=!1;var e={date_begin:t.date[0],date_end:t.date[1]},a={method:"post",url:"https://api.agentedecargaonline.com/getDebsToPayFilter",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){t.itemsCpp=e.data.data,t.dataList=!0,t.$store.state.drawer=!1})).catch((function(t){console.log(t)}))},calcularTotalOperativo({data:t}){this.totalOperativo=[];let e=0,a=0,o=0,i=0,s=0,r=0;t&&t.forEach(t=>{t.details.forEach(t=>{"USD"==t.symbol?(0==t.llegada&&(e+=parseFloat(t.total_pagar),o+=parseFloat(t.total_pagar)),1==t.llegada&&(a+=parseFloat(t.total_pagar),o+=parseFloat(t.total_pagar))):(0==t.llegada&&(s+=parseFloat(t.total_pagar),r+=parseFloat(t.total_pagar)),1==t.llegada&&(i+=parseFloat(t.total_pagar),r+=parseFloat(t.total_pagar)))})}),this.totalOperativo.push({moneda:"USD",llegada:parseFloat(a).toFixed(2),no_llegada:parseFloat(e).toFixed(2),total:parseFloat(o).toFixed(2)},{moneda:this.moneda,llegada:parseFloat(i).toFixed(2),no_llegada:parseFloat(s).toFixed(2),total:parseFloat(r).toFixed(2)})},calcularTotalAdministrativo({data:t}){this.totalAdministrativo=[];let e=0,a=0,o=0,i=0,s=0,r=0;t&&t.forEach(t=>{t.details.forEach(t=>{"USD"==t.symbol?(e+=parseFloat(t.monto),a+=parseFloat(t.igv),o+=parseFloat(t.total)):(i+=parseFloat(t.monto),s+=parseFloat(t.igv),r+=parseFloat(t.total))})}),this.totalAdministrativo.push({moneda:"USD",monto:parseFloat(e).toFixed(2),igv:parseFloat(a).toFixed(2),total:parseFloat(o).toFixed(2)},{moneda:this.moneda,monto:parseFloat(i).toFixed(2),igv:parseFloat(s).toFixed(2),total:parseFloat(r).toFixed(2)}),this.$store.state.spiner=!1},programar({item:t=null,tipo:e=1}){this.selected=[],this.tipo=e;let a=0;switch(e){case 1:this.headerProgramacion=[{text:"Expediente",value:"nro_master"},{text:"Consignatario",value:"nameconsigner"},{text:"Fecha Disponibilidad",value:"fecha_disponibilidad"},{text:"Moneda",value:"symbol"},{text:"Monto Pagar",value:"total_pagar"}],this.nameProveedor=t.nameproveedor,this.details=t.details.filter(t=>0==t.programado),this.details.forEach(t=>{t.index=a,a++});break;case 2:this.headerProgramacion=[{text:"Consignatario",value:"nameconsigner"},{text:"Fecha Registro",value:"fecha"},{text:"Moneda",value:"symbol"},{text:"Monto Pagar",value:"monto"}],this.nameProveedor=t.nameconsigner,this.details=t.details.filter(t=>1==t.programado),this.details.forEach(t=>{t.index=a,a++});default:break}this.dialogNuevoPago=!0},async enviarProgramacion(){var t=this;let e={id:t.programend_id,tipo:t.tipo,fecha:t.fechaNuevaProgramacion,details:t.selected,id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/setProgrammedPayment",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){t.$swal({icon:"info",title:"Aviso",text:e.data.mensaje}).then(e=>{e.isConfirmed&&(t.limpiar(),t.dialogNuevoPago=!1)})})).catch((function(t){console.log(t)}))},async filtrar(){this.$store.state.spiner=!0,await this._getDebsToPay(),await this._getDebsToPayAdmin(),this.$store.state.spiner=!1,this.offcanvas=!1},async limpiar(){this.$store.state.spiner=!0,this.proveedorOp="",this.llegadaOp="",this.fechaOp="",this.nro_expediente="",await this._getDebsToPay(),await this._getDebsToPayAdmin(),this.$store.state.spiner=!1,this.offcanvas=!1},async exportar(){let t=this;t.exportando=!0;var e={method:"get",url:`https://api.agentedecargaonline.com/reportcxpexcel?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_proveedor=${this.proveedorOp?this.proveedorOp:""}&llegada=${this.llegadaOp?this.llegadaOp:""}&desde=&hasta=${this.fechaOp?this.fechaOp:""}&nro_expediente=${this.nro_expediente}&nombre_impuesto=${this.$store.state.enterprises.impuesto.nombre_impuesto}&moneda=${this.moneda}&id_gasto=${this.gasto?this.gasto:""}&id_subgasto=${this.subgasto?this.subgasto:""}`,responseType:"blob",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"blob"}};await A()(e).then((function(t){const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download",`Reporte CxP - ${Date.now()}.xlsx`),document.body.appendChild(a),a.click()})).catch((function(t){console.log(t)})),t.exportando=!1},async exportarPDF(){at.a.fire({icon:"question",title:"¿Cómo deseas generar el PDF del reporte?",text:"Elige cómo deseas generar el PDF del reporte de cuentas por pagar:",showConfirmButton:!0,confirmButtonText:"Generar",showDenyButton:!0,denyButtonText:"Cancelar",allowOutsideClick:!1,input:"radio",inputOptions:{1:"Generar PDF por Fecha de Vencimiento",2:"Generar PDF por Proveedor"},inputValidator:t=>{if(!t)return"Debe seleccionar una opción"}}).then(async t=>{if(t.isConfirmed){let a=t.value,o=this;o.exportandopdf=!0;var e={method:"get",url:`https://api.agentedecargaonline.com/exportarPDFCXP?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_proveedor=${this.proveedorOp?this.proveedorOp:""}&llegada=${this.llegadaOp?this.llegadaOp:""}&desde=&hasta=${this.fechaOp?this.fechaOp:""}&nro_expediente=${this.nro_expediente}&tipo_reporte=${a||""}&nombre_impuesto=${this.$store.state.enterprises.impuesto.nombre_impuesto}&id_gasto=${this.gasto?this.gasto:""}&id_subgasto=${this.subgasto?this.subgasto:""}`,responseType:"blob",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"blob"}};await A()(e).then((function(t){const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download",`Reporte CxP - ${Date.now()}.pdf`),document.body.appendChild(a),a.click()})).catch((function(t){console.log(t)})),o.exportandopdf=!1}})},async mostrarComentariosOp(t={}){var e=this;e.dataCXP={...t,proveedor:t.nameproveedor?t.nameproveedor:"",esoperativo:!0,esadministrativo:!1},e.dialogComentarios=!this.dialogComentarios,await e.getComentarios()},agregarComentarioOp(){var t=this;t.comentario={...t.comentario,id_proveedor:t.dataCXP.id?t.dataCXP.id:null,esoperativo:!0,esadministrativo:!1},t.dialogNuevoComentario=!t.dialogNuevoComentario},async mostrarComentariosAdmin(t={}){var e=this;e.dataCXP={...t,id:t.id_proveedor?t.id_proveedor:null,proveedor:t.nameconsigner?t.nameconsigner:"",esoperativo:!1,esadministrativo:!0},e.dialogComentarios=!this.dialogComentarios,await e.getComentarios()},agregarComentarioAdmin(){var t=this;t.comentario={...t.comentario,id_proveedor:t.dataCXP.id?t.dataCXP.id:null,esoperativo:!1,esadministrativo:!0},t.dialogNuevoComentario=!t.dialogNuevoComentario},async getComentarios(){var t=this;t.lstComentarios=[],t.loadingDataTableComentarios=!0;var e={method:"get",url:"https://api.agentedecargaonline.com/listarComentariosCXP?id_proveedor="+t.dataCXP.id,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(e).then((function(e){if(sessionStorage.setItem("auth-token",e.data.token),"401"==e.data.status)at.a.fire({icon:"error",text:e.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))});else if(e.data.estadoflag){const a=e.data.data;t.dataCXP.esoperativo?t.lstComentarios=a.filter(t=>!!t.esoperativo):t.dataCXP.esadministrativo&&(t.lstComentarios=a.filter(t=>!!t.esadministrativo))}else t.lstComentarios=[]})),t.loadingDataTableComentarios=!1},async guardarComentario(){var t=this;if(t.$refs.frmComentario.validate()){t.loadingBotonGuardarComentario=!0;var e={method:"post",url:"https://api.agentedecargaonline.com/insertarComentarioCXP",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:t.comentario};await A()(e).then((async function(e){sessionStorage.setItem("auth-token",e.data.token),e.data.estadoflag?(at.a.fire({icon:"success",text:e.data.mensaje}),await t.getComentarios()):at.a.fire({icon:"error",text:e.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==e.data.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})})),t.loadingBotonGuardarComentario=!1,t.dialogNuevoComentario=!t.dialogNuevoComentario,t.comentario.texto=""}}}}),gs=_s,fs=(a("6a32"),Object(v["a"])(gs,ms,hs,!1,null,null,null)),vs=fs.exports,bs={name:"controlRequest",components:{ListRequestPayment:ps["default"],debstoPay:vs}},Cs=bs,ks=Object(v["a"])(Cs,ds,us,!1,null,null,null),Ss=ks.exports,ys=function(){var t=this,e=t._self._c;return e("div",[e("ControlPaymentFile")],1)},Is=[],Ps=function(){var t=this,e=t._self._c;return e("div",[e(r["a"],{attrs:{elevation:"0"}},[e(B["d"],[t._v(" Pagar Expedientes sin Solicitud "),e(T["a"]),e(p["a"],{attrs:{label:"Buscar"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e(B["c"],[t.$store.state.dataHouse?e(te["a"],{attrs:{headers:t.headers,items:t.itemsHouseListAll,search:t.search},scopedSlots:t._u([{key:"item.actions",fn:function({item:a}){return["2"!=t.statusList?e(I["a"],{staticClass:"mr-2",attrs:{large:"",color:"dark"},on:{click:function(e){return t.setPayment(a.id,a.nro_master,a.nameconsigner)}}},[t._v(" mdi-cash-check ")]):t._e()]}}],null,!0)}):t._e()],1)],1),e(U["a"],{attrs:{"max-width":"900"},model:{value:t.dialogPayment,callback:function(e){t.dialogPayment=e},expression:"dialogPayment"}},[e(r["a"],[e(B["d"],[t._v(" Procesar pago para el Expediente "+t._s(t.nro_master)+" de "+t._s(t.nameconsigner)+" ")]),e(B["c"],[e(l["a"],{attrs:{fluid:""}},[e(d["a"],{attrs:{dense:""}},[e(n["a"],{attrs:{cols:"12"}},[e(te["a"],{staticClass:"elevation-0",attrs:{headers:t.headersEgresos,items:t.itemsEgresos,"item-key":"id","show-select":""},scopedSlots:t._u([{key:"item.data-table-select",fn:function({item:t,isSelected:a,select:o}){return[e(Ci["a"],{attrs:{value:a,readonly:1==t.pagado,disabled:1==t.pagado},on:{input:function(t){return o(t)}}})]}},{key:"item.status",fn:function({item:a}){return[1==a.pagado?e(Wt["a"],{staticClass:"ma-2",attrs:{color:"green",small:"","text-color":"white"}},[t._v(" "+t._s(1==a.status?"Pagado":"")+" ")]):t._e(),1==a.pagado?e(I["a"],{staticClass:"btn__add mr-2",attrs:{dense:"",large:"",color:"grey"},nativeOn:{click:function(e){return t.openPaymentFile(a.path)}}},[t._v("mdi-eye")]):t._e()]}}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(V["a"],{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(p["a"],t._g(t._b({attrs:{label:"Fecha de Operación","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",o,!1),a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e(za["a"],{attrs:{locale:"es-pe","no-title":"",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[e(T["a"]),e(s["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),e(s["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v(" OK ")])],1)],1)],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{label:"No. Operación"},model:{value:t.payoperacion,callback:function(e){t.payoperacion=e},expression:"payoperacion"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsDataBanksList,"item-text":"acronym","item-value":"id",label:"Banco"},model:{value:t.paybanco,callback:function(e){t.paybanco=e},expression:"paybanco"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsCoinsList,"item-text":"acronym","item-value":"id",label:"Moneda"},model:{value:t.paymoneda,callback:function(e){t.paymoneda=e},expression:"paymoneda"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(p["a"],{attrs:{type:"number",label:"Monto"},model:{value:t.paymonto,callback:function(e){t.paymonto=e},expression:"paymonto"}})],1),e(n["a"],{attrs:{cols:"12",md:"9"}},[t.boolFile?t._e():e(oi["a"],{attrs:{"show-size":"",label:"Adjuntar Pago"},model:{value:t.payfile,callback:function(e){t.payfile=e},expression:"payfile"}}),t.boolFile?e(Wt["a"],{attrs:{block:"",large:"",color:"success",outlined:""}},[e(I["a"],{attrs:{left:""}},[t._v(" mdi-check ")]),t._v(" Archivo cargado éxitosamente ")],1):t._e()],1),e(n["a"],{attrs:{cols:"3"}},[e(s["a"],{staticClass:"ma-2 white--text",attrs:{disabled:t.boolFile||t.payfile==[],color:"blue-grey",block:"",large:""},on:{click:function(e){return t._uploadFile()}}},[t._v(" Subir "),e(I["a"],{attrs:{right:"",dark:""}},[t._v(" mdi-cloud-upload ")])],1)],1)],1)],1)],1),e(B["a"],[e(s["a"],{attrs:{color:"primary",disabled:!t.boolFile},on:{click:function(e){return t._setSPaymentFile()}}},[t._v("GUARDAR PAGO")]),e(T["a"]),e(s["a"],{attrs:{outlined:"",color:"red"},on:{click:function(e){t.dialogPayment=!t.dialogPayment}}},[t._v("Cerrar")])],1)],1)],1)],1)},xs=[],Ts={name:"ControlPaymentFile",data:()=>({search:"",dialogPayment:!1,nameconsigner:"",radio:1,boolFile:!1,dialogListInvoince:!1,ayoperacion:"",paybanco:"",paymoneda:"",paymonto:"",payfile:"",payPath:"",payfile:"",pathfile:"",paymentname:"",paymentMaster:"",paymentmonto:"",payPath:"",item:"",pathfileAll:"",date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),menu:!1,modal:!1,menu2:!1,id_house:"",nro_master:"",itemsEgresos:[],selected:[],headersEgresos:[{text:"Concepto",value:"concepto"},{text:"Monto Pricing",value:"total_pr"},{text:"Monto Operaciones",value:"total_op"},{text:"Status",value:"status"}],headers:[{text:"Master",value:"code_master"},{text:"Codigo",align:"start",value:"code_house"},{text:"Expediente",value:"nro_master"},{text:"Sentido",value:"namemodality"},{text:"Origen",value:"nameportbegin"},{text:"Destino",value:"nameportend"},{text:"Consignatario",value:"nameconsigner"},{text:"Fecha Disponibilidad",value:"fecha_disponibilidad"},{text:"Notify",value:"namenotify"},{text:"Pagado",value:"pagadode"},{text:"Pagar",value:"actions"}]}),mounted(){this._getHouseListAll()},computed:{...Object(_["c"])(["itemsHouseListAll"])},methods:{...Object(_["b"])(["_getHouseListAll","_getHouseListAll"]),editHouse(t){this.$router.push("/home/folderHouse/control/"+t)},selectHouse(t){this.$router.push("/home/folderBilling/billControlGastos/"+t)},setPayment(t,e,a){this.nro_master=e,this.nameconsigner=a,this.id_house=t,this.getEgresosExpedientes()},_uploadFile(){var t=a("5a30"),e=(a("3e8f"),new t),o=this;e.append("name","Prueba"),e.append("file",o.payfile);var i={method:"post",url:"https://api.agentedecargaonline.com/uploadAllPath",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};A()(i).then((function(t){o.boolFile=!0,o.payPath=JSON.stringify(t.data.data[0].insertid)})).catch((function(t){console.log(t)}))},openPaymentFile(t){window.open(t,"_blank")},async _setSPaymentFile(){var t=this;t.$swal({icon:"info",title:"Procesando pago...",text:"Por favor espere"});var e={fecha_operacion:t.date,nro_operacion:t.payoperacion,id_banks:t.paybanco,id_coins:t.paymoneda,monto:t.paymonto,id_path:t.payPath,status:1,id_request:"",itemsSPaymentConceptos:t.selected},a={method:"post",url:"https://api.agentedecargaonline.com/setSPaymentFile/",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){t.$swal({icon:"success",title:"Pago Procesado",text:"El pago ha sido procesado correctamente"}),t.cleandData(),t.dialogProcess=!1})).catch((function(t){console.log(t)}))},cleandData(){this.date="",this.payoperacion="",this.paybanco="",this.paymoneda="",this.paymonto="",this.payPath=[],this.payFile="",this.pathfile="",this.boolFile=!1,this.selected=[],setTimeout(()=>{this.getEgresosExpedientes()},1e3)},getEgresosExpedientes(){var t=this,e={id_house:t.id_house},a={method:"post",url:"https://api.agentedecargaonline.com/getEgresosExpediente/"+t.id_house,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};A()(a).then((function(e){t.itemsEgresos=e.data.data,t.dialogPayment=!0})).catch((function(t){console.log(t)}))}}},$s=Ts,Es=Object(v["a"])($s,Ps,xs,!1,null,null,null),ws=Es.exports,Ms={name:"viewControlPaymentFile",components:{ControlPaymentFile:ws}},Os=Ms,Fs=Object(v["a"])(Os,ys,Is,!1,null,null,null),As=Fs.exports,Ns=function(){var t=this,e=t._self._c;return e("div",[e("debstoPay")],1)},Ds=[],Ls={name:"controlRequest",components:{debstoPay:vs}},js=Ls,Rs=Object(v["a"])(js,Ns,Ds,!1,null,null,null),Bs=Rs.exports,Us=function(){var t=this,e=t._self._c;return e("div",[e("accountsreceivable")],1)},Gs=[],Hs=function(){var t=this,e=t._self._c;return e("div",[e(r["a"],{attrs:{elevation:"0"}},[e(B["d"],[e("h3",[t._v("REPORTE DE CUENTAS POR COBRAR")]),e(T["a"]),e(s["a"],{staticClass:"ml-5",attrs:{color:"primary",elevation:"0",small:"",plain:""},on:{click:function(e){t.offcanvas=!t.offcanvas}}},[e(I["a"],[t._v("mdi-filter-multiple")]),t._v(" FILTRAR ")],1),e(s["a"],{staticClass:"mx-1",attrs:{color:"#1D6F42",dark:"",loading:t.exportando,small:"",plain:""},on:{click:function(e){return t.descargarArchivos()}}},[e(I["a"],[t._v("mdi-file-excel")]),t._v(" EXCEL")],1),e(s["a"],{staticClass:"ml-5",attrs:{color:"red",loading:t.exportandopdf,elevation:"0",small:"",plain:""},on:{click:function(e){return t.exportarPDF()}}},[e(I["a"],[t._v("mdi-file-pdf")]),t._v(" PDF")],1)],1),e(B["c"],[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 px-10"},[e("h5",[t._v("TOTAL OPERATIVO")]),e(te["a"],{attrs:{headers:t.cabTotalOperativo,items:t.totalOperativo,"hide-default-footer":""}})],1),e("div",{staticClass:"col-6 px-10"},[e("h5",[t._v("TOTAL ADMINISTRATIVO")]),e(te["a"],{attrs:{headers:t.cabTotalAdministrativo,items:t.totalAdministrativo,"hide-default-footer":""}})],1)]),e(te["a"],{attrs:{headers:t.headersdbp,items:t.itemsCpp,search:t.search,expanded:t.expanded,"single-expand":t.singleExpand,"item-key":"id_consigner","show-expand":""},on:{"update:expanded":function(e){t.expanded=e},"click:row":t.clickRow},scopedSlots:t._u([{key:"item.nameconsigner",fn:function({item:a}){return[e("div",{staticClass:"d-flex"},[e("div",[t._v(t._s(a.nameconsigner))]),e(s["a"],{staticClass:"ml-auto",attrs:{small:"",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.mostrarComentariosOp(a)}}},[e(I["a"],{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-comment")]),t._v(" Comentarios ")],1)],1)]}},{key:"expanded-item",fn:function({item:a}){return[e("td",{attrs:{colspan:"11"}},[e(jt["a"],{staticStyle:{width:"100%"}},[e("thead",[e("tr",{staticStyle:{background:"#fff1cf"}},[e("th",[t._v("Expediente")]),e("th",[t._v("Cliente")]),e("th",[t._v("Fecha Disponibilidad")]),e("th",[t._v("Total a Cobrar")]),e("th",[t._v("Status")]),e("th",[t._v("Fecha de Vencimiento")]),e("th",[t._v("Días de atraso")]),e("th",[t._v("Estatus")])])]),e("tbody",t._l(a.details,(function(a){return e("tr",{key:a.id,staticStyle:{background:"#fff1cf"}},[e("td",[t._v(" "+t._s(a.nro_master)+" "),1==a.operativa?e(I["a"],{on:{click:function(e){return t.editControl(a)}}},[t._v("mdi-eye")]):t._e()],1),e("td",[t._v(" "+t._s(a.nameconsigner)+" ")]),e("td",[t._v(" "+t._s(a.fecha_disponibilidad)+" ")]),e("td",[t._v(t._s(a.symbol)+" "+t._s(a.total_pagar))]),e("td",[t._v(" "+t._s(1==a.llegada?"LLEGADA":"NO LLEGADA")+" ")]),e("td",[t._v(t._s(a.fechadevencimiento))]),e("td",[t._v(t._s(a.diasatraso))]),e("td",[t._v(t._s(a.estatus))])])})),0)])],1)]}}],null,!0)})],1),e(B["c"],[e("h3",[t._v("REPORTE DE CUENTAS POR COBRAR ADMINISTRATIVAS")]),e(te["a"],{attrs:{headers:t.headersdbpa,items:t.itemsCxcAdmin,search:t.search,expanded:t.expandeda,"single-expand":t.singleExpanda,"item-key":"nameconsigner","show-expand":""},on:{"update:expanded":function(e){t.expandeda=e},"click:row":t.clickRowa},scopedSlots:t._u([{key:"item.nameconsigner",fn:function({item:a}){return[e("div",{staticClass:"d-flex"},[e("div",[t._v(t._s(a.nameconsigner))]),e(s["a"],{staticClass:"ml-auto",attrs:{small:"",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.mostrarComentariosAdmin(a)}}},[e(I["a"],{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-comment")]),t._v(" Comentarios ")],1)],1)]}},{key:"expanded-item",fn:function({item:a}){return[e("td",{attrs:{colspan:"11"}},[e(jt["a"],{staticStyle:{width:"100%"}},[e("thead",[e("tr",{staticStyle:{background:"#fff1cf"}},[e("th",[t._v("Cliente")]),e("th",[t._v("Documento")]),e("th",[t._v("Monto Inicial")]),e("th",[t._v("Deuda Actual")])])]),e("tbody",t._l(a.details,(function(a){return e("tr",{key:a.id,staticStyle:{background:"#fff1cf"}},[e("td",[t._v(t._s(a.nameconsigner))]),e("td",[t._v(t._s(a.concepto))]),e("td",[t._v(t._s(a.symbol)+" "+t._s(a.monto))]),e("td",[t._v(t._s(a.symbol)+" "+t._s(a.total_pagar))])])})),0)])],1)]}}],null,!0)})],1)],1),e(U["a"],{attrs:{"max-width":"400"},model:{value:t.dialogPdf,callback:function(e){t.dialogPdf=e},expression:"dialogPdf"}},[e(r["a"],[e(B["d"],[t._v(" Opción de PDF ")]),e(B["c"],[e(ue["a"],{model:{value:t.radiopdf,callback:function(e){t.radiopdf=e},expression:"radiopdf"}},[e(de["a"],{attrs:{value:"1",label:"Reporte Simple"}}),e(de["a"],{attrs:{value:"2",label:"Reporte Detallado"}})],1)],1),e(B["a"],[""!=t.radiopdf?e(s["a"],{attrs:{color:"primary",outlined:""},on:{click:function(e){return t._exportPdf()}}},[t._v("EXPORTAR")]):t._e(),e(T["a"]),e(s["a"],{attrs:{color:"red",outlined:""},on:{click:function(e){t.dialogPdf=!1}}},[t._v("Cerrar")])],1)],1)],1),e(U["a"],{attrs:{persistent:"",width:"70%"},model:{value:t.dialogComentarios,callback:function(e){t.dialogComentarios=e},expression:"dialogComentarios"}},[e(r["a"],[e(B["d"],[t._v(" Estados/Comentarios de la CxC - "+t._s(t.dataCXC.nameconsigner)+" "),e(T["a"]),t.dataCXC.esoperativo?[e(s["a"],{attrs:{rounded:"",small:"",color:"primary"},on:{click:t.agregarComentarioOp}},[t._v("Nuevo Comentario")])]:t.dataCXC.esadministrativo?[e(s["a"],{attrs:{rounded:"",small:"",color:"primary"},on:{click:t.agregarComentarioAdmin}},[t._v("Nuevo Comentario")])]:t._e()],2),e(B["c"],[e(te["a"],{staticClass:"elevation-1",attrs:{headers:t.headersLstComentarios,items:t.lstComentarios,loading:t.loadingDataTableComentarios}})],1),e(B["a"],[e(T["a"]),e(s["a"],{attrs:{small:"",color:"error"},on:{click:function(e){t.dialogComentarios=!t.dialogComentarios}}},[t._v("Cerrar")])],1)],1)],1),e(U["a"],{attrs:{persistent:"",width:"50%"},model:{value:t.dialogNuevoComentario,callback:function(e){t.dialogNuevoComentario=e},expression:"dialogNuevoComentario"}},[e(r["a"],[e(B["d"],[t._v(" Registro de Estado/Comentario de la CxC - "+t._s(t.dataCXC.nameconsigner)+" "),e(T["a"]),e(s["a"],{attrs:{icon:"",color:"default"},on:{click:function(e){t.dialogNuevoComentario=!t.dialogNuevoComentario}}},[e(I["a"],[t._v("mdi-close")])],1)],1),e(B["c"],[e(c["a"],{ref:"frmComentario"},[e(p["a"],{attrs:{dense:"",label:"Fecha",type:"date",readonly:""},model:{value:t.comentario.fecha,callback:function(e){t.$set(t.comentario,"fecha",e)},expression:"comentario.fecha"}}),e(Lt["a"],{attrs:{dense:"",label:"Ejecutivo",items:t.$store.state.pricing.listEjecutivo,"item-text":"name","item-value":"id_entitie","item-key":"id_entitie",rules:[t=>!!t||"Dato requerido"],readonly:""},model:{value:t.comentario.id_ejecutivo,callback:function(e){t.$set(t.comentario,"id_ejecutivo",e)},expression:"comentario.id_ejecutivo"}}),e(Rt["a"],{attrs:{dense:"",label:"Estado/Comentario",rows:"4","auto-grow":"",rules:[t=>!!t||"Dato requerido"]},model:{value:t.comentario.texto,callback:function(e){t.$set(t.comentario,"texto",e)},expression:"comentario.texto"}})],1)],1),e(B["a"],[e(T["a"]),e(s["a"],{attrs:{small:"",color:"success",loading:t.loadingBotonGuardarComentario},on:{click:t.guardarComentario}},[t._v("Guardar")])],1)],1)],1),t.offcanvas?e(x["a"],{attrs:{absolute:"",bottom:"",right:"",width:"20%"},model:{value:t.offcanvas,callback:function(e){t.offcanvas=e},expression:"offcanvas"}},[e(r["a"],{attrs:{elevation:"0"}},[e("h1",{staticClass:"mx-2 mt-2"},[t._v("FILTRO PAGOS")]),e(B["c"],[e(d["a"],[e(n["a"],{staticClass:"py-0 my-0",attrs:{cols:"12"}},[e(Lt["a"],{attrs:{clearable:"",label:"Clientes",items:t.clientes,"item-text":"namelong","item-value":"id",multiple:"","small-chips":"",dense:"",outlined:""},model:{value:t.proveedorOp,callback:function(e){t.proveedorOp=e},expression:"proveedorOp"}})],1),e(n["a"],{staticClass:"py-0 my-0",attrs:{cols:"12"}},[e(p["a"],{attrs:{name:"name",label:"Nro Expediente",clearable:"",dense:"",outlined:""},model:{value:t.nro_expediente,callback:function(e){t.nro_expediente=e},expression:"nro_expediente"}})],1),e(n["a"],{staticClass:"py-0 my-0",attrs:{cols:"12"}},[e(Lt["a"],{attrs:{clearable:"",label:"Ingresos",items:t.$store.state.ingresos.list,"item-text":"descripcion","item-value":"id",multiple:"","small-chips":"",dense:"",outlined:""},model:{value:t.ingreso,callback:function(e){t.ingreso=e},expression:"ingreso"}})],1),e(n["a"],{staticClass:"py-0 my-0",attrs:{cols:"12"}},[e(Lt["a"],{attrs:{clearable:"",label:"Sub Ingresos",items:t.$store.state.subingreso.lstSubIngreso,"item-text":"description","item-value":"id",multiple:"","small-chips":"",dense:"",outlined:""},model:{value:t.subingreso,callback:function(e){t.subingreso=e},expression:"subingreso"}})],1),e(n["a"],{attrs:{cols:"12"}},[e(p["a"],{attrs:{label:"Fecha Hasta",type:"date",clearable:"",outlined:""},model:{value:t.fechaOp,callback:function(e){t.fechaOp=e},expression:"fechaOp"}})],1),e(n["a"],{staticClass:"py-0 my-0",attrs:{cols:"12"}},[e("p",[t._v("Estado:")]),e(ue["a"],{staticClass:"py-0 my-0",attrs:{dense:"",row:"",outlined:""},model:{value:t.llegadaOp,callback:function(e){t.llegadaOp=e},expression:"llegadaOp"}},[e(de["a"],{attrs:{label:"Llegada",value:"1"}}),e(de["a"],{attrs:{label:"No llegada",value:"0"}})],1)],1)],1)],1)],1),e(r["a"],[e(B["a"],[e(s["a"],{attrs:{color:"success",medium:""},on:{click:t.filtrar}},[t._v("Aceptar")]),e(s["a"],{attrs:{color:"error",medium:""},on:{click:t.limpiar}},[t._v("Limpiar")]),e(s["a"],{attrs:{color:"info",medium:""},on:{click:function(e){t.offcanvas=!t.offcanvas}}},[t._v(" Cancelar ")])],1)],1)],1):t._e()],1)},Js=[],Vs={name:"accountsreceivable",data:()=>({moneda:"",offcanvas:!1,proveedorOp:"",llegadaOp:"",fechaOp:"",exportandopdf:!1,nro_expediente:"",ingreso:"",subingreso:"",filtroOp:{proveedorOp:"",llegadaOp:"",fechaOp:""},filtroAd:{proveedorAd:"",llegadaAd:"",fechaAd:""},tab:null,dataCpp:!1,itemsCpp:[],search:"",expanded:[],expand:[],expandeda:[],expanda:[],date:["",""],radio:1,value:0,exportando:!1,menu:!1,modal:!1,menu2:!1,radiopdf:"",dialogPdf:!1,singleExpand:!1,singleExpanda:!1,dataList:!1,cabTotalOperativo:[{text:"Operativo",value:"moneda"},{text:"Llegados",value:"llegada"},{text:"No Llegado",value:"no_llegada"},{text:"Total",value:"total"}],totalOperativo:[],cabTotalAdministrativo:[{text:"Administrativo",value:"moneda"},{text:"Nonto",value:"monto"},{text:"IGV",value:"igv"},{text:"Total",value:"total"}],totalAdministrativo:[],headersdbp:[{text:"Cliente",align:"start",sortable:!0,value:"nameconsigner",class:"hProveedor"},{text:"LLEGADA",value:"total_llegada",class:"hLlegada",sortable:!1},{text:"NO LLLEGADAS",value:"total_no_llegada",class:"hNoLlegada",sortable:!1},{text:"GENERAL",value:"total_pagar_llegada",class:"hGeneral",sortable:!1},{text:"",value:"data-table-expand"}],headersdbpa:[{text:"Cliente",value:"nameconsigner"},{text:"Total",value:"total_pagar"}],itemsCxcAdmin:[],loadingBotonGuardarComentario:!1,loadingDataTableComentarios:!1,dialogComentarios:!1,dialogNuevoComentario:!1,headersLstComentarios:[{text:"Fecha",value:"fecha",width:"15%"},{text:"Ejecutivo",value:"ejecutivo",width:"30%"},{text:"Comentario",value:"comentario",width:"55%"}],comentario:{fecha:it()().format("YYYY-MM-DD"),id_ejecutivo:JSON.parse(sessionStorage.getItem("dataUser"))?JSON.parse(sessionStorage.getItem("dataUser"))[0].id:"",ejecutivo:JSON.parse(sessionStorage.getItem("dataUser"))?JSON.parse(sessionStorage.getItem("dataUser"))[0].nombrecompleto:"",texto:"",esoperativo:!1,esadministrativo:!1},dataCXC:{},lstComentarios:[]}),async mounted(){this.moneda=JSON.parse(sessionStorage.getItem("dataBranch"))[0].moneda[0].acronym,await this.getModulesEntities(),await this._getDebsToPay(),await this._getInvoiceAdminCxCAdmin(),await this.obtenerImpuestoXEmpresa(),this.$store.state.drawer=!1,await this.cargarClientes(),await this.cargarIngreso(),await this.GetListSubIngreso()},computed:{...Object(_["c"])(["clientes"]),dateRange(){return this.date.join(" ~ ")}},methods:{...Object(_["b"])(["cargarClientes","getModulesEntities","obtenerImpuestoXEmpresa","cargarIngreso","GetListSubIngreso"]),viewPDF(){this.dialogPdf=!0},_cleanFilter(){this.date=["",""],this.radio=""},editControl(t){window.open(`/home/folderBilling/editControlGastos/view/${t.id_control}/${t.id_branch}`,"Instructivo","width=1593,height=1293","menubar=no","location=no","resizable=no")},sumField(t){return this.itemsCpp.reduce((e,a)=>e+parseFloat(a[t]||0),0)},clickRow(t,e){if(e.isExpanded){const e=this.expanded.findIndex(e=>e===t);this.expanded.splice(e,1)}else this.expanded.push(t)},async exportarPDF(){at.a.fire({icon:"question",title:"¿Cómo deseas generar el PDF del reporte?",text:"Elige cómo deseas generar el PDF del reporte de cuentas por cobrar:",showConfirmButton:!0,confirmButtonText:"Generar",showDenyButton:!0,denyButtonText:"Cancelar",allowOutsideClick:!1,input:"radio",inputOptions:{1:"Generar PDF por Fecha de Vencimiento",2:"Generar PDF por Cliente"},inputValidator:t=>{if(!t)return"Debe seleccionar una opción"}}).then(async t=>{if(t.isConfirmed){let a=t.value,o=this;o.exportandopdf=!0;var e={method:"get",url:`https://api.agentedecargaonline.com/exportarPDFCXC?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_proveedor=${this.proveedorOp?this.proveedorOp:""}&llegada=${this.llegadaOp?this.llegadaOp:""}&desde=&hasta=${this.fechaOp?this.fechaOp:""}&nro_expediente=${this.nro_expediente?this.nro_expediente:""}&tipo_reporte=${a||""}&id_ingreso=${this.ingreso?this.ingreso:""}&id_subingreso=${this.subingreso?this.subingreso:""}`,responseType:"blob",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"blob"}};await A()(e).then((function(t){const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download",`Reporte CxC - ${Date.now()}.pdf`),document.body.appendChild(a),a.click()})).catch((function(t){console.log(t)})),o.exportandopdf=!1}})},async _getDebsToPay(){this.$store.state.spiner=!0;var t=this;t.dataList=!1;var e={method:"get",url:`https://api.agentedecargaonline.com/getReporteCXC?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_cliente=${t.filtroOp.proveedorOp?t.filtroOp.proveedorOp:""}&llegadaflag=${t.filtroOp.llegadaOp?t.filtroOp.llegadaOp:""}&fechahasta=${t.filtroOp.fechaOp?t.filtroOp.fechaOp:""}&nro_expediente=${this.nro_expediente}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(e).then((function(e){t.itemsCpp=e.data.data?e.data.data:[],t.dataList=!0,t.calcularTotalOperativo({data:e.data.data?e.data.data:[]})})).catch((function(t){console.log(t)})),t.$store.state.spiner=!1},async _getDebsToPayFilter(){var t=this;t.dataList=!1;var e={date_begin:t.date[0],date_end:t.date[1]},a={method:"post",url:"https://api.agentedecargaonline.com/getReportAccountsFilter",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){t.itemsCpp=e.data.data,t.dataList=!0})).catch((function(t){console.log(t)}))},async _getInvoiceAdminCxCAdmin(){var t=this;t.$store.state.spiner=!0;var e={method:"get",url:`https://api.agentedecargaonline.com/getReporteCXCAdmin?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_cliente=${t.filtroOp.proveedorOp?t.filtroOp.proveedorOp:""}&llegadaflag=${t.filtroOp.llegadaOp?t.filtroOp.llegadaOp:""}&fechahasta=${t.filtroOp.fechaOp?t.filtroOp.fechaOp:""}&nro_expediente=${this.nro_expediente}&id_ingreso=${this.ingreso?this.ingreso:""}&id_subingreso=${this.subingreso?this.subingreso:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(e).then((function(e){t.itemsCxcAdmin=e.data.data,setTimeout(()=>{t.calcularTotalAdministrativo({data:e.data.data})},100)})).catch((function(t){console.log(t)})),t.$store.state.spiner=!1},calcularTotalOperativo({data:t}){this.totalOperativo=[];let e=0,a=0,o=0,i=0,s=0,r=0;t&&t.forEach(t=>{t.details.forEach(t=>{"USD"==t.symbol?(0==t.llegada&&(e+=parseFloat(t.total_pagar),o+=parseFloat(t.total_pagar)),1==t.llegada&&(a+=parseFloat(t.total_pagar),o+=parseFloat(t.total_pagar))):(0==t.llegada&&(s+=parseFloat(t.total_pagar),r+=parseFloat(t.total_pagar)),1==t.llegada&&(i+=parseFloat(t.total_pagar),r+=parseFloat(t.total_pagar)))})}),this.totalOperativo.push({moneda:"USD",llegada:parseFloat(a).toFixed(2),no_llegada:parseFloat(e).toFixed(2),total:parseFloat(o).toFixed(2)},{moneda:this.moneda,llegada:parseFloat(i).toFixed(2),no_llegada:parseFloat(s).toFixed(2),total:parseFloat(r).toFixed(2)})},clickRow(t,e){if(e.isExpanded){const e=this.expanded.findIndex(e=>e===t);this.expanded.splice(e,1)}else this.expanded.push(t)},clickRowa(t,e){if(e.isExpandeda){const e=this.expandeda.findIndex(e=>e===t);this.expandeda.splice(e,1)}else this.expandeda.push(t)},async filtrar(){this.filtroOp.proveedorOp=this.proveedorOp,this.filtroOp.llegadaOp=this.llegadaOp,this.filtroOp.fechaOp=this.fechaOp,this.filtroAd.proveedorAd=this.proveedorAd,await this._getDebsToPay(),await this._getInvoiceAdminCxCAdmin(),this.offcanvas=!1},async limpiar(){this.filtroOp={proveedorOp:"",llegadaOp:"",fechaOp:""},await this._getDebsToPay(),await this._getInvoiceAdminCxCAdmin(),this.proveedorOp="",this.llegadaOp="",this.fechaOp="",this.offcanvas=!1},calcularTotalAdministrativo({data:t}){this.totalAdministrativo=[];let e=0,a=0,o=0,i=0,s=0,r=0;t&&t.forEach(t=>{t.details.forEach(t=>{"USD"==t.symbol?(e+=parseFloat(t.total_pagar),a+=parseFloat(t.igv),o+=parseFloat(t.total_pagar)+parseFloat(t.igv)):(i+=parseFloat(t.total_pagar),s+=parseFloat(t.igv),r+=parseFloat(t.total_pagar)+parseFloat(t.igv))})}),this.totalAdministrativo.push({moneda:"USD",monto:parseFloat(e).toFixed(2),igv:parseFloat(a).toFixed(2),total:parseFloat(o).toFixed(2)},{moneda:this.moneda,monto:parseFloat(i).toFixed(2),igv:parseFloat(s).toFixed(2),total:parseFloat(r).toFixed(2)}),this.$store.state.spiner=!1},async descargarArchivos(){let t=this;t.filtroOp.proveedorOp.length>0&&t.filtroOp.proveedorOp.length<=5?at.a.fire({icon:"question",title:"Factura",text:"¿Desea también descargar, las facturas asociadas a estos clientes",confirmButtonText:"Descargar Facturas",showDenyButton:!0,denyButtonText:"No descargar Factura",showCancelButton:!1,cancelButtonText:"Cerrar"}).then(async t=>{t.isConfirmed&&(await this.download(),await this.exportar()),t.isDenied&&await this.exportar()}):await this.exportar()},async download(){this.itemsCpp.forEach(t=>{t.details.forEach(t=>{t.facturas.length>0&&t.facturas.forEach(async t=>{await this.downloadFactura(t)})})})},async downloadFactura(t){let e=t.url_documento;A()({url:e,method:"GET",responseType:"blob"}).then(e=>{const a=URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",`FACTURA Nro - ${t.nro_factura}.pdf`),document.body.appendChild(o),o.click(),document.body.removeChild(o)}).catch(t=>{console.error("Error al descargar el archivo:",t)})},async exportar(){let t=this;t.exportando=!0;var e={method:"get",url:`https://api.agentedecargaonline.com/reportcxcexcel?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_cliente=${t.filtroOp.proveedorOp?t.filtroOp.proveedorOp:""}&llegadaflag=${t.filtroOp.llegadaOp?t.filtroOp.llegadaOp:""}&fechahasta=${t.filtroOp.fechaOp?t.filtroOp.fechaOp:""}&nro_expediente=${this.nro_expediente}&nombre_impuesto=${this.$store.state.enterprises.impuesto.nombre_impuesto}&moneda=${this.moneda}&id_ingreso=${this.ingreso?this.ingreso:""}&id_subingreso=${this.subingreso?this.subingreso:""}`,responseType:"blob",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"blob"}};await A()(e).then((function(t){const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download",`Reporte Cuentas por Cobrar ${it()().format("DD-MM-YYYY hh:mm:ss")}.xlsx`),document.body.appendChild(a),a.click()})).catch((function(t){console.log(t)})),t.exportando=!1},async mostrarComentariosOp(t={}){var e=this;e.dataCXC={...t,esoperativo:!0,esadministrativo:!1},e.dialogComentarios=!this.dialogComentarios,await e.getComentarios()},agregarComentarioOp(){var t=this;t.comentario={...t.comentario,id_cliente:t.dataCXC.id_consigner?t.dataCXC.id_consigner:null,esoperativo:!0,esadministrativo:!1},t.dialogNuevoComentario=!t.dialogNuevoComentario},async mostrarComentariosAdmin(t={}){var e=this;e.dataCXC={...t,esoperativo:!1,esadministrativo:!0},e.dialogComentarios=!this.dialogComentarios,await e.getComentarios()},agregarComentarioAdmin(){var t=this;t.comentario={...t.comentario,id_cliente:t.dataCXC.id_consigner?t.dataCXC.id_consigner:null,esoperativo:!1,esadministrativo:!0},t.dialogNuevoComentario=!t.dialogNuevoComentario},async getComentarios(){var t=this;t.lstComentarios=[],t.loadingDataTableComentarios=!0;var e={method:"get",url:"https://api.agentedecargaonline.com/listarComentariosCXC?id_cliente="+t.dataCXC.id_consigner,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(e).then((function(e){if(sessionStorage.setItem("auth-token",e.data.token),"401"==e.data.status)at.a.fire({icon:"error",text:e.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))});else if(e.data.estadoflag){const a=e.data.data;t.dataCXC.esoperativo?t.lstComentarios=a.filter(t=>!!t.esoperativo):t.dataCXC.esadministrativo&&(t.lstComentarios=a.filter(t=>!!t.esadministrativo))}else t.lstComentarios=[]})),t.loadingDataTableComentarios=!1},async guardarComentario(){var t=this;if(t.$refs.frmComentario.validate()){t.loadingBotonGuardarComentario=!0;var e={method:"post",url:"https://api.agentedecargaonline.com/insertarComentarioCXC",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:t.comentario};await A()(e).then((async function(e){sessionStorage.setItem("auth-token",e.data.token),e.data.estadoflag?(at.a.fire({icon:"success",text:e.data.mensaje}),await t.getComentarios()):at.a.fire({icon:"error",text:e.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==e.data.status&&(router.push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))})})),t.loadingBotonGuardarComentario=!1,t.dialogNuevoComentario=!t.dialogNuevoComentario,t.comentario.texto=""}}}},zs=Vs,qs=(a("0831"),Object(v["a"])(zs,Hs,Js,!1,null,null,null)),Ks=qs.exports,Qs={components:{accountsreceivable:Ks},name:"viewAccountsReceivable"},Ys=Qs,Xs=Object(v["a"])(Ys,Us,Gs,!1,null,null,null),Zs=Xs.exports,Ws=function(){var t=this,e=t._self._c;return e("div",[e("checkDebs")],1)},tr=[],er=a("0b57"),ar={name:"controlRequest",components:{checkDebs:er["default"]},mounted(){this.$store.state.mainTitle="Abonos para confirmar"}},or=ar,ir=Object(v["a"])(or,Ws,tr,!1,null,null,null),sr=ir.exports,rr=function(){var t=this,e=t._self._c;return e("div",[e("cashflow")],1)},nr=[],lr=function(){var t=this,e=t._self._c;return e("div",[e(l["a"],{attrs:{fluid:""}},[e(r["a"],{attrs:{elevation:"0"}},[e(B["d"],[t._v(" Flujo de Caja "),e(T["a"]),e(V["a"],{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(p["a"],t._g(t._b({attrs:{label:"Rango de Fechas","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}},"v-text-field",o,!1),a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e(za["a"],{attrs:{locale:"es-pe",range:"",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[e(T["a"]),e(s["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),e(s["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v(" OK ")])],1)],1),e(s["a"],{staticClass:"ml-5",attrs:{color:"primary",elevation:"0",medium:""},on:{click:function(e){return t._getDebsToPayFilter()}}},[t._v("Buscar")]),e(s["a"],{staticClass:"ml-5",attrs:{color:"orange",elevation:"0",medium:""},on:{click:function(e){return t._cleanFilter()}}},[t._v("Limpiar")]),e(s["a"],{staticClass:"ml-5",attrs:{color:"orange",elevation:"0",medium:""},on:{click:function(e){return t.viewPDF()}}},[t._v("EXPORTAR A PDF")])],1),e(B["c"],[t.dataList?t._e():e(l["a"],{staticStyle:{height:"400px"}},[e(d["a"],{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[e(n["a"],{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[t._v(" Cargando información... ")]),e(n["a"],{attrs:{cols:"6"}},[e(Jo["a"],{attrs:{color:"deep-purple accent-4",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1),e(d["a"],[e(n["a"],{attrs:{cols:"12",md:"6"}},[t.dataList?e(te["a"],{attrs:{headers:t.headersdbp,items:t.itemsCpp,search:t.search,"item-key":"nameproveedor"},on:{"click:row":t.clickRow},scopedSlots:t._u([{key:"expanded-item",fn:function({item:a}){return[e("td",{attrs:{colspan:"11"}},[e(jt["a"],{staticStyle:{width:"100%"}},[e("thead",[e("tr",{staticStyle:{background:"#fff1cf"}},[e("th",[t._v("Expediente")]),e("th",[t._v("Cliente")]),e("th",[t._v("Fecha Disponibilidad")]),e("th",[t._v("Total a Pagar")]),e("th",[t._v("Status")])])]),e("tbody",t._l(a.details,(function(a){return e("tr",{key:a.id,staticStyle:{background:"#fff1cf"}},[e("td",[t._v(" "+t._s(a.nro_master)+" "),e(I["a"],{on:{click:function(e){return t.editControl(a.id_control,a.id_house,a.id_orders,a.code_control)}}},[t._v("mdi-eye")])],1),e("td",[t._v(" "+t._s(a.nameconsigner)+" ")]),e("td",[t._v(" "+t._s(a.fecha_disponibilidad)+" ")]),e("td",[t._v(t._s(a.total_pagar)+" USD")]),e("td",[t._v(" "+t._s(1==a.llegada?"LLEGADA":"NO LLEGADA")+" ")])])})),0)])],1)]}}],null,!1,360870233)},[e("template",{slot:"body.prepend"},[e("tr",{},[e("th",{staticStyle:{"font-size":"18px",background:"#e9e9e9"}},[t._v(" CUENTAS POR PAGAR ")]),e("th",{staticStyle:{"font-size":"18px","text-align":"center",background:"#c3fbef"},attrs:{colspan:"1"}},[t._v(" LLEGADAS ")]),e("th",{staticStyle:{"font-size":"18px","text-align":"center",background:"#fbc3c3"},attrs:{colspan:"1"}},[t._v(" NO LLEGADAS ")]),e("th",{staticStyle:{"font-size":"18px","text-align":"center",background:"#e9e9e9"},attrs:{colspan:"1"}},[t._v(" GENERAL ")])])]),e("template",{slot:"body.append"},[e("tr",{},[e("th",{staticStyle:{"font-size":"18px",background:"#e9e9e9"}},[t._v(" TOTALES ")]),e("th",{staticStyle:{"font-size":"18px",background:"#c3fbef"}},[t._v(" "+t._s(Intl.NumberFormat().format(t.sumField("total_pagar_llegada").toFixed(2)))+" USD ")]),e("th",{staticStyle:{"font-size":"18px",background:"#fbc3c3"}},[t._v(" "+t._s(Intl.NumberFormat().format(t.sumField("total_pagar_no_llegada").toFixed(2)))+" USD ")]),e("th",{staticStyle:{"font-size":"18px",background:"#e9e9e9"}},[t._v(" "+t._s(Intl.NumberFormat().format(t.sumField("total_pagar").toFixed(2)))+" USD ")])])])],2):t._e()],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[t.dataList?e(te["a"],{attrs:{headers:t.headersdbc,items:t.itemsCpc,search:t.searchc,"item-key":"nameproveedor"},scopedSlots:t._u([{key:"expanded-item",fn:function({item:a}){return[e("td",{attrs:{colspan:"11"}},[e(jt["a"],{staticStyle:{width:"100%"}},[e("thead",[e("tr",{staticStyle:{background:"#fff1cf"}},[e("th",[t._v("Expediente")]),e("th",[t._v("Cliente")]),e("th",[t._v("Fecha Disponibilidad")]),e("th",[t._v("Total a Pagar")]),e("th",[t._v("Status")])])]),e("tbody",t._l(a.details,(function(a){return e("tr",{key:a.id,staticStyle:{background:"#fff1cf"}},[e("td",[t._v(" "+t._s(a.nro_master)+" "),e(I["a"],{on:{click:function(e){return t.editControl(a.id_control,a.id_house,a.id_orders,a.code_control)}}},[t._v("mdi-eye")])],1),e("td",[t._v(" "+t._s(a.nameconsigner)+" ")]),e("td",[t._v(" "+t._s(a.fecha_disponibilidad)+" ")]),e("td",[t._v(t._s(a.total_pagar)+" USD")]),e("td",[t._v(" "+t._s(1==a.llegada?"LLEGADA":"NO LLEGADA")+" ")])])})),0)])],1)]}}],null,!1,360870233)},[e("template",{slot:"body.prepend"},[e("tr",{},[e("th",{staticStyle:{"font-size":"18px",background:"#e9e9e9"}},[t._v(" CUENTAS POR COBRAR ")]),e("th",{staticStyle:{"font-size":"18px","text-align":"center",background:"#c3fbef"},attrs:{colspan:"1"}},[t._v(" LLEGADAS ")]),e("th",{staticStyle:{"font-size":"18px","text-align":"center",background:"#fbc3c3"},attrs:{colspan:"1"}},[t._v(" NO LLEGADAS ")]),e("th",{staticStyle:{"font-size":"18px","text-align":"center",background:"#e9e9e9"},attrs:{colspan:"1"}},[t._v(" GENERAL ")])])]),e("template",{slot:"body.append"},[e("tr",{},[e("th",{staticStyle:{"font-size":"18px",background:"#e9e9e9"}},[t._v(" TOTALES ")]),e("th",{staticStyle:{"font-size":"18px",background:"#c3fbef"}},[t._v(" "+t._s(Intl.NumberFormat().format(t.sumFieldc("total_pagar_llegada").toFixed(2)))+" USD ")]),e("th",{staticStyle:{"font-size":"18px",background:"#fbc3c3"}},[t._v(" "+t._s(Intl.NumberFormat().format(t.sumFieldc("total_pagar_no_llegada").toFixed(2)))+" USD ")]),e("th",{staticStyle:{"font-size":"18px",background:"#e9e9e9"}},[t._v(" "+t._s(Intl.NumberFormat().format(t.sumFieldc("total_pagar").toFixed(2)))+" USD ")])])])],2):t._e()],1)],1)],1)],1)],1),e(U["a"],{attrs:{"max-width":"400"},model:{value:t.dialogPdf,callback:function(e){t.dialogPdf=e},expression:"dialogPdf"}},[e(r["a"],[e(B["d"],[t._v(" Opción de PDF ")]),e(B["c"],[e(ue["a"],{model:{value:t.radiopdf,callback:function(e){t.radiopdf=e},expression:"radiopdf"}},[e(de["a"],{attrs:{value:"1",label:"Reporte Simple"}}),e(de["a"],{attrs:{value:"2",label:"Reporte Detallado"}})],1)],1),e(B["a"],[""!=t.radiopdf?e(s["a"],{attrs:{color:"primary",outlined:""},on:{click:function(e){return t._exportPdf()}}},[t._v("EXPORTAR")]):t._e(),e(T["a"]),e(s["a"],{attrs:{color:"red",outlined:""},on:{click:function(e){t.dialogPdf=!1}}},[t._v("Cerrar")])],1)],1)],1)],1)},cr=[],dr={name:"cashflow",data:()=>({tab:null,dataCpp:!1,dataCpc:!1,itemsCpp:[],itemsCpc:[],search:"",searchc:"",expanded:[],expand:[],date:["",""],radio:1,menu:!1,modal:!1,menu2:!1,radiopdf:"",dialogPdf:!1,singleExpand:!1,dataList:!1,headersdbp:[],headersdbc:[]}),mounted(){this._getDebsToPay(),this._getDebsToPayc()},computed:{dateRange(){return this.date.join(" ~ ")}},methods:{viewPDF(){this.dialogPdf=!0},_cleanFilter(){this.date=["",""],this.radio=""},editControl(t,e,a,o){window.open("/home/folderBilling/billControlGastos/view/"+e+"/"+t+"/"+a+"/"+o,"Instructivo","width=1593,height=1293","menubar=no","location=no","resizable=no")},sumField(t){return this.itemsCpp.reduce((e,a)=>e+parseFloat(a[t]||0),0)},sumFieldc(t){return this.itemsCpc.reduce((e,a)=>e+parseFloat(a[t]||0),0)},clickRow(t,e){if(e.isExpanded){const e=this.expanded.findIndex(e=>e===t);this.expanded.splice(e,1)}else this.expanded.push(t)},async _exportPdf(){var t=this;let e;t.$swal({icon:"info",title:"Generando PDF",text:"Espere... "}),""==t.radio?e="Todos":1==t.radio?e="Vencidas":0==t.radio&&(e="No Vencidas");var a={itemsCpp:t.itemsCpp,total_pagar:Intl.NumberFormat().format(t.sumField("total_pagar").toFixed(2)),total_pagado:Intl.NumberFormat().format(t.sumField("total_pagado").toFixed(2)),total_restante:Intl.NumberFormat().format(t.sumField("restante_pagar").toFixed(2)),total_pagar_llegada:Intl.NumberFormat().format(t.sumField("total_pagar_llegada").toFixed(2)),total_pagado_llegada:Intl.NumberFormat().format(t.sumField("total_pagado_llegada").toFixed(2)),total_restante_llegada:Intl.NumberFormat().format(t.sumField("restante_llegada").toFixed(2)),total_pagar_no_llegada:Intl.NumberFormat().format(t.sumField("total_pagar_no_llegada").toFixed(2)),total_pagado_no_llegada:Intl.NumberFormat().format(t.sumField("total_pagado_no_llegado").toFixed(2)),total_restante_no_llegada:Intl.NumberFormat().format(t.sumField("restante_pagar_no_llegada").toFixed(2)),fecha:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),dateRange:t.dateRange,status:e};let o;1==t.radiopdf?o="pdfcxp":2==t.radiopdf&&(o="pdfcxpD");var i={method:"post",url:"https://api.agentedecargaonline.com/"+o,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await A()(i).then((function(e){t.$swal({icon:"success",title:"PDF Generado",text:"El PDF se descargará automaticamente"}),t.dialogPdf=!1,window.open("https://api.agentedecargaonline.com/"+e.data.path,"_blank")})).catch((function(t){console.log(t)}))},async _getDebsToPay(){var t=this;t.dataList=!1;var e={method:"post",url:"https://api.agentedecargaonline.com/getDebsToPay",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(e).then((function(e){t.itemsCpp=e.data.data,t.dataList=!0,t.$store.state.drawer=!1})).catch((function(t){console.log(t)}))},async _getDebsToPayc(){var t=this;t.dataList=!1;var e={method:"post",url:"https://api.agentedecargaonline.com/getReportAccounts",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(e).then((function(e){t.itemsCpc=e.data.data,t.dataList=!0,t.$store.state.drawer=!1})).catch((function(t){console.log(t)}))},async _getDebsToPayFilter(){var t=this;t.dataList=!1;var e={date_begin:t.date[0],date_end:t.date[1]},a={method:"post",url:"https://api.agentedecargaonline.com/getDebsToPayFilter",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){t.itemsCpp=e.data.data,t.dataList=!0,t.$store.state.drawer=!1})).catch((function(t){console.log(t)}))}}},ur=dr,pr=(a("1049"),Object(v["a"])(ur,lr,cr,!1,null,null,null)),mr=pr.exports,hr={components:{cashflow:mr},name:"cashFlowView"},_r=hr,gr=Object(v["a"])(_r,rr,nr,!1,null,null,null),fr=gr.exports,vr=function(){var t=this,e=t._self._c;return e("div",[e("AccountPaysCom")],1)},br=[],Cr=function(){var t=this,e=t._self._c;return e("div",[e(r["a"],{attrs:{elevation:"0"}},[e(B["d"],{staticClass:"py-0"},[e(T["a"]),e(s["a"],{attrs:{elevation:"0",color:"success"},on:{click:function(e){return t.toPageAdd()}}},[t._v(" CARGAR FACTURA NUEVA ")])],1),e(B["c"],{staticClass:"pa-1"},[e(te["a"],{attrs:{headers:t.headersFacturas,items:t.itemsListInvoice,search:t.searchFactura,"custom-filter":t.filterOnlyCapsText},scopedSlots:t._u([{key:"top",fn:function(){return[e(p["a"],{staticClass:"mx-4",attrs:{label:"Buscar...."},model:{value:t.searchFactura,callback:function(e){t.searchFactura=e},expression:"searchFactura"}})]},proxy:!0},{key:"item.accion",fn:function({item:a}){return[1==a.status?e(Wt["a"],{attrs:{block:"",medium:"",color:"orange","text-color":"white"}},[t._v(" Pendiente ")]):t._e(),2==a.status?e(Wt["a"],{attrs:{block:"",medium:"",color:"success"}},[t._v(" Pagado ")]):t._e()]}},{key:"item.action",fn:function({item:a}){return[1==a.status?e(I["a"],{staticClass:"btn_add mr-2",attrs:{dense:"",small:"",icon:"",color:"red"},on:{click:function(e){return t.delPro(a.id)}}},[t._v(" mdi-delete ")]):t._e(),1==a.status?e(I["a"],{staticClass:"btn_add mr-2",attrs:{dense:"",small:"",icon:"",color:"blue"},on:{click:function(e){return t.penPro(a.id)}}},[t._v(" mdi-pencil ")]):t._e(),e(I["a"],{staticClass:"btn_add mr-2",attrs:{dense:"",small:"",icon:"",color:"green"},on:{click:function(e){return t.eyePro(a.id)}}},[t._v(" mdi-eye ")])]}}],null,!0)})],1)],1),e(U["a"],{attrs:{"max-width":"600"},model:{value:t.dialogPayment,callback:function(e){t.dialogPayment=e},expression:"dialogPayment"}},[e(r["a"],[e(B["d"],[t._v(" SUBIR PAGO ")]),e(B["c"],[e(d["a"],{attrs:{dense:""}},[e(n["a"],{attrs:{cols:"12",md:"4"}},[e(V["a"],{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(p["a"],t._g(t._b({attrs:{label:"Fecha de Operación","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",o,!1),a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e(za["a"],{attrs:{locale:"es-pe","no-title":"",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[e(T["a"]),e(s["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),e(s["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v(" OK ")])],1)],1)],1),e(n["a"],{attrs:{cols:"12",md:"3"}},[e(p["a"],{attrs:{label:"No. Serie"},model:{value:t.serie_pago,callback:function(e){t.serie_pago=e},expression:"serie_pago"}})],1),e(n["a"],{attrs:{cols:"12",md:"5"}},[e(p["a"],{attrs:{label:"No. Factura"},model:{value:t.factura_pago,callback:function(e){t.factura_pago=e},expression:"factura_pago"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsDataBanksList,"item-text":"acronym","item-value":"id",label:"Banco"},model:{value:t.banco_pago,callback:function(e){t.banco_pago=e},expression:"banco_pago"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsCoinsList,"item-text":"acronym","item-value":"id",label:"Moneda"},model:{value:t.moneda_pago,callback:function(e){t.moneda_pago=e},expression:"moneda_pago"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(p["a"],{attrs:{type:"number",label:"Monto"},model:{value:t.monto_pago,callback:function(e){t.monto_pago=e},expression:"monto_pago"}})],1),e(n["a"],{attrs:{cols:"12",md:"9"}},[t.boolFile?t._e():e(oi["a"],{attrs:{"show-size":"",label:"Adjuntar Pago"},model:{value:t.payfile,callback:function(e){t.payfile=e},expression:"payfile"}}),t.boolFile?e(Wt["a"],{attrs:{block:"",large:"",color:"success",outlined:""}},[e(I["a"],{attrs:{left:""}},[t._v(" mdi-check ")]),t._v(" Archivo cargado éxitosamente ")],1):t._e()],1),e(n["a"],{attrs:{cols:"3"}},[e(s["a"],{staticClass:"ma-2 white--text",attrs:{disabled:t.boolFile||t.payfile==[],color:"blue-grey",block:"",large:""},on:{click:function(e){return t._uploadFile()}}},[t._v(" Subir "),e(I["a"],{attrs:{right:"",dark:""}},[t._v(" mdi-cloud-upload ")])],1)],1)],1)],1),e(B["a"],[e(s["a"],{attrs:{color:"primary",disabled:!t.boolFile},on:{click:function(e){return t._putInvoice(t.id_pro)}}},[t._v("Procesar Pago")]),e(T["a"]),e(s["a"],{attrs:{outlined:"",color:"red"},on:{click:function(e){t.dialogProcess=!t.dialogProcess}}},[t._v("Cerrar")])],1)],1)],1)],1)},kr=[],Sr={name:"AccountPaysCom",data:()=>({itemsListInvoice:[],searchFactura:"",dialogPayment:!1,date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),menu:!1,modal:!1,menu2:!1,pathfileAll:"",boolFile:!1,pathfile:"",payfile:"",payPath:"",serie_pago:"",factura_pago:"",moneda_pago:"",monto_pago:"",banco_pago:"",id_pro:"",headersFacturas:[{text:"Tipo",value:"paymentname"},{text:"Gasto",value:"gasto_description"},{text:"Sub Gasto",value:"subgasto_description"},{text:"Fecha Pago",value:"fecha"},{text:"Fecha Vencimiento",value:"fechavencimiento"},{text:"Expediente",value:"nro_master"},{text:"Proveedor",value:"nameconsigner"},{text:"Nro. Factura",value:"nro_factura"},{text:"Nro. Serie",value:"nro_serie"},{text:"Moneda",value:"namecoins"},{text:"Tipo de Cambio",value:"tipocambio"},{text:"Monto",value:"total",class:"totalcss"},{text:"Monto Dolar",value:"montodolar",class:"montodolarcss"},{text:"Cargar factura de pago",value:"accion"},{text:"Acción",value:"action"}]}),async mounted(){this.$store.state.spiner=!0,await this._getInvoiceAdmin(),this.$store.state.spiner=!1},methods:{filterOnlyCapsText(t,e){let a=e?e.toLocaleUpperCase():null;return null!=t&&null!=e&&"string"===typeof t&&-1!==t.toString().toLocaleUpperCase().indexOf(a)},toPageAdd(){this.$router.push({name:"addAccountPays"})},uploadPayment(t){this.id_pro=t,this.dialogPayment=!0},eyePro(t){this.$router.push({name:"viewAccountPays",params:{id:t}})},penPro(t){this.$router.push({name:"EditAccountPays",params:{id:t}})},_uploadFile(){var t=a("5a30"),e=(a("3e8f"),new t),o=this;e.append("name","Prueba"),e.append("file",o.payfile);var i={method:"post",url:"https://api.agentedecargaonline.com/uploadAllPath",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};A()(i).then((function(t){o.boolFile=!0,o.payPath=JSON.stringify(t.data.data[0].insertid)})).catch((function(t){console.log(t)}))},cleanData(){this.payfile="",this.date="",this.payPath="",this.factura_pago="",this.serie_pago="",this.banco_pago="",this.moneda_pago="",this.monto_pago=""},async _putInvoice(){var t=this,e={id_pago:t.payPath,fecha_pago:t.date,factura_pago:t.factura_pago,serie_pago:t.serie_pago,id_bank_pago:t.banco_pago,id_coin_pago:t.moneda_pago,monto_pago:t.monto_pago,status:2},a={method:"post",url:"https://api.agentedecargaonline.com/paymentInvoiceAdmin/"+t.id_pro,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){t.$swal({icon:"success",title:"Documento Cargado",text:"El documento ha sido cargado correctamente"}),t.dialogPayment=!1,t.cleanData(),t._getInvoiceAdmin()})).catch((function(t){console.log(t)}))},async _getInvoiceAdmin(t,e){var a=this;a.$store.state.spiner=!0;var o={method:"post",url:"https://api.agentedecargaonline.com/getInvoiceAdmin",data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(o).then((function(t){a.itemsListInvoice=t.data.data})).catch((function(t){console.log(t)})),a.$store.state.spiner=!1},async delPro(t){var e=this,a={id:t},o={method:"post",url:"https://api.agentedecargaonline.com/delPro",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await A()(o).then((function(t){e._getInvoiceAdmin()})).catch((function(t){console.log(t)}))}}},yr=Sr,Ir=(a("38c0"),Object(v["a"])(yr,Cr,kr,!1,null,"79ea8c31",null)),Pr=Ir.exports,xr={name:"moduleAccountPays",components:{AccountPaysCom:Pr},mounted(){this.$store.state.mainTitle="CONTROL CUENTAS POR PAGAR"}},Tr=xr,$r=Object(v["a"])(Tr,vr,br,!1,null,null,null),Er=$r.exports,wr=function(){var t=this,e=t._self._c;return e("div",[e("moduleAccountReceivableCom")],1)},Mr=[],Or=function(){var t=this,e=t._self._c;return e("div",[e(r["a"],{attrs:{elevation:"0"}},[e(r["a"],{attrs:{elevation:"0"}},[e(B["d"],{staticClass:"py-0"},[e(T["a"]),e(s["a"],{attrs:{color:"primary",elevation:"0"},on:{click:function(e){return t.toGoPage()}}},[t._v(" SUBIR NUEVA CUENTA POR COBRAR ")])],1),e(B["c"])],1),e(B["c"],{staticClass:"pa-1"},[e(te["a"],{attrs:{headers:t.headersFacturas,items:t.itemsListInvoice,search:t.searchFactura,"custom-filter":t.filterOnlyCapsText,"multi-sort":"","disable-sort":""},scopedSlots:t._u([{key:"item.tipo_cambio",fn:function({item:e}){return[t._v(" "+t._s(1==e.tipocambio?"No Aplica":e.tipocambio)+" ")]}},{key:"item.accion",fn:function({item:a}){return[1==a.status?e(Wt["a"],{attrs:{block:"",medium:"",color:"orange","text-color":"white"}},[t._v(" Pendiente ")]):t._e(),2==a.status?e(Wt["a"],{attrs:{block:"",medium:"",color:"success"}},[t._v(" Pagado ")]):t._e()]}},{key:"top",fn:function(){return[e(p["a"],{staticClass:"mx-4",attrs:{label:"Buscar...."},model:{value:t.searchFactura,callback:function(e){t.searchFactura=e},expression:"searchFactura"}})]},proxy:!0},{key:"item.action",fn:function({item:a}){return[1==a.status?e(I["a"],{staticClass:"btn_add mr-2",attrs:{dense:"",small:"",icon:"",color:"red"},on:{click:function(e){return t.delPro(a.id)}}},[t._v(" mdi-delete ")]):t._e(),1==a.status?e(I["a"],{staticClass:"btn_add mr-2",attrs:{dense:"",small:"",icon:"",color:"blue"},on:{click:function(e){return t.penPro(a.id)}}},[t._v(" mdi-pencil ")]):t._e(),e(I["a"],{staticClass:"btn_add mr-2",attrs:{dense:"",small:"",icon:"",color:"green"},on:{click:function(e){return t.eyePro(a.id)}}},[t._v(" mdi-eye ")])]}}],null,!0)})],1)],1),e(U["a"],{attrs:{"max-width":"600"},model:{value:t.dialogPayment,callback:function(e){t.dialogPayment=e},expression:"dialogPayment"}},[e(r["a"],[e(B["d"],[t._v(" SUBIR PAGO ")]),e(B["c"],[e(d["a"],{attrs:{dense:""}},[e(n["a"],{attrs:{cols:"12",md:"4"}},[e(V["a"],{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:o}){return[e(p["a"],t._g(t._b({attrs:{label:"Fecha de Operación","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",o,!1),a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e(za["a"],{attrs:{locale:"es-pe","no-title":"",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[e(T["a"]),e(s["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),e(s["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v(" OK ")])],1)],1)],1),e(n["a"],{attrs:{cols:"12",md:"3"}},[e(p["a"],{attrs:{label:"No. Serie"},model:{value:t.serie_pago,callback:function(e){t.serie_pago=e},expression:"serie_pago"}})],1),e(n["a"],{attrs:{cols:"12",md:"5"}},[e(p["a"],{attrs:{label:"No. Factura"},model:{value:t.factura_pago,callback:function(e){t.factura_pago=e},expression:"factura_pago"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsDataBanksList,"item-text":"acronym","item-value":"id",label:"Banco"},model:{value:t.banco_pago,callback:function(e){t.banco_pago=e},expression:"banco_pago"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsCoinsList,"item-text":"acronym","item-value":"id",label:"Moneda"},model:{value:t.moneda_pago,callback:function(e){t.moneda_pago=e},expression:"moneda_pago"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[e(p["a"],{attrs:{type:"number",label:"Monto"},model:{value:t.monto_pago,callback:function(e){t.monto_pago=e},expression:"monto_pago"}})],1),e(n["a"],{attrs:{cols:"12",md:"9"}},[t.boolFile?t._e():e(oi["a"],{attrs:{"show-size":"",label:"Adjuntar Pago"},model:{value:t.payfile,callback:function(e){t.payfile=e},expression:"payfile"}}),t.boolFile?e(Wt["a"],{attrs:{block:"",large:"",color:"success",outlined:""}},[e(I["a"],{attrs:{left:""}},[t._v(" mdi-check ")]),t._v(" Archivo cargado éxitosamente ")],1):t._e()],1),e(n["a"],{attrs:{cols:"3"}},[e(s["a"],{staticClass:"ma-2 white--text",attrs:{disabled:t.boolFile||t.payfile==[],color:"blue-grey",block:"",large:""},on:{click:function(e){return t._uploadFile()}}},[t._v(" Subir "),e(I["a"],{attrs:{right:"",dark:""}},[t._v(" mdi-cloud-upload ")])],1)],1)],1)],1),e(B["a"],[e(s["a"],{attrs:{color:"primary",disabled:!t.boolFile},on:{click:function(e){return t._putInvoice(t.id_pro)}}},[t._v(" Procesar Pago ")]),e(T["a"]),e(s["a"],{attrs:{outlined:"",color:"red"},on:{click:function(e){t.dialogProcess=!t.dialogProcess}}},[t._v(" Cerrar ")])],1)],1)],1)],1)},Fr=[],Ar={name:"controlAccountReceivableCom",props:{operativa:"",exp:"",pro:"",id_pro:"",tipo:""},data:()=>({itemsListInvoice:[],searchFactura:"",dialogPayment:!1,date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),row:"",menu:!1,modal:!1,menu2:!1,pathfileAll:"",boolFile:!1,pathfile:"",payfile:"",payPath:"",serie_pago:"",factura_pago:"",moneda_pago:"",monto_pago:"",banco_pago:"",headersFacturas:[{text:"Tipo Ingreso",value:"ingreso_description"},{text:"Tipo Sub Ingreso",value:"subingreso_description"},{text:"Tipo",value:"paymentname"},{text:"Fecha",value:"fecha"},{text:"Expediente",value:"nro_master"},{text:"Cliente",value:"nameconsigner"},{text:"Nro. Factura",value:"nro_factura"},{text:"Nro. Serie",value:"nro_serie"},{text:"Moneda",value:"namecoins"},{text:"Monto",value:"monto"},{text:"Tipo de cambio",value:"tipo_cambio"},{text:"Monto Dolar",value:"montodolar"},{text:"Total",value:"total"},{text:"Cargar factura de pago",value:"accion"},{text:"Acción",value:"action"}]}),async mounted(){this.$store.state.spiner=!0,await this._getInvoiceAdminCxC(),this.$store.state.spiner=!1},methods:{filterOnlyCapsText(t,e){let a=e?e.toLocaleUpperCase():null;return null!=t&&null!=e&&"string"===typeof t&&-1!==t.toString().toLocaleUpperCase().indexOf(a)},toGoPage(){this.$router.push({name:"controlAccountReceivable"})},toPageAdd(){this.$router.push({name:"addAccountPays"})},uploadPayment(t){this.id_pro=t,this.dialogPayment=!0},eyePro(t){this.$router.push({name:"viewAccountPaysCxC",params:{id:t}})},penPro(t){this.$router.push({name:"EditAccountPaysCxC",params:{id:t}})},_uploadFile(){var t=a("5a30"),e=(a("3e8f"),new t),o=this;e.append("name","Prueba"),e.append("file",o.payfile);var i={method:"post",url:"https://api.agentedecargaonline.com/uploadAllPath",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};A()(i).then((function(t){o.boolFile=!0,o.payPath=JSON.stringify(t.data.data[0].insertid)})).catch((function(t){console.log(t)}))},cleanData(){this.payfile="",this.date="",this.payPath="",this.factura_pago="",this.serie_pago="",this.banco_pago="",this.moneda_pago="",this.monto_pago=""},async _putInvoice(){var t=this,e={id_pago:t.payPath,fecha_pago:t.date,factura_pago:t.factura_pago,serie_pago:t.serie_pago,id_bank_pago:t.banco_pago,id_coin_pago:t.moneda_pago,monto_pago:t.monto_pago,status:2},a={method:"post",url:"https://api.agentedecargaonline.com/paymentInvoiceAdminCxC/"+t.id_pro,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){t.$swal({icon:"success",title:"Documento Cargado",text:"El documento ha sido cargado correctamente"}),t.dialogPayment=!1,t.cleanData(),t._getInvoiceAdminCxC()})).catch((function(t){console.log(t)}))},async _getInvoiceAdminCxC(t,e){var a=this;a.$store.state.spiner=!0;var o={method:"post",url:"https://api.agentedecargaonline.com/getInvoiceAdminCxC",data:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(o).then((function(t){a.itemsListInvoice=t.data.data})).catch((function(t){console.log(t)})),a.$store.state.spiner=!1},async delPro(t){var e=this,a={id:t},o={method:"post",url:"https://api.agentedecargaonline.com/delProCxC",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await A()(o).then((function(t){e._getInvoiceAdminCxC()})).catch((function(t){console.log(t)}))}}},Nr=Ar,Dr=Object(v["a"])(Nr,Or,Fr,!1,null,null,null),Lr=Dr.exports,jr={components:{moduleAccountReceivableCom:Lr},name:"moduleAccountReceivableNew",mounted(){this.$store.state.mainTitle="CONTROL DE CUENTAS POR COBRAR"}},Rr=jr,Br=Object(v["a"])(Rr,wr,Mr,!1,null,null,null),Ur=Br.exports,Gr=function(){var t=this,e=t._self._c;return e("div",[e(l["a"],{attrs:{fluid:""}},[e(d["a"],[e(n["a"],{attrs:{md:"8",cols:"12"}},[e("controlAccountPaysCom",{attrs:{tipo:"nuevo"}})],1)],1)],1)],1)},Hr=[],Jr=function(){var t=this,e=t._self._c;return e(r["a"],{attrs:{elevation:"0"}},["ver"==t.tipo?e(B["d"],[t._v(" VER FACTURA TIPO "+t._s(1==t.radio?"ADMNINISTRATIVA":"OPERATIVA"))]):t._e(),"editar"==t.tipo?e(B["d"],[t._v(" EDITAR FACTURA TIPO "+t._s(1==t.radio?"ADMNINISTRATIVA":"OPERATIVA"))]):e(B["d"],[t._v(" CARGAR UNA CUENTA POR PAGAR ")]),e(B["c"],["nuevo"==t.tipo?e(ue["a"],{attrs:{row:""},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[e(de["a"],{attrs:{value:"1",label:"Administrativa"}}),e(de["a"],{attrs:{value:"2",label:"Operativa"}})],1):t._e(),e(c["a"],{ref:"frmFactura"},[e(d["a"],{attrs:{dense:""}},[2==t.radio?e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.itemsExpedientes,"item-text":"namelong","item-value":"id",label:"Expediente",disabled:""==t.radio,rules:[t=>!!t||"Datos Requerido"]},on:{change:function(e){return t._getProformace()}},model:{value:t.id_expediente,callback:function(e){t.id_expediente=e},expression:"id_expediente"}})],1):t._e(),1==t.radio?e(n["a"],{attrs:{cols:"12",md:"6"}},[e(d["a"],{attrs:{dense:""}},[e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.month,"item-text":"description","item-value":"id",label:"Mes del Gasto",disabled:""==t.radio,rules:[t=>!!t||"Datos Requerido"]},model:{value:t.id_month,callback:function(e){t.id_month=e},expression:"id_month"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.year,"item-text":"description","item-value":"id",label:"Año del Gasto",disabled:""==t.radio,rules:[t=>!!t||"Datos Requerido"]},model:{value:t.id_year,callback:function(e){t.id_year=e},expression:"id_year"}})],1)],1)],1):t._e(),e(n["a"],{staticClass:"pb-0",attrs:{cols:"12",md:"6"}},[e("treeselect",{staticClass:"my-0",attrs:{multiple:!1,options:t.$store.state.balances.arbolGastos,placeholder:"Seleccione un Sub Gastos","disable-branch-nodes":!0,label:"Sub Gasto","search-nested":"",dense:"",outlined:"",disabled:""==t.radio,rules:[t=>!!t||"Datos Requerido"],required:""},model:{value:t.id_gastos,callback:function(e){t.id_gastos=e},expression:"id_gastos"}}),e("span",{staticClass:"red--text"},[t._v(t._s(t.errorGasto))])],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.performances,"item-text":"description","item-value":"id",label:"Proformace",disabled:""==t.radio,"return-object":"",rules:[t=>!!t||"Datos Requerido"]},on:{change:function(e){return t.validacionesRequeridas()}},model:{value:t.id_proformace,callback:function(e){t.id_proformace=e},expression:"id_proformace"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.itemsProveedorList,"item-text":"namelong","item-value":"id",label:"Proveedor",disabled:""==t.radio,rules:[t=>!!t||"Datos Requerido"]},model:{value:t.id_proveedor,callback:function(e){t.id_proveedor=e},expression:"id_proveedor"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{type:"date",disabled:""==t.radio,label:"Fecha Emisión de la Factura"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{disabled:""==t.radio,label:"Nro. de Factura",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.nro_factura,callback:function(e){t.nro_factura=e},expression:"nro_factura"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{disabled:""==t.radio,label:"Nro. de Serie",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.nro_serie,callback:function(e){t.nro_serie=e},expression:"nro_serie"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{disabled:""==t.radio,items:t.$store.state.itemsCoinsList,"item-text":"acronym","item-value":"id",label:"Moneda","return-object":"",rules:[t=>!!t||"Datos Requerido"]},on:{change:function(e){return t.obtenerPrefixCoins()}},model:{value:t.id_coins,callback:function(e){t.id_coins=e},expression:"id_coins"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},["USD"==t.symbol&&t.id_coins?t._e():e(p["a"],{attrs:{type:"number",label:"Tipo de Cambio",disabled:""==t.radio},on:{input:function(e){return t.cambiarTipodeCambio()}},model:{value:t.tipocambio,callback:function(e){t.tipocambio=e},expression:"tipocambio"}})],1),e(n["a"],{attrs:{cols:"12",md:"12"}},[e(B["d"],{attrs:{"primary-title":""}},[t._v(" Cargar Conceptos a Pagar "),e(s["a"],{staticClass:"mx-2",attrs:{color:"success",disabled:""==t.radio},on:{click:function(e){return t.abrirDialogNuevoProducto()}}},[t._v(" Añadir ")])],1),t.itemsProductos.length>0?e(jt["a"],{attrs:{dense:""}},[e("thead",[e("tr",[e("th",[t._v("Acciones")]),e("th",[t._v("Producto/ Concepto")]),e("th",{staticStyle:{background:"#adcaf5"}},[t._v("Monto")]),e("th",{staticStyle:{background:"#adcaf5"}},[t._v(" "+t._s(t.$store.state.enterprises.impuesto.nombre_impuesto)+" ")]),e("th",{staticStyle:{background:"#adcaf5"}},[t._v("Total")]),e("th",{staticStyle:{background:"#c7f7d7"}},[t._v("Monto (USD)")]),e("th",{staticStyle:{background:"#c7f7d7"}},[t._v(" "+t._s(t.$store.state.enterprises.impuesto.nombre_impuesto)+"(USD) ")]),e("th",{staticStyle:{background:"#c7f7d7"}},[t._v("Total (USD)")])])]),e("tbody",[t._l(t.itemsProductos.filter(t=>1==t.status),(function(a,o){return e("tr",{key:o},[e("td",[e(s["a"],{attrs:{icon:"",color:"red","x-small":""},on:{click:function(e){return t.eliminar(a)}}},[e(I["a"],[t._v("mdi-delete")])],1)],1),e("td",[t._v(t._s(a.concepto))]),e("td",["editar"==t.tipo?e(p["a"],{staticStyle:{"max-width":"100px"},attrs:{type:"number",step:"0.01"},on:{input:function(e){return t.recalcularMonto(a,o)}},model:{value:a.monto,callback:function(e){t.$set(a,"monto",e)},expression:"productos.monto"}}):e("span",[t._v(" "+t._s(a.monto)+" ")])],1),null!=a.id?e("td",[t._v(" "+t._s(t.symbol)+" "+t._s(a.igv)+" ")]):e("td",[t._v(t._s(t.symbol)+" "+t._s(a.igv))]),e("td",[t._v(" "+t._s(t.symbol)+" "+t._s(parseFloat(a.total).toFixed(2))+" ")]),e("td",[t._v("USD "+t._s(a.montodolar))]),null!=a.id?e("td",[t._v(" USD "+t._s(a.igvdolar)+" ")]):e("td",[t._v("USD "+t._s(a.igvdolar))]),e("td",[t._v(" USD "+t._s(parseFloat(a.totaldolar).toFixed(2))+" ")])])})),e("tr",[e("td"),e("td",[t._v("Total:")]),e("td",[t._v(" "+t._s(t.symbol)+" "+t._s(parseFloat(t.itemsProductos.filter(t=>1==t.status).reduce((t,e)=>t+parseFloat(e.monto),0)).toFixed(2))+" ")]),e("td",[t._v(" "+t._s(t.symbol)+" "+t._s(parseFloat(t.itemsProductos.filter(t=>1==t.status).reduce((t,e)=>t+parseFloat(e.igv),0)).toFixed(2))+" ")]),e("td",[t._v(" "+t._s(t.symbol)+" "+t._s(parseFloat(t.itemsProductos.filter(t=>1==t.status).reduce((t,e)=>t+parseFloat(e.total),0)).toFixed(2))+" ")]),e("td",[t._v(" USD "+t._s(parseFloat(t.itemsProductos.filter(t=>1==t.status).reduce((t,e)=>t+parseFloat(e.montodolar),0)).toFixed(2))+" ")]),e("td",[t._v(" USD "+t._s(parseFloat(t.itemsProductos.filter(t=>1==t.status).reduce((t,e)=>t+parseFloat(e.igvdolar),0)).toFixed(2))+" ")]),e("td",[t._v(" USD "+t._s(parseFloat(t.itemsProductos.filter(t=>1==t.status).reduce((t,e)=>t+parseFloat(e.totaldolar),0)).toFixed(2))+" ")])])],2)]):t._e()],1),"nuevo"==t.tipo||"editar"==t.tipo?e(n["a"],{attrs:{cols:"12"}},[e(d["a"],[e(n["a"],{attrs:{cols:"12",md:"8"}},[e(oi["a"],{attrs:{disabled:""==t.radio,"show-size":"",label:"Adjuntar archivo",dense:"",filled:""},on:{change:function(e){return t._uploadFile()}},model:{value:t.payfile,callback:function(e){t.payfile=e},expression:"payfile"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[t.boolFile?e(Wt["a"],{attrs:{block:"",large:"",color:"success",outlined:"",dense:""}},[e(I["a"],{attrs:{left:""}},[t._v(" mdi-check ")]),t._v(" Archivo cargado éxitosamente ")],1):t._e()],1)],1)],1):e(n["a"],{attrs:{cols:"12",md:"9"}},[e(B["d"],{attrs:{"primary-title":""}},[t._v(" Documento referencia: ")]),e(jt["a"],{attrs:{dense:""}},[e("tbody",[e("tr",[t.payPathName?e("td",[t._v(t._s(t.name_path)+"sssssssssss")]):e("td",[e(vo["a"],{attrs:{color:"orange",type:"warning"}},[t._v(" No se ha cargado documento")])],1),e("td",[t.payPathName?e(s["a"],{attrs:{icon:"",color:"red",href:t.payPath,target:"_blank"}},[e(I["a"],[t._v("mdi-file-pdf-box")])],1):t._e()],1)])])])],1),e(n["a"],{attrs:{cols:"12"}},["nuevo"==t.tipo?e(s["a"],{attrs:{elevation:"0",color:"primary",disabled:0==t.itemsProductos.length},on:{click:function(e){return t._setInvoice()}}},[t._v(" GUARDAR FACTURA ")]):t._e(),"editar"==t.tipo?e(s["a"],{attrs:{elevation:"0",color:"primary"},on:{click:function(e){return t.setUpdateInvoiceAdmin()}}},[t._v(" GUARDAR CAMBIOS ")]):t._e()],1)],1)],1)],1),e(U["a"],{staticClass:"mx-5",attrs:{persistent:"",overlay:!1,"max-width":"25%",transition:"dialog-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(r["a"],[e(B["d"],{attrs:{"primary-title":""}},[t._v(" Cargar Conceptos a Pagar ")]),e(c["a"],{ref:"validacionConcepto"},[e(d["a"],{staticClass:"ma-3"},[e(n["a"],{attrs:{cols:"12",md:"12"}},[e(p["a"],{attrs:{placeholder:"Descripción",label:"Producto/ Concepto",rules:t.conceptoRule,required:""},model:{value:t.producto.concepto,callback:function(e){t.$set(t.producto,"concepto",e)},expression:"producto.concepto"}})],1),e(n["a"],{attrs:{cols:"12",md:"12"}},[e(p["a"],{attrs:{placeholder:"0.00",label:"Monto",type:"number",rules:[t=>!!t>0||"El monto es requerido"],prefix:t.symbol},model:{value:t.producto.monto,callback:function(e){t.$set(t.producto,"monto",e)},expression:"producto.monto"}})],1),e(n["a"],{attrs:{cols:"12",md:"12"}},[e(ue["a"],{attrs:{row:""},model:{value:t.producto.afecto,callback:function(e){t.$set(t.producto,"afecto",e)},expression:"producto.afecto"}},[e(de["a"],{attrs:{label:"Afecto",value:"true"}}),e(de["a"],{attrs:{label:"No Afecto",value:"false"}})],1)],1),e(n["a"],{attrs:{cols:"12",md:"12"}},[e(s["a"],{staticClass:"mx-1",attrs:{color:"success",small:""},on:{click:function(e){t.añadirProducto()}}},[t._v(" Aceptar ")]),e(s["a"],{staticClass:"mx-1",attrs:{color:"warning",small:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancelar ")])],1)],1)],1)],1)],1)],1)},Vr=[],zr=a("ca17"),qr=a.n(zr),Kr=(a("542c"),{name:"controlAccountPaysCom",props:{operativa:"",exp:"",pro:"",id_pro:"",tipo:""},components:{Treeselect:qr.a},data:()=>({date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),row:"",id_gastos:null,menu:!1,modal:!1,menu2:!1,dialog:!1,radio:"",itemsProveedores:[],dataList:!1,payfile:[],payPath:"",id_path:"",pathfile:"",tipocambio:1,pathfileAll:"",payPathName:"",boolFile:!1,itemsExpedientes:[],itemsProformace:[],itemsProductos:[],name_path:"",producto:{},facturaFlag:!1,serieFlag:!1,id_proformace:"",symbol:"",id_expediente:"",id_proveedor:"",fecha:"",nro_factura:"",nro_serie:"",id_coins:"",monto:"",igv:"",total:{monto:0,total:0},dialogPro:!1,conceptoRule:[t=>!!t||"Descripción Requerida"],id_month:"",id_year:"",errorGasto:""}),async mounted(){this.$store.state.spiner=!0,this.cleanData(),await Promise.all([this.obtenerImpuestoXEmpresa(),this._getPerformance(),this.getArbolGastos(),this._getChargeMonth(),this._getChargeYear(),this._getCoinsList(),this._getProveedor()]),this._valida(),"ver"!=this.tipo&&"editar"!=this.tipo||await this._getInvoiceAdmin(this.$route.params.id),setTimeout(()=>{this.producto={concepto:"",monto:null,afecto:"true",total:0}},600),this.$store.state.spiner=!1,this.$store.state.drawer=!1},computed:{...Object(_["c"])(["performances","InvoiceAdmin"])},methods:{...Object(_["b"])(["_getBanksList","_getCoinsList","_getPerformance","_getChargeMonth","_getChargeYear","_getInvoiceAdmin","_getInvoice","getArbolGastos","_getProveedor","obtenerImpuestoXEmpresa"]),abrirDialogNuevoProducto(){if(!this.id_coins)return at.a.fire({icon:"warning",title:"Advertencia",text:"Es necesario seleccionar una moneda."}),!1;this.dialog=!0},_valida(){1==this.operativa&&(this.radio=2,this._getMasterList(),this.id_expediente=this.exp,this._getProformace(),this.id_proformace=this.pro,this.id_proveedor=this.id_pro)},sendData(){this.id_proveedor=this.id_proformace.id_proveedor},sendPro(t,e){this.id_proformace=t,this.id_proveedor=e,this.dialogPro=!1},_callModalEntitie(){1==this.radio?(this.$store.state.id_role_actual=28,this.$store.state.modalAdmin=!this.$store.state.modalAdmin):2==this.radio&&(this.$store.state.id_role_actual=15,this.$store.state.modalPro=!this.$store.state.modalPro)},_uploadFile(){var t=a("5a30"),e=(a("3e8f"),new t),o=this;1==o.radio?e.append("name","Factura Administrativa"):2==o.radio&&e.append("name","Factura Operativa"),e.append("file",o.payfile);var i={method:"post",url:"https://api.agentedecargaonline.com/uploadAllPath",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};A()(i).then((function(t){o.boolFile=!0,o.payPath=t.data.data[0].insertid,o.id_path=t.data.data[0].insertid})).catch((function(t){console.log(t)}))},async _getMasterList(){var t=this;let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={method:"post",url:"https://api.agentedecargaonline.com/getHouseListAll",data:e,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(a).then((function(e){t.itemsExpedientes=e.data.data})).catch((function(t){console.log(t)}))},async _getProformace(){var t=this,e={id_house:t.id_expediente},a={method:"post",url:"https://api.agentedecargaonline.com/getListInvoiceExp",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){t.itemsProformace=e.data.data})).catch((function(t){console.log(t)}))},recalcularMonto(t,e){console.log("prod",t);let a=0,o=0,i=parseFloat(t.monto),s=parseFloat(t.monto/this.tipocambio),r=parseFloat(t.monto/this.tipocambio);"true"!=t.afecto&&1!=t.afecto||(a=parseFloat(t.monto)*this.$store.state.enterprises.impuesto.impuesto/100,o=parseFloat(a/this.tipocambio),r+=parseFloat(o),console.log("totaldolar",r),i+=parseFloat(a));let n={id:t.id,concepto:t.concepto,monto:t.monto,montodolar:parseFloat(s).toFixed(2),igv:parseFloat(a).toFixed(2),igvdolar:parseFloat(o).toFixed(2),afecto:t.afecto,status:1,total:i,totaldolar:r};this.$set(this.itemsProductos,e,{...n})},cleanData(){this.radio="",this.id_proveedor="",this.fecha="",this.nro_factura="",this.nro_serie="",this.id_coins="",this.monto="",this.igv="",this.total="",this.payPath="",this.id_path="",this.boolFile=!1,this.facturaFlag=!1,this.serieFlag=!1},async _setInvoice(){var t=this;if(t.errorGasto="",0==this.itemsProductos.length)return t.$swal({icon:"error",title:"Aviso",text:"Debes cargar el concepto a pagar y su monto para poder registrar la factura.",allowEnterKey:!1,allowOutsideClick:!1}).then(t=>{t.isConfirmed&&(this.dialog=!0)}),!1;if(this.$refs.frmFactura.validate()&&this.id_gastos){t.$swal({icon:"info",title:"Guardando...",text:"Por favor espere"});var e={type_payment:t.radio||""!=t.radio?t.radio:null,id_expediente:t.id_expediente||""!=t.id_expediente?t.id_expediente:null,id_proveedor:t.id_proveedor||""!=t.id_proveedor?t.id_proveedor:null,fecha:t.date||""!=t.date?t.date:null,nro_factura:t.nro_factura||""!=t.nro_factura?t.nro_factura:null,nro_serie:t.nro_serie||""!=t.nro_serie?t.nro_serie:null,id_coins:t.id_coins.id||""!=t.id_coins.id?t.id_coins.id:null,monto:t.total.total||""!=t.total.total?t.total.total:null,montodolar:t.total.totaldolar||""!=t.total.totaldolar?t.total.totaldolar:null,type_igv:t.igv||""!=t.igv?t.igv:null,total:t.total.total||""!=t.total.total?t.total.total:null,id_path:t.id_path||""!=t.id_path?t.id_path:null,detalle:t.itemsProductos.filter(t=>1==t.status),id_proformance:t.id_proformace.id||""!=t.id_proformace.id?t.id_proformace.id:null,id_month:t.id_month||""!=t.id_month?t.id_month:null,id_year:t.id_year||""!=t.id_year?t.id_year:null,status:1,tipocambio:t.tipocambio,id_gastos:t.id_gastos},a={method:"post",url:"https://api.agentedecargaonline.com/setInvoiceAdmin",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){t.itemsInvoice=e.data.data,t.$swal({icon:"success",title:"Documento Cargado",text:"El documento ha sido cargado correctamente"}),1==t.radio&&t.id_proformace>0?t.putPro():(t.$router.back(),t.cleanData()),t._getInvoice(),t.dialogInvoice=!1})).catch((function(t){console.log(t)}))}else t.errorGasto="Dato Requerido"},async setUpdateInvoiceAdmin(){var t=this;if(t.errorGasto="",this.$refs.frmFactura.validate()&&this.id_gastos){t.$swal({icon:"info",title:"Guardando...",text:"Por favor espere"});var e={type_payment:t.radio,id_expediente:t.id_expediente,id_proveedor:t.id_proveedor,fecha:t.date,nro_factura:t.nro_factura,nro_serie:t.nro_serie,id_coins:t.id_coins.id?t.id_coins.id:t.id_coins,monto:t.total.total,montodolar:t.total.montodolar,type_igv:t.igv,total:t.total.total,status:1,id_path:t.id_path,detalle:t.itemsProductos.filter(t=>1==t.status),id_proformance:t.id_proformace,id_month:t.id_month,id_year:t.id_year,id:t.$route.params.id,tipocambio:t.tipocambio,id_gastos:t.id_gastos},a={method:"put",url:"https://api.agentedecargaonline.com/setUpdateInvoiceAdmin",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){t.itemsInvoice=e.data.data,t.$swal({icon:"success",title:"Documento Cargado",text:"El documento ha sido actualizado correctamente"}),t.$router.push({name:"viewAccountPays",params:{id:t.$route.params.id}}),t.dialogInvoice=!1})).catch((function(t){console.log(t)}))}else t.errorGasto="Dato Requerido"},async putPro(){var t=this,e={id_path:t.id_path,id_proformace:t.id_proformace},a={method:"post",url:"https://api.agentedecargaonline.com/putPro",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){t.cleanData(),t._getInvoice(),t.$router.back(),t.dialogInvoice=!1})).catch((function(t){console.log(t)}))},"añadirProducto"(){let t=0,e=0,a=parseFloat(this.producto.monto),o=parseFloat(this.producto.monto/this.tipocambio),i=parseFloat(this.producto.monto/this.tipocambio);"true"!=this.producto.afecto&&1!=this.producto.afecto||(t=parseFloat(this.producto.monto)*this.$store.state.enterprises.impuesto.impuesto/100,e=parseFloat(t/this.tipocambio),i+=parseFloat(e),console.log("totaldolar",i),a+=parseFloat(t));let s={id:null,concepto:this.producto.concepto,monto:this.producto.monto,montodolar:parseFloat(o).toFixed(2),igv:parseFloat(t).toFixed(2),igvdolar:parseFloat(e).toFixed(2),afecto:this.producto.afecto,status:1,total:a,totaldolar:i};this.itemsProductos.push(s),this.dialog=!1,this.producto={concepto:"",monto:null,afecto:!0,total:0},this.calculcularTotal()},eliminar(t){this.itemsProductos.filter(e=>e==t)[0].status=0,setTimeout(()=>{this.calculcularTotal()},200)},calculcularTotal(){let t={monto:0,igv:0,total:0,montodolar:0,igvdolar:0,totaldolar:0};this.itemsProductos.filter(t=>1==t.status).forEach(e=>{t.monto+=parseFloat(e.monto),t.igv+=parseFloat(e.igv),t.total+=parseFloat(e.total),t.montodolar+=parseFloat(e.montodolar),t.igvdolar+=parseFloat(e.igvdolar),t.totaldolar+=parseFloat(e.totaldolar)}),this.total=t},cambiarTipodeCambio(){this.itemsProductos.forEach(t=>{this.recalcularMonto(t,this.itemsProductos.indexOf(t))}),this.calculcularTotal()},validacionesRequeridas(){switch(this.id_proformace.code){case"002":this.facturaFlag=!0,this.serieFlag=!0;break;default:this.facturaFlag=!1,this.serieFlag=!1;break}},obtenerPrefixCoins(){this.symbol=this.id_coins.symbol,"USD"==this.symbol?this.tipocambio=1:this.tipocambio=this.tipocambio,this.cambiarTipodeCambio()},validarFormulario(){let t="",e=!0;return""==this.radio?(t+=" Seleccione una opcion Administrativa / Operativa.",e=!1):(""!=this.id_month&&""!=this.id_year||1!=this.radio||(t+="Seleccione un mes y año correspondiente a la factura.",e=!1),(this.facturaFlag&&""==this.nro_factura||this.serieFlag&&""==this.nro_serie)&&(t+="La factura y el número de serie son requerido.",e=!1),0==this.itemsProductos.length&&(t+=" Para guardar la factura se necesita al menos un producto/ concepto.",e=!1)),0==e&&this.$swal({icon:"error",title:"Advertencia...",text:t}),e}},watch:{InvoiceAdmin(){var t=this;t.id_proformace=t.InvoiceAdmin[0].id_proformace,t.id_expediente=t.InvoiceAdmin[0].id_expediente,t.id_proveedor=t.InvoiceAdmin[0].id_proveedor,t.date=new Date(t.InvoiceAdmin[0].fecha).toISOString().substring(0,10),t.nro_factura=t.InvoiceAdmin[0].nro_factura,t.nro_serie=t.InvoiceAdmin[0].nro_serie,t.id_coins=t.InvoiceAdmin[0].id_coins,t.monto=t.InvoiceAdmin[0].monto,t.radio=t.InvoiceAdmin[0].type_payment,t.payPathName=t.InvoiceAdmin[0].originalname,t.id_path=t.InvoiceAdmin[0].id_path,t.payPath=t.InvoiceAdmin[0].path,t.id_proformace=t.InvoiceAdmin[0].id_proformance,t.id_month=t.InvoiceAdmin[0].id_month,t.id_year=t.InvoiceAdmin[0].id_year,t.tipocambio=t.InvoiceAdmin[0].tipocambio,t.id_gastos=t.InvoiceAdmin[0].id_subgasto,t.id_gastos=t.InvoiceAdmin[0].id_subgasto,t.name_path=t.InvoiceAdmin[0].name_path,t.itemsProductos=t.InvoiceAdmin[0].details,t.calculcularTotal()},async radio(){let t=this;0==t.itemsExpedientes.length&&2==t.radio&&(this.$store.state.spiner=!0,await this._getMasterList(),this.$store.state.spiner=!1)}}}),Qr=Kr,Yr=Object(v["a"])(Qr,Jr,Vr,!1,null,null,null),Xr=Yr.exports,Zr={name:"controlAccountPays",components:{controlAccountPaysCom:Xr}},Wr=Zr,tn=Object(v["a"])(Wr,Gr,Hr,!1,null,null,null),en=tn.exports,an=function(){var t=this,e=t._self._c;return e("div",[e(l["a"],{attrs:{fluid:""}},[e(d["a"],[e(n["a"],{attrs:{md:"8",cols:"12"}},[e("controlAccountPaysCom",{attrs:{tipo:"ver"}})],1)],1)],1)],1)},on=[],sn={name:"controlAccountPays",components:{controlAccountPaysCom:Xr}},rn=sn,nn=Object(v["a"])(rn,an,on,!1,null,null,null),ln=nn.exports,cn=function(){var t=this,e=t._self._c;return e("div",[e(l["a"],{attrs:{fluid:""}},[e(d["a"],[e(n["a"],{attrs:{md:"8",cols:"12"}},[e("controlAccountReceivable",{attrs:{tipo:"ver"}})],1)],1)],1)],1)},dn=[],un=function(){var t=this,e=t._self._c;return e("div",[e(r["a"],{attrs:{elevation:"0"}},["nuevo"==t.tipo?e(B["d"],[t._v(" CARGAR UNA CUENTA POR COBRAR ")]):t._e(),"ver"==t.tipo?e(B["d"],[t._v(" VER FACTURA TIPO "+t._s(1==t.row?"ADMNINISTRATIVA":"OPERATIVA")+" ")]):t._e(),"editar"==t.tipo?e(B["d"],[t._v(" EDITAR FACTURA TIPO "+t._s(1==t.row?"ADMNINISTRATIVA":"OPERATIVA"))]):t._e(),e(B["c"],["nuevo"==t.tipo?e(ue["a"],{attrs:{row:""},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[e(de["a"],{attrs:{value:"1",label:"Administrativa"}}),e(de["a"],{attrs:{value:"2",label:"Operativa"}})],1):t._e(),e(d["a"],{attrs:{dense:""}},[2==t.radio?e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.houses.listHouse,"item-text":"description","item-value":"id",label:"Expediente",disabled:""==t.radio},on:{change:function(e){return t._getProformace()}},model:{value:t.id_expediente,callback:function(e){t.id_expediente=e},expression:"id_expediente"}})],1):t._e(),1==t.radio?e(n["a"],{attrs:{cols:"12",md:"6"}},[e(d["a"],{attrs:{dense:""}},[e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.month,"item-text":"description","item-value":"id",label:"Mes del Ingreso",disabled:""==t.radio},model:{value:t.id_month,callback:function(e){t.id_month=e},expression:"id_month"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.year,"item-text":"description","item-value":"id",label:"Año del Ingreso",disabled:""==t.radio},model:{value:t.id_year,callback:function(e){t.id_year=e},expression:"id_year"}})],1)],1)],1):t._e(),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{label:"Tipo de Ingreso",items:t.$store.state.balances.tipoingreso.filter(t=>0!=t.id),"auto-select-first":"",clearable:"","item-text":"description","item-value":"id",disabled:""==t.radio,rules:[t=>!!t||"Datos Requerido"]},model:{value:t.tipoingreso,callback:function(e){t.tipoingreso=e},expression:"tipoingreso"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{label:"Subtipo de Ingreso",items:t.tiposubingresoFilter.filter(t=>0!=t.id),"auto-select-first":"",clearable:"","item-text":"description","item-value":"id",disabled:!t.tipoingreso,rules:[t=>!!t||"Datos Requerido"]},model:{value:t.id_tipoingreso,callback:function(e){t.id_tipoingreso=e},expression:"id_tipoingreso"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.performances,"item-text":"description","item-value":"id",label:"Proformace",disabled:""==t.radio,"return-object":""},on:{change:function(e){return t.validacionesRequeridas()}},model:{value:t.id_proformace,callback:function(e){t.id_proformace=e},expression:"id_proformace"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{items:t.$store.state.clientes,"item-text":"namelong","item-value":"id",label:"Cliente",disabled:""==t.radio},model:{value:t.id_cliente,callback:function(e){t.id_cliente=e},expression:"id_cliente"}},[e(I["a"],{staticClass:"btn__add",attrs:{slot:"append",color:"primary"},nativeOn:{click:function(e){return t._callModalEntitie()}},slot:"append"},[t._v(" mdi-plus ")])],1)],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{type:"date",disabled:""==t.radio,label:"Fecha Emisión de la Factura"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{disabled:""==t.radio,label:"Nro. de Factura",required:t.facturaFlag},model:{value:t.nro_factura,callback:function(e){t.nro_factura=e},expression:"nro_factura"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(p["a"],{attrs:{disabled:""==t.radio,label:"Nro. de Serie",required:t.serieFlag},model:{value:t.nro_serie,callback:function(e){t.nro_serie=e},expression:"nro_serie"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},[e(Lt["a"],{attrs:{disabled:""==t.radio,items:t.$store.state.itemsCoinsList,"item-text":"acronym","item-value":"id",label:"Moneda","return-object":""},on:{change:function(e){return t.obtenerPrefixCoins()}},model:{value:t.id_coins,callback:function(e){t.id_coins=e},expression:"id_coins"}})],1),e(n["a"],{attrs:{cols:"12",md:"6"}},["USD"==t.symbol&&t.id_coins?t._e():e(p["a"],{attrs:{type:"number",label:"Tipo de Cambio",disabled:""==t.radio},nativeOn:{input:function(e){return t.cambiarTipodeCambio()}},model:{value:t.tipocambio,callback:function(e){t.tipocambio=e},expression:"tipocambio"}})],1),e(n["a"],{attrs:{cols:"12",md:"12"}},[e(B["d"],{attrs:{"primary-title":""}},[t._v(" Cargar Conceptos a Cobrar "),"ver"!=t.tipo?e(s["a"],{staticClass:"mx-2",attrs:{color:"success",disabled:""==t.radio},on:{click:function(e){return t.abrirDialogNuevoProducto()}}},[t._v(" Añadir ")]):t._e()],1),t.itemsproductos.length>0?e(jt["a"],{attrs:{dense:""}},[e("thead",[e("tr",[e("th",[t._v("Acciones")]),e("th",[t._v("Producto/ Concepto")]),e("th",{staticStyle:{background:"#adcaf5"}},[t._v("Monto")]),e("th",{staticStyle:{background:"#adcaf5"}},[t._v(" "+t._s(t.$store.state.enterprises.impuesto.nombre_impuesto)+" ")]),e("th",{staticStyle:{background:"#adcaf5"}},[t._v("Total")]),e("th",{staticStyle:{background:"#c7f7d7"}},[t._v("Monto (USD)")]),e("th",{staticStyle:{background:"#c7f7d7"}},[t._v(" "+t._s(t.$store.state.enterprises.impuesto.nombre_impuesto)+"(USD) ")]),e("th",{staticStyle:{background:"#c7f7d7"}},[t._v("Total (USD)")])])]),e("tbody",[t._l(t.itemsproductos.filter(t=>1==t.status),(function(a,o){return e("tr",{key:o},[e("td",[e(s["a"],{attrs:{icon:"",color:"red","x-small":""},on:{click:function(e){return t.eliminar(a)}}},[e(I["a"],[t._v("mdi-delete")])],1)],1),e("td",[t._v(t._s(a.concepto))]),e("td",["editar"==t.tipo?e(p["a"],{staticStyle:{"max-width":"100px"},attrs:{type:"number",step:"0.01"},on:{input:function(e){return t.recalcularMonto(a,o)}},model:{value:a.monto,callback:function(e){t.$set(a,"monto",e)},expression:"productos.monto"}}):e("span",[t._v(" "+t._s(a.monto)+" ")])],1),(a.id,e("td",[t._v(" "+t._s(a.igv)+" ")])),e("td",[t._v(" "+t._s(t.symbol)+" "+t._s(parseFloat(a.total).toFixed(4))+" ")]),e("td",[t._v("USD "+t._s(a.montodolar))]),e("td",[t._v("USD "+t._s(a.igvdolar))]),e("td",[t._v(" USD "+t._s(parseFloat(a.totaldolar).toFixed(2))+" ")])])})),e("tr",[e("td"),e("td",[t._v("Total:")]),e("td",[t._v(" "+t._s(t.symbol)+" "+t._s(parseFloat(t.itemsproductos.filter(t=>1==t.status).reduce((t,e)=>t+parseFloat(e.monto),0)).toFixed(2))+" ")]),e("td",[t._v(" "+t._s(t.symbol)+" "+t._s(parseFloat(t.itemsproductos.filter(t=>1==t.status).reduce((t,e)=>t+parseFloat(e.igv),0)).toFixed(2))+" ")]),e("td",[t._v(" "+t._s(t.symbol)+" "+t._s(parseFloat(t.itemsproductos.filter(t=>1==t.status).reduce((t,e)=>t+parseFloat(e.total),0)).toFixed(2))+" ")]),e("td",[t._v(" USD "+t._s(parseFloat(t.itemsproductos.filter(t=>1==t.status).reduce((t,e)=>t+parseFloat(e.montodolar),0)).toFixed(2))+" ")]),e("td",[t._v(" USD "+t._s(parseFloat(t.itemsproductos.filter(t=>1==t.status).reduce((t,e)=>t+parseFloat(e.igvdolar),0)).toFixed(2))+" ")]),e("td",[t._v(" USD "+t._s(parseFloat(t.itemsproductos.filter(t=>1==t.status).reduce((t,e)=>t+parseFloat(e.totaldolar),0)).toFixed(2))+" ")])])],2)]):t._e()],1),"nuevo"==t.tipo||"editar"==t.tipo?e(n["a"],{attrs:{cols:"12"}},[e(d["a"],[e(n["a"],{attrs:{cols:"12",md:"8"}},[e(oi["a"],{attrs:{disabled:""==t.radio,"show-size":"",label:"Adjuntar archivo",dense:"",filled:""},on:{change:function(e){return t._uploadFile()}},model:{value:t.payfile,callback:function(e){t.payfile=e},expression:"payfile"}})],1),e(n["a"],{attrs:{cols:"12",md:"4"}},[t.boolFile?e(Wt["a"],{attrs:{block:"",large:"",color:"success",outlined:"",dense:""}},[e(I["a"],{attrs:{left:""}},[t._v(" mdi-check ")]),t._v(" Archivo cargado éxitosamente ")],1):t._e()],1)],1)],1):e(n["a"],{attrs:{cols:"12",md:"9"}},[e(B["d"],{attrs:{"primary-title":""}},[t._v(" Documento referencia: ")]),e(jt["a"],{attrs:{dense:""}},[e("tbody",[e("tr",[t.payPathName?e("td",[t._v(" "+t._s(t.name_path)+" ")]):e("td",[e(vo["a"],{attrs:{color:"orange",type:"warning"}},[t._v(" No se ha cargado documento")])],1),e("td",[t.payPathName?e(s["a"],{attrs:{icon:"",color:"red",href:t.payPath,target:"_blank"}},[e(I["a"],[t._v("mdi-file-pdf-box")])],1):t._e()],1)])])])],1),e(n["a"],{attrs:{cols:"12"}},["nuevo"==t.tipo?e(s["a"],{attrs:{elevation:"0",color:"primary",disabled:0==t.itemsproductos.length},on:{click:function(e){return t._setInvoice()}}},[t._v(" GUARDAR FACTURA ")]):t._e(),"editar"==t.tipo?e(s["a"],{attrs:{elevation:"0",color:"primary"},on:{click:function(e){return t.setUpdateInvoiceAdmin()}}},[t._v(" GUARDAR CAMBIOS ")]):t._e()],1)],1)],1)],1),e(U["a"],{staticClass:"mx-5",attrs:{persistent:"",overlay:!1,"max-width":"25%",transition:"dialog-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(r["a"],[e(B["d"],{attrs:{"primary-title":""}},[t._v(" Añadir Producto/ Concepto ")]),e(c["a"],{ref:"validacionConcepto"},[e(d["a"],{staticClass:"ma-3"},[e(n["a"],{attrs:{cols:"12",md:"12"}},[e(p["a"],{attrs:{placeholder:"Descripción",label:"Producto/ Concepto",rules:t.conceptoRule,required:""},model:{value:t.producto.concepto,callback:function(e){t.$set(t.producto,"concepto",e)},expression:"producto.concepto"}})],1),e(n["a"],{attrs:{cols:"12",md:"12"}},[e(p["a"],{attrs:{placeholder:"0.00",label:"Monto",type:"number",rules:[t=>!!t>0||"El monto es requerido"],prefix:t.symbol},model:{value:t.producto.monto,callback:function(e){t.$set(t.producto,"monto",e)},expression:"producto.monto"}})],1),e(n["a"],{attrs:{cols:"12",md:"12"}},[e(ue["a"],{attrs:{row:""},model:{value:t.producto.afecto,callback:function(e){t.$set(t.producto,"afecto",e)},expression:"producto.afecto"}},[e(de["a"],{attrs:{label:"Afecto",value:"true"}}),e(de["a"],{attrs:{label:"No Afecto",value:"false"}})],1)],1),e(n["a"],{attrs:{cols:"12",md:"12"}},[e(s["a"],{staticClass:"mx-1",attrs:{color:"success",small:""},on:{click:function(e){t.añadirProducto()}}},[t._v(" Aceptar ")]),e(s["a"],{staticClass:"mx-1",attrs:{color:"warning",small:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancelar ")])],1)],1)],1)],1)],1)],1)},pn=[],mn=a("1dce"),hn=a("b5ae"),_n=(a("df7c"),{components:{Treeselect:qr.a},name:"moduleAccountReceivableCom",mixins:[mn["validationMixin"]],props:{operativa:"",exp:"",pro:"",id_pro:"",tipo:""},validations:{name:{required:hn["required"],maxLength:Object(hn["maxLength"])(10)},email:{required:hn["required"],email:hn["email"]},select:{required:hn["required"]},checkbox:{checked(t){return t}}},data:()=>({tipoingreso:null,id_tipoingreso:null,tiposubingresoFilter:[],errorGasto:"",date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),menu:!1,modal:!1,menu2:!1,dialog:!1,radio:0,itemsCliente:[],dataList:!1,payfile:[],payPath:"",name_path:"",pathfile:"",payPath:"",pathfileAll:"",boolFile:!1,itemsExpedientes:[],itemsProformace:[],itemsproductos:[],producto:{},facturaFlag:!1,serieFlag:!1,id_proformace:"",symbol:"",id_expediente:"",payPathName:"",id_cliente:"",fecha:"",nro_factura:"",nro_serie:"",id_coins:"",monto:"",igv:"",total:{monto:0,total:0},dialogPro:!1,conceptoRule:[t=>!!t||"Descripción Requerida"],id_month:"",id_year:"",row:"",tipocambio:1}),methods:{...Object(_["b"])(["_getBanksList","_getCoinsList","_getPerformance","_getChargeMonth","_getChargeYear","_getInvoiceAdminCxC","getArbolIngresos","getCargarHouse","getCargarTipoIngreso","getCargarTipoSubIngreso","cargarProveedores","cargarClientes","obtenerImpuestoXEmpresa"]),abrirDialogNuevoProducto(){if(!this.id_coins)return at.a.fire({icon:"warning",title:"Advertencia",text:"Es necesario seleccionar una moneda."}),!1;this.dialog=!0},clear(){this.$v.$reset(),this.name="",this.email="",this.select=null,this.checkbox=!1},recalcularMonto(t,e){let a=0,o=0,i=parseFloat(t.monto),s=parseFloat(t.monto/this.tipocambio),r=parseFloat(t.monto/this.tipocambio);"true"!=t.afecto&&1!=t.afecto||(a=parseFloat(t.monto)*this.$store.state.enterprises.impuesto.impuesto/100,o=parseFloat(a/this.tipocambio),r+=parseFloat(o),console.log("totaldolar",r),i+=parseFloat(a));let n={id:t.id,concepto:t.concepto,monto:t.monto,montodolar:parseFloat(s).toFixed(2),igv:parseFloat(a).toFixed(2),igvdolar:parseFloat(o).toFixed(2),afecto:t.afecto,status:1,total:i,totaldolar:r};this.$set(this.itemsproductos,e,{...n}),console.log("Producto después de actualizar:",this.itemsproductos[e])},_valida(){1==this.operativa&&(this.radio=2,this._getMasterList(),this.id_expediente=this.exp,this._getProformace(),this.id_proformace=this.pro,this.cargarProveedores(),this.id_proveedor=this.id_pro)},sendData(){this.id_proveedor=this.id_proformace.id_proveedor},sendPro(t,e){this.id_proformace=t,this.id_proveedor=e,this.dialogPro=!1},_callModalEntitie(){this.$store.state.id_role_actual=11,this.$store.state.modalAdmin=!this.$store.state.modalAdmin},_uploadFile(){var t=a("5a30"),e=(a("3e8f"),new t),o=this;1==o.radio?e.append("name","Factura Administrativa"):2==o.radio&&e.append("name","Factura Operativa"),e.append("file",o.payfile);var i={method:"post",url:"https://api.agentedecargaonline.com/uploadAllPath",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};A()(i).then((function(t){o.boolFile=!0,o.payPath=JSON.stringify(t.data.data[0].insertid)})).catch((function(t){console.log(t)}))},async _getMasterList(){var t=this;let e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch};var a={data:e,method:"post",url:"https://api.agentedecargaonline.com/getHouseListAll",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(a).then((function(e){t.itemsExpedientes=e.data.data})).catch((function(t){console.log(t)}))},async _getProformace(){var t=this,e={id_house:t.id_expediente},a={method:"post",url:"https://api.agentedecargaonline.com/getListInvoiceExp",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){t.itemsProformace=e.data.data})).catch((function(t){console.log(t)}))},cleanData(){this.radio="",this.id_proveedor="",this.fecha="",this.nro_factura="",this.nro_serie="",this.id_coins="",this.monto="",this.igv="",this.total="",this.payPath="",this.boolFile=!1,this.facturaFlag=!1,this.serieFlag=!1},async _setInvoice(){var t=this;let e=t.validarFormulario();if(0==this.itemsproductos.length)return t.$swal({icon:"error",title:"Aviso",text:"Debes cargar el concepto a pagar y su monto para poder registrar la factura.",allowEnterKey:!1,allowOutsideClick:!1}).then(t=>{t.isConfirmed&&(this.dialog=!0)}),!1;if(1==e){t.$swal({icon:"info",title:"Guardando...",text:"Por favor espere"});let e=t.itemsproductos.filter(t=>1==t.status);var a={type_payment:t.radio,id_expediente:t.id_expediente,id_cliente:t.id_cliente,fecha:t.date,nro_factura:t.nro_factura,nro_serie:t.nro_serie,id_coins:t.id_coins.id,monto:t.total.total,montodolar:t.total.totaldolar,type_igv:t.igv,total:t.total.total,status:1,id_path:t.payPath,detalle:e,id_proformance:t.id_proformace.id,id_month:t.id_month,id_year:t.id_year,tipocambio:t.tipocambio,id_tipoingreso:t.id_tipoingreso},o={method:"post",url:"https://api.agentedecargaonline.com/setInvoiceAdminCxC",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await A()(o).then((function(e){t.itemsInvoice=e.data.data,t.$swal({icon:"success",title:"Documento Cargado",text:"El documento ha sido cargado correctamente"}),t.$router.back(),t.cleanData()})).catch((function(t){console.log(t)}))}},async setUpdateInvoiceAdmin(){var t=this;let e=t.validarFormulario();if(1==e){let e=t.itemsproductos;var a={type_payment:t.radio,id_expediente:t.id_expediente,id_cliente:t.id_cliente,fecha:t.date,nro_factura:t.nro_factura,nro_serie:t.nro_serie,id_coins:t.id_coins.id?t.id_coins.id:t.id_coins,monto:t.total.total,montodolar:t.total.totaldolar,type_igv:t.igv,total:t.total.total,status:1,id_path:t.payPath,detalle:e,id_proformance:t.id_proformace,id_month:t.id_month,id_year:t.id_year,id:t.$route.params.id,tipocambio:t.tipocambio,id_tipoingreso:t.id_tipoingreso},o={method:"put",url:"https://api.agentedecargaonline.com/setUpdateInvoiceAdminCxC",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await A()(o).then((function(e){t.$swal({icon:"success",title:"Documento Cargado",text:"El documento ha sido cargado correctamente"}),1==t.radio&&t.id_proformace>0?t.putPro():(t.$router.back(),t.cleanData()),t.$router.push({name:"viewAccountPaysCxC",params:{id:t.$route.params.id}}),t.dialogInvoice=!1})).catch((function(t){console.log(t)}))}},async putPro(){var t=this,e={id_path:t.payPath,id_proformace:t.id_proformace},a={method:"post",url:"https://api.agentedecargaonline.com/putPro",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};await A()(a).then((function(e){t.cleanData(),t._getInvoice(),t.$router.back(),t.dialogInvoice=!1})).catch((function(t){console.log(t)}))},"añadirProducto"(){let t=0,e=0,a=parseFloat(this.producto.monto),o=parseFloat(this.producto.monto/this.tipocambio),i=parseFloat(this.producto.monto/this.tipocambio);"true"!=this.producto.afecto&&1!=this.producto.afecto||(t=parseFloat(this.producto.monto)*this.$store.state.enterprises.impuesto.impuesto/100,e=parseFloat(t/this.tipocambio),i+=parseFloat(e),console.log("totaldolar",i),a+=parseFloat(t));let s={id:null,concepto:this.producto.concepto,monto:this.producto.monto,montodolar:parseFloat(o).toFixed(2),igv:parseFloat(t).toFixed(2),igvdolar:parseFloat(e).toFixed(2),afecto:this.producto.afecto,status:1,total:"true"==this.producto.afecto?parseFloat(this.producto.monto)*this.$store.state.enterprises.impuesto.impuesto/100+parseFloat(this.producto.monto):parseFloat(this.producto.monto),totaldolar:"true"==this.producto.afecto?parseFloat(parseFloat(this.producto.monto/this.tipocambio)*this.$store.state.enterprises.impuesto.impuesto/100+parseFloat(this.producto.monto/this.tipocambio)).toFixed(2):parseFloat(parseFloat(this.producto.monto/this.tipocambio)).toFixed(2)};this.itemsproductos.push(s),this.dialog=!1,this.producto={concepto:"",monto:null,afecto:!0,total:0},this.calculcularTotal()},eliminar(t){this.itemsproductos.filter(e=>e==t)[0].status=0,setTimeout(()=>{this.calculcularTotal()},200)},calculcularTotal(){let t={monto:0,igv:0,total:0,montodolar:0,igvdolar:0,totaldolar:0};this.itemsproductos.filter(t=>1==t.status).forEach(e=>{t.monto+=parseFloat(e.monto),t.igv+=parseFloat(e.igv),t.total+=parseFloat(e.total),t.montodolar+=parseFloat(e.montodolar),t.igvdolar+=parseFloat(e.igvdolar),t.totaldolar+=parseFloat(e.totaldolar)}),this.total=t},validacionesRequeridas(){switch(this.id_proformace.code){case"002":this.facturaFlag=!0,this.serieFlag=!0;break;default:this.facturaFlag=!1,this.serieFlag=!1;break}},obtenerPrefixCoins(){this.symbol=this.id_coins.symbol},validarFormulario(){let t="",e=!0;return""==this.radio?(t+=" Seleccione una opcion Administrativa / Operativa.",e=!1):(""!=this.id_month&&""!=this.id_year||1!=this.radio||(t+="Seleccione un mes y año correspondiente a la factura.",e=!1),(this.facturaFlag&&""==this.nro_factura||this.serieFlag&&""==this.nro_serie)&&(t+="La factura y el número de serie son requerido.",e=!1),0==this.itemsproductos.length&&(t+=" Para guardar la factura se necesita al menos un producto/ concepto.",e=!1)),0==e&&this.$swal({icon:"error",title:"Advertencia...",text:t}),e},cambiarTipodeCambio(){this.itemsproductos.forEach(t=>{this.recalcularMonto(t,this.itemsproductos.indexOf(t))}),this.calculcularTotal()},filtarSubIngreso(){this.tipoingreso?this.tiposubingresoFilter=this.$store.state.balances.tiposubingreso.filter(t=>t.id_ingreso==this.tipoingreso):this.tiposubingresoFilter=this.$store.state.balances.tiposubingreso}},computed:{...Object(_["c"])(["InvoiceAdmin"])},async mounted(){this.$store.state.spiner=!0,await Promise.all([this.obtenerImpuestoXEmpresa(),this.cleanData(),this.getArbolIngresos(),this.getCargarHouse(),this._valida(),this._getPerformance(),this._getChargeMonth(),this._getChargeYear(),this.getCargarTipoIngreso(),this.getCargarTipoSubIngreso(),this.cargarClientes(),this._getCoinsList(),this.filtarSubIngreso()]),this.$route.params.id&&(await this._getInvoiceAdminCxC(this.$route.params.id),this.calculcularTotal()),this.producto={concepto:"",monto:null,afecto:"true",total:0},this.$store.state.spiner=!1},watch:{async InvoiceAdmin(){var t=this;t.id_proformace=t.InvoiceAdmin[0].id_proformace,t.id_expediente=t.InvoiceAdmin[0].id_expediente,t.id_cliente=t.InvoiceAdmin[0].id_cliente,t.date=new Date(t.InvoiceAdmin[0].fecha).toISOString().substring(0,10),t.nro_factura=t.InvoiceAdmin[0].nro_factura,t.nro_serie=t.InvoiceAdmin[0].nro_serie,t.id_coins=t.InvoiceAdmin[0].id_coins?t.InvoiceAdmin[0].id_coins:"",t.monto=t.InvoiceAdmin[0].monto,t.radio=t.InvoiceAdmin[0].type_payment,t.payPathName=t.InvoiceAdmin[0].originalname,t.payPath=t.InvoiceAdmin[0].path,t.id_proformace=t.InvoiceAdmin[0].id_proformance,t.id_month=t.InvoiceAdmin[0].id_month,t.id_year=t.InvoiceAdmin[0].id_year,t.tipocambio=t.InvoiceAdmin[0].tipocambio,t.name_path=t.InvoiceAdmin[0].name_path,t.tipoingreso=t.InvoiceAdmin[0].id_tipoingreso,t.id_tipoingreso=t.InvoiceAdmin[0].id_subingreso,t.itemsproductos=t.InvoiceAdmin[0].details},tipoingreso(){this.filtarSubIngreso()}}}),gn=_n,fn=Object(v["a"])(gn,un,pn,!1,null,null,null),vn=fn.exports,bn={components:{controlAccountReceivable:vn},name:"controlAccountReceivableView"},Cn=bn,kn=Object(v["a"])(Cn,cn,dn,!1,null,null,null),Sn=kn.exports,yn=function(){var t=this,e=t._self._c;return e("div",[e(l["a"],{attrs:{fluid:""}},[e(d["a"],[e(n["a"],{attrs:{md:"8",cols:"12"}},[e("controlAccountPaysCom",{attrs:{tipo:"editar"}})],1)],1)],1)],1)},In=[],Pn={name:"controlAccountPays",components:{controlAccountPaysCom:Xr}},xn=Pn,Tn=Object(v["a"])(xn,yn,In,!1,null,null,null),$n=Tn.exports,En=function(){var t=this,e=t._self._c;return e("div",[e(l["a"],{attrs:{fluid:""}},[e(d["a"],[e(n["a"],{attrs:{md:"8",cols:"12"}},[e("controlAccountReceivable",{attrs:{tipo:"editar"}})],1)],1)],1)],1)},wn=[],Mn={components:{controlAccountReceivable:vn},name:"controlAccountReceivableEdit"},On=Mn,Fn=Object(v["a"])(On,En,wn,!1,null,null,null),An=Fn.exports,Nn=function(){var t=this,e=t._self._c;return e("div",[e(l["a"],{attrs:{fluid:""}},[e(r["a"],{attrs:{elevation:"0"}},[e(B["d"],[t._v(" Regularizar Proformace ")]),e(B["c"],[e("RegularizarFacturaCom",{attrs:{type:"tipo"}})],1)],1)],1)],1)},Dn=[],Ln=function(){var t=this,e=t._self._c;return e("div",[e(U["a"],{attrs:{"max-width":"800"},model:{value:t.dialogReplace,callback:function(e){t.dialogReplace=e},expression:"dialogReplace"}},[e(r["a"],{attrs:{elevation:"0"}},[e(B["d"],[t._v(" Regularizar Proformace ")]),e(B["c"],[e("controlAccountPaysCom",{attrs:{operativa:"1",exp:t.exp,pro:t.pro,id_pro:t.id_pro,tipo:"nuevo"}})],1)],1)],1),e(te["a"],{attrs:{headers:t.headersPro,items:t.itemsPro},scopedSlots:t._u([{key:"item.action",fn:function({item:a}){return[e(I["a"],{staticClass:"btn_add mr-2",attrs:{dense:"",large:"",color:"blue"},on:{click:function(e){return t._setReplace(a.id,a.id_house,a.id_pro)}}},[t._v("mdi-file-replace")])]}},{key:"item.vpro",fn:function({item:a}){return[e(I["a"],{staticClass:"btn_add mr-2",attrs:{dense:"",large:"",color:"grey"},on:{click:function(e){return t._seePro(a.path)}}},[t._v("mdi-eye")])]}}],null,!0)})],1)},jn=[],Rn={name:"RegularizarFacturaCom",components:{controlAccountPaysCom:Xr},data:()=>({itemsPro:[],dialogReplace:!1,searchFactura:"",headersPro:[{text:"Expediente",value:"nro_master"},{text:"Proveedor",value:"nameconsigner"},{text:"Fecha",value:"date_letra"},{text:"Moneda",value:"namecoins"},{text:"Monto",value:"total"},{text:"Fecha de Pago",value:"fecha_pago"},{text:"Soporte de Pago",value:"soporte_pago"},{text:"Ver Proformace",value:"vpro"},{text:"Acción",value:"action"}],exp:"",pro:"",id_pro:""}),mounted(){this._getRegularizar()},methods:{_seePro(t){window.open(t,"_blank")},_setReplace(t,e,a){this.pro=t,this.exp=e,this.id_pro=a,this.dialogReplace=!0},async _getRegularizar(){var t=this,e={method:"post",url:"https://api.agentedecargaonline.com/getRegularizar",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(e).then((function(e){t.itemsPro=e.data.data})).catch((function(t){console.log(t)}))}}},Bn=Rn,Un=Object(v["a"])(Bn,Ln,jn,!1,null,null,null),Gn=Un.exports,Hn={components:{RegularizarFacturaCom:Gn},name:"regularizarProformace"},Jn=Hn,Vn=Object(v["a"])(Jn,Nn,Dn,!1,null,null,null),zn=Vn.exports,qn=function(){var t=this,e=t._self._c;return e("div",[e(l["a"],{attrs:{fluid:""}},[e(d["a"],[e(n["a"],{attrs:{md:"8",cols:"12"}},[e("controlAccountReceivable",{attrs:{tipo:"nuevo"}})],1)],1)],1)],1)},Kn=[],Qn={components:{controlAccountReceivable:vn},name:"controlAccountReceivableNew"},Yn=Qn,Xn=Object(v["a"])(Yn,qn,Kn,!1,null,null,null),Zn=Xn.exports,Wn=function(){var t=this,e=t._self._c;return e("listPayForProveedor")},tl=[],el=function(){var t=this,e=t._self._c;return e(r["a"],{attrs:{height:"90vh"}},[t.mostrarAdvFlag?e(vo["a"],{staticClass:"ocultarMovil",attrs:{type:"warning"}},[e(d["a"],[e(n["a"],{attrs:{cols:"11"}},[t._v(" Solo se muestran los movimientos del mes actual. Usa el filtro "),e(I["a"],{attrs:{color:"info"}},[t._v("mdi-filter")])],1),e(n["a"],{attrs:{cols:"1"}},[e(s["a"],{attrs:{icon:""},on:{click:function(e){t.mostrarAdvFlag=!t.mostrarAdvFlag}}},[e(I["a"],[t._v("mdi-close")])],1)],1)],1)],1):t._e(),e(B["d"],[e(p["a"],{attrs:{label:"Buscar...."},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e(T["a"]),e(s["a"],{attrs:{color:"success",small:"",text:""},on:{click:t.nuevo}},[t._v("NUEVO PAGO "),e(I["a"],{attrs:{small:""}},[t._v("mdi-plus")])],1),e(s["a"],{attrs:{color:"success",small:"",loading:t.loading,text:""},on:{click:function(e){return t.exportar()}}},[t._v("EXCEL "),e(I["a"],{attrs:{small:""}},[t._v("mdi-file-excel")])],1),e(s["a"],{attrs:{color:"info",text:"",small:""},on:{click:function(e){t.dialogFiltro=!t.dialogFiltro}}},[t._v("Filtrar "),e(I["a"],{attrs:{small:""}},[t._v("mdi-filter")])],1),e(s["a"],{attrs:{color:"default",text:"",small:""},on:{click:function(e){return t.limpiar()}}},[t._v("Limpiar "),e(I["a"],{attrs:{small:""}},[t._v("mdi-close")])],1)],1),e(te["a"],{attrs:{search:t.search,headers:t.headersCabecera,items:t.listado,expanded:t.expanded,"single-expand":t.singleExpand,"show-expand":"","item-key":"index",dense:"","disable-sort":""},on:{"update:expanded":function(e){t.expanded=e},"click:row":t.clickRow},scopedSlots:t._u([{key:"item.action",fn:function({item:a}){return[e(s["a"],{attrs:{icon:"",color:"red"},on:{click:function(e){return t.verSoport(a.ruta)}}},[e(I["a"],[t._v("mdi-file-pdf-box")])],1),e(s["a"],{attrs:{"x-small":"",icon:"",color:"warning"},nativeOn:{click:function(e){return t.editar(a)}}},[e(I["a"],[t._v("mdi-pencil")])],1)]}},{key:"expanded-item",fn:function({item:a}){return[e("td",{attrs:{colspan:"1"}}),e("td",{attrs:{colspan:"12"}},[e(jt["a"],{staticStyle:{width:"100%"}},[e("thead",[e("tr",[e("th",[t._v("Fecha Registro")]),e("th",[t._v("O/A")]),e("th",[t._v("Expediente")]),e("th",[t._v("Monto (USD)")]),e("th",[t._v("Tipo Cambio")]),e("th",[t._v("Monto")]),e("th",[t._v("Factura/ Proforma")])])]),e("tbody",t._l(a.detalle,(function(a){return e("tr",{key:a},[e("td",[t._v(t._s(a.create_at))]),e("td",[t._v(t._s(a.tipo))]),e("td",[t._v(t._s(a.tipo_gasto))]),e("td",[t._v("USD "+t._s(a.monto_dolar))]),e("td",[t._v(t._s(a.tipocambio))]),e("td",[t._v(t._s(a.moneda_simbolo)+" "+t._s(a.monto_mon_ex))]),e("td",[e(s["a"],{attrs:{small:"",color:"warning"},nativeOn:{click:function(e){return t.verFactura(a)}}},[t._v(" VER FACTURAS ")])],1)])})),0)])],1)]}}],null,!0)}),e(U["a"],{attrs:{scrollable:"",persistent:"","max-width":"60%",transition:"dialog-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(r["a"],[e(B["d"],{attrs:{"primary-title":""}},[t._v(" "+t._s(t.verflag?"Ver ":"Editar")+" "),e(T["a"]),e(s["a"],{attrs:{icon:"",color:"default"},on:{click:function(e){t.dialog=!t.dialog}}},[e(I["a"],[t._v("mdi-close")])],1)],1),e(B["c"],[e(c["a"],{ref:"formEditar"},[e(d["a"],[e(n["a"],{attrs:{cols:"12"}},[e("h2",[t._v(t._s(t.dato.name_proveedor))])]),e(n["a"],{attrs:{cols:"3"}},[e(p["a"],{attrs:{label:"Nro Operacion",type:"number",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.dato.nro_operacion,callback:function(e){t.$set(t.dato,"nro_operacion",e)},expression:"dato.nro_operacion"}})],1),e(n["a"],{attrs:{cols:"3"}},[e(p["a"],{attrs:{type:"date",label:"Fecha Operacion",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.dato.fecha,callback:function(e){t.$set(t.dato,"fecha",e)},expression:"dato.fecha"}})],1)],1),e(p["a"],{attrs:{label:"Monto ",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.dato.monto,callback:function(e){t.$set(t.dato,"monto",e)},expression:"dato.monto"}}),e(u["a"],{attrs:{items:t.cuentas,label:"Cuenta Bancaria","item-text":"label","item-value":"id",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.dato.id_cuenta,callback:function(e){t.$set(t.dato,"id_cuenta",e)},expression:"dato.id_cuenta"}}),e(oi["a"],{attrs:{label:"Nuevo Soporte de Pago","show-size":"","truncate-length":"50","hide-details":"",clearable:""},on:{change:function(e){return t._uploadFile()}},model:{value:t.payfile,callback:function(e){t.payfile=e},expression:"payfile"}})],1)],1),e(B["a"],[e(T["a"]),e(s["a"],{attrs:{color:"success",text:""},on:{click:function(e){return t.actualizarCGEgreso()}}},[t._v("Guardar")]),e(s["a"],{attrs:{color:"warning",text:""},on:{click:function(e){t.dialogPayControlGasto=!t.dialogPayControlGasto}}},[t._v("Cancelar")])],1)],1)],1),t.dialogFiltro?e(x["a"],{attrs:{absolute:"",permanent:"",temporary:"",right:"",width:"20%"}},[e(r["a"],{attrs:{height:"100%",elevation:"10"}},[e(B["d"],{attrs:{"primary-title":""}},[t._v(" Filtrar Gastos ")]),e(B["c"],[e(u["a"],{attrs:{items:t.cuentas,label:"Cuenta Bancaria (PIC)","item-text":"label","item-value":"id",clearable:""},model:{value:t.filtro.id_cuenta,callback:function(e){t.$set(t.filtro,"id_cuenta",e)},expression:"filtro.id_cuenta"}}),e(Lt["a"],{attrs:{items:t.$store.state.provedores,label:"Proveedor","item-text":"namelong","item-value":"id",clearable:""},model:{value:t.filtro.id_proveedor,callback:function(e){t.$set(t.filtro,"id_proveedor",e)},expression:"filtro.id_proveedor"}}),e(p["a"],{attrs:{clearable:"",label:"Nro Operacion"},model:{value:t.filtro.nro_operacion,callback:function(e){t.$set(t.filtro,"nro_operacion",e)},expression:"filtro.nro_operacion"}}),e(p["a"],{attrs:{clearable:"",type:"number",label:"Monto"},model:{value:t.filtro.monto,callback:function(e){t.$set(t.filtro,"monto",e)},expression:"filtro.monto"}}),e(p["a"],{attrs:{label:"Fecha Desde",type:"date"},model:{value:t.filtro.desde,callback:function(e){t.$set(t.filtro,"desde",e)},expression:"filtro.desde"}}),e(p["a"],{attrs:{label:"Fecha Hasta",type:"date"},model:{value:t.filtro.hasta,callback:function(e){t.$set(t.filtro,"hasta",e)},expression:"filtro.hasta"}}),e($e["a"],{attrs:{label:"Operativo"},model:{value:t.filtro.operativo,callback:function(e){t.$set(t.filtro,"operativo",e)},expression:"filtro.operativo"}}),e($e["a"],{attrs:{label:"Administrativo"},model:{value:t.filtro.administrativo,callback:function(e){t.$set(t.filtro,"administrativo",e)},expression:"filtro.administrativo"}})],1),e(B["a"],[e(T["a"]),e(s["a"],{attrs:{color:"success",text:""},on:{click:function(e){return t.filtrar()}}},[t._v("Aceptar")]),e(s["a"],{attrs:{color:"red",text:""},on:{click:function(e){t.dialogFiltro=!t.dialogFiltro}}},[t._v("Cancelar")])],1)],1)],1):t._e(),e(U["a"],{attrs:{width:"30%"},model:{value:t.dialogFacturas,callback:function(e){t.dialogFacturas=e},expression:"dialogFacturas"}},[e(r["a"],{staticClass:"py-5"},[e(B["c"],[e(Rt["a"],{attrs:{"auto-grow":"",label:"Concepto(s)",rows:"1"},model:{value:t.lstFacturas.concepto,callback:function(e){t.$set(t.lstFacturas,"concepto",e)},expression:"lstFacturas.concepto"}}),e(Rt["a"],{attrs:{"auto-grow":"",label:"Factura(s)",rows:"1"},model:{value:t.lstFacturas.factura,callback:function(e){t.$set(t.lstFacturas,"factura",e)},expression:"lstFacturas.factura"}}),e(Rt["a"],{attrs:{"auto-grow":"",label:"Serie(s)",rows:"1"},model:{value:t.lstFacturas.serie,callback:function(e){t.$set(t.lstFacturas,"serie",e)},expression:"lstFacturas.serie"}})],1)],1)],1),e(U["a"],{attrs:{persistent:"",overlay:!1,"max-width":"80%",transition:"dialog-transition"},model:{value:t.EditarIngresoFlag,callback:function(e){t.EditarIngresoFlag=e},expression:"EditarIngresoFlag"}},[e(r["a"],[e(B["d"],{attrs:{"primary-title":""}},[t._v(" Editar Salida "),e(T["a"]),e(I["a"],{on:{click:function(e){t.EditarIngresoFlag=!t.EditarIngresoFlag}}},[t._v("mdi-close")])],1),e(ki["a"],{model:{value:t.stepEditarIngreso,callback:function(e){t.stepEditarIngreso=e},expression:"stepEditarIngreso"}},[e(yi["a"],[e(Ii["a"],{attrs:{editable:"",step:"1"}},[t._v(" Step 1 ")]),e(G["a"]),e(Ii["a"],{attrs:{editable:"",step:"2"}},[t._v(" Step 2 ")])],1),e(yi["b"],[e(Si["a"],{attrs:{step:"1"}},[e(d["a"],[e(n["a"],{attrs:{cols:"12"}},[e("b",[t._v("Proveedor: ")]),t._v(" "+t._s(t.Ingreso.name_proveedor)+" ")]),e(n["a"],{attrs:{cols:"12"}},[e(jt["a"],[e("thead",[e("tr",[e("th",[t._v("House")]),e("th",[t._v("Sub Ingreso")]),e("th",[t._v("Monto Dolar")]),e("th",[t._v("Monto ML")]),e("th",[t._v("Tipo Cambio")]),e("th")])]),e("tbody",t._l(t.detalles,(function(a,o){return e("tr",{key:o},[e("td",[t._v(t._s(a.tipo_gasto))]),e("td",[t._v(t._s(a.subtipo_gasto))]),e("td",[e(p["a"],{attrs:{type:"number"},model:{value:a.monto_dolar,callback:function(e){t.$set(a,"monto_dolar",e)},expression:"detalle.monto_dolar"}})],1),e("td",[e(p["a"],{attrs:{type:"number"},model:{value:a.monto_mon_ex,callback:function(e){t.$set(a,"monto_mon_ex",e)},expression:"detalle.monto_mon_ex"}})],1),e("td",[t._v(t._s(a.tipocambio))]),e("td",[e(s["a"],{attrs:{color:"error",icon:""},on:{click:function(t){a.anuladoflag=!0}}},[e(I["a"],[t._v("mdi-delete")])],1)],1)])})),0)])],1)],1)],1),e(Si["a"],{attrs:{step:"2"}},[e(d["a"],[e(n["a"],{attrs:{cols:"4"}},[e(p["a"],{staticClass:"my-1",attrs:{outlined:"",dense:"",label:"Nro Operación",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.Ingreso.nro_operacion,callback:function(e){t.$set(t.Ingreso,"nro_operacion",e)},expression:"Ingreso.nro_operacion"}})],1),e(n["a"],{attrs:{cols:"2"}},[e(p["a"],{staticClass:"my-1",attrs:{type:"date",outlined:"",dense:"",label:"Fecha Pago",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.Ingreso.fecha_pago,callback:function(e){t.$set(t.Ingreso,"fecha_pago",e)},expression:"Ingreso.fecha_pago"}})],1),e(n["a"],{staticClass:"py-auto",attrs:{cols:"2"}},[t._v(" Soporte de Pago: "),e(I["a"],{attrs:{color:"red"},on:{click:function(e){return t.abrirPDF(t.Ingreso.soporte)}}},[t._v(" mdi-file-pdf-box ")])],1),e(n["a"],{staticClass:"py-auto",attrs:{cols:"3"}},[e(oi["a"],{attrs:{label:"Cambiar Soporte de Pago","show-size":"","truncate-length":"50",outlined:"",dense:"",rules:[t=>!!t||"Datos Requerido"]},on:{change:function(e){return t._uploadFile()}},model:{value:t.payfile,callback:function(e){t.payfile=e},expression:"payfile"}})],1),e(n["a"],{attrs:{cols:"6"}},[e(u["a"],{attrs:{items:t.cuentas,label:"Cuenta","item-text":"label","item-value":"id",dense:"",outlined:"",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.Ingreso.id_banco_salida,callback:function(e){t.$set(t.Ingreso,"id_banco_salida",e)},expression:"Ingreso.id_banco_salida"}})],1),e(n["a"],{attrs:{cols:"6"}},[e(Rt["a"],{attrs:{"auto-grow":"",rows:"1",label:"Comentarios",dense:"",outlined:""},model:{value:t.Ingreso.comentarios,callback:function(e){t.$set(t.Ingreso,"comentarios",e)},expression:"Ingreso.comentarios"}})],1)],1)],1)],1),e(d["a"],{staticClass:"mx-5 mb-5"},[e(n["a"],{attrs:{cols:"12"}},[e(T["a"]),e(s["a"],{attrs:{color:"success"},on:{click:function(e){return t.ActualizarIngreso()}}},[t._v("Actualizar")])],1)],1)],1)],1)],1)],1)},al=[],ol={data(){return{mostrarAdvFlag:!0,lstFacturas:[],dialogFacturas:!1,usuario:"",loading:!1,search:"",stepEditarIngreso:1,EditarIngresoFlag:!1,listado:[],Ingreso:{},dataList:!1,headersCabecera:[{text:"Fecha Operacion",value:"fecha_pago"},{text:"Nro Operación\t",value:"nro_operacion"},{text:"Cuenta Salida",value:"banco"},{text:"Proveedor\t",value:"name_proveedor"},{text:"Monto (USD)\t",value:"monto_dolar"},{text:"Monto\t",value:"monto_mon_ex"},{text:"Moneda\t",value:"moneda_simbolo"},{text:"Comentarios",value:"comentarios"},{text:"Accion",value:"action"}],expanded:[],expand:[],dialog:!1,singleExpand:!1,dialogFiltro:!1,verflag:!1,pce:null,dato:{id:"",id_proveedor:"",nro_operacion:"",monto:"",fecha:"",id_cuenta:"",soporte:"",id_path:"",usuario:""},cuentas:[],payfile:null,usuario:null,filtro:{id_branch:"",desde:"",hasta:"",nro_operacion:"",id_cuenta:"",id_proveedor:"",monto:"",id_moneda:"",nro_factura:"",nro_serie:"",tipogastos:"",tiposubgastos:"",operativo:!0,administrativo:!0}}},async mounted(){this.filtro.desde=it()().startOf("month").format("YYYY-MM-DD"),this.filtro.hasta=it()().endOf("month").format("YYYY-MM-DD"),this.usuario=JSON.parse(sessionStorage.getItem("dataUser"))[0].usuario;let t=this;t.$store.state.spiner=!0,await t.getListBanksDetailsCxP(),t.$store.state.spiner=!1,await t.getListBanksDetailsCargar(),await t.getCargarTipoGastos(),await t.getCargarTipoSubGastos(),await t.cargarProveedores(),await t._getBanksList(),this.$store.state.drawer=!1},methods:{...Object(_["b"])(["cargarProveedores","getCargarTipoGastos","getCargarTipoSubGastos","validarUsuarioAdmin","verVacturas","_getBanksList","ActualizarCXP"]),nuevo(){this.$router.push({name:"registroPayForProveedor"})},async editar(t){let e={...t},a=!1,o="";if(this.payfile=null,this.Ingreso.id_path=null,await at.a.fire({title:"Ingrese sus datos Administrador",html:'<input id="swal-input1" class="swal2-input" placeholder="Nombre"><input id="swal-input2" type="password" class="swal2-input" placeholder="Clave">',focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",preConfirm:()=>{const t=document.getElementById("swal-input1").value.trim(),e=document.getElementById("swal-input2").value.trim();return t&&e?{usuario:t,clave:e}:(Swal.showValidationMessage("Por favor, complete ambos campos"),!1)}}).then(async t=>{if(!t.isConfirmed)return a=!1,void(o="Operación cancelada");if(t.value){const e=await this.validarUsuarioAdmin({usuario:t.value.usuario,clave:t.value.clave});e&&e.estadoflag?a=!0:(a=!1,o=(null===e||void 0===e?void 0:e.mensaje)||"Credenciales incorrectas")}else a=!1,o="Debe ingresar las credenciales"}),!a)return await at.a.fire({icon:"error",text:o}),!1;let i=e.detalle.map(t=>({...t,anuladoflag:!1}));console.log("detalles",i),e.detalle=i,this.Ingreso=e,this.EditarIngresoFlag=!0},async ActualizarIngreso(){await this.ActualizarCXP(this.Ingreso),this.$store.state.spiner=!0,await this.getListBanksDetailsCxP(),this.$store.state.spiner=!1,this.EditarIngresoFlag=!1},_uploadFile(){if(this.payfile){var t=a("5a30"),e=(a("3e8f"),new t),o=this;e.append("name","Prueba"),e.append("file",o.payfile);var i={method:"post",url:"https://api.agentedecargaonline.com/uploadAllPath",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};A()(i).then((function(t){o.Ingreso.id_path=JSON.stringify(t.data.data[0].insertid)})).catch((function(t){console.log(t)}))}},async limpiar(){this.filtro={id_branch:"",desde:"",hasta:"",nro_operacion:"",id_cuenta:"",id_proveedor:"",monto:"",id_moneda:"",nro_factura:"",nro_serie:"",tipogastos:"",tiposubgastos:"",operativo:!0,administrativo:!0},this.$store.state.spiner=!0,await this.getListBanksDetailsCxP(),this.$store.state.spiner=!1},async filtrar(){this.$store.state.spiner=!0,await this.getListBanksDetailsCxP(),this.dialogFiltro=!this.dialogFiltro,this.$store.state.spiner=!1},async getListBanksDetailsCxP(){let t=this;var e={method:"get",url:`https://api.agentedecargaonline.com/getListBanksDetailsCxP?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&desde=${this.filtro.desde?this.filtro.desde:""}&hasta=${this.filtro.hasta?this.filtro.hasta:""}&nro_operacion=${this.filtro.nro_operacion?this.filtro.nro_operacion:""}&id_cuenta=${this.filtro.id_cuenta?this.filtro.id_cuenta:""}&id_proveedor=${this.filtro.id_proveedor?this.filtro.id_proveedor:""}&monto=${this.filtro.monto?this.filtro.monto:""}&id_moneda=${this.filtro.id_moneda?this.filtro.id_moneda:""}&nro_factura=${this.filtro.nro_factura?this.filtro.nro_factura:""}&nro_serie=${this.filtro.nro_serie?this.filtro.nro_serie:""}&tipogastos=${this.filtro.tipogastos?this.filtro.tipogastos:""}&tiposubgastos=${this.filtro.tiposubgastos?this.filtro.tiposubgastos:""}&operativo=${this.filtro.operativo}&administrativo=${this.filtro.administrativo}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(e).then((function(e){let a=e.data;if(a.estadoflag){let a=e.data.data;t.listado=a.map((t,e)=>({...t,index:e}))}else t.listado=[],at.a.fire({icon:"error",text:a.mensaje})})).catch((function(t){console.log(t)}))},async verInvoice(t,e=!1){let a=this;a.verflag=!e;var o={method:"get",url:"https://api.agentedecargaonline.com/ver_pago_invoice?id="+t,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(o).then((function(t){let e=t.data;1==e.estadoflag&&(a.dato=e.data[0])})).catch((function(t){console.log(t)})),a.dialogInvoice=!0},async verPagosEgresos(t,e=!1){let a=this;a.verflag=!e;var o={method:"get",url:"https://api.agentedecargaonline.com/ver_pago_cgegreso?id="+t,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(o).then((function(t){let e=t.data;1==e.estadoflag&&(a.dato=e.data[0])})).catch((function(t){console.log(t)})),a.dialogPayControlGasto=!0},async verPagosControlEgresos(t){let e=this;var a={method:"get",url:"https://api.agentedecargaonline.com/ver_pagoscontrol_egresos?id="+t.id,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(a).then((function(a){e.dato=a.data.data[0],e.name_proveedor=t.name_proveedor})).catch((function(t){console.log(t)}))},async actualizarInvoice(){let t=this;if(this.$refs.formInvoice.validate()){t.dato.usuario=t.usuario;var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_pago_invoice",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:this.dato};await A()(e).then((function(e){let a=e.data.data[0];at.a.fire({title:"AVISO",text:a.mensaje}).then(e=>{e.isConfirmed&&(t.payfile=null,t.obtenerListado(),t.dialogInvoice=!1)})})).catch((function(t){console.log(t)}))}},async actualizarCGEgreso(){let t=this;if(this.$refs.formInvoice.validate()){t.dato.usuario=t.usuario;var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_pago_cgegreso",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:this.dato};await A()(e).then((function(e){let a=e.data.data[0];at.a.fire({text:a.mensaje}).then(e=>{e.isConfirmed&&(t.payfile=null,t.obtenerListado(),t.dialogPayControlGasto=!1)})})).catch((function(t){console.log(t)}))}},async obtenerListado(){let t=this;t.$store.state.spiner=!0,await t.getListBanksDetailsCxP(),t.dato={id:"",id_proveedor:"",nro_operacion:"",monto:"",fecha:"",id_cuenta:"",soporte:"",id_path:""},t.$store.state.spiner=!1},clickRow(t,e){if(e.isExpanded){const e=this.expanded.findIndex(e=>e===t);this.expanded.splice(e,1)}else this.expanded.push(t)},verSoport(t){window.open(t,"_blank")},async verFactura(t){let e=await this.verVacturas(t);this.lstFacturas=e.data[0],this.dialogFacturas=!0},async exportar(){this.loading=!0;var t={method:"get",url:`https://api.agentedecargaonline.com/exportar_listado_reporte_egresos?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&desde=${this.filtro.fechadesde?this.filtro.fechadesde:""}&hasta=${this.filtro.fechahasta?this.filtro.fechahasta:""}&nro_operacion=${this.filtro.nro_operacion?this.filtro.nro_operacion:""}&id_cuenta=${this.filtro.id_cuenta?this.filtro.id_cuenta:""}&id_proveedor=${this.filtro.id_proveedor?this.filtro.id_proveedor:""}&monto=${this.filtro.monto?this.filtro.monto:""}&id_moneda=${this.filtro.id_moneda?this.filtro.id_moneda:""}&nro_factura=${this.filtro.nro_factura?this.filtro.nro_factura:""}&nro_serie=${this.filtro.nro_serie?this.filtro.nro_serie:""}&nro_serie=${this.filtro.nro_serie?this.filtro.nro_serie:""}&tipogastos=${this.filtro.tipogastos?this.filtro.tipogastos:""}&tiposubgastos=${this.filtro.tiposubgastos?this.filtro.tiposubgastos:""}&operativo=${this.filtro.operativo}&administrativo=${this.filtro.administrativo}`,responseType:"blob",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(t).then((function(t){const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download",Date.now()+".xlsx"),document.body.appendChild(a),a.click()})).catch((function(t){console.log(t)})),this.loading=!1},async getListBanksDetailsCargar(){let t=this;var e={method:"get",url:"https://api.agentedecargaonline.com/getListBanksDetailsCargar",params:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(e).then((function(e){t.cuentas=e.data.data})).catch((function(t){console.log(t)}))},filtarSubGasto(){this.tipogastos?this.tiposubgastosFilter=this.$store.state.balances.tiposubgastos.filter(t=>t.id_gasto==this.filtro.tipogastos):this.tiposubgastosFilter=this.$store.state.balances.tiposubgastos}},watch:{tipogastos(){this.filtarSubGasto()}},computed:{detalles(){return 0===Object.keys(this.Ingreso).length?[]:this.Ingreso.detalle.filter(t=>!!t&&!t.anuladoflag)}}},il=ol,sl=Object(v["a"])(il,el,al,!1,null,null,null),rl=sl.exports,nl={components:{listPayForProveedor:rl},mounted(){this.$store.state.mainTitle="LISTADO DE SALIDAS"}},ll=nl,cl=Object(v["a"])(ll,Wn,tl,!1,null,null,null),dl=cl.exports,ul=function(){var t=this,e=t._self._c;return e("registroPayForProveedor",{attrs:{tipo:"nuevo"}})},pl=[],ml=function(){var t=this,e=t._self._c;return e(l["a"],{attrs:{fluid:""}},[e(d["a"],[e(n["a"],{attrs:{cols:"12"}},[e(ue["a"],{attrs:{row:"",label:"Tipo de Pago a Realizar"},model:{value:t.operativoflag,callback:function(e){t.operativoflag=e},expression:"operativoflag"}},[e(de["a"],{attrs:{label:"Cuentas Por Pagar",color:"red",value:"0"}}),e(de["a"],{attrs:{label:"Control de Gastos",value:"1"}})],1)],1),0==t.operativoflag?e(n["a"],{staticClass:"mt-0",attrs:{cols:"12"}},[e("CuentasPorPagar",{attrs:{filtrarFlag:"true",tipo:"nuevo"}})],1):t._e(),1==t.operativoflag?e(n["a"],{attrs:{cols:"12"}},[e("ConTrolGastoComponet",{attrs:{filtrarFlag:"true",tipo:"nuevo"}})],1):t._e(),2==t.operativoflag?e(n["a"],{staticClass:"mt-0",attrs:{cols:"12"}},[e("Correlativo",{attrs:{filtrarFlag:"true",tipo:"nuevo"}})],1):t._e()],1)],1)},hl=[],_l={components:{ConTrolGastoComponet:()=>Promise.resolve().then(a.bind(null,"9971")),CuentasPorPagar:()=>Promise.all([a.e("chunk-368417d2"),a.e("chunk-37ee2b3e")]).then(a.bind(null,"b187"))},data(){return{operativoflag:null}},mounted(){this.$store.state.mainTitle="BANCOS - PAGOS - SALIDAS"}},gl=_l,fl=Object(v["a"])(gl,ml,hl,!1,null,null,null),vl=fl.exports,bl={components:{registroPayForProveedor:vl}},Cl=bl,kl=Object(v["a"])(Cl,ul,pl,!1,null,null,null),Sl=kl.exports,yl=function(){var t=this,e=t._self._c;return e("div",{},[e("registroPayForProveedor",{attrs:{tipo:"ver"}})],1)},Il=[],Pl={components:{registroPayForProveedor:vl}},xl=Pl,Tl=Object(v["a"])(xl,yl,Il,!1,null,null,null),$l=Tl.exports,El=function(){var t=this,e=t._self._c;return e("div",{},[e("listPayForCliente")],1)},wl=[],Ml=function(){var t=this,e=t._self._c;return e(r["a"],{attrs:{height:"90vh"}},[t.mostrarAdvFlag?e(vo["a"],{staticClass:"ocultarMovil",attrs:{type:"warning"}},[e(d["a"],[e(n["a"],{attrs:{cols:"11"}},[t._v(" Solo se muestran los movimientos del mes actual. Usa el filtro "),e(I["a"],{attrs:{color:"info"}},[t._v("mdi-filter")])],1),e(n["a"],{attrs:{cols:"1"}},[e(s["a"],{attrs:{icon:""},on:{click:function(e){t.mostrarAdvFlag=!t.mostrarAdvFlag}}},[e(I["a"],[t._v("mdi-close")])],1)],1)],1)],1):t._e(),e(B["d"],[e(p["a"],{attrs:{label:"Buscar...."},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e(T["a"]),e(s["a"],{staticClass:"mx-1",attrs:{color:"default",text:""},on:{click:t.nuevo}},[t._v("NUEVO INGRESO "),e(I["a"],[t._v("mdi-plus")])],1),e(s["a"],{staticClass:"mx-1",attrs:{color:"success",loading:t.loading,text:""},on:{click:function(e){return t.exportar()}}},[t._v("EXCEL "),e(I["a"],[t._v("mdi-file-excel")])],1),e(s["a"],{staticClass:"mx-1",attrs:{color:"info",text:""},on:{click:function(e){t.dialogFiltro=!t.dialogFiltro}}},[t._v("Filtrar "),e(I["a"],[t._v("mdi-filter")])],1)],1),e(te["a"],{attrs:{search:t.search,headers:t.headersCabecera,items:t.listado,expanded:t.expanded,"single-expand":t.singleExpand,"show-expand":"","item-key":"index",dense:"","disable-sort":""},on:{"update:expanded":function(e){t.expanded=e},"click:row":t.clickRow},scopedSlots:t._u([{key:"expanded-item",fn:function({item:a}){return[e("td",{attrs:{colspan:"1"}}),e("td",{attrs:{colspan:"16"}},[e(jt["a"],{staticStyle:{width:"100%"}},[e("thead",[e("tr",[e("th",[t._v("Banco Origen")]),e("th",[t._v("Cuenta Destino (PIC)")]),e("th",[t._v("Tipo Ingreso")]),e("th",[t._v("Sub Tipo de ingreso")]),e("th",[t._v("Monto")]),e("th",[t._v("Moneda")]),e("th",[t._v("Monto Ingresado")]),e("th",[t._v("Moneda Ingresado")]),e("th",[t._v("Tipo de Cambio")]),e("th",[t._v("concepto")]),e("th",[t._v("Nro Factura")]),e("th",[t._v("Nro Serie")]),e("th",[t._v("Accion")])])]),e("tbody",t._l(a.detalles,(function(a,o){return e("tr",{key:o},[e("td",[t._v(t._s(a.banco))]),e("td",[t._v(t._s(a.cuenta_destino))]),e("td",[t._v(t._s(a.tipo_ingreso))]),e("td",[t._v(t._s(a.subtipo_ingreso))]),e("td",[t._v(t._s(a.monto))]),e("td",[t._v(t._s(a.moneda_simbolo))]),e("td",[t._v(t._s(a.monto_destino))]),e("td",[t._v(t._s(a.moneda_destino))]),e("td",[t._v(t._s(a.tipocambio))]),e("td",[t._v(t._s(a.concepto))]),e("td",[t._v(t._s(a.factura))]),e("td",[t._v(t._s(a.serie))]),e("td",[t._v(t._s(a.action))])])})),0)])],1)]}},{key:"item.action",fn:function({item:a}){return[e(s["a"],{attrs:{"x-small":"",icon:"",color:"primary"},on:{click:function(e){return t.verSoport(a.soporte)}}},[e(I["a"],[t._v("mdi-file-cloud-outline")])],1),e(s["a"],{attrs:{"x-small":"",icon:"",color:"warning"},nativeOn:{click:function(e){return t.editar(a)}}},[e(I["a"],[t._v("mdi-pencil")])],1)]}}],null,!0)}),e(U["a"],{attrs:{scrollable:"",persistent:"","max-width":"60%",transition:"dialog-transition"},model:{value:t.dialogInvoice,callback:function(e){t.dialogInvoice=e},expression:"dialogInvoice"}},[e(r["a"],[e(B["d"],{attrs:{"primary-title":""}},[t._v(" "+t._s(t.verflag?"Ver ":"Editar")+" "),e(T["a"]),e(s["a"],{attrs:{icon:"",color:"default"},on:{click:function(e){t.dialogInvoice=!t.dialogInvoice}}},[e(I["a"],[t._v("mdi-close")])],1)],1),e(B["c"],[e(c["a"],{ref:"formInvoice"},[e(u["a"],{attrs:{items:t.$store.state.provedores,label:"Consignatario","item-text":"namelong","item-value":"id",readonly:""},model:{value:t.dato.id_proveedor,callback:function(e){t.$set(t.dato,"id_proveedor",e)},expression:"dato.id_proveedor"}}),e(p["a"],{attrs:{label:"Nro Operacion",type:"number",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.dato.nro_operacion,callback:function(e){t.$set(t.dato,"nro_operacion",e)},expression:"dato.nro_operacion"}}),e(p["a"],{attrs:{label:"Monto ",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.dato.monto,callback:function(e){t.$set(t.dato,"monto",e)},expression:"dato.monto"}}),e(p["a"],{attrs:{type:"date",label:"Fecha Operacion",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.dato.fecha,callback:function(e){t.$set(t.dato,"fecha",e)},expression:"dato.fecha"}}),e(u["a"],{attrs:{items:t.$store.state.itemsDataBanksList,label:"Banco Origen","item-text":"acronym","item-value":"id",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.dato.id_banco_origen,callback:function(e){t.$set(t.dato,"id_banco_origen",e)},expression:"dato.id_banco_origen"}}),e(u["a"],{attrs:{items:t.cuentas,label:"Cuenta Bancaria Destino (PIC)","item-text":"label","item-value":"id",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.dato.id_cuenta_pic,callback:function(e){t.$set(t.dato,"id_cuenta_pic",e)},expression:"dato.id_cuenta_pic"}}),e(oi["a"],{attrs:{label:"Nuevo Soporte de Pago","show-size":"","truncate-length":"50","hide-details":"",clearable:""},on:{change:function(e){return t._uploadFile()}},model:{value:t.payfile,callback:function(e){t.payfile=e},expression:"payfile"}}),t._v(" > ")],1)],1),e(B["a"],[e(T["a"]),e(s["a"],{attrs:{color:"success",text:""},on:{click:function(e){return t.actualizarInvoice()}}},[t._v("Guardar")]),e(s["a"],{attrs:{color:"warning",text:""},on:{click:function(e){t.dialogInvoice=!t.dialogInvoice}}},[t._v("Cancelar")])],1)],1)],1),e(U["a"],{attrs:{scrollable:"",persistent:"","max-width":"60%",transition:"dialog-transition"},model:{value:t.dialogPayDebsClient,callback:function(e){t.dialogPayDebsClient=e},expression:"dialogPayDebsClient"}},[e(r["a"],[e(B["d"],{attrs:{"primary-title":""}},[t._v(" "+t._s(t.verflag?"Ver ":"Editar")+" "),e(T["a"]),e(s["a"],{attrs:{icon:"",color:"default"},on:{click:function(e){t.dialogPayDebsClient=!t.dialogPayDebsClient}}},[e(I["a"],[t._v("mdi-close")])],1)],1),e(B["c"],[e(c["a"],{ref:"formInvoice"},[e(u["a"],{attrs:{items:t.$store.state.provedores,label:"Consignatario","item-text":"namelong","item-value":"id",readonly:""},model:{value:t.dato.id_proveedor,callback:function(e){t.$set(t.dato,"id_proveedor",e)},expression:"dato.id_proveedor"}}),e(p["a"],{attrs:{label:"Nro Operacion",type:"number",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.dato.nro_operacion,callback:function(e){t.$set(t.dato,"nro_operacion",e)},expression:"dato.nro_operacion"}}),e(p["a"],{attrs:{label:"Monto ",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.dato.monto,callback:function(e){t.$set(t.dato,"monto",e)},expression:"dato.monto"}}),e(p["a"],{attrs:{type:"date",label:"Fecha Operacion",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.dato.fecha,callback:function(e){t.$set(t.dato,"fecha",e)},expression:"dato.fecha"}}),e(u["a"],{attrs:{items:t.$store.state.itemsDataBanksList,label:"Banco Origen","item-text":"acronym","item-value":"id",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.dato.id_banco_origen,callback:function(e){t.$set(t.dato,"id_banco_origen",e)},expression:"dato.id_banco_origen"}}),e(u["a"],{attrs:{items:t.cuentas,label:"Cuenta Bancaria Destino (PIC)","item-text":"label","item-value":"id",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.dato.id_cuenta_pic,callback:function(e){t.$set(t.dato,"id_cuenta_pic",e)},expression:"dato.id_cuenta_pic"}}),e(oi["a"],{attrs:{label:"Nuevo Soporte de Pago","show-size":"","truncate-length":"50","hide-details":"",clearable:""},on:{change:function(e){return t._uploadFile()}},model:{value:t.payfile,callback:function(e){t.payfile=e},expression:"payfile"}})],1)],1),e(B["a"],[e(T["a"]),e(s["a"],{attrs:{color:"success",text:""},on:{click:function(e){return t.actualizarDebs()}}},[t._v("Guardar")]),e(s["a"],{attrs:{color:"warning",text:""},on:{click:function(e){t.dialogPayDebsClient=!t.dialogPayDebsClient}}},[t._v("Cancelar")])],1)],1)],1),t.dialogFiltro?e(x["a"],{attrs:{absolute:"",permanent:"",temporary:"",right:"",width:"20%"}},[e(r["a"],{attrs:{height:"100%",elevation:"10"}},[e(B["d"],{attrs:{"primary-title":""}},[t._v(" Filtrar Ingresos "),e(T["a"]),e(s["a"],{attrs:{icon:"",color:"default"},on:{click:function(e){t.dialogFiltro=!t.dialogFiltro}}},[e(I["a"],[t._v("mdi-close")])],1)],1),e(B["c"],[e(u["a"],{attrs:{items:t.$store.state.itemsDataBanksList,dense:"",label:"Banco Origen","item-text":"acronym","item-value":"id",clearable:""},model:{value:t.filtro.id_banco,callback:function(e){t.$set(t.filtro,"id_banco",e)},expression:"filtro.id_banco"}}),e(u["a"],{attrs:{items:t.cuentas,dense:"",label:"Cuenta Bancaria Destino (PIC)","item-text":"label","item-value":"id",clearable:""},model:{value:t.filtro.id_cuenta,callback:function(e){t.$set(t.filtro,"id_cuenta",e)},expression:"filtro.id_cuenta"}}),e(Lt["a"],{attrs:{items:t.$store.state.clientes,dense:"",label:"Consignatario","item-text":"namelong","item-value":"id",clearable:""},model:{value:t.filtro.id_consigner,callback:function(e){t.$set(t.filtro,"id_consigner",e)},expression:"filtro.id_consigner"}}),e(Lt["a"],{attrs:{label:"Tipo de Ingreso",items:t.$store.state.balances.tipoingreso,"auto-select-first":"",clearable:"",dense:"","item-text":"description","item-value":"id"},model:{value:t.filtro.tipoingreso,callback:function(e){t.$set(t.filtro,"tipoingreso",e)},expression:"filtro.tipoingreso"}}),e(Lt["a"],{attrs:{label:"Subtipo de Ingreso",items:t.tiposubingresoFilter,dense:"","auto-select-first":"",clearable:"","item-text":"description","item-value":"id"},model:{value:t.filtro.tiposubingreso,callback:function(e){t.$set(t.filtro,"tiposubingreso",e)},expression:"filtro.tiposubingreso"}}),e(p["a"],{attrs:{clearable:"",label:"Nro Operacion",dense:""},model:{value:t.filtro.nro_operacion,callback:function(e){t.$set(t.filtro,"nro_operacion",e)},expression:"filtro.nro_operacion"}}),e(p["a"],{attrs:{clearable:"",label:"Tipo de Pago (Nro Expediente)",dense:""},model:{value:t.filtro.nro_exp,callback:function(e){t.$set(t.filtro,"nro_exp",e)},expression:"filtro.nro_exp"}}),e(p["a"],{attrs:{clearable:"",type:"number",label:"Monto",dense:""},model:{value:t.filtro.monto,callback:function(e){t.$set(t.filtro,"monto",e)},expression:"filtro.monto"}}),e(p["a"],{attrs:{dense:"",label:"Fecha Desde",type:"date"},model:{value:t.filtro.fechadesde,callback:function(e){t.$set(t.filtro,"fechadesde",e)},expression:"filtro.fechadesde"}}),e(p["a"],{attrs:{dense:"",label:"Fecha Hasta",type:"date"},model:{value:t.filtro.fechahasta,callback:function(e){t.$set(t.filtro,"fechahasta",e)},expression:"filtro.fechahasta"}}),e($e["a"],{attrs:{dense:"",label:"Operativo"},model:{value:t.filtro.operativo,callback:function(e){t.$set(t.filtro,"operativo",e)},expression:"filtro.operativo"}}),e($e["a"],{attrs:{dense:"",label:"Administrativo"},model:{value:t.filtro.administrativo,callback:function(e){t.$set(t.filtro,"administrativo",e)},expression:"filtro.administrativo"}})],1),e(B["a"],[e(T["a"]),e(s["a"],{attrs:{color:"success",text:""},on:{click:function(e){return t.filtrar()}}},[t._v("Aceptar")]),e(s["a"],{attrs:{color:"warning",text:""},on:{click:function(e){return t.limpiar()}}},[t._v("Limpiar ")])],1)],1)],1):t._e(),e(U["a"],{attrs:{persistent:"",overlay:!1,"max-width":"80%",transition:"dialog-transition"},model:{value:t.EditarIngresoFlag,callback:function(e){t.EditarIngresoFlag=e},expression:"EditarIngresoFlag"}},[e(r["a"],[e(B["d"],{attrs:{"primary-title":""}},[t._v(" Editar Ingreso "),e(T["a"]),e(I["a"],{on:{click:function(e){t.EditarIngresoFlag=!t.EditarIngresoFlag}}},[t._v("mdi-close")])],1),e(ki["a"],{model:{value:t.stepEditarIngreso,callback:function(e){t.stepEditarIngreso=e},expression:"stepEditarIngreso"}},[e(yi["a"],[e(Ii["a"],{attrs:{editable:"",step:"1"}},[t._v(" Step 1 ")]),e(G["a"]),e(Ii["a"],{attrs:{editable:"",step:"2"}},[t._v(" Step 2 ")])],1),e(yi["b"],[e(Si["a"],{attrs:{step:"1"}},[e(d["a"],[e(n["a"],{attrs:{cols:"12"}},[e("b",[t._v("Cliente: ")]),t._v(" "+t._s(t.Ingreso.name_consigner)+" ")]),e(n["a"],{attrs:{cols:"12"}},[e(jt["a"],[e("thead",[e("tr",[e("th",[t._v("House")]),e("th",[t._v("Sub Ingreso")]),e("th",[t._v("Monto Dolar")]),e("th",[t._v("Monto ML")]),e("th",[t._v("Moneda")]),e("th",[t._v("Tipo Cambio")]),e("th")])]),e("tbody",t._l(t.detalles,(function(a,o){return e("tr",{key:o},[e("td",[t._v(t._s(a.tipo_gasto))]),e("td",[t._v(t._s(a.subtipo_ingreso))]),e("td",[e(p["a"],{attrs:{type:"number"},model:{value:a.monto,callback:function(e){t.$set(a,"monto",e)},expression:"detalle.monto"}})],1),e("td",[e(p["a"],{attrs:{type:"number"},model:{value:a.monto_destino,callback:function(e){t.$set(a,"monto_destino",e)},expression:"detalle.monto_destino"}})],1),e("td",[t._v(t._s(a.tipocambio))]),e("td",[e(s["a"],{attrs:{color:"error",icon:""},on:{click:function(t){a.anuladoflag=!0}}},[e(I["a"],[t._v("mdi-delete")])],1)],1)])})),0)])],1)],1)],1),e(Si["a"],{attrs:{step:"2"}},[e(d["a"],[e(n["a"],{attrs:{cols:"4"}},[e(p["a"],{staticClass:"my-1",attrs:{outlined:"",dense:"",label:"Nro Operación",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.Ingreso.nro_operacion,callback:function(e){t.$set(t.Ingreso,"nro_operacion",e)},expression:"Ingreso.nro_operacion"}})],1),e(n["a"],{attrs:{cols:"2"}},[e(p["a"],{staticClass:"my-1",attrs:{type:"date",outlined:"",dense:"",label:"Fecha Pago",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.Ingreso.fecha_pago,callback:function(e){t.$set(t.Ingreso,"fecha_pago",e)},expression:"Ingreso.fecha_pago"}})],1),e(n["a"],{staticClass:"py-auto",attrs:{cols:"2"}},[t._v(" Soporte de Pago: "),e(I["a"],{attrs:{color:"red"},on:{click:function(e){return t.abrirPDF(t.Ingreso.soporte)}}},[t._v(" mdi-file-pdf-box ")])],1),e(n["a"],{staticClass:"py-auto",attrs:{cols:"3"}},[e(oi["a"],{attrs:{label:"Cambiar Soporte de Pago","show-size":"","truncate-length":"50",outlined:"",dense:"",rules:[t=>!!t||"Datos Requerido"]},on:{change:function(e){return t._uploadFile()}},model:{value:t.payfile,callback:function(e){t.payfile=e},expression:"payfile"}})],1),e(n["a"],{attrs:{cols:"4"}},[e(u["a"],{attrs:{items:t.cuentas,label:"Banco Origen","item-text":"label","item-value":"id",dense:"",outlined:"",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.Ingreso.id_cuenta,callback:function(e){t.$set(t.Ingreso,"id_cuenta",e)},expression:"Ingreso.id_cuenta"}})],1),e(n["a"],{attrs:{cols:"4"}},[e(u["a"],{attrs:{items:t.$store.state.itemsDataBanksList,label:"Banco Destino","item-text":"acronym","item-value":"id",dense:"",outlined:"",rules:[t=>!!t||"Datos Requerido"]},model:{value:t.Ingreso.id_banco_salida,callback:function(e){t.$set(t.Ingreso,"id_banco_salida",e)},expression:"Ingreso.id_banco_salida"}})],1)],1)],1)],1),e(d["a"],{staticClass:"mx-5 mb-5"},[e(n["a"],{attrs:{cols:"12"}},[e(T["a"]),e(s["a"],{attrs:{color:"success"},on:{click:function(e){return t.ActualizarIngreso()}}},[t._v("Actualizar")])],1)],1)],1)],1)],1)],1)},Ol=[],Fl={data(){return{stepEditarIngreso:1,mostrarAdvFlag:!0,EditarIngresoFlag:!1,Ingreso:{},search:"",listado:[],dataList:!1,headersCabecera:[{text:"Fecha Operacion",value:"fecha_pago"},{text:"Nro Operación\t",value:"nro_operacion"},{text:"Cuenta Destino (PIC)",value:"cuenta_destino"},{text:"O/A\t",value:"tipo"},{text:"Tipo de Pago",value:"tipo_gasto",with:"5%"},{text:"Tipo Ingreso",value:"tipo_ingreso",with:"5%"},{text:"Sub Tipo de ingreso",value:"subtipo_ingreso"},{text:"Cliente\t",value:"name_consigner"},{text:"Monto\t",value:"monto"},{text:"Moneda\t",value:"moneda_simbolo",with:"5%"},{text:"Monto Ingresado al Banco\t",value:"monto_destino",with:"5%"},{text:"Moneda Ingresado al Banco\t",value:"moneda_destino",with:"5%"},{text:"Accion",value:"action"}],filtro:{id_branch:"",nro_operacion:"",monto:"",fechadesde:"",fechahasta:"",factura:"",serie:"",id_banco:"",id_cuenta:"",id_consigner:"",id_coin:"",tipoingreso:"",tiposubingreso:"",operativo:!0,administrativo:!0},payfile:null,dato:{id:"",id_proveedor:"",nro_operacion:"",monto:"",fecha:"",id_banco_origen:"",id_cuenta_pic:"",soporte:"",id_path:""},dialogInvoice:!1,dialogPayDebsClient:!1,verflag:!1,cuentas:[],loading:!1,dialogFiltro:!1,usuario:null,expanded:[],expand:[],singleExpand:!0}},async mounted(){this.usuario=JSON.parse(sessionStorage.getItem("dataUser"))[0].usuario,this.filtro.fechadesde=it()().startOf("month").format("YYYY-MM-DD"),this.filtro.fechahasta=it()().endOf("month").format("YYYY-MM-DD");const t=this;t.$store.state.spiner=!0,await t.getListBanksDetailsCxC(),t.$store.state.spiner=!1,await Promise.all([t.getCargarTipoIngreso(),t._getBanksList(),t.getCargarTipoSubIngreso(),t.filtarSubIngreso(),t.getListBanksDetailsCargar(),t.cargarClientes(),t._getCoinsList()]),t.$store.state.drawer=!1},methods:{...Object(_["b"])(["cargarClientes","_getBanksList","getCargarTipoIngreso","getCargarTipoSubIngreso","validarUsuarioAdmin","_getCoinsList","ActualizarCXC"]),_uploadFile(){if(this.payfile){var t=a("5a30"),e=(a("3e8f"),new t),o=this;e.append("name","Prueba"),e.append("file",o.payfile);var i={method:"post",url:"https://api.agentedecargaonline.com/uploadAllPath",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:e};A()(i).then((function(t){o.Ingreso.id_path=JSON.stringify(t.data.data[0].insertid)})).catch((function(t){console.log(t)}))}},async limpiar(){this.filtro={id_branch:"",nro_operacion:"",monto:"",fechadesde:"",fechahasta:"",factura:"",serie:"",id_banco:"",id_coin:"",id_consigner:"",tipoingreso:"",tiposubingreso:"",operativo:!0,administrativo:!0,nro_exp:""},this.$store.state.spiner=!0,await this.getListBanksDetailsCxC(),this.dialogFiltro=!this.dialogFiltro,this.$store.state.spiner=!1},async filtrar(){this.$store.state.spiner=!0,await this.getListBanksDetailsCxC(),this.dialogFiltro=!this.dialogFiltro,this.$store.state.spiner=!1},nuevo(){this.$router.push({name:"registroPayForCliente"})},async editar(t){let e=!0,a="";if(this.payfile=null,this.Ingreso.id_path=null,await at.a.fire({title:"Ingrese sus datos Administrador",html:'<input id="swal-input1" class="swal2-input" placeholder="Nombre"><input id="swal-input2" type="password" class="swal2-input" placeholder="Clave">',focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",preConfirm:()=>{const t=document.getElementById("swal-input1").value.trim(),e=document.getElementById("swal-input2").value.trim();return t&&e?{usuario:t,clave:e}:(Swal.showValidationMessage("Por favor, complete ambos campos"),!1)}}).then(async t=>{if(!t.isConfirmed)return e=!1,void(a="Operación cancelada");if(t.value){const o=await this.validarUsuarioAdmin({usuario:t.value.usuario,clave:t.value.clave});o&&o.estadoflag?e=!0:(e=!1,a=(null===o||void 0===o?void 0:o.mensaje)||"Credenciales incorrectas")}else e=!1,a="Debe ingresar las credenciales"}),!e)return await at.a.fire({icon:"error",text:a}),!1;let o=t.detalles.map(t=>({...t,anuladoflag:!1}));t.detalles=o,this.Ingreso=t,this.EditarIngresoFlag=!0},abrirPDF(t){window.open(t,"_blank")},async getListBanksDetailsCargar(){let t=this;var e={method:"get",url:"https://api.agentedecargaonline.com/getListBanksDetailsCargar",params:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(e).then((function(e){t.cuentas=e.data.data})).catch((function(t){console.log(t)}))},verSoport(t){window.open(t,"_blank")},async getListBanksDetailsCxC(){let t={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},e=this;var a={method:"get",url:`https://api.agentedecargaonline.com/getListarPayForCustomer?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&nro_operacion=${this.filtro.nro_operacion?this.filtro.nro_operacion:""}&monto=${this.filtro.monto?this.filtro.monto:""}&fechadesde=${this.filtro.fechadesde?this.filtro.fechadesde:""}&fechahasta=${this.filtro.fechahasta?this.filtro.fechahasta:""}&factura=${this.filtro.factura?this.filtro.factura:""}&serie=${this.filtro.serie?this.filtro.serie:""}&id_banco=${this.filtro.id_banco?this.filtro.id_banco:""}&id_coin=${this.filtro.id_coin?this.filtro.id_coin:""}&id_consigner=${this.filtro.id_consigner?this.filtro.id_consigner:""}&id_tipoingreso=${this.filtro.tipoingreso?this.filtro.tipoingreso:""}&id_tiposubingreso=${this.filtro.tiposubingreso?this.filtro.tiposubingreso:""}&operativo=${this.filtro.operativo}&administrativo=${this.filtro.administrativo}&nro_exp=${this.filtro.nro_exp?this.filtro.nro_exp:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:t};await A()(a).then((function(t){let a=t.data.data;e.listado=a.map((t,e)=>({...t,index:e})),e.dataList=!0})).catch((function(t){console.log(t)}))},async verInvoice(t,e=!1){let a=this;a.verflag=!e;var o={method:"get",url:"https://api.agentedecargaonline.com/ver_ingresos_invoice?id="+t,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(o).then((function(t){let e=t.data;1==e.estadoflag&&(a.dato=e.data[0])})).catch((function(t){console.log(t)})),a.dialogInvoice=!0},async verPagosEgresos(t,e=!1){let a=this;a.verflag=!e;var o={method:"get",url:"https://api.agentedecargaonline.com/ver_ingresos_debscliente?id="+t,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(o).then((function(t){let e=t.data;1==e.estadoflag&&(a.dato=e.data[0])})).catch((function(t){console.log(t)})),a.dialogPayDebsClient=!0},async actualizarInvoice(){let t=this;if(t.$refs.formInvoice.validate()){t.dato.usuario=t.usuario;var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_ingreso_invoice",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:this.dato};await A()(e).then((function(e){let a=e.data.data[0];at.a.fire({text:a.mensaje}).then(e=>{e.isConfirmed&&(t.payfile=null,t.obtenerListado(),t.dialogInvoice=!1)})})).catch((function(t){console.log(t)}))}},async actualizarDebs(){let t=this;if(this.$refs.formInvoice.validate()){t.dato.usuario=t.usuario;var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_ingreso_debscliente",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:this.dato};await A()(e).then((function(e){let a=e.data.data[0];at.a.fire({text:a.mensaje}).then(e=>{e.isConfirmed&&(t.payfile=null,t.obtenerListado(),t.dialogPayDebsClient=!1)})})).catch((function(t){console.log(t)}))}},async exportar(){this.loading=!0;var t={method:"get",url:`https://api.agentedecargaonline.com/exportar_listado_reporte_ingresos?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&nro_operacion=${this.filtro.nro_operacion?this.filtro.nro_operacion:""}&monto=${this.filtro.monto?this.filtro.monto:""}&fechadesde=${this.filtro.fechadesde?this.filtro.fechadesde:""}&fechahasta=${this.filtro.fechahasta?this.filtro.fechahasta:""}&factura=${this.filtro.factura?this.filtro.factura:""}&serie=${this.filtro.serie?this.filtro.serie:""}&id_banco=${this.filtro.id_banco?this.filtro.id_banco:""}&id_coin=${this.filtro.id_coin?this.filtro.id_coin:""}&id_consigner=${this.filtro.id_consigner?this.filtro.id_consigner:""}&id_tipoingreso=${this.filtro.tipoingreso?this.filtro.tipoingreso:""}&id_tiposubingreso=${this.filtro.tiposubingreso?this.filtro.tiposubingreso:""}&operativo=${this.filtro.operativo}&administrativo=${this.filtro.administrativo}&nro_exp=${this.filtro.nro_exp?this.filtro.nro_exp:""}`,responseType:"blob",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await A()(t).then((function(t){const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download",`Reporte Bancos - Ingresos ${it()().format("DD_MM_YYYY_h_mm_ss")} .xlsx`),document.body.appendChild(a),a.click()})).catch((function(t){console.log(t)})),this.loading=!1},async obtenerListado(){let t=this;t.$store.state.spiner=!0,await t.getListBanksDetailsCxC(),t.dato={id:"",id_proveedor:"",nro_operacion:"",monto:"",fecha:"",id_banco_origen:"",id_cuenta_pic:"",soporte:"",id_path:""},t.$store.state.spiner=!1},filtarSubIngreso(){this.filtro.tipoingreso?this.tiposubingresoFilter=this.$store.state.balances.tiposubingreso.filter(t=>t.id_ingreso==this.filtro.tipoingreso):this.tiposubingresoFilter=this.$store.state.balances.tiposubingreso},clickRow(t,e){if(e.isExpanded){const e=this.expanded.findIndex(e=>e===t);this.expanded.splice(e,1)}else this.expanded.push(t)},async ActualizarIngreso(){await this.ActualizarCXC(this.Ingreso),this.$store.state.spiner=!0,await this.getListBanksDetailsCxC(),this.$store.state.spiner=!1,this.EditarIngresoFlag=!1}},watch:{"filtro.tipoingreso"(){this.filtarSubIngreso()}},computed:{detalles(){return 0===Object.keys(this.Ingreso).length?[]:this.Ingreso.detalles.filter(t=>!!t&&!t.anuladoflag)}}},Al=Fl,Nl=Object(v["a"])(Al,Ml,Ol,!1,null,null,null),Dl=Nl.exports,Ll={components:{listPayForCliente:Dl},mounted(){this.$store.state.mainTitle="LISTADO DE INGRESOS"}},jl=Ll,Rl=Object(v["a"])(jl,El,wl,!1,null,null,null),Bl=Rl.exports,Ul=function(){var t=this,e=t._self._c;return e("div",{},[e("registroPayForCliente",{attrs:{tipo:"nuevo"}})],1)},Gl=[],Hl=function(){var t=this,e=t._self._c;return e(r["a"],{staticClass:"px-5"},[e(d["a"],[e(n["a"],{attrs:{cols:"12"}},[e(ue["a"],{attrs:{row:"",label:"Tipo de Pago a Realizar"},model:{value:t.operativoflag,callback:function(e){t.operativoflag=e},expression:"operativoflag"}},[e(de["a"],{attrs:{label:"Cuentas Por Cobrar",color:"red",value:"0"}}),e(de["a"],{attrs:{label:"Control de Gastos",value:"1"}})],1)],1),0==t.operativoflag?e(n["a"],{staticClass:"mt-0",attrs:{cols:"12"}},[e("CuentasPorPagar",{attrs:{filtrarFlag:"true",tipo:"nuevo"}})],1):t._e(),1==t.operativoflag?e(n["a"],{attrs:{cols:"12"}},[e("ConTrolGastoComponet",{attrs:{filtrarFlag:"true",tipo:"nuevo"}})],1):t._e()],1)],1)},Jl=[],Vl={components:{ConTrolGastoComponet:()=>Promise.resolve().then(a.bind(null,"0b57")),CuentasPorPagar:()=>Promise.all([a.e("chunk-368417d2"),a.e("chunk-43df26c1")]).then(a.bind(null,"305c"))},data(){return{operativoflag:null}},mounted(){this.$store.state.mainTitle="BANCOS - PAGOS - ENTRADAS"}},zl=Vl,ql=Object(v["a"])(zl,Hl,Jl,!1,null,null,null),Kl=ql.exports,Ql={components:{registroPayForCliente:Kl}},Yl=Ql,Xl=Object(v["a"])(Yl,Ul,Gl,!1,null,null,null),Zl=Xl.exports,Wl=function(){var t=this,e=t._self._c;return e(l["a"],{attrs:{fluid:""}},[e("registroPayForCliente",{attrs:{tipo:"ver"}})],1)},tc=[],ec={components:{registroPayForCliente:Kl}},ac=ec,oc=Object(v["a"])(ac,Wl,tc,!1,null,null,null),ic=oc.exports,sc=function(){var t=this,e=t._self._c;return e("LitProgrammedPaymentView")},rc=[],nc={name:"listProgrammedPaymentView",components:{LitProgrammedPaymentView:()=>Promise.all([a.e("chunk-368417d2"),a.e("chunk-740826fc")]).then(a.bind(null,"453b"))},mounted(){this.$store.state.mainTitle="LISTADO DE PAGOS PROGRAMADOS"}},lc=nc,cc=Object(v["a"])(lc,sc,rc,!1,null,null,null),dc=cc.exports,uc=function(){var t=this,e=t._self._c;return e("div",[e("listControlGastosCom")],1)},pc=[],mc=function(){var t=this,e=t._self._c;return e("div",{},[e(te["a"],{attrs:{headers:t.headers,items:t.lstFac,"item-key":"id",loading:"true",search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[e(p["a"],{staticClass:"mx-4",attrs:{label:"Buscar...."},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]},proxy:!0},{key:"item.url",fn:function({item:a}){return[e(s["a"],{attrs:{color:"red",icon:""},on:{click:function(e){return t.verFactura(a.url)}}},[e(I["a"],[t._v("mdi-file-pdf-box")])],1),1==a.estatus?e(s["a"],{attrs:{color:"red",icon:""},on:{click:function(e){return t.eliminar(a)}}},[e(I["a"],[t._v("mdi-cancel")])],1):t._e()]}}],null,!0)})],1)},hc=[],_c={name:"lstFacturacionComponent",data(){return{search:"",lstFac:[],headers:[{text:"Correlativo",value:"correlativo",align:"start",sortable:!1},{text:"Expediente",value:"nro_master",align:"start",sortable:!0},{text:"Cliente",value:"cliente",align:"start",sortable:!0},{text:"Origen",value:"pais_origen",align:"start",sortable:!0},{text:"Destino",value:"pais_destino",align:"start",sortable:!0},{text:"Shipment",value:"shipment",align:"start",sortable:!0},{text:"Moneda",value:"symbol",align:"start",sortable:!0},{text:"Monto",value:"total_monto",align:"start",sortable:!1},{text:"IGV",value:"total_igv",align:"start",sortable:!1},{text:"Total",value:"total",align:"start",sortable:!1},{text:"Estado",value:"estado",align:"start",sortable:!1},{text:"Acciones",value:"url",align:"start",sortable:!1}]}},async mounted(){await this.listadoFacturacion(),await this.obtenerImpuestoXEmpresa(),this.headers[8].text=this.$store.state.enterprises.impuesto.nombre_impuesto},methods:{...Object(_["b"])(["obtenerImpuestoXEmpresa"]),async listadoFacturacion(){let t={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch},e=this;var a={method:"get",url:"https://api.agentedecargaonline.com/listar_Factura/"+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:t};await A()(a).then(t=>{e.lstFac=t.data.data})},verFactura(t){window.open(t)},filterOnlyCapsText(t,e){let a=e?e.toLocaleUpperCase():null;return null!=t&&null!=e&&"string"===typeof t&&-1!==t.toString().toLocaleUpperCase().indexOf(a)},async eliminar(t){let e=this;e.$swal({icon:"question",title:"ADVERTENCIA",html:`Deseas <b>ANULAR</b> el correlativo con número <b>${t.correlativo}</b> perteneciente al cliente <b> ${t.cliente} </b>`,showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Eliminar"}).then(a=>{if(a.isConfirmed){let a={id:t.id};var o={method:"put",url:"https://api.agentedecargaonline.com/anular_factura",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};A()(o).then(t=>{e.$swal("Deleted!","Factura Anulada.","success"),e.listadoFacturacion()})}})}}},gc=_c,fc=Object(v["a"])(gc,mc,hc,!1,null,null,null),vc=fc.exports,bc={name:"listEntities",components:{listControlGastosCom:vc},mounted(){this.$store.state.mainTitle="LISTA DE FACTURAS"},data(){return{}}},Cc=bc,kc=Object(v["a"])(Cc,uc,pc,!1,null,null,null),Sc=kc.exports;o["default"].use(i["a"]);const yc=[{path:"/",name:"Login",component:C},{path:"/registro_empresa",name:"RegistroEmpresa",component:()=>a.e("chunk-c6e784f2").then(a.bind(null,"6d10"))},{path:"/home",component:_t,children:[{path:"",redirect:"/home/main"},{path:"main",name:"Main",component:Tt},{path:"main/configuracion_inicial",name:"ConfiguracionInicial",component:()=>Promise.all([a.e("chunk-2d0dd410"),a.e("chunk-2d21f07e"),a.e("chunk-0f762192")]).then(a.bind(null,"ba38"))},{path:"folderEntities/list/:id_role",name:"listEntitie",component:At},{path:"folderEntities/listado-proveedores",name:"listProveedor",component:()=>a.e("chunk-2d213b33").then(a.bind(null,"ae92"))},{path:"folderEntities/nuevo-proveedor",name:"nuevoProveedor",component:()=>a.e("chunk-5a6bdfa1").then(a.bind(null,"82b6"))},{path:"folderEntities/ver-proveedor/:id",name:"verProveedor",component:()=>a.e("chunk-22800d3a").then(a.bind(null,"4c50"))},{path:"folderEntities/editar-proveedor/:id",name:"editarProveedor",component:()=>a.e("chunk-3f4d7796").then(a.bind(null,"c5ea"))},{path:"folderEntities/listado-cliente",name:"listClientes",component:()=>a.e("chunk-2d0c8480").then(a.bind(null,"53e1"))},{path:"folderEntities/nuevo-cliente",name:"nuevoClientes",component:()=>a.e("chunk-a464b914").then(a.bind(null,"0888"))},{path:"folderEntities/ver-cliente/:id",name:"verCliente",component:()=>a.e("chunk-079c0f2e").then(a.bind(null,"5541"))},{path:"folderEntities/editar-cliente/:id",name:"editarCliente",component:()=>a.e("chunk-3189ac44").then(a.bind(null,"6f4a"))},{path:"folderEntities/list-personal-rol",name:"listPersonaRol",component:()=>a.e("chunk-2d0e1741").then(a.bind(null,"7b00"))},{path:"folderEntities/control/:id_role",name:"controlEntitie",component:Yt},{path:"folderEntities/control/edit/:id",name:"controlEntitieEdit",component:Yt},{path:"folderMaster/list",name:"listMaster",component:ke},{path:"folderMaster/control",name:"controlMaster",component:ua},{path:"folderMaster/control/editar/:id",name:"controlMasterEditar",component:ua},{path:"folderMaster/control/ver/:id",name:"controlMasterVer",component:ua},{path:"folderMaster/control/:id",name:"controlMasterId",component:ua},{path:"folderMaster/control/:id/:params",name:"controlMasterParams",component:ua},{path:"folderHouse/list",name:"listHouse",component:Ea},{path:"folderHouse/control",name:"controlHouse",component:_o},{path:"folderHouse/confAvisoLlegada",name:"confAvisoLlegada",component:Eo},{path:"folderHouse/control/editar/:id",name:"controlHouseEditar",component:_o},{path:"folderHouse/control/ver/:id",name:"controlHouseVer",component:()=>a.e("chunk-42bac527").then(a.bind(null,"1d64"))},{path:"folderHouse/control/:id",name:"controlHouseId",component:_o},{path:"folderReports/list",name:"reportsControlFile",component:Uo},{path:"folderReports/listDetails",name:"reportsControlFileDetails",component:ti},{path:"folderBilling/billControlGastos/:id_house",name:"billControlGastos",component:Vi},{path:"folderBilling/billControlGastos/view/:id_house/:id_control/:id_orders/:code",name:"billControlGastosControl",component:Vi},{path:"folderBilling/listControlGastos",name:"listControlGastos",component:cs},{path:"folderBilling/editControlGastos/view/:id/:id_branch",name:"editControlGasto",component:()=>a.e("chunk-2d2102c7").then(a.bind(null,"b784"))},{path:"folderRequest/controlRequest",name:"controlRequest",component:Ss},{path:"folderRequest/debstopay",name:"debstopay",component:Bs},{path:"folderRequest/controlPaymentFile",name:"controlPaymentFile",component:As},{path:"folderRequest/accountsReceivable",name:"accountsreceivable",component:Zs},{path:"folderRequest/checkDebs",name:"checkDebs",component:sr},{path:"folderRequest/cashflow",name:"cashFlow",component:fr},{path:"folderModulesPays/controlAccountPays",name:"controlAccountPays",component:Er},{path:"folderModulesPays/addmodulesAccountPays",name:"addAccountPays",component:en},{path:"folderModulesPays/moduleAccountReceivable",name:"moduleAccountReceivable",component:Ur},{path:"folderModulesPays/regularizarProformace",name:"controlRegulizarPro",component:zn},{path:"folderModulesPays/viewAccountPays/:id",name:"viewAccountPays",component:ln},{path:"folderModulesPays/EditAccountPays/:id",name:"EditAccountPays",component:$n},{path:"folderModulesPays/lstProyeccion",name:"lstProyeccionCXP",component:()=>a.e("chunk-2d22892f").then(a.bind(null,"da84"))},{path:"folderModulesPays/nuevaProyeccion",name:"nuevaProyeccionCXP",component:()=>a.e("chunk-2d0d053d").then(a.bind(null,"6805"))},{path:"folderModulesPays/verProyeccion/:id",name:"verProyeccion",component:()=>a.e("chunk-2d0ce82e").then(a.bind(null,"6086"))},{path:"folderModulesPays/editarProyeccion/:id",name:"editarProyeccion",component:()=>a.e("chunk-2d0cf297").then(a.bind(null,"6315"))},{path:"viewAccountPaysCxC/controlAccountReceivable",name:"controlAccountReceivable",component:Zn},{path:"viewAccountPaysCxC/:id",name:"viewAccountPaysCxC",component:Sn},{path:"EditviewAccountPaysCxC/:id",name:"EditAccountPaysCxC",component:An},{path:"FolderBanks/listadoPagosPorProveedor",name:"listBankCxP",component:dl},{path:"FolderBanks/registroPayForProveedor",name:"registroPayForProveedor",component:Sl},{path:"FolderBanks/verPagosPorProveedor/:id",name:"verPagosPorProveedor",component:$l},{path:"FolderBanks/listadoPagosPorCliente",name:"listBankCxC",component:Bl},{path:"FolderBanks/registroPayForCliente",name:"registroPayForCliente",component:Zl},{path:"FolderBanks/verPagosPorCliente/:id",name:"verPagosPorCliente",component:ic},{path:"folderReports/listProgrammedPayment",name:"listProgrammedPayment",component:dc},{path:"folderBilling/lstFacturacion",name:"lstFacturacion",component:Sc},{path:"folderConsolidation",name:"lstConsolidation",component:()=>a.e("chunk-2d0c1f5a").then(a.bind(null,"47ef"))},{path:"folderConsolidation/registro",name:"newConsolidation",component:()=>a.e("chunk-2d0f0c1b").then(a.bind(null,"9e70"))},{path:"folderReports/balanceGanancia",name:"lstEstadoGanancias",component:()=>a.e("chunk-2d0de907").then(a.bind(null,"85d8"))},{path:"folderRequest/listFlujoMensual",name:"listFlujoMensual",component:()=>a.e("chunk-2d21e7f3").then(a.bind(null,"d68c"))},{path:"folderPricing/lstQuote",name:"lstQuote",component:()=>Promise.all([a.e("chunk-368417d2"),a.e("chunk-2d0d03e9")]).then(a.bind(null,"66c6"))},{path:"folderPricing/newQuote",name:"newQuote",component:()=>Promise.all([a.e("chunk-9f9e72d4"),a.e("chunk-20a74364")]).then(a.bind(null,"e867"))},{path:"folderPricing/verQuote/:id/:step?",name:"verQuote",component:()=>a.e("chunk-2d0e2720").then(a.bind(null,"7f72"))},{path:"folderPricing/editQuote/:id",name:"editQuote",component:()=>Promise.all([a.e("chunk-9f9e72d4"),a.e("chunk-471603d8")]).then(a.bind(null,"abb5"))},{path:"folterCargaMasiva/carga_calculadora",name:"cargaMasivaCalc",component:()=>a.e("chunk-2d0decd6").then(a.bind(null,"86ce"))},{path:"folterCargaMasiva/carga_control_gastos",name:"cargaMasivaControlGasto",component:()=>a.e("chunk-2d225633").then(a.bind(null,"e3d3"))},{path:"folterCalculadora/list_user_calc",name:"listUserCalc",component:()=>a.e("chunk-2d0af430").then(a.bind(null,"0e27"))},{path:"enterprise/listado",name:"listEnterprise",component:()=>a.e("chunk-2d21ebd3").then(a.bind(null,"d79c"))},{path:"enterprise/nuevo",name:"newEnterprise",component:()=>a.e("chunk-2d0db095").then(a.bind(null,"6dc4"))},{path:"enterprise/read/:id",name:"readEnterprise",component:()=>a.e("chunk-2d0abbdd").then(a.bind(null,"1723"))},{path:"enterprise/update/:id",name:"updateEnterprise",component:()=>a.e("chunk-2d0b8e48").then(a.bind(null,"312f"))},{path:"marketing/list",name:"listMarketing",component:()=>a.e("chunk-2d221f7b").then(a.bind(null,"cd37"))},{path:"type_phone/list",name:"listTypePhone",component:()=>a.e("chunk-2d0a4f40").then(a.bind(null,"0945"))},{path:"document/list",name:"listDocument",component:()=>a.e("chunk-2d22976c").then(a.bind(null,"de0e"))},{path:"year/list",name:"listYear",component:()=>a.e("chunk-2d0ab439").then(a.bind(null,"1510"))},{path:"sex/list",name:"listSex",component:()=>a.e("chunk-2d0e5967").then(a.bind(null,"94b8"))},{path:"groupservices/list",name:"listGroupServices",component:()=>a.e("chunk-2d0b9989").then(a.bind(null,"342d"))},{path:"item_services/listado",name:"listItemServices",component:()=>a.e("chunk-2d0f1512").then(a.bind(null,"9fb1"))},{path:"incoterms/list",name:"incotermsServices",component:()=>a.e("chunk-743eabfe").then(a.bind(null,"07319"))},{path:"performance/list",name:"performance",component:()=>a.e("chunk-2d230f88").then(a.bind(null,"ef0a"))},{path:"bank/list",name:"bankList",component:()=>a.e("chunk-2d0deb7d").then(a.bind(null,"879a"))},{path:"modality/list",name:"listModality",component:()=>a.e("chunk-2d0b341c").then(a.bind(null,"2833"))},{path:"transport/list",name:"listTransport",component:()=>a.e("chunk-2d0d76a6").then(a.bind(null,"775e"))},{path:"gastos/list",name:"listGastos",component:()=>a.e("chunk-2d0a45f1").then(a.bind(null,"05c9"))},{path:"sub_gasto/list",name:"listSubGasto",component:()=>a.e("chunk-2d0e1842").then(a.bind(null,"7b89"))},{path:"coins/list",name:"listCoins",component:()=>a.e("chunk-2d0cf32d").then(a.bind(null,"6360"))},{path:"ingreso/list",name:"listIngresos",component:()=>a.e("chunk-2d0f1004").then(a.bind(null,"9f89"))},{path:"sub_ingreso/listado",name:"listSubIngresos",component:()=>a.e("chunk-2d21eb47").then(a.bind(null,"d764"))},{path:"containers/list",name:"listContainers",component:()=>a.e("chunk-2d0c0ec0").then(a.bind(null,"449c"))},{path:"shipment/listado",name:"listShipment",component:()=>a.e("chunk-2d0d6ad1").then(a.bind(null,"7420"))},{path:"multiplicador/listado",name:"listMultiplicador",component:()=>a.e("chunk-2d0af866").then(a.bind(null,"0f60"))},{path:"airlines/listado",name:"listAirlines",component:()=>a.e("chunk-2d0cec0f").then(a.bind(null,"6197"))},{path:"quote_status/listado",name:"listQuoteStatus",component:()=>a.e("chunk-2d0aada3").then(a.bind(null,"137b"))},{path:"puertos/listado",name:"listPort",component:()=>a.e("chunk-2d0c4677").then(a.bind(null,"3b4f"))},{path:"motonave/listado",name:"listMotonave",component:()=>a.e("chunk-2d21eb74").then(a.bind(null,"d76a"))},{path:"state/listado",name:"listState",component:()=>a.e("chunk-2d22ca3b").then(a.bind(null,"f3a9"))},{path:"city/listado",name:"listCity",component:()=>a.e("chunk-2d0e5259").then(a.bind(null,"92f0"))},{path:"town/listado",name:"listTown",component:()=>a.e("chunk-2d2079b1").then(a.bind(null,"a0f2"))},{path:"impuestos/listado",name:"listImpuestos",component:()=>a.e("chunk-2d0e9220").then(a.bind(null,"8bdd"))},{path:"tipo_telefono/listado",name:"listTipoTelefeno",component:()=>a.e("chunk-2d218001").then(a.bind(null,"c8b8"))},{path:"notas_cotizacion/listado",name:"ListNotasCotizacion",component:()=>a.e("chunk-2d0b9ba2").then(a.bind(null,"33d0"))},{path:"categoria_servicio/listado",name:"ListBegend",component:()=>a.e("chunk-2d0d63e1").then(a.bind(null,"725e"))},{path:"type_servicio/listado",name:"ListPayment",component:()=>a.e("chunk-2d0ce790").then(a.bind(null,"6033"))},{path:"usuarios/listado",name:"listUser",component:()=>a.e("chunk-2d0c0311").then(a.bind(null,"4175"))},{path:"usuarios/nuevo",name:"registroUser",component:()=>a.e("chunk-2d229240").then(a.bind(null,"dbd0"))},{path:"usuarios/editar/:id",name:"editarUser",component:()=>a.e("chunk-2d0c8463").then(a.bind(null,"53d3"))},{path:"usuarios/ver/:id",name:"verUser",component:()=>a.e("chunk-2d0ab667").then(a.bind(null,"14b0"))},{path:"posicion/listado",name:"lstPosition",component:()=>a.e("chunk-2d22c6d7").then(a.bind(null,"f2d9"))},{path:"posicion/editar/:id",name:"editarPosicion",component:()=>a.e("chunk-2d0c7ba0").then(a.bind(null,"529f"))},{path:"posicion/ver/:id",name:"verPosicion",component:()=>a.e("chunk-2d0d317f").then(a.bind(null,"5afc"))},{path:"comentarios_predefinidos/listado",name:"listComentariosPredefinidos",component:()=>a.e("chunk-2d228bf7").then(a.bind(null,"db03"))},{path:"suscripcion",name:"lstPlanes",component:()=>a.e("chunk-2d0e5386").then(a.bind(null,"940e"))},{path:"folderFolderBanks/editar_salida/:nro_operacion",name:"EditarSalida",component:()=>Promise.all([a.e("chunk-368417d2"),a.e("chunk-646e6daa")]).then(a.bind(null,"5798"))},{path:"folderFolderBanks/editar_ingreso/:nro_operacion",name:"EditarCobroCliente",component:()=>Promise.all([a.e("chunk-368417d2"),a.e("chunk-3062201f")]).then(a.bind(null,"6e53"))},{path:"ficheros/listado_status_house",name:"lstEstadoBitaco",component:()=>a.e("chunk-e18d85b4").then(a.bind(null,"de75"))},{path:"lstEnterpriseRegister",name:"lstEnterpriseRegister",component:()=>a.e("chunk-2d20fc80").then(a.bind(null,"b4a9"))},{path:"newCotizacionAduana",name:"newCotizacionAduana",component:()=>Promise.all([a.e("chunk-72afdc30"),a.e("chunk-58d1dc87")]).then(a.bind(null,"bf94"))},{path:"lstQuoteAduanaAduana",name:"lstQuoteAduanaAduana",component:()=>Promise.all([a.e("chunk-368417d2"),a.e("chunk-2d21d871")]).then(a.bind(null,"d24a"))},{path:"EditarAduana/:id",name:"EditarAduana",component:()=>Promise.all([a.e("chunk-72afdc30"),a.e("chunk-4b05d6fe")]).then(a.bind(null,"717b"))},{path:"VerAduana/:id/:step?",name:"VerAduana",component:()=>a.e("chunk-2d0c8862").then(a.bind(null,"54f3"))},{path:"RegistroSuscripcion",name:"RegistroSuscripcion",component:()=>Promise.all([a.e("chunk-368417d2"),a.e("chunk-2d0cc680")]).then(a.bind(null,"4e92"))},{path:"ServiciosCostosFijosFCL",name:"ServiciosCostosFijosFCL",component:()=>Promise.all([a.e("chunk-368417d2"),a.e("chunk-2d0da92e")]).then(a.bind(null,"6bd0"))},{path:"ServiciosCostosFijosLCL",name:"ServiciosCostosFijosLCL",component:()=>Promise.all([a.e("chunk-368417d2"),a.e("chunk-2d2094f7")]).then(a.bind(null,"a909"))},{path:"ServiciosCostosFijosAereo",name:"ServiciosCostosFijosAereo",component:()=>Promise.all([a.e("chunk-368417d2"),a.e("chunk-2d215cff")]).then(a.bind(null,"c095"))}]},{path:"/tracking/:token",name:"tracking",component:()=>a.e("chunk-4c7c5a42").then(a.bind(null,"2764"))},{path:"/reestablecer_clave/:token",name:"ReestablecerClave",component:()=>a.e("chunk-2d0deb21").then(a.bind(null,"876b"))}],Ic=new i["a"]({base:"/",mode:"history",routes:yc,scrollBehavior(t,e,a){return t.hash?{selector:t.hash,behavior:"smooth"}:a}});e["a"]=Ic},a8c3:function(t,e,a){},a9a8:function(t,e,a){},b44e:function(t,e,a){},b461:function(t,e,a){"use strict";a("b653")},b653:function(t,e,a){},b77f:function(t,e,a){},b826:function(t,e,a){t.exports=a.p+"media/Messenger Tono de Mensaje - Sonido.2397b4f0.mp3"},be94:function(t,e,a){},bed5:function(t,e,a){"use strict";a("394d")},c0e7:function(t,e,a){"use strict";a("2b30")},c8d9:function(t,e,a){"use strict";a("8a38")},ce1f:function(t,e,a){},d3f3:function(t,e,a){},d428:function(t,e,a){"use strict";a("9c58")},deb3:function(t,e,a){"use strict";a("0860")},dedb:function(t,e,a){"use strict";a("ecaa")},e035:function(t,e,a){t.exports=a.p+"img/lista.3750b5f3.svg"},e68d:function(t,e,a){"use strict";a("1293")},eac3:function(t,e,a){"use strict";a("14d9"),a("e9f5"),a("ab43"),a("88a7"),a("271a"),a("5494");var o=a("bc3a"),i=a.n(o),s=a("3d20"),r=a.n(s),n=a("a18c"),l=a("c1df"),c=a.n(l),d=a("4360");const u={dataEntitiePost:[],persona:[],statusEntitie:!1,lstProveedor:[],lstPersona:[],lstEmails:[],titleVal:"",filtro:{correlativo:"",bussiness_name:"",id_document:"",id_pais:"",id_state:"",status:"1",id_tipoproveedor:"",names:"",surname:"",second_surname:"",nro_documento:"",nombrecompleto:"",producto:""},proveedor:{correlativo:"",bussiness_name:"",id_role:0,id_tipotransaccion:56,id_tipodocumento:0,id_pais:0,id_ciudad:0,dias_credito:0,dias_sobreestadia:0,dias_almacenaje:0,direccion:"",notas:"",nro_documento:"",emailaddress:"",nombrecompleto:"",id_tipoproveedor:"",convenioActual:{dias_credito:0,fecha:"",email_soporte:""},telefonoActual:{id_tipotelefono:"",telefono:""},contactoActual:{nombre:"",id_tipotelefono:"",telefono:""}},cliente:{correlativo:"",names:"",surname:"",second_surname:"",birthday:"",id_role:0,id_tipotransaccion:56,id_tipodocumento:0,id_pais:0,id_sex:0,id_ciudad:0,dias_credito:0,dias_sobreestadia:0,dias_almacenaje:0,direccion:"",notas:"",nro_documento:"",emailaddress:"",convenioActual:{dias_credito:0,fecha:"",email_soporte:""},telefonoActual:{id_tipotelefono:"",telefono:""},contactoActual:{nombre:"",id_tipotelefono:"",telefono:""},nombrecompleto:""},lstTelefonos:[],lstContactos:[],lstInformacionBancaria:[],lstConvenios:[],lstTarifas:[],informacionEntrega:{},lstShippers:[],id:null,filtrarProveedor:!1,stepper:1,isEdit:!1,isReadonly:!1,showBtnSaveFlag:!1,disabledBtnSave:!1,isStep1Valid:!0,isStep2Valid:!0,isStep3Valid:!0,isStep4Valid:!0,isStep5Valid:!0,isStep6Valid:!0,lstProveedores_x_nombre:[],lstProveedores_x_documento:[]},p={},m={_setEntitie(t,e){200==e.status?t.statusEntitie=!0:t.statusEntitie=!1},SET_PERSONA(t,e){t.persona=e},SET_LIST_PROVEEDOR(t,e){t.lstProveedor=e},SET_LIST_PERSONA(t,e){t.lstPersona=e},SET_LIST_PROVEEDORES_X_NOMBRE(t,e){t.lstProveedores_x_nombre=e},SET_LIST_PROVEEDORES_X_DOCUMENTO(t,e){t.lstProveedores_x_documento=e}},h={async CargarPersona({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/cargar_persona?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:this.dataEntitiePost};await i()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_PERSONA",a.data):t("SET_PERSONA",[])})).catch((function(t){console.log(t)}))},async ListarPersonaTipoPersona({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/listar_persona_tipo_persona?id_branch="+JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:this.dataEntitiePost};await i()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_PERSONA",a.data):t("SET_LIST_PERSONA",[])})).catch((function(t){console.log(t)}))},async guardarRolProveedor({commit:t,dispatch:e}){var a={method:"put",url:"https://api.agentedecargaonline.com/actualizar_rol_proveedor",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{id:u.lstPersona.map(t=>t.id),proveedorflag:u.lstPersona.map(t=>t.proveedorflag),clienteflag:u.lstPersona.map(t=>t.clienteflag),personalflag:u.lstPersona.map(t=>t.personalflag)}};await i()(a).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),r.a.fire({icon:e.estadoflag?"success":"error",title:"Aviso",text:e.mensaje,allowOutsideClick:!1,confirmButtonText:"Ok"})})).catch((function(t){console.log(t)}))},async getListProveedor({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/listado_proveedor?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&correlativo=${u.filtro.correlativo?u.filtro.correlativo:""}&bussiness_name=${u.filtro.bussiness_name?u.filtro.bussiness_name:""}&id_document=${u.filtro.id_document?u.filtro.id_document:""}&nro_documento=${u.filtro.nro_documento?u.filtro.nro_documento:""}&id_tipoproveedor=${u.filtro.id_tipoproveedor?u.filtro.id_tipoproveedor:""}&producto=${u.filtro.producto?u.filtro.producto:""}&id_pais=${u.filtro.id_pais?u.filtro.id_pais:""}&id_state=${u.filtro.id_state?u.filtro.id_state:""}&status=${1==u.filtro.status||0==u.filtro.status?u.filtro.status:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:this.dataEntitiePost};await i()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_PROVEEDOR",a.data):(t("SET_LIST_PROVEEDOR",[]),r.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.log(t)}))},async getValidaRazonSocial({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/validar_razon_social?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&razonsocial=${u.proveedor.bussiness_name?u.proveedor.bussiness_name:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:this.dataEntitiePost};await i()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_PROVEEDOR",a.data):t("SET_LIST_PROVEEDOR",[])})).catch((function(t){console.log(t)}))},async getValidaDocument({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/validar_documento?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_tipodocumento=${u.proveedor.id_tipodocumento}&documento=${u.proveedor.nro_documento}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:this.dataEntitiePost};await i()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_PROVEEDOR",a.data):t("SET_LIST_PROVEEDOR",[])})).catch((function(t){console.log(t)}))},async getVerProveedor({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/ver_proveedor?id="+n["a"].currentRoute.params.id,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await i()(e).then((function(t){let e=t.data;if(sessionStorage.setItem("auth-token",e.token),e.estadoflag){let t=e.data[0];u.proveedor=t,u.proveedor.convenioActual={dias_credito:0,fecha:"",email_soporte:""},u.proveedor.telefonoActual={id_tipotelefono:"",telefono:""},u.proveedor.contactoActual={nombre:"",id_tipotelefono:"",telefono:""},u.lstTelefonos=t.lsttelefonos.map(t=>({...t,id_tipotelefono:t.id_tipotelefono.toString()})),u.lstContactos=t.lstcontactos.map(t=>({...t,id_tipotelefono:t.id_tipotelefono.toString()})),u.lstConvenios=t.lstconvenios,u.lstTarifas=t.lsttarifas,u.lstInformacionBancaria=t.lstcuentas,u.lstEmails=t.lstemails,u.lstConvenios[0]&&(u.proveedor.convenioActual=u.lstConvenios[0]),u.lstTelefonos[0]&&(u.proveedor.telefonoActual=u.lstTelefonos[0]),u.lstContactos[0]&&(u.proveedor.contactoActual=u.lstContactos[0])}else"401"==e.status?r.a.fire({icon:"error",text:e.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==e.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}):r.a.fire({icon:"error",title:"Aviso",text:e.mensaje,allowOutsideClick:!1,confirmButtonText:"Ir al listado"}).then(t=>{t.isConfirmed&&(u.lstProveedor=[],n["a"].push({name:"listProveedor"}))})})).catch((function(t){console.log(t)}))},async guardarProveedor({commit:t}){let e={};u.proveedor.id_branch=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,u.proveedor.lstTelefonos=u.lstTelefonos,u.proveedor.lstContactos=u.lstContactos,u.proveedor.lstConvenios=u.lstConvenios,u.proveedor.lstTarifas=u.lstTarifas,u.proveedor.lstInformacionBancaria=u.lstInformacionBancaria,u.proveedor.lstEmails=u.lstEmails;var a={method:"post",url:"https://api.agentedecargaonline.com/registrar_proveedor",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:u.proveedor};return await i()(a).then((function(t){let a=t.data;if(e=t.data,console.log(e),sessionStorage.setItem("auth-token",a.token),"401"==a.status)r.a.fire({icon:"error",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))});else{let e=["newQuote","verQuote","editQuote"];console.log(n["a"].currentRoute.name),e.includes(n["a"].currentRoute.name)?console.log(t):r.a.fire({icon:a.estadoflag?"success":"error",title:"Aviso",text:a.mensaje,allowOutsideClick:!1,confirmButtonText:1==d["a"].state.modalEntitie?"Aceptar":"Ir al listado"}).then(t=>{t.isConfirmed&&(1==d["a"].state.modalEntitie?(d["a"].state.registroClienteFlag=!d["a"].state.registroClienteFlag,d["a"].state.entities.id=a.data[0].id_entitie,d["a"].state.modalEntitie=!1):(u.lstProveedor=[],n["a"].push({name:"listProveedor"})))})}})).catch((function(t){console.log(t)})),e},async actualizarProveedor({commit:t}){u.proveedor.id_branch=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,u.proveedor.lstTelefonos=u.lstTelefonos,u.proveedor.lstContactos=u.lstContactos,u.proveedor.lstConvenios=u.lstConvenios,u.proveedor.lstTarifas=u.lstTarifas,u.proveedor.lstInformacionBancaria=u.lstInformacionBancaria,u.proveedor.lstEmails=u.lstEmails;var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_proveedor",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:u.proveedor};await i()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),"401"==e.status?r.a.fire({icon:"error",text:e.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==e.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}):r.a.fire({icon:e.estadoflag?"success":"error",title:"Aviso",text:e.mensaje,allowOutsideClick:!1,confirmButtonText:"Ir al listado"}).then(t=>{t.isConfirmed&&(u.lstProveedor=[],n["a"].push({name:"listProveedor"}))})})).catch((function(t){console.log(t)}))},async eliminarPersona({commit:t,dispatch:e},a){var o={method:"put",url:"https://api.agentedecargaonline.com/eliminar_proveedor",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await i()(o).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),r.a.fire({icon:e.estadoflag?"success":"error",title:"Aviso",text:e.mensaje,allowOutsideClick:!1,confirmButtonText:"Aceptar"})})).catch((function(t){console.log(t)})),e("getListProveedor")},async telConctactoProveedor({commit:t,dispatch:e},a){var o={method:"get",url:"https://api.agentedecargaonline.com/tel_contacto_proveedor?id="+a.id,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:a};await i()(o).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token);let a=e.data[0];u.lstTelefono=a.lsttelefono.map(t=>({...t,id_tipotelefono:t.id_tipotelefono?t.id_tipotelefono.toString():""})),u.lstContactos=a.lstcontactos.map(t=>({...t,id_tipotelefono:t.id_tipotelefono?t.id_tipotelefono.toString():""}))})).catch((function(t){console.log(t)}))},async exportListProveedor(){let t={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Accept:"aplication/json","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token, Authorization, Accept,charset,boundary,Content-Length",responseType:"arraybuffer"},e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,correlativo:u.filtro.correlativo,bussiness_name:u.filtro.bussiness_name,id_document:u.filtro.id_document,id_pais:u.filtro.id_pais,id_state:u.filtro.id_state,status:u.filtro.status,id_tipoproveedor:u.filtro.id_tipoproveedor};r.a.fire({icon:"info",title:"Aviso",text:"El documento se descargará automaticamente",showConfirmButton:!1,showCloseButton:!1,showDenyButton:!1,allowOutsideClick:!1}),await i.a.post("https://api.agentedecargaonline.com/export_list_proveedor",e,t).then(t=>{const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download",`Listo Proveedor ${c()().format("DD-MM-YYYY hh:mm:ss")}.xlsx`),document.body.appendChild(a),a.click()}),r.a.fire({icon:"info",title:"Aviso",text:"Documento Descargado",confirmButtonText:"Ok",showConfirmButton:!0,showCloseButton:!1,showDenyButton:!1,allowOutsideClick:!1})},async validarNombreProveedor({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/validar_nombre_proveedor?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&nombre=${u.proveedor.nombrecompleto?u.proveedor.nombrecompleto:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{}};await i()(e).then((function(e){let{data:a}=e;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_PROVEEDORES_X_NOMBRE",a.data):t("SET_LIST_PROVEEDORES_X_NOMBRE",[])})).catch((function(t){console.log(t)}))},async validarDocumentoProveedor({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/validar_documento_proveedor?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_tipodocumento=${u.proveedor.id_tipodocumento?u.proveedor.id_tipodocumento:""}&nro_documento=${u.proveedor.nro_documento?u.proveedor.nro_documento:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{}};await i()(e).then((function(e){let{data:a}=e;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_PROVEEDORES_X_DOCUMENTO",a.data):t("SET_LIST_PROVEEDORES_X_DOCUMENTO",[])})).catch((function(t){console.log(t)}))},async getListClientes({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/listado_clientes?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&correlativo=${u.filtro.correlativo?u.filtro.correlativo:""}&nombrecompleto=${u.filtro.nombrecompleto?u.filtro.nombrecompleto:""}&id_document=${u.filtro.id_document?u.filtro.id_document:""}&nro_documento=${u.filtro.nro_documento?u.filtro.nro_documento:""}&id_pais=${u.filtro.id_pais?u.filtro.id_pais:""}&id_state=${u.filtro.id_state?u.filtro.id_state:""}&status=${1==u.filtro.status||0==u.filtro.status?u.filtro.status:""}&id_tipoproveedor=${u.filtro.id_tipoproveedor?u.filtro.id_tipoproveedor:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:this.dataEntitiePost};await i()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_PROVEEDOR",a.data):(t("SET_LIST_PROVEEDOR",[]),r.a.fire({icon:"401"==a.status?"error":"info",text:a.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==a.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}))})).catch((function(t){console.log(t)}))},async getValidaDocumentCliente({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/validar_documento?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_tipodocumento=${u.cliente.id_tipodocumento}&documento=${u.cliente.nro_documento}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:this.dataEntitiePost};await i()(e).then((function(e){let a=e.data;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_PROVEEDOR",a.data):t("SET_LIST_PROVEEDOR",[])})).catch((function(t){console.log(t)}))},async guardarCliente({commit:t}){u.cliente.id_branch=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,u.cliente.lstTelefonos=u.lstTelefonos,u.cliente.lstContactos=u.lstContactos,u.cliente.lstConvenios=u.lstConvenios,u.cliente.lstTarifas=u.lstTarifas,u.cliente.lstInformacionBancaria=u.lstInformacionBancaria,u.cliente.lstShippers=u.lstShippers,u.cliente.informacionEntrega=u.informacionEntrega,u.cliente.lstEmails=u.lstEmails;var e={method:"post",url:"https://api.agentedecargaonline.com/registrar_cliente",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:u.cliente};await i()(e).then((function(t){let e=t.data;if(sessionStorage.setItem("auth-token",e.token),"401"==e.status)r.a.fire({icon:"error",text:e.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==e.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))});else{console.log(n["a"].currentRoute.name),r.a.fire({icon:e.estadoflag?"success":"error",title:"Aviso",text:e.mensaje,allowOutsideClick:!1,confirmButtonText:1==d["a"].state.modalEntitie?"Aceptar":"Ir al listado"}).then(t=>{t.isConfirmed&&(1==d["a"].state.modalEntitie?(console.log("ddddd",e.data[0]),d["a"].state.registroClienteFlag=!d["a"].state.registroClienteFlag,d["a"].state.entities.id=e.data[0].id_entitie,d["a"].state.modalEntitie=!1):(u.lstProveedor=[],n["a"].push({name:"listClientes"})))})}})).catch((function(t){console.log(t)}))},async verCliente({commit:t}){var e={method:"get",url:"https://api.agentedecargaonline.com/ver_cliente?id="+n["a"].currentRoute.params.id,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"}};await i()(e).then((function(t){let e=t.data;if(sessionStorage.setItem("auth-token",e.token),e.estadoflag){let t=e.data[0];u.cliente=t,u.cliente.convenioActual={dias_credito:0,fecha:"",email_soporte:""},u.cliente.telefonoActual={id_tipotelefono:"",telefono:""},u.cliente.contactoActual={nombre:"",id_tipotelefono:"",telefono:""},u.lstTelefonos=t.lsttelefonos.map(t=>({...t,id_tipotelefono:t.id_tipotelefono.toString()})),u.lstContactos=t.lstcontactos.map(t=>({...t,id_tipotelefono:t.id_tipotelefono.toString()})),u.lstConvenios=t.lstconvenios,u.lstTarifas=t.lsttarifas,u.lstInformacionBancaria=t.lstcuentas,u.lstShippers=t.lstshippers,u.lstEmails=t.lstemails,u.informacionEntrega=t.informacionentrega[0]||{status:!0},u.lstConvenios[0]&&(u.cliente.convenioActual=u.lstConvenios[0]),u.lstTelefonos[0]&&(u.cliente.telefonoActual=u.lstTelefonos[0]),u.lstContactos[0]&&(u.cliente.contactoActual=u.lstContactos[0])}else"401"==t.data.status?r.a.fire({icon:"error",text:t.data.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(e=>{e.isConfirmed&&"401"==t.data.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}):r.a.fire({icon:"error",title:"Aviso",text:e.mensaje,allowOutsideClick:!1,confirmButtonText:"Ir al listado"}).then(t=>{t.isConfirmed&&(u.lstProveedor=[],n["a"].push({name:"listProveedor"}))})})).catch((function(t){console.log(t)}))},async actualizarCliente({commit:t}){u.cliente.id_branch=JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,u.cliente.lstTelefonos=u.lstTelefonos,u.cliente.lstContactos=u.lstContactos,u.cliente.lstConvenios=u.lstConvenios,u.cliente.lstTarifas=u.lstTarifas,u.cliente.lstInformacionBancaria=u.lstInformacionBancaria,u.cliente.lstShippers=u.lstShippers,u.cliente.informacionEntrega=u.informacionEntrega,u.cliente.lstEmails=u.lstEmails;var e={method:"put",url:"https://api.agentedecargaonline.com/actualizar_cliente",headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:u.cliente};await i()(e).then((function(t){let e=t.data;sessionStorage.setItem("auth-token",e.token),"401"==e.status?r.a.fire({icon:"error",text:e.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}).then(t=>{t.isConfirmed&&"401"==e.status&&(n["a"].push({name:"Login"}),setTimeout(()=>{window.location.reload()},10))}):r.a.fire({icon:e.estadoflag?"success":"error",title:"Aviso",text:e.mensaje,allowOutsideClick:!1,confirmButtonText:"Ir al listado"}).then(t=>{t.isConfirmed&&(u.lstProveedor=[],n["a"].push({name:"listClientes"}))})})).catch((function(t){console.log(t)}))},async exportListClientes(){let t={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Accept:"aplication/json","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token, Authorization, Accept,charset,boundary,Content-Length",responseType:"arraybuffer"},e={id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,correlativo:u.filtro.correlativo?u.filtro.correlativo:"",names:u.filtro.names?u.filtro.names:"",surname:u.filtro.surname?u.filtro.surname:"",second_surname:u.filtro.second_surname?u.filtro.second_surname:"",id_document:u.filtro.id_document?u.filtro.id_document:"",id_pais:u.filtro.id_pais?u.filtro.id_pais:"",id_state:u.filtro.id_state?u.filtro.id_state:"",status:1==u.filtro.status||0==u.filtro.status?u.filtro.status:"",id_tipoproveedor:u.filtro.id_tipoproveedor?u.filtro.id_tipoproveedor:""};r.a.fire({icon:"info",title:"Aviso",text:"El documento se descargará automaticamente",showConfirmButton:!1,showCloseButton:!1,showDenyButton:!1,allowOutsideClick:!1}),await i.a.post("https://api.agentedecargaonline.com/export_list_cliente",e,t).then(t=>{const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download",`Listo Proveedor ${c()().format("DD-MM-YYYY hh:mm:ss")}.xlsx`),document.body.appendChild(a),a.click()}),r.a.fire({icon:"info",title:"Aviso",text:"Documento Descargado",confirmButtonText:"Ok",showConfirmButton:!0,showCloseButton:!1,showDenyButton:!1,allowOutsideClick:!1})},async validarNombreCliente({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/validar_nombre_cliente?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&nombre=${u.cliente.nombrecompleto?u.cliente.nombrecompleto:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{}};await i()(e).then((function(e){let{data:a}=e;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_PROVEEDORES_X_NOMBRE",a.data):t("SET_LIST_PROVEEDORES_X_NOMBRE",[])})).catch((function(t){console.log(t)}))},async validarDocumentoCliente({commit:t}){var e={method:"get",url:`https://api.agentedecargaonline.com/validar_documento_cliente?id_branch=${JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch}&id_tipodocumento=${u.cliente.id_tipodocumento?u.cliente.id_tipodocumento:""}&nro_documento=${u.cliente.nro_documento?u.cliente.nro_documento:""}`,headers:{"auth-token":sessionStorage.getItem("auth-token"),"Content-Type":"application/json"},data:{}};await i()(e).then((function(e){let{data:a}=e;sessionStorage.setItem("auth-token",a.token),1==a.estadoflag?t("SET_LIST_PROVEEDORES_X_DOCUMENTO",a.data):t("SET_LIST_PROVEEDORES_X_DOCUMENTO",[])})).catch((function(t){console.log(t)}))}};e["a"]={namespace:!0,state:u,getters:p,actions:h,mutations:m}},ec1e:function(t,e,a){},ecaa:function(t,e,a){},f0e3:function(t,e,a){},f21c:function(t,e,a){},f586:function(t,e,a){}});