(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dad34"],{"6cf7":function(e,t,a){"use strict";a.r(t);var s=a("8336"),r=a("b0af"),o=a("99d9"),i=a("62ad"),l=a("a523"),n=a("8fea"),c=a("132d"),d=a("f774"),u=a("8e36"),h=a("0fd9"),p=a("2fa4"),m=a("b73d"),y=a("8654"),v=(a("e9f5"),a("910d"),function(){var e=this,t=e._self._c;return t(r["a"],{staticClass:"px-5",attrs:{fluid:""}},[t(r["a"],{attrs:{elevation:"0"}},[e.loading?t(l["a"],{staticStyle:{height:"400px"}},[t(h["a"],{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[t(i["a"],{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[e._v(" Cargando información .... ")]),t(i["a"],{attrs:{cols:"6"}},[t(u["a"],{attrs:{color:"deep-purple accent-4",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1):e._e(),e.loading?e._e():t(o["d"],{staticClass:"elevation-0"},[t(y["a"],{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t(p["a"]),t(s["a"],{attrs:{small:"",color:"success"},on:{click:function(t){e.showFilterDrawerNew=!e.showFilterDrawerNew}}},[e._v(" Nuevo ")]),t(s["a"],{attrs:{small:"",color:"success"},on:{click:function(t){e.showFilterDrawer=!e.showFilterDrawer}}},[e._v(" Fitrar ")]),t(s["a"],{staticClass:"mx-1",attrs:{small:"",color:"#004D40",dark:""}},[e._v(" Exportar ")])],1),e.loading?e._e():t(n["a"],{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.$store.state.type_phone.list,"item-key":"id",search:e.search},scopedSlots:e._u([{key:"item.status",fn:function({item:t}){return[e._v(" "+e._s(t.status?"Activo":"Inactivo")+" ")]}},{key:"item.action",fn:function({item:a}){return[t(s["a"],{attrs:{icon:""}},[t(c["a"],{attrs:{color:"warning"},on:{click:function(t){return e.update(a.id)}}},[e._v("mdi-pencil")])],1),t(s["a"],{attrs:{icon:""}},[t(c["a"],{attrs:{color:"success"},on:{click:function(t){return e.read(a.id)}}},[e._v("mdi-eye")])],1),t(s["a"],{attrs:{icon:""}},[t(m["a"],{attrs:{color:"success"},on:{change:function(t){return e.inactive(a)}},model:{value:a.status,callback:function(t){e.$set(a,"status",t)},expression:"item.status"}})],1)]}}],null,!0)})],1),t(d["a"],{attrs:{absolute:"",bottom:"",temporary:"",right:"",width:"30%",height:"92vh"},model:{value:e.showFilterDrawerNew,callback:function(t){e.showFilterDrawerNew=t},expression:"showFilterDrawerNew"}},[t(r["a"],{},[t(o["d"],[e._v(" Nuevo Tipo de Teléfono "),t(p["a"]),t(o["c"],[t(h["a"],[t(y["a"],{attrs:{type:"text",label:"Código (*)",rules:[t=>e.validateCode(t)],"lazy-validation":""},model:{value:e.type.code,callback:function(t){e.$set(e.type,"code",t)},expression:"type.code"}})],1),t(h["a"],[t(y["a"],{attrs:{type:"text",label:"Nombre (*)",rules:[t=>e.validateName(t)],"lazy-validation":""},model:{value:e.type.name,callback:function(t){e.$set(e.type,"name",t)},expression:"type.name"}})],1),t(h["a"],[t(m["a"],{attrs:{dense:"",label:"Activo/Inactivo","hide-details":"",color:"success"},on:{change:e.updateStatus},model:{value:e.type.status,callback:function(t){e.$set(e.type,"status",t)},expression:"type.status"}})],1)],1)],1),t(o["a"],{staticClass:"justify-end mt-3"},[t(s["a"],{staticClass:"mx-1",attrs:{small:"",color:"success",rounded:""},on:{click:function(t){return e.insert()}}},[e._v(" Registrar")]),t(s["a"],{staticClass:"mx-1",attrs:{small:"",dark:"",color:"red",rounded:""},on:{click:function(t){return e.volver()}}},[e._v(" Cancelar")])],1)],1)],1),t(d["a"],{attrs:{height:"100vh",absolute:"",bottom:"",temporary:"",right:"",width:"30%"},model:{value:e.showFilterDrawerRead,callback:function(t){e.showFilterDrawerRead=t},expression:"showFilterDrawerRead"}},[t(r["a"],{},[e.loading_as?e._e():t(l["a"],[t(o["d"],[e._v(" Tipo de Teléfono "+e._s(e.$store.state.type_phone.record.code)+" "+e._s(e.$store.state.type_phone.record.name)+" "),t(p["a"]),t(o["c"],[t(h["a"],[t(y["a"],{attrs:{label:"Código",readonly:"",value:e.$store.state.type_phone.record.code}})],1),t(h["a"],[t(y["a"],{attrs:{label:"Nombre",readonly:"",value:e.$store.state.type_phone.record.name}})],1),t(h["a"],[t(m["a"],{attrs:{readonly:"",label:"Estado: "+(e.$store.state.type_phone.record.status?"Activo":"Inactivo"),color:"success"},model:{value:e.$store.state.type_phone.record.status,callback:function(t){e.$set(e.$store.state.type_phone.record,"status",t)},expression:"$store.state.type_phone.record.status"}})],1)],1)],1),t(o["a"],{staticClass:"justify-end mt-3"},[t(s["a"],{staticClass:"mx-1",attrs:{dark:"",color:"red"},on:{click:function(t){e.showFilterDrawerRead=!e.showFilterDrawerRead}}},[e._v(" Cancelar")])],1)],1),e.loading_as?t(l["a"],{staticStyle:{height:"400px"}},[t(h["a"],{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[t(i["a"],{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[e._v(" Cargando información .... ")]),t(i["a"],{attrs:{cols:"6"}},[t(u["a"],{attrs:{color:"deep-purple accent-4",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1):e._e()],1)],1),t(d["a"],{attrs:{absolute:"",bottom:"",temporary:"",right:"",width:"30%",height:"92vh"},model:{value:e.showFilterDrawerUpdate,callback:function(t){e.showFilterDrawerUpdate=t},expression:"showFilterDrawerUpdate"}},[t(r["a"],{},[e.loading_as?e._e():t(l["a"],[t(o["d"],[e._v(" Editar Tipo de Teléfono "+e._s(e.$store.state.type_phone.record.name)+" "),t(p["a"]),t(o["c"],[t(h["a"],[t(y["a"],{attrs:{type:"text",label:"Código",readonly:""},model:{value:e.type.code,callback:function(t){e.$set(e.type,"code",t)},expression:"type.code"}})],1),t(h["a"],[t(y["a"],{attrs:{type:"text",label:"Nombre (*)",rules:[t=>e.validateName(t)],"lazy-validation":""},model:{value:e.type.name,callback:function(t){e.$set(e.type,"name",t)},expression:"type.name"}})],1),t(h["a"],[t(m["a"],{attrs:{label:"Activo / Inactivo",color:"success"},on:{change:e.updateStatus},model:{value:e.type.status,callback:function(t){e.$set(e.type,"status",t)},expression:"type.status"}})],1)],1)],1),t(o["a"],{staticClass:"justify-end mt-3"},[t(s["a"],{staticClass:"mx-1",attrs:{color:"success"},on:{click:e.btnUpdate}},[e._v(" Aceptar")]),t(s["a"],{staticClass:"mx-1",attrs:{dark:"",color:"red"},on:{click:function(t){e.showFilterDrawerUpdate=!e.showFilterDrawerUpdate}}},[e._v(" Cancelar")])],1)],1),e.loading_as?t(l["a"],{staticStyle:{height:"400px"}},[t(h["a"],{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[t(i["a"],{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[e._v(" Cargando información .... ")]),t(i["a"],{attrs:{cols:"6"}},[t(u["a"],{attrs:{color:"deep-purple accent-4",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1):e._e()],1)],1),t(d["a"],{attrs:{absolute:"",bottom:"",temporary:"",right:"",width:"30%",height:"92vh"},model:{value:e.showFilterDrawer,callback:function(t){e.showFilterDrawer=t},expression:"showFilterDrawer"}},[t(r["a"],{},[t(o["d"],[e._v(" Filtrar Tipo de Teléfono "),t(p["a"]),t(o["c"],[t(h["a"],[t(y["a"],{attrs:{type:"text",label:"Nombre"},model:{value:e.type.name,callback:function(t){e.$set(e.type,"name",t)},expression:"type.name"}})],1),t(h["a"],[t(y["a"],{attrs:{label:"Código"},model:{value:e.type.code,callback:function(t){e.$set(e.type,"code",t)},expression:"type.code"}})],1),t(h["a"],[t(m["a"],{attrs:{dense:"",label:"Activo/Inactivo","hide-details":"",color:"success"},on:{change:e.updateStatus},model:{value:e.type.status,callback:function(t){e.$set(e.type,"status",t)},expression:"type.status"}})],1)],1)],1),t(o["a"],{staticClass:"justify-end mt-3"},[t(s["a"],{staticClass:"mx-1",attrs:{color:"success"},on:{click:function(t){return e.filter()}}},[e._v(" Aceptar")]),t(s["a"],{staticClass:"mx-1",attrs:{dark:"",color:"red"},on:{click:function(t){e.showFilterDrawer=!e.showFilterDrawer}}},[e._v(" Cancelar")])],1)],1)],1)],1)}),w=[],f=a("2f62"),g=a("3d20"),b=a.n(g),_=(a("bc3a"),{name:"ListTypePhoneComponent",data(){return{headers:[{text:"Código",align:"start",value:"code"},{text:"Nombre",value:"name"},{text:"Estado",value:"estado"},{text:"Creación",value:"created_at"},{text:"Última Actualización",value:"updated_at"},{text:"Acciones",value:"action"}],loading:!0,loading_as:!0,item:"",search:"",types:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,code:"",name:"",status:1},type:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,code:"",name:"",status:1},originalType:{},showFilterDrawerNew:!1,showFilterDrawerRead:!1,showFilterDrawerUpdate:!1,showFilterDrawer:!1,id:"",rulesPassed:!1}},created(){this.originalType={...this.type}},async mounted(){await this.fetchDataTypePhone(this.types),this.$store.state.mainTitle="Tipo de Teléfono"},methods:{...Object(f["b"])(["fetchDataTypePhone","inactiveTypePhone","insertTypePhone","readTypePhone","updateTypePhone"]),volver(){this.$router.go(-1),this.resetType()},updateStatus(e){this.type.status=e?1:0},insert(){this.insertTypePhone(this.type)},resetType(){Object.assign(this.type,this.originalType)},inactive(e){b.a.fire({title:"¿Estás seguro?",text:"Si inactiva el registro, éste no aparecerá disponible en otros formularios ¿Está seguro de que desea inactivarlo?",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí",cancelButtonText:"Cancelar"}).then(t=>{t.isConfirmed?this.inactiveTypePhone({id:e.id}):this.item.status=1===this.item.status?0:1})},read(e){this.showFilterDrawerRead=!this.showFilterDrawerRead,this.readTypePhone(e)},update(e){this.showFilterDrawerUpdate=!this.showFilterDrawerUpdate,this.readTypePhone(e),this.action="update",this.id=e},btnUpdate(){let e={id:this.id,name:this.type.name,status:this.type.status};this.updateTypePhone(e)},filter(){this.fetchDataTypePhone(this.type),this.showFilterDrawer=!1},validateCode(e){return e?e.length>3?(this.rulesPassed=!1,"Hasta 3 caracteres permitidos"):(this.rulesPassed=!0,!0):(this.rulesPassed=!1,"Dato requerido")},validateName(e){return e?e.length>50?(this.rulesPassed=!1,"Hasta 50 caracteres permitidos"):(this.rulesPassed=!0,!0):(this.rulesPassed=!1,"Dato requerido")}},computed:{...Object(f["c"])(["list"])},watch:{"$store.state.type_phone.record":{handler(e,t){e&&Object.keys(e).length>0&&(console.log(e),this.loading_as=!1,this.type.code=e.code,this.type.name=e.name,this.type.status=e.status)},immediate:!0},"$store.state.type_phone.list":{handler(e,t){e&&e.length>0&&(this.loading=!1)},immediate:!0}}}),x=_,C=a("2877"),k=Object(C["a"])(x,v,w,!1,null,null,null);t["default"]=k.exports}}]);