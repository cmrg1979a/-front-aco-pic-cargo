(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7b72"],{5298:function(t,e,o){"use strict";o.r(e);var a=o("a523"),s=o("8fea"),i=o("cd55"),r=o("49e2"),l=o("c865"),c=o("0393"),n=o("8654"),p=function(){var t=this,e=t._self._c;return t.mostrar?e(a["a"],[e(c["a"],{staticClass:"condensed my-1",model:{value:t.abierto,callback:function(e){t.abierto=e},expression:"abierto"}},[e(i["a"],[e(l["a"],{attrs:{color:"#90CAF9",dark:""}},[e("p",[t._v(" Impuestos Opción - "+t._s(t.impuestos[0].nro_propuesta)+" : "),e("b",[t._v(t._s(t.calcularTotalImpuesto()))])])]),e(r["a"],[e(s["a"],{attrs:{headers:t.headers,items:t.impuestos,"item-key":"id",dense:"","disable-sort":""},scopedSlots:t._u([{key:"item.index",fn:function({item:e,index:o}){return[t._v(" "+t._s(o+1)+" ")]}},{key:"item.porcentaje",fn:function({item:o}){return[t.noPorcentaje.includes(o.codigo)?t._e():e(n["a"],{attrs:{dense:"",type:"number",step:"0.01",prefix:"%",disabled:t.disabledImp({code:o.codigo})},model:{value:o.codigo01,callback:function(e){t.$set(o,"codigo01",e)},expression:"item.codigo01"}})]}},{key:"item.monto",fn:function({item:e}){return[t._v(" "+t._s(t.calcularImpuestos({item:e}))+" ")]}}],null,!0)})],1)],1)],1)],1):t._e()},d=[],u=(o("e9f5"),o("910d"),o("7d54"),o("54e1")),F={props:["amount","impuestos","index"],mixins:[u["a"]],data(){return{mostrar:!0,headers:[{text:"#",value:"index"},{text:"Código",value:"codigo"},{text:"Descripción",value:"descripcion"},{text:"Porcentaje",value:"porcentaje"},{text:"Monto",value:"monto"}],noPorcentaje:["04","01","02","10","11","12"],abierto:0}},methods:{calcularImpuestos({item:t=null}){let e=0;if("01"===t.codigo&&(e=parseFloat(this.$store.state.pricing.datosPrincipales.amount).toFixed(2)),"02"===t.codigo&&(e=parseFloat(this.$store.state.pricing.totalFlete).toFixed(2)),"03"===t.codigo&&(e=parseFloat((parseFloat(this.$store.state.pricing.totalFlete)+parseFloat(this.$store.state.pricing.datosPrincipales.amount))*t.codigo01/100).toFixed(2)),"04"===t.codigo){let t=parseFloat(this.$store.state.pricing.datosPrincipales.amount),o=parseFloat(this.$store.state.pricing.totalFlete),a=parseFloat((parseFloat(this.$store.state.pricing.totalFlete)+parseFloat(this.$store.state.pricing.datosPrincipales.amount))*this.obtenerPorcentaje({code:"03"})/100);e=parseFloat(t)+parseFloat(o)+parseFloat(a)}if("05"===t.codigo){let o=parseFloat(this.$store.state.pricing.datosPrincipales.amount),a=parseFloat(this.$store.state.pricing.totalFlete),s=parseFloat((parseFloat(this.$store.state.pricing.totalFlete)+parseFloat(this.$store.state.pricing.datosPrincipales.amount))*this.obtenerPorcentaje({code:"03"})/100),i=parseFloat(o)+parseFloat(a)+parseFloat(s);e=i*t.codigo01/100}if("06"===t.codigo){let o=parseFloat(this.$store.state.pricing.datosPrincipales.amount),a=parseFloat(this.$store.state.pricing.totalFlete),s=parseFloat((parseFloat(this.$store.state.pricing.totalFlete)+parseFloat(this.$store.state.pricing.datosPrincipales.amount))*this.obtenerPorcentaje({code:"03"})/100),i=parseFloat(o)+parseFloat(a)+parseFloat(s),r=i*this.obtenerPorcentaje({code:"05"})/100;e=(i+r)*t.codigo01/100}if("07"===t.codigo){let o=parseFloat(this.$store.state.pricing.datosPrincipales.amount),a=parseFloat(this.$store.state.pricing.totalFlete),s=parseFloat((parseFloat(this.$store.state.pricing.totalFlete)+parseFloat(this.$store.state.pricing.datosPrincipales.amount))*this.obtenerPorcentaje({code:"03"})/100),i=parseFloat(o)+parseFloat(a)+parseFloat(s),r=i*this.obtenerPorcentaje({code:"05"})/100,l=(i+r)*this.obtenerPorcentaje({code:"06"})/100;e=(i+r+l)*t.codigo01/100}if("08"===t.codigo){let o=parseFloat(this.$store.state.pricing.datosPrincipales.amount),a=parseFloat(this.$store.state.pricing.totalFlete),s=parseFloat((parseFloat(this.$store.state.pricing.totalFlete)+parseFloat(this.$store.state.pricing.datosPrincipales.amount))*this.obtenerPorcentaje({code:"03"})/100),i=parseFloat(o)+parseFloat(a)+parseFloat(s),r=i*this.obtenerPorcentaje({code:"05"})/100,l=(i+r)*this.obtenerPorcentaje({code:"06"})/100;e=(i+r+l)*t.codigo01/100}if("09"===t.codigo){let o=parseFloat(this.$store.state.pricing.datosPrincipales.amount),a=parseFloat(this.$store.state.pricing.totalFlete),s=parseFloat((parseFloat(this.$store.state.pricing.totalFlete)+parseFloat(this.$store.state.pricing.datosPrincipales.amount))*this.obtenerPorcentaje({code:"03"})/100),i=parseFloat(o)+parseFloat(a)+parseFloat(s),r=i*this.obtenerPorcentaje({code:"05"})/100,l=(i+r)*this.obtenerPorcentaje({code:"06"})/100,c=(i+r+l)*this.obtenerPorcentaje({code:"07"})/100,n=(i+r+l)*this.obtenerPorcentaje({code:"08"})/100;e=(i+r+l+n+c)*t.codigo01/100}return"10"===t.codigo&&(e=100),"11"===t.codigo&&(e=7),"12"===t.codigo&&(e=3),parseFloat(e).toFixed(2)},calcularTotalImpuesto(){let t=0,e=["05","06","07","08","09","10","11","12"];return this.impuestos.filter(t=>e.includes(t.codigo)).forEach(e=>{t+=parseFloat(this.calcularImpuestos({item:e}))}),this.currencyFormat(t)},obtenerPorcentaje({code:t=""}){let e=this.impuestos.filter(e=>e.codigo==t).length>0?this.impuestos.filter(e=>e.codigo==t)[0].codigo01:0;return e},disabledImp({code:t=""}){return!1}},computed:{actualizarCostosFlag(){return this.$store.state.pricing.actualizarCostosFlag}},watch:{impuestos(){this.calcularImpuestos(),this.abierto=0},actualizarCostosFlag(){setTimeout(()=>{this.mostrar=!this.mostrar,this.mostrar=!this.mostrar,this.abierto=0},120)},amount(){this.calcularImpuestos(),this.abierto=0}}},h=F,g=o("2877"),m=Object(g["a"])(h,p,d,!1,null,null,null);e["default"]=m.exports}}]);