(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d213ef3"],{af91:function(e,t,a){"use strict";a.r(t);var r=a("8336"),s=a("b0af"),i=a("99d9"),o=a("62ad"),l=a("a523"),n=a("8fea"),c=a("4bd4"),d=a("132d"),u=a("da13"),m=a("5d23"),h=a("f774"),p=a("8e36"),v=a("67b6"),w=a("43a6"),b=a("0fd9"),x=a("2fa4"),f=a("b73d"),g=a("8654"),y=function(){var e=this,t=e._self._c;return t(s["a"],{staticClass:"px-5",attrs:{fluid:""}},[e.loading?t(l["a"],{staticStyle:{height:"400px"}},[t(b["a"],{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[t(o["a"],{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[e._v(" Cargando información .... ")]),t(o["a"],{attrs:{cols:"6"}},[t(p["a"],{attrs:{color:"deep-purple accent-4",indeterminate:"",height:"6"}})],1)],1)],1):e._e(),e.loading?e._e():t(i["d"],[t(g["a"],{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t(x["a"]),t(r["a"],{attrs:{small:"",color:"success"},on:{click:function(t){return e.open_new()}}},[e._v(" Nuevo ")]),t(r["a"],{staticClass:"mx-1",attrs:{small:"",color:"#2962FF",dark:""},on:{click:function(t){return e.open_filter()}}},[e._v(" Fitrar ")]),t(r["a"],{staticClass:"mx-1",attrs:{small:"",color:"#004D40",dark:""}},[e._v(" Exportar ")])],1),e.loading?e._e():t(n["a"],{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.$store.state.containers.list,"item-key":"id",search:e.search},scopedSlots:e._u([{key:"item.calculoflag",fn:function({item:t}){return[e._v(" "+e._s(t.calculoflag?"Sí":"No")+" ")]}},{key:"item.status",fn:function({item:t}){return[e._v(" "+e._s(t.status?"Activo":"Inactivo")+" ")]}},{key:"item.action",fn:function({item:a}){return[t(r["a"],{attrs:{icon:""}},[t(d["a"],{attrs:{color:"primary"},on:{click:function(t){return e.open_read(a.id)}}},[e._v("mdi-eye")])],1),t(r["a"],{attrs:{icon:""}},[t(d["a"],{attrs:{color:"warning"},on:{click:function(t){return e.open_update(a.id)}}},[e._v("mdi-pencil")])],1),a.status?t(r["a"],{attrs:{icon:"",color:"red"},on:{click:function(t){return e.switch_status(a)}}},[t(d["a"],[e._v("mdi-delete")])],1):e._e()]}}],null,!0)}),t(h["a"],{attrs:{absolute:"",bottom:"",temporary:"",right:"",width:"30%",height:"100vh"},model:{value:e.showFilterDrawerNew,callback:function(t){e.showFilterDrawerNew=t},expression:"showFilterDrawerNew"}},[t(u["a"],[t(m["a"],[t(m["c"],{staticClass:"text-h6"},[e._v(" Nuevo Contenedor ")])],1)],1),t(x["a"]),t(l["a"],[t(i["c"],[t(c["a"],{ref:"formNew"},[t(b["a"],[t(g["a"],{attrs:{type:"text",label:"Nombre (*)",rules:[t=>e.validateFieldTextInForm(t,50,!1,"max")],"lazy-validation":"",clearable:""},model:{value:e.record.name,callback:function(t){e.$set(e.record,"name",t)},expression:"record.name"}})],1),t(b["a"],[t(g["a"],{attrs:{type:"text",label:"Descripción",rules:[t=>e.validateFieldTextInForm(t,50,!0,"max")],"lazy-validation":"",clearable:""},model:{value:e.record.description,callback:function(t){e.$set(e.record,"description",t)},expression:"record.description"}})],1),t(b["a"],[t(g["a"],{attrs:{type:"number",label:"Largo (*)",rules:[t=>e.validateNumber(t)],"lazy-validation":"",clearable:""},model:{value:e.record.long,callback:function(t){e.$set(e.record,"long",t)},expression:"record.long"}})],1),t(b["a"],[t(g["a"],{attrs:{type:"number",label:"Ancho (*)",rules:[t=>e.validateNumber(t)],"lazy-validation":"",clearable:""},model:{value:e.record.width,callback:function(t){e.$set(e.record,"width",t)},expression:"record.width"}})],1),t(b["a"],[t(g["a"],{attrs:{type:"number",label:"Altura (*)",rules:[t=>e.validateNumber(t)],"lazy-validation":"",clearable:""},model:{value:e.record.height,callback:function(t){e.$set(e.record,"height",t)},expression:"record.height"}})],1),t(b["a"],[t(g["a"],{attrs:{type:"number",label:"Peso Máximo (*)",rules:[t=>e.validateNumber(t)],"lazy-validation":"",clearable:""},model:{value:e.record.maximumweight,callback:function(t){e.$set(e.record,"maximumweight",t)},expression:"record.maximumweight"}})],1),t(b["a"],[t(g["a"],{attrs:{type:"number",label:"Volumen Máximo (*)",rules:[t=>e.validateNumber(t)],"lazy-validation":"",clearable:""},model:{value:e.record.maximunvolumen,callback:function(t){e.$set(e.record,"maximunvolumen",t)},expression:"record.maximunvolumen"}})],1)],1),t(b["a"],[t(f["a"],{attrs:{dense:"",label:"Estado: "+(e.record.status?"Activo":"Inactivo"),"hide-details":"",color:"success"},on:{change:e.updateStatus},model:{value:e.record.status,callback:function(t){e.$set(e.record,"status",t)},expression:"record.status"}})],1)],1)],1),t(l["a"],[t(i["a"],{staticClass:"justify-end mt-3"},[t(r["a"],{staticClass:"mx-1",attrs:{small:"",color:"success"},on:{click:function(t){return e.submit_insert()}}},[e._v(" Aceptar ")]),t(r["a"],{staticClass:"mx-1",attrs:{small:"",dark:"",color:"warning"},on:{click:function(t){e.showFilterDrawerNew=!e.showFilterDrawerNew}}},[e._v(" Cerrar ")])],1)],1)],1),t(h["a"],{attrs:{height:"100vh",absolute:"",bottom:"",temporary:"",right:"",width:"30%"},model:{value:e.showFilterDrawerRead,callback:function(t){e.showFilterDrawerRead=t},expression:"showFilterDrawerRead"}},[e.loading_as?e._e():t(l["a"],[t(u["a"],{staticClass:"px-0"},[t(m["a"],[t(m["c"],{staticClass:"text-h6"},[e._v(" Ver: "+e._s(e.$store.state.containers.record.name)+" ")])],1)],1),t(x["a"]),t(i["c"],[t(b["a"],[t(g["a"],{attrs:{label:"Código",readonly:"",value:e.$store.state.containers.record.code}})],1),t(b["a"],[t(g["a"],{attrs:{label:"Nombre",readonly:"",value:e.$store.state.containers.record.name}})],1),t(b["a"],[t(g["a"],{attrs:{label:"Descripción",readonly:"",value:e.$store.state.containers.record.description}})],1),t(b["a"],[t(g["a"],{attrs:{label:"Largo",readonly:"",value:e.$store.state.containers.record.long}})],1),t(b["a"],[t(g["a"],{attrs:{label:"Ancho",readonly:"",value:e.$store.state.containers.record.width}})],1),t(b["a"],[t(g["a"],{attrs:{label:"Altura",readonly:"",value:e.$store.state.containers.record.height}})],1),t(b["a"],[t(g["a"],{attrs:{label:"Peso Máximo",readonly:"",value:e.$store.state.containers.record.maximumweight}})],1),t(b["a"],[t(g["a"],{attrs:{label:"Volumen Máximo",readonly:"",value:e.$store.state.containers.record.maximunvolumen}})],1),t(b["a"],[t(f["a"],{attrs:{readonly:"",label:"Estado: "+(e.$store.state.containers.record.status?"Activo":"Inactivo"),color:"success"},model:{value:e.$store.state.containers.record.status,callback:function(t){e.$set(e.$store.state.containers.record,"status",t)},expression:"$store.state.containers.record.status"}})],1)],1),t(i["a"],{staticClass:"justify-end mt-3"},[t(r["a"],{staticClass:"mx-1",attrs:{small:"",dark:"",color:"warning"},on:{click:function(t){e.showFilterDrawerRead=!e.showFilterDrawerRead}}},[e._v(" Cerrar ")])],1)],1),e.loading_as?t(l["a"],{staticStyle:{height:"400px"}},[t(b["a"],{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[t(o["a"],{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[e._v(" Cargando información .... ")]),t(o["a"],{attrs:{cols:"6"}},[t(p["a"],{attrs:{color:"deep-purple accent-4",indeterminate:"",height:"6"}})],1)],1)],1):e._e()],1),t(h["a"],{attrs:{absolute:"",bottom:"",temporary:"",right:"",width:"30%",height:"100vh"},model:{value:e.showFilterDrawerUpdate,callback:function(t){e.showFilterDrawerUpdate=t},expression:"showFilterDrawerUpdate"}},[e.loading_as?e._e():t(l["a"],[t(u["a"],{staticClass:"px-0"},[t(m["a"],[t(m["c"],{staticClass:"text-h6"},[e._v(" Modificar: "+e._s(e.$store.state.containers.record.name)+" ")])],1)],1),t(x["a"]),t(i["c"],[t(b["a"],[t(g["a"],{attrs:{type:"text",label:"Código",readonly:""},model:{value:e.$store.state.containers.record.code,callback:function(t){e.$set(e.$store.state.containers.record,"code",t)},expression:"$store.state.containers.record.code"}})],1),t(c["a"],{ref:"form"},[t(b["a"],[t(g["a"],{attrs:{type:"text",label:"Nombre (*)",rules:[t=>e.validateFieldTextInForm(t,50,!1,"max")],"lazy-validation":"",clearable:""},model:{value:e.record.name,callback:function(t){e.$set(e.record,"name",t)},expression:"record.name"}})],1),t(b["a"],[t(g["a"],{attrs:{type:"text",label:"Descripción",rules:[t=>e.validateFieldTextInForm(t,50,!0,"max")],"lazy-validation":"",clearable:""},model:{value:e.record.description,callback:function(t){e.$set(e.record,"description",t)},expression:"record.description"}})],1),t(b["a"],[t(g["a"],{attrs:{type:"number",label:"Largo (*)",rules:[t=>e.validateNumber(t)],"lazy-validation":"",clearable:""},model:{value:e.record.long,callback:function(t){e.$set(e.record,"long",t)},expression:"record.long"}})],1),t(b["a"],[t(g["a"],{attrs:{type:"number",label:"Ancho (*)",rules:[t=>e.validateNumber(t)],"lazy-validation":"",clearable:""},model:{value:e.record.width,callback:function(t){e.$set(e.record,"width",t)},expression:"record.width"}})],1),t(b["a"],[t(g["a"],{attrs:{type:"number",label:"Altura (*)",rules:[t=>e.validateNumber(t)],"lazy-validation":"",clearable:""},model:{value:e.record.height,callback:function(t){e.$set(e.record,"height",t)},expression:"record.height"}})],1),t(b["a"],[t(g["a"],{attrs:{type:"number",label:"Peso Máximo (*)",rules:[t=>e.validateNumber(t)],"lazy-validation":"",clearable:""},model:{value:e.record.maximumweight,callback:function(t){e.$set(e.record,"maximumweight",t)},expression:"record.maximumweight"}})],1),t(b["a"],[t(g["a"],{attrs:{type:"number",label:"Volumen Máximo (*)",rules:[t=>e.validateNumber(t)],"lazy-validation":"",clearable:""},model:{value:e.record.maximunvolumen,callback:function(t){e.$set(e.record,"maximunvolumen",t)},expression:"record.maximunvolumen"}})],1)],1),t(b["a"],[t(f["a"],{attrs:{label:"Estado: "+(e.record.status?"Activo":"Inactivo"),color:"success"},on:{change:e.updateStatus},model:{value:e.record.status,callback:function(t){e.$set(e.record,"status",t)},expression:"record.status"}})],1)],1),t(i["a"],{staticClass:"justify-end mt-3"},[t(r["a"],{staticClass:"mx-1",attrs:{color:"success"},on:{click:e.submit_update}},[e._v(" Aceptar ")]),t(r["a"],{staticClass:"mx-1",attrs:{dark:"",color:"warning"},on:{click:function(t){e.showFilterDrawerUpdate=!e.showFilterDrawerUpdate}}},[e._v(" Cerrar ")])],1)],1),e.loading_as?t(l["a"],{staticStyle:{height:"400px"}},[t(b["a"],{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[t(o["a"],{staticClass:"text-subtitle-1 text-center",attrs:{cols:"12"}},[e._v(" Cargando información .... ")]),t(o["a"],{attrs:{cols:"6"}},[t(p["a"],{attrs:{color:"deep-purple accent-4",indeterminate:"",height:"6"}})],1)],1)],1):e._e()],1),t(h["a"],{attrs:{absolute:"",bottom:"",temporary:"",right:"",width:"30%",height:"100vh"},model:{value:e.showFilterDrawer,callback:function(t){e.showFilterDrawer=t},expression:"showFilterDrawer"}},[t(u["a"],[t(m["a"],[t(m["c"],{staticClass:"text-h6"},[e._v(" Filtrar Registros ")])],1)],1),t(x["a"]),t(l["a"],[t(i["c"],[t(b["a"],[t(g["a"],{attrs:{label:"Código",clearable:""},model:{value:e.records.code,callback:function(t){e.$set(e.records,"code",t)},expression:"records.code"}})],1),t(b["a"],[t(g["a"],{attrs:{label:"Nombre",clearable:""},model:{value:e.records.name,callback:function(t){e.$set(e.records,"name",t)},expression:"records.name"}})],1),t(b["a"],[t(g["a"],{attrs:{label:"Descripción",clearable:""},model:{value:e.records.description,callback:function(t){e.$set(e.records,"description",t)},expression:"records.description"}})],1),t(b["a"],[t(w["a"],{attrs:{row:"",dense:""},model:{value:e.records.status,callback:function(t){e.$set(e.records,"status",t)},expression:"records.status"}},[t(v["a"],{attrs:{label:"Activo",color:"green",value:1}}),t(v["a"],{attrs:{label:"Inactivo",color:"red",value:0}}),t(v["a"],{attrs:{label:"Todos",color:"blue",value:"null"}})],1)],1)],1)],1),t(l["a"],[t(i["a"],{staticClass:"justify-end mt-3"},[t(r["a"],{staticClass:"mx-1",attrs:{color:"success"},on:{click:function(t){return e.submit_filter()}}},[e._v(" Aceptar ")]),t(r["a"],{staticClass:"mx-1",attrs:{color:"ligth"},on:{click:function(t){return e.resetRecord("filter")}}},[e._v(" Limpiar ")]),t(r["a"],{staticClass:"mx-1",attrs:{dark:"",color:"warning"},on:{click:function(t){e.showFilterDrawer=!e.showFilterDrawer}}},[e._v(" Cerrar ")])],1)],1)],1)],1)},_=[],C=a("2f62"),k=a("3d20"),F=a.n(k),$={name:"ListContainerComponent",data(){return{headers:[{text:"Código",align:"start",value:"code"},{text:"Nombre",value:"name"},{text:"Descripción",value:"description"},{text:"Largo",value:"long"},{text:"Ancho",value:"width"},{text:"Altura",value:"height"},{text:"Peso Máximo",value:"maximumweight"},{text:"Volumen Máximo",value:"maximunvolumen"},{text:"Estado",value:"status"},{text:"Creación",value:"created_at"},{text:"Última Actualización",value:"updated_at"},{text:"Acciones",value:"action"}],loading:!0,loading_as:!0,item:"",search:"",records:{code:"",name:"",description:"",status:1},record:{id_branch:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch,name:"",description:"",long:null,width:null,height:null,maximumweight:null,maximunvolumen:null,status:1},originalRecord:{},originalRecords:{},showFilterDrawerNew:!1,showFilterDrawerRead:!1,showFilterDrawerUpdate:!1,showFilterDrawer:!1,id:""}},created(){this.originalRecord={...this.record},this.originalRecords={...this.records}},async mounted(){await this.fetchDataContainers(this.records),this.$store.state.mainTitle="Tipo de Contenedor"},methods:{...Object(C["b"])(["fetchDataContainers","insertContainers","readContainers","updateContainers"]),updateStatus(e){this.record.status=e?1:0},async resetRecord(e){"filter"==e?(this.records={...this.originalRecords},await this.fetchDataContainers(this.records),this.showFilterDrawer=!1):this.record={...this.originalRecord},await this.fetchDataContainers(this.records),this.showFilterDrawer=!1},async reset_records(){this.resetRecord("filter"),this.submit_filter()},async switch_status(e){F.a.fire({title:"¿Estás seguro?",text:"Si inactiva el registro, éste no aparecerá disponible en otros formularios ¿Está seguro de que desea inactivarlo?",confirmButtonColor:"red",icon:"question",showCancelButton:!0,confirmButtonText:"Sí, inactivar",cancelButtonColor:"orange",cancelButtonText:"Cancelar"}).then(async t=>{t.isConfirmed&&(e.status=0,this.resetRecord("filter"),await this.updateContainers(e),await this.reset_records())})},resetForms(){this.$refs.formNew&&this.$refs.formNew.reset(),this.$refs.form&&this.$refs.form.reset()},open_new(){this.resetRecord(),this.resetForms(),this.showFilterDrawerNew=!this.showFilterDrawerNew},open_filter(){this.showFilterDrawer=!this.showFilterDrawer},async open_read(e){this.loading_as=!0,this.showFilterDrawerRead=!this.showFilterDrawerRead,await this.readContainers(e)},async open_update(e){this.loading_as=!0,this.resetRecord(),this.resetForms(),this.showFilterDrawerUpdate=!this.showFilterDrawerUpdate,await this.readContainers(e),this.id=e},async submit_insert(){this.$refs.formNew.validate()&&(this.resetRecord("filter"),await this.insertContainers(this.record))},async submit_update(){if(this.$refs.form.validate()){let e={id:this.id,name:this.record.name,description:this.record.description,long:this.record.long,width:this.record.width,height:this.record.height,maximumweight:this.record.maximumweight,maximunvolumen:this.record.maximunvolumen,status:this.record.status};this.resetRecord("filter"),await this.updateContainers(e)}},async submit_filter(){let e={...this.records};e.status="null"==e.status?"":e.status,null===e.code&&(e.code=""),null===e.name&&(e.name=""),null===e.description&&(e.description=""),await this.fetchDataContainers(e),this.showFilterDrawer=!1},validateNumber(e){const t=/^(0|[1-9]\d*)(\.\d{1,2})?$/;return e?!!t.test(e)||"El campo debe ser un número positivo de hasta 2 decimales.":"El campo es requerido"},validateFieldTextInForm(e,t,a,r){return e||a?"max"==r&&e&&e.length>t?`El campo permite hasta ${t} caracteres`:"equal"!=r||!e||e.length===t||`El campo debe tener ${t} caracteres`:"El campo es requerido"}},computed:{...Object(C["c"])(["list"])},watch:{"$store.state.containers.record":{handler(e,t){if(e&&Object.keys(e).length>0){const{name:t,description:a,long:r,width:s,height:i,maximumweight:o,maximunvolumen:l,status:n}=e;this.record={name:t,description:a,long:r,width:s,height:i,maximumweight:o,maximunvolumen:l,status:n},this.loading_as=!1}},immediate:!0},"$store.state.containers.loading":{handler(e,t){this.loading=1!=e},immediate:!0}}},D=$,N=a("2877"),R=Object(N["a"])(D,y,_,!1,null,null,null);t["default"]=R.exports}}]);