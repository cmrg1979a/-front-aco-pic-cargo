(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cd92fa2e"],{1633:function(e,t,o){"use strict";var a=o("c6a6"),i=o("8336"),s=o("b0af"),r=o("99d9"),n=o("62ad"),l=o("23a7"),c=o("4bd4"),d=o("0fd9"),u=o("2fa4"),m=o("e0c7"),p=o("8654"),f=function(){var e=this,t=e._self._c;return t(s["a"],[t(r["c"],[t(c["a"],{ref:"formProv_datosProveedor",attrs:{readonly:e.isFormReadonly}},[t(d["a"],[t(n["a"],{attrs:{cols:"12"}},[t(d["a"],[t(n["a"],{attrs:{cols:"12"}},[t("CustomAutocomplete",{attrs:{items:e.$store.state.entities.lstProveedores_x_nombre,label:"Nombre Comercial o Razón Social",value:e.$store.state.entities.proveedor.nombrecompleto,loading:e.isNombreLoading,rules:[e=>!!e||"Dato Requerido"],disabled:!1},on:{search:e.handleNombre,id:e.handleEditarProveedor}})],1)],1),t(d["a"],[t(n["a"],{attrs:{cols:"6"}},[t(a["a"],{attrs:{dense:"",items:e.$store.state.itemsDataRoleList,"item-text":"name","item-value":"id",label:"Tipo de Proveedor",rules:[e=>!!e||"Dato Requerido"]},model:{value:e.$store.state.entities.proveedor.id_tipoproveedor,callback:function(t){e.$set(e.$store.state.entities.proveedor,"id_tipoproveedor",t)},expression:"$store.state.entities.proveedor.id_tipoproveedor"}})],1),t(n["a"],{attrs:{cols:"6"}},[t(a["a"],{attrs:{dense:"",items:e.$store.state.masterusuarios.lstTipoTransaccion,"item-text":"descripcion","item-value":"id",label:"Nacional / Extranjero",rules:[e=>!!e||"Dato Requerido"]},model:{value:e.$store.state.entities.proveedor.id_tipotransaccion,callback:function(t){e.$set(e.$store.state.entities.proveedor,"id_tipotransaccion",t)},expression:"$store.state.entities.proveedor.id_tipotransaccion"}})],1)],1),t(d["a"],[t(n["a"],{attrs:{cols:"6"}},[t(a["a"],{attrs:{dense:"",items:e.$store.state.itemsDocumentsPais,"item-text":"description","item-value":"id",label:"Tipo de Documento Fiscal"},model:{value:e.$store.state.entities.proveedor.id_tipodocumento,callback:function(t){e.$set(e.$store.state.entities.proveedor,"id_tipodocumento",t)},expression:"$store.state.entities.proveedor.id_tipodocumento"}})],1),t(n["a"],{attrs:{cols:"6"}},[t("CustomAutocomplete",{attrs:{items:e.$store.state.entities.lstProveedores_x_documento,label:"Nro De Documento",value:e.$store.state.entities.proveedor.nro_documento,loading:e.isDocumentoLoading,disabled:e.isNroDocumentoDisabled},on:{search:e.handleDocumento,id:e.handleEditarProveedor}})],1)],1),t(d["a"],[t(n["a"],{attrs:{cols:"6"}},[t(a["a"],{attrs:{dense:"","item-text":"name","item-value":"id",items:e.$store.state.itemsPais,label:"País",rules:[e=>!!e||"Dato Requerido"]},on:{change:function(t){return e._getState(e.$store.state.entities.proveedor.id_pais)}},model:{value:e.$store.state.entities.proveedor.id_pais,callback:function(t){e.$set(e.$store.state.entities.proveedor,"id_pais",t)},expression:"$store.state.entities.proveedor.id_pais"}})],1),t(n["a"],{attrs:{cols:"6"}},[t(a["a"],{attrs:{dense:"",items:e.$store.state.itemsState,"item-text":"name","item-value":"id",label:"Región / Estado"},model:{value:e.$store.state.entities.proveedor.id_ciudad,callback:function(t){e.$set(e.$store.state.entities.proveedor,"id_ciudad",t)},expression:"$store.state.entities.proveedor.id_ciudad"}})],1)],1),t(d["a"],[t(n["a"],{attrs:{cols:"12"}},[t(p["a"],{attrs:{dense:"",label:"Dirección"},model:{value:e.$store.state.entities.proveedor.direccion,callback:function(t){e.$set(e.$store.state.entities.proveedor,"direccion",t)},expression:"$store.state.entities.proveedor.direccion"}})],1)],1),t(d["a"],[t(n["a"],{attrs:{cols:"12"}},[t(p["a"],{attrs:{dense:"",label:"Correo Electrónico",rules:[t=>e.validarCorreoElectronico(t)],"error-messages":e.correoErrors},model:{value:e.$store.state.entities.proveedor.emailaddress,callback:function(t){e.$set(e.$store.state.entities.proveedor,"emailaddress",t)},expression:"$store.state.entities.proveedor.emailaddress"}})],1)],1),t(m["a"],{staticClass:"px-0"},[e._v(" Convenio Actual "),t(u["a"]),e.showFormActions?t(l["a"],{staticClass:"customFile",attrs:{accept:".xlsx,.xls,.doc,.docx,.ppt,.pptx,.txt,.pdf,.gif,.jpg,.jpeg,.png",label:"Adjuntar Archivo","hide-input":""},on:{change:e.subirArchivoConvenio},model:{value:e.fileinput,callback:function(t){e.fileinput=t},expression:"fileinput"}}):e._e()],1),t(d["a"],{staticClass:"pl-5"},[t(n["a"],{attrs:{cols:"4"}},[t(p["a"],{attrs:{dense:"",type:"number",suffix:"días",label:"Días de Crédito para el Pago",rules:[e=>e>=0||"Debe ser un número entero positivo"]},on:{change:e.validarConvenioActual},model:{value:e.$store.state.entities.proveedor.convenioActual.dias_credito,callback:function(t){e.$set(e.$store.state.entities.proveedor.convenioActual,"dias_credito",t)},expression:"\n                  $store.state.entities.proveedor.convenioActual.dias_credito\n                "}})],1),t(n["a"],{attrs:{cols:"4"}},[t(p["a"],{attrs:{dense:"",type:"date",label:"Fecha Convenio"},on:{change:e.validarConvenioActual},model:{value:e.$store.state.entities.proveedor.convenioActual.fecha,callback:function(t){e.$set(e.$store.state.entities.proveedor.convenioActual,"fecha",t)},expression:"$store.state.entities.proveedor.convenioActual.fecha"}})],1),t(n["a"],{attrs:{cols:"4"}},[t(p["a"],{attrs:{dense:"",label:"Email Soporte",rules:[t=>e.validarCorreoElectronico(t)],"error-messages":e.correoConvenioActualErrors},on:{change:e.validarConvenioActual},model:{value:e.$store.state.entities.proveedor.convenioActual.email_soporte,callback:function(t){e.$set(e.$store.state.entities.proveedor.convenioActual,"email_soporte",t)},expression:"\n                  $store.state.entities.proveedor.convenioActual.email_soporte\n                "}})],1)],1),t(m["a"],{staticClass:"px-0"},[e._v("Teléfono")]),t(d["a"],{staticClass:"pl-5"},[t(n["a"],{attrs:{cols:"6"}},[t(a["a"],{attrs:{dense:"",items:e.$store.state.masterusuarios.lstTipoTelefono,"item-text":"descripcion","item-value":"id",label:"Tipo de Teléfono"},on:{change:e.validarTelefonoActual},model:{value:e.$store.state.entities.proveedor.telefonoActual.id_tipotelefono,callback:function(t){e.$set(e.$store.state.entities.proveedor.telefonoActual,"id_tipotelefono",t)},expression:"\n                  $store.state.entities.proveedor.telefonoActual\n                    .id_tipotelefono\n                "}})],1),t(n["a"],{attrs:{cols:"6"}},[t(p["a"],{attrs:{dense:"",label:"Teléfono"},on:{change:e.validarTelefonoActual},model:{value:e.$store.state.entities.proveedor.telefonoActual.telefono,callback:function(t){e.$set(e.$store.state.entities.proveedor.telefonoActual,"telefono",t)},expression:"\n                  $store.state.entities.proveedor.telefonoActual.telefono\n                "}})],1)],1),t(m["a"],{staticClass:"px-0"},[e._v("Contacto")]),t(d["a"],{staticClass:"pl-5"},[t(n["a"],{attrs:{cols:"4"}},[t(p["a"],{attrs:{dense:"",label:"Nombre"},on:{change:e.validarContactoActual},model:{value:e.$store.state.entities.proveedor.contactoActual.nombre,callback:function(t){e.$set(e.$store.state.entities.proveedor.contactoActual,"nombre",t)},expression:"\n                  $store.state.entities.proveedor.contactoActual.nombre\n                "}})],1),t(n["a"],{attrs:{cols:"4"}},[t(a["a"],{attrs:{dense:"",items:e.$store.state.masterusuarios.lstTipoTelefono,"item-text":"descripcion","item-value":"id",label:"Tipo de Teléfono"},on:{change:e.validarContactoActual},model:{value:e.$store.state.entities.proveedor.contactoActual.id_tipotelefono,callback:function(t){e.$set(e.$store.state.entities.proveedor.contactoActual,"id_tipotelefono",t)},expression:"\n                  $store.state.entities.proveedor.contactoActual\n                    .id_tipotelefono\n                "}})],1),t(n["a"],{attrs:{cols:"4"}},[t(p["a"],{attrs:{dense:"",label:"Teléfono"},on:{change:e.validarContactoActual},model:{value:e.$store.state.entities.proveedor.contactoActual.telefono,callback:function(t){e.$set(e.$store.state.entities.proveedor.contactoActual,"telefono",t)},expression:"\n                  $store.state.entities.proveedor.contactoActual.telefono\n                "}})],1)],1),t(d["a"],[t(n["a"],{attrs:{cols:"12"}},[t(p["a"],{attrs:{dense:"",textarea:"",label:"Producto que vende",rules:[t=>e.validarProducto(t)],"error-messages":e.productoErrors,disabled:e.isProductoDisabled},model:{value:e.$store.state.entities.proveedor.producto,callback:function(t){e.$set(e.$store.state.entities.proveedor,"producto",t)},expression:"$store.state.entities.proveedor.producto"}})],1)],1),t(d["a"],{directives:[{name:"show",rawName:"v-show",value:e.showDiasSobreestadia,expression:"showDiasSobreestadia"}]},[t(n["a"],{attrs:{cols:"6"}},[t(p["a"],{attrs:{dense:"",type:"number",label:"Días Libres de Sobreestadía",rules:[e=>e>=0||"Debe ser un número entero positivo"]},model:{value:e.$store.state.entities.proveedor.dias_sobreestadia,callback:function(t){e.$set(e.$store.state.entities.proveedor,"dias_sobreestadia",t)},expression:"$store.state.entities.proveedor.dias_sobreestadia"}})],1)],1),t(d["a"],{directives:[{name:"show",rawName:"v-show",value:e.showDiasAlmacenaje,expression:"showDiasAlmacenaje"}]},[t(n["a"],{attrs:{cols:"6"}},[t(p["a"],{attrs:{dense:"",type:"number",label:"Días Libres de Almacenaje",rules:[e=>e>=0||"Debe ser un número entero positivo"]},model:{value:e.$store.state.entities.proveedor.dias_almacenaje,callback:function(t){e.$set(e.$store.state.entities.proveedor,"dias_almacenaje",t)},expression:"$store.state.entities.proveedor.dias_almacenaje"}})],1)],1),t(d["a"],[t(n["a"],{attrs:{cols:"12"}},[t(p["a"],{attrs:{dense:"",textarea:"",label:"Comentarios / Notas Importantes"},model:{value:e.$store.state.entities.proveedor.notas,callback:function(t){e.$set(e.$store.state.entities.proveedor,"notas",t)},expression:"$store.state.entities.proveedor.notas"}})],1)],1)],1)],1)],1)],1),e.showNavigationButtons?t(r["a"],[t(i["a"],{staticClass:"ml-auto",attrs:{color:"primary"},on:{click:e.validarFormulario}},[e._v("Continuar")])],1):e._e()],1)},v=[],h=(o("14d9"),o("e9f5"),o("ab43"),o("a732"),o("2f62")),$=o("338c"),_={name:"SeccionProveedor",components:{CustomAutocomplete:$["a"]},props:{isPricing:{type:Boolean,default:!1}},data(){return{showNombreCompleto:!0,showNombreFiscal:!1,telefonoErrors:"",correoErrors:"",correoConvenioActualErrors:"",productoErrors:"",isAutocompleteLoading:!1,fileinput:null,isFileLoading:!1,isNombreLoading:!1,isDocumentoLoading:!1}},computed:{isNroDocumentoDisabled(){return!this.$store.state.entities.proveedor.id_tipodocumento},isProductoDisabled(){return!this.isShipper()},isFormReadonly(){return this.$store.state.entities.isReadonly},showFormActions(){return!this.$store.state.entities.isReadonly},showNavigationButtons(){return!(this.$store.state.entities.isEdit||this.$store.state.entities.isReadonly)},showDiasSobreestadia(){return this.isNaviera()},showDiasAlmacenaje(){return this.isAlmacen()}},methods:{...Object(h["b"])(["_getState","cargarClientes","validarNombreProveedor","validarDocumentoProveedor","_uploadFile"]),isShipper(){let e=this.$store.state.itemsDataRoleList.some(e=>{const t=(e.name.split("-")[1]||"").trim().toUpperCase();return e.id==this.$store.state.entities.proveedor.id_tipoproveedor&&"SHIPPER"==t});return e},isNaviera(){let e=this.$store.state.itemsDataRoleList.some(e=>{const t=(e.name.split("-")[1]||"").trim().toUpperCase();return e.id==this.$store.state.entities.proveedor.id_tipoproveedor&&"NAVIERA"==t});return e},isAlmacen(){let e=this.$store.state.itemsDataRoleList.some(e=>{const t=(e.name.split("-")[1]||"").trim().toUpperCase();return e.id==this.$store.state.entities.proveedor.id_tipoproveedor&&"ALMACEN"==t});return e},async handleNombre(e){var t=this;t.$store.state.entities.lstProveedores_x_nombre=[],t.$store.state.entities.proveedor.nombrecompleto=e,t.$store.state.entities.proveedor.nombrecompleto&&(t.isNombreLoading=!0,await this.validarNombreProveedor(),t.isNombreLoading=!1)},async handleDocumento(e){var t=this;t.$store.state.entities.lstProveedores_x_documento=[],t.$store.state.entities.proveedor.nro_documento=e,t.$store.state.entities.proveedor.nro_documento&&(t.isDocumentoLoading=!0,await this.validarDocumentoProveedor(),t.isDocumentoLoading=!1)},async handleEditarProveedor(e){e&&this.$swal({icon:"question",html:"<b>¿Desea cargar los datos del proveedor seleccionado?</b>",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then(t=>{t.isConfirmed&&(this.isPricing?this.$emit("ObtenerProveedor",e):(this.$router.push({name:"editarProveedor",params:{id:e}}),setTimeout(()=>window.location.reload(),10)))})},validarCorreoElectronico(e){return!(e&&!/^(([^<>()[\]\\.,;:\s@']+(\.[^<>()\\[\]\\.,;:\s@']+)*)|('.+'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e))||"Debe ingresar un correo electrónico válido"},validarProducto(e){var t=this;return!(t.isShipper()&&!e)||"Dato Requerido"},validarConvenioActual(){var e=this;const{convenioActual:t}=e.$store.state.entities.proveedor;t.dias_credito>0&&(t.fecha?-1===e.$store.state.entities.lstConvenios.indexOf(t)&&e.$store.state.entities.lstConvenios.push(t):e.$swal({icon:"info",text:"Si desea agregar como convenio actual, es necesario llenar la fecha del convenio"}))},validarTelefonoActual(){var e=this;const{telefonoActual:t}=e.$store.state.entities.proveedor;if(t.id_tipotelefono&&t.telefono){const o=e.$store.state.entities.lstTelefonos.findIndex(e=>e.id_tipotelefono==t.id_tipotelefono&&e.telefono==t.telefono);-1===o&&e.$store.state.entities.lstTelefonos.push(t)}},validarContactoActual(){var e=this;const{contactoActual:t}=e.$store.state.entities.proveedor;if(t.nombre&&t.id_tipotelefono&&t.telefono){const o=e.$store.state.entities.lstContactos.findIndex(e=>e.nombre==t.nombre&&e.id_tipotelefono==t.id_tipotelefono&&e.telefono==t.telefono);-1===o&&e.$store.state.entities.lstContactos.push(t)}},async subirArchivoConvenio(){var e=this;e.fileinput&&(e.isFileLoading=!0,await e._uploadFile(e.fileinput),e.isFileLoading=!1,e.$store.state.files.payPath?(e.$swal({icon:"success",text:"Archivo cargado"}),e.$store.state.entities.lstConvenios.map(t=>(t.id==e.$store.state.entities.proveedor.convenioActual.id&&(t["id_path"]=e.$store.state.files.payPath),t))):e.$swal({icon:"error",text:"Comuníquese con el administrador"}))},validarFormulario(){var e=this;e.$refs.formProv_datosProveedor.validate()&&(e.validarConvenioActual(),e.validarTelefonoActual(),e.validarContactoActual(),e.$store.state.entities.stepper=2)}},async mounted(){await this.cargarClientes(),console.log("isPricing",this.isPricing)},watch:{"$store.state.entities.isStep1Valid":{handler(e){e||this.$refs.formProv_datosProveedor.validate()},immediate:!0}}},b=_,x=(o("d9c9"),o("2877")),g=Object(x["a"])(b,f,v,!1,null,null,null);t["a"]=g.exports},"25b1":function(e,t,o){},"338c":function(e,t,o){"use strict";var a=o("8860"),i=o("da13"),s=o("5d23"),r=o("1baa"),n=o("8654"),l=o("a293"),c=function(){var e=this,t=e._self._c;return t("div",{directives:[{def:l["a"],name:"click-outside",rawName:"v-click-outside",value:e.clickOutsideList,expression:"clickOutsideList"}],staticClass:"customAutocomplete-container"},[t(n["a"],{attrs:{dense:"",label:e.label,loading:e.loading,rules:e.rules,disabled:e.disabled},on:{focus:e.showList},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t(a["a"],{directives:[{name:"show",rawName:"v-show",value:e.showOptionsList,expression:"showOptionsList"}],staticClass:"customAutocomplete elevation-1",attrs:{dense:""}},[e._l(e.items,(function(o,a){return e.items.length>0&&!e.loading?[t(r["a"],[t(i["a"],{key:a,on:{click:function(t){return e.selectItem(o.id)}}},[t(s["a"],[t(s["c"],[e._v(" "+e._s(o.telefono?o.nombrecompleto.concat(" - ",o.telefono):o.nombrecompleto)+" ")])],1)],1)],1)]:e._e()}))],2)],1)},d=[],u={name:"CustomAutocomplete",props:{items:Array,loading:Boolean,label:String,value:String,rules:Array,disabled:Boolean},data(){return{showOptionsList:!0}},computed:{search:{get(){return this.value},set(e){this.$emit("search",e)}}},methods:{showList(e){this.showOptionsList=!0},hideList(e){this.showOptionsList=!1},clickOutsideList(){this.hideList()},selectItem(e){this.$emit("id",e)}}},m=u,p=(o("cbe1"),o("2877")),f=Object(p["a"])(m,c,d,!1,null,null,null);t["a"]=f.exports},"77d8":function(e,t,o){"use strict";var a=o("c6a6"),i=o("8336"),s=o("b0af"),r=o("99d9"),n=o("62ad"),l=o("8fea"),c=o("4bd4"),d=o("132d"),u=o("0fd9"),m=o("e0c7"),p=o("8654"),f=function(){var e=this,t=e._self._c;return t(s["a"],[t(r["c"],{staticClass:"px-2"},[t(m["a"],{staticClass:"px-0"},[t("b",[e._v("Información Bancaria")]),e.showFormActions?[t(i["a"],{staticClass:"ml-auto",attrs:{color:"primary",rounded:"",small:""},on:{click:function(t){return e.agregarCuentaBancaria()}}},[e._v("Agregar Cuenta")])]:e._e()],2),t(u["a"],[t(n["a"],{attrs:{cols:"12"}},[t(c["a"],{ref:"formProv_informacionBancaria",attrs:{readonly:e.isFormReadonly}},[t(l["a"],{staticClass:"elevation-5",attrs:{headers:e.isInternacional()?e.headersInformacionBancaria2:e.headersInformacionBancaria1,items:e.$store.state.entities.lstInformacionBancaria,"item-key":"index"},scopedSlots:e._u([{key:"item.nrocuenta",fn:function({item:o}){return[t(p["a"],{attrs:{rules:[e=>!!e||"Dato Requerido"],placeholder:"Nro Cuenta"},model:{value:o.nro_cuenta,callback:function(t){e.$set(o,"nro_cuenta",t)},expression:"item.nro_cuenta"}})]}},{key:"item.cci",fn:function({item:o}){return[t(p["a"],{attrs:{rules:[e=>!!e||"Dato Requerido"],placeholder:"CCI"},model:{value:o.cci,callback:function(t){e.$set(o,"cci",t)},expression:"item.cci"}})]}},{key:"item.banco",fn:function({item:o}){return[t(a["a"],{attrs:{items:e.$store.state.bank.list,"item-text":"name","item-value":"id",placeholder:"Bancos",rules:[e=>!!e||"Dato Requerido"]},model:{value:o.id_banco,callback:function(t){e.$set(o,"id_banco",t)},expression:"item.id_banco"}})]}},{key:"item.moneda",fn:function({item:o}){return[t(a["a"],{attrs:{items:e.$store.state.coins.itemsCoinsList,"item-text":"acronym","item-value":"id",placeholder:"Monedas",rules:[e=>!!e||"Dato Requerido"]},model:{value:o.id_coins,callback:function(t){e.$set(o,"id_coins",t)},expression:"item.id_coins"}})]}},{key:"item.swift",fn:function({item:o}){return[t(p["a"],{attrs:{placeholder:"Nro swift",rules:[e=>!!e||"Dato Requerido"]},model:{value:o.nro_swift,callback:function(t){e.$set(o,"nro_swift",t)},expression:"item.nro_swift"}})]}},{key:"item.intermediario",fn:function({item:o}){return[t(a["a"],{attrs:{items:e.$store.state.bank.list,"item-text":"name","item-value":"id",placeholder:"Bancos",rules:[e=>!!e||"Dato Requerido"]},model:{value:o.id_intermediario,callback:function(t){e.$set(o,"id_intermediario",t)},expression:"item.id_intermediario"}})]}},{key:"item.cuenta_intermediario",fn:function({item:o}){return[t(p["a"],{attrs:{placeholder:"Cuenta Intermediario",rules:[e=>!!e||"Dato Requerido"]},model:{value:o.nro_cuenta_intermediario,callback:function(t){e.$set(o,"nro_cuenta_intermediario",t)},expression:"item.nro_cuenta_intermediario"}})]}},e.showFormActions?{key:"item.action",fn:function({item:o,index:a}){return[t(i["a"],{attrs:{color:"red",icon:""},on:{click:function(t){return e.eliminarInformacionBancaria(a)}}},[t(d["a"],[e._v(" mdi-delete")])],1)]}}:null],null,!0)})],1)],1)],1)],1),e.showNavigationButtons?t(r["a"],[t(i["a"],{attrs:{color:"primary"},on:{click:function(t){e.$store.state.entities.stepper--}}},[e._v("Regresar")])],1):e._e()],1)},v=[],h=(o("14d9"),o("e9f5"),o("a732"),o("2f62")),$={name:"SeccionInformacionBancaria",data(){return{headersInformacionBancaria1:[{text:"Nro de Cuenta",value:"nrocuenta"},{text:"CCI",value:"cci"},{text:"Banco",value:"banco"},{text:"Moneda",value:"moneda"},{text:"Acciones",value:"action"}],headersInformacionBancaria2:[{text:"Nro de Cuenta",value:"nrocuenta"},{text:"CCI",value:"cci"},{text:"Banco",value:"banco"},{text:"Moneda",value:"moneda"},{text:"Nro. de Swift",value:"swift"},{text:"Banco Intermediario",value:"intermediario"},{text:"Nro Cuenta de Banco Intermediario",value:"cuenta_intermediario"},{text:"Acciones",value:"action"}]}},computed:{isFormReadonly(){return this.$store.state.entities.isReadonly},showFormActions(){return!this.$store.state.entities.isReadonly},showNavigationButtons(){return!(this.$store.state.entities.isEdit||this.$store.state.entities.isReadonly)}},methods:{...Object(h["b"])([]),isInternacional(){let e=this.$store.state.masterusuarios.lstTipoTransaccion.some(e=>"02"==e.codigo&&e.id==this.$store.state.entities.proveedor.id_tipotransaccion);return e},agregarCuentaBancaria(){this.$store.state.entities.lstInformacionBancaria.push({nro_cuenta:"",cci:"",id_banco:"",id_coins:"",nro_swift:"",id_intermediario:"",nro_cuenta_intermediario:""})},eliminarInformacionBancaria(e){this.$store.state.entities.lstInformacionBancaria.splice(e,1)}},watch:{"$store.state.entities.isStep4Valid":{handler(e){e||this.$refs.formProv_informacionBancaria.validate()},immediate:!0}}},_=$,b=o("2877"),x=Object(b["a"])(_,f,v,!1,null,null,null);t["a"]=x.exports},"80c2":function(e,t,o){"use strict";o("c539")},a5cc:function(e,t,o){},afb6:function(e,t,o){"use strict";var a=o("c6a6"),i=o("8336"),s=o("b0af"),r=o("99d9"),n=o("62ad"),l=o("8fea"),c=o("4bd4"),d=o("132d"),u=o("0fd9"),m=o("e0c7"),p=o("8654"),f=(o("e9f5"),o("910d"),function(){var e=this,t=e._self._c;return t(s["a"],[t(r["c"],{staticClass:"px-2"},[t(m["a"],{staticClass:"px-0"},[t("b",[e._v("Teléfonos Proveedor")]),e.showFormActions?[t(i["a"],{staticClass:"ml-auto",attrs:{color:"primary",rounded:"",small:""},on:{click:function(t){return e.agregarTelefono()}}},[e._v("Agregar Teléfono")])]:e._e()],2),t(u["a"],[t(n["a"],{attrs:{cols:"12"}},[t(c["a"],{ref:"formProv_telefonos",attrs:{readonly:e.isFormReadonly}},[t(l["a"],{staticClass:"elevation-5",attrs:{headers:e.headersTelefonos,items:e.$store.state.entities.lstTelefonos,"item-key":"index"},scopedSlots:e._u([{key:"item.id_tipotelefono",fn:function({item:o}){return[t(a["a"],{attrs:{items:e.$store.state.masterusuarios.lstTipoTelefono,"item-text":"descripcion","item-value":"id",rules:[e=>!!e||"Dato Requerido"]},model:{value:o.id_tipotelefono,callback:function(t){e.$set(o,"id_tipotelefono",t)},expression:"item.id_tipotelefono"}})]}},{key:"item.nro_telefono",fn:function({item:o}){return[t(p["a"],{attrs:{prefix:"+",rules:[e=>!!e||"Dato Requerido",e=>/^\d+$/.test(e)||"Formato de teléfono incorrecto"]},model:{value:o.telefono,callback:function(t){e.$set(o,"telefono",t)},expression:"item.telefono"}})]}},e.showFormActions?{key:"item.action",fn:function({item:o,index:a}){return[t(i["a"],{attrs:{icon:"",color:"red"},on:{click:function(t){return e.eliminarTelefono(a)}}},[t(d["a"],[e._v("mdi-delete")])],1)]}}:null],null,!0)})],1)],1)],1),t("br"),t(m["a"],{staticClass:"px-0"},[t("b",[e._v("Contactos")]),e.showFormActions?[t(i["a"],{staticClass:"ml-auto",attrs:{color:"primary",rounded:"",small:""},on:{click:function(t){return e.agregarContacto()}}},[e._v("Agregar Contacto")])]:e._e()],2),t(u["a"],[t(n["a"],{attrs:{cols:"12"}},[t(c["a"],{ref:"formProv_contactos",attrs:{readonly:e.isFormReadonly}},[t(l["a"],{staticClass:"elevation-5",attrs:{headers:e.headersContactos,items:e.$store.state.entities.lstContactos,"item-key":"index"},scopedSlots:e._u([{key:"item.nombre",fn:function({item:o}){return[t(p["a"],{attrs:{rules:[e=>!!e||"Dato Requerido"],"error-messages":o.errornombre},model:{value:o.nombre,callback:function(t){e.$set(o,"nombre",t)},expression:"item.nombre"}})]}},{key:"item.id_tipotelefono",fn:function({item:o}){return[t(a["a"],{attrs:{items:e.$store.state.masterusuarios.lstTipoTelefono,"item-text":"descripcion","item-value":"id",rules:[e=>!!e||"Dato Requerido"],"error-messages":o.errorTipoTelf},model:{value:o.id_tipotelefono,callback:function(t){e.$set(o,"id_tipotelefono",t)},expression:"item.id_tipotelefono"}})]}},{key:"item.nro_telefono",fn:function({item:o}){return[t(p["a"],{attrs:{prefix:"+",rules:[e=>!!e||"Dato Requerido",e=>/^\d+$/.test(e)||"Formato de teléfono incorrecto"],"error-messages":o.errorTelefono},model:{value:o.telefono,callback:function(t){e.$set(o,"telefono",t)},expression:"item.telefono"}})]}},e.showFormActions?{key:"item.action",fn:function({item:o,index:a}){return[t(i["a"],{attrs:{icon:"",color:"red"},on:{click:function(t){return e.eliminarContacto(a)}}},[t(d["a"],[e._v("mdi-delete")])],1)]}}:null],null,!0)})],1),t(m["a"],{staticClass:"px-0"},[t("b",[e._v("Emails")]),e.showFormActions?[t(i["a"],{staticClass:"ml-auto",attrs:{color:"primary",rounded:"",small:""},on:{click:function(t){return e.agregarEmail()}}},[e._v("Agregar Email")])]:e._e()],2),t(u["a"],[t(n["a"],{attrs:{cols:"12"}},[t(c["a"],{ref:"formProv_email",attrs:{readonly:e.isFormReadonly}},[t(l["a"],{staticClass:"elevation-5",attrs:{headers:e.headersEmails,items:e.$store.state.entities.lstEmails.filter(e=>!!e&&e.estado),"item-key":"index"},scopedSlots:e._u([{key:"item.description",fn:function({item:o}){return[t(p["a"],{attrs:{rules:[e=>!!e||"Dato Requerido"],"error-messages":o.errornombre},model:{value:o.description,callback:function(t){e.$set(o,"description",t)},expression:"item.description"}})]}},{key:"item.email",fn:function({item:o}){return[t(p["a"],{attrs:{rules:[e=>!!e||"Dato Requerido",e=>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e)||"Email no válido"],"error-messages":o.errornombre},model:{value:o.email,callback:function(t){e.$set(o,"email",t)},expression:"item.email"}})]}},e.showFormActions?{key:"item.action",fn:function({item:o,index:a}){return[t(i["a"],{attrs:{icon:"",color:"red"},on:{click:function(t){return e.eliminarEmail(o)}}},[t(d["a"],[e._v("mdi-delete")])],1)]}}:null],null,!0)})],1)],1)],1)],1)],1)],1),e.showNavigationButtons?t(r["a"],[t(i["a"],{attrs:{color:"primary"},on:{click:function(t){e.$store.state.entities.stepper--}}},[e._v("Regresar")]),t(i["a"],{staticClass:"ml-auto",attrs:{color:"primary"},on:{click:e.validarFormulario}},[e._v("Continuar")])],1):e._e()],1)}),v=[],h=(o("14d9"),o("2f62")),$=o("3d20"),_=o.n($),b={name:"SeccionTelefonos",data(){return{headersTelefonos:[{text:"Tipo de Teléfono",value:"id_tipotelefono",width:"35%"},{text:"Nro Teléfono",value:"nro_telefono",width:"50%"},{text:"Acciones",value:"action",width:"15%"}],headersContactos:[{text:"Nombres",value:"nombre",width:"35%"},{text:"Tipo de Teléfono",value:"id_tipotelefono",width:"25%"},{text:"Nro Teléfono",value:"nro_telefono",width:"25%"},{text:"Acciones",value:"action",width:"15%"}],headersEmails:[{text:"Descripción",value:"description",width:"35%"},{text:"Email",value:"email",width:"25%"},{text:"Acciones",value:"action",width:"15%"}]}},computed:{isFormReadonly(){return this.$store.state.entities.isReadonly},showFormActions(){return!this.$store.state.entities.isReadonly},showNavigationButtons(){return!(this.$store.state.entities.isEdit||this.$store.state.entities.isReadonly)}},methods:{...Object(h["b"])([]),agregarTelefono(){this.$store.state.entities.lstTelefonos.push({id_tipotelefono:"",telefono:""})},eliminarTelefono(e){this.$store.state.entities.lstTelefonos.splice(e,1)},agregarContacto(){this.$store.state.entities.lstContactos.push({nombre:"",id_tipotelefono:"",telefono:""})},agregarEmail(){this.$store.state.entities.lstEmails.push({id:null,description:"",email:"",estado:!0})},eliminarContacto(e){this.$store.state.entities.lstContactos.splice(e,1)},eliminarEmail(e){e.estado=!1},validarFormulario(){var e=this;0!==e.$store.state.entities.lstTelefonos.length&&0!==e.$store.state.entities.lstContactos.length?e.$refs.formProv_telefonos.validate()&&e.$refs.formProv_contactos.validate()&&e.$refs.formProv_email.validate()&&(e.$store.state.entities.stepper=3):_.a.fire({icon:"error",text:"Para avanzar al paso 3, es necesario agregar al menos un teléfono y un contacto"})}},watch:{"$store.state.entities.isStep2Valid":{handler(e){e||(this.$refs.formProv_telefonos.validate(),this.$refs.formProv_contactos.validate())},immediate:!0},"$store.state.entities.lstTelefonos":{handler(e){e[0]&&(this.$store.state.entities.proveedor.telefonoActual=e[0])},deep:!0},"$store.state.entities.lstContactos":{handler(e){e[0]&&(this.$store.state.entities.proveedor.contactoActual=e[0])},deep:!0}}},x=b,g=o("2877"),C=Object(g["a"])(x,f,v,!1,null,null,null);t["a"]=C.exports},c539:function(e,t,o){},cbe1:function(e,t,o){"use strict";o("25b1")},d9c9:function(e,t,o){"use strict";o("a5cc")},e771:function(e,t,o){"use strict";var a=o("8336"),i=o("b0af"),s=o("99d9"),r=o("62ad"),n=o("8fea"),l=o("23a7"),c=o("4bd4"),d=o("132d"),u=o("0fd9"),m=o("e0c7"),p=o("8654"),f=function(){var e=this,t=e._self._c;return t(i["a"],[t(s["c"],{staticClass:"px-2"},[t(m["a"],{staticClass:"px-0"},[t("b",[e._v("Convenios")]),e.showFormActions?[t(a["a"],{staticClass:"ml-auto",attrs:{color:"primary",rounded:"",small:""},on:{click:function(t){return e.agregarConvenio()}}},[e._v("AGREGAR CONVENIO")])]:e._e()],2),t(u["a"],[t(r["a"],{attrs:{cols:"12"}},[t(c["a"],{ref:"formProv_convenios",attrs:{readonly:e.isFormReadonly}},[t(n["a"],{staticClass:"elevation-5",attrs:{headers:e.headersConvenios,items:e.$store.state.entities.lstConvenios,"item-key":"index"},scopedSlots:e._u([{key:"item.fecha",fn:function({item:o}){return[t(p["a"],{attrs:{type:"date",rules:[e=>!!e||"Dato Requerido"]},model:{value:o.fecha,callback:function(t){e.$set(o,"fecha",t)},expression:"item.fecha"}})]}},{key:"item.dias_credito",fn:function({item:o}){return[t(p["a"],{attrs:{type:"number",suffix:"días",rules:[e=>e>=0||"Es necesario que ponga un número entero positivo"]},model:{value:o.dias_credito,callback:function(t){e.$set(o,"dias_credito",t)},expression:"item.dias_credito"}})]}},{key:"item.email_soporte",fn:function({item:o}){return[t("div",{staticClass:"d-flex"},[t(p["a"],{attrs:{rules:[t=>e.validarCorreoElectronico(t)]},model:{value:o.email_soporte,callback:function(t){e.$set(o,"email_soporte",t)},expression:"item.email_soporte"}}),e.showFormActions?t(l["a"],{staticClass:"customFile",attrs:{accept:".xlsx,.xls,.doc,.docx,.ppt,.pptx,.txt,.pdf,.gif,.jpg,.jpeg,.png",label:"Adjuntar Archivo","hide-input":""},on:{change:function(t){return e.subirArchivoConvenio(o)}},model:{value:e.fileinput,callback:function(t){e.fileinput=t},expression:"fileinput"}}):e._e()],1)]}},e.showFormActions?{key:"item.action",fn:function({item:o,index:i}){return[t(a["a"],{attrs:{icon:"",color:"red"},on:{click:function(t){return e.eliminarConvenio(i)}}},[t(d["a"],[e._v("mdi-delete")])],1)]}}:null],null,!0)})],1)],1)],1),t("br"),t(m["a"],{staticClass:"px-0"},[t("b",[e._v("Tarifas")]),e.showFormActions?[t(a["a"],{staticClass:"ml-auto",attrs:{color:"primary",rounded:"",small:""},on:{click:function(t){return e.agregarTarifa()}}},[e._v("AGREGAR TARIFA")])]:e._e()],2),t(u["a"],[t(r["a"],{attrs:{cols:"12"}},[t(c["a"],{ref:"formProv_tarifas",attrs:{readonly:e.isFormReadonly}},[t(n["a"],{staticClass:"elevation-5",attrs:{headers:e.headersTarifas,items:e.$store.state.entities.lstTarifas,"item-key":"index"},scopedSlots:e._u([{key:"item.fecha",fn:function({item:o}){return[t(p["a"],{attrs:{type:"date",rules:[e=>!!e||"Dato Requerido"]},model:{value:o.fecha,callback:function(t){e.$set(o,"fecha",t)},expression:"item.fecha"}})]}},{key:"item.codigo",fn:function({item:o}){return[t(p["a"],{attrs:{rules:[e=>!!e||"Dato Requerido"]},model:{value:o.codigo,callback:function(t){e.$set(o,"codigo",t)},expression:"item.codigo"}})]}},{key:"item.email_soporte",fn:function({item:o}){return[t("div",{staticClass:"d-flex"},[t(p["a"],{attrs:{rules:[t=>e.validarCorreoElectronico(t)]},model:{value:o.email_soporte,callback:function(t){e.$set(o,"email_soporte",t)},expression:"item.email_soporte"}}),e.showFormActions?t(l["a"],{staticClass:"customFile",attrs:{accept:".xlsx,.xls,.doc,.docx,.ppt,.pptx,.txt,.pdf,.gif,.jpg,.jpeg,.png",label:"Adjuntar Archivo","hide-input":""},on:{change:function(t){return e.subirArchivoTarifa(o)}},model:{value:e.fileinput,callback:function(t){e.fileinput=t},expression:"fileinput"}}):e._e()],1)]}},{key:"item.tarifa",fn:function({item:o}){return[t(p["a"],{model:{value:o.tarifa,callback:function(t){e.$set(o,"tarifa",t)},expression:"item.tarifa"}})]}},e.showFormActions?{key:"item.action",fn:function({item:o,index:i}){return[t(a["a"],{attrs:{icon:"",color:"red"},on:{click:function(t){return e.eliminarTarifa(i)}}},[t(d["a"],[e._v("mdi-delete")])],1)]}}:null],null,!0)})],1)],1)],1)],1),e.showNavigationButtons?t(s["a"],[t(a["a"],{attrs:{color:"primary"},on:{click:function(t){e.$store.state.entities.stepper--}}},[e._v("Regresar")]),t(a["a"],{staticClass:"ml-auto",attrs:{color:"primary"},on:{click:e.validarFormulario}},[e._v("Continuar")])],1):e._e()],1)},v=[],h=(o("14d9"),o("e9f5"),o("910d"),o("ab43"),o("2f62")),$=o("c1df"),_=o.n($),b={name:"SeccionConvenios",data(){return{headersConvenios:[{text:"Fecha",value:"fecha",width:"20%"},{text:"Días para Crédito",value:"dias_credito",width:"30%"},{text:"Email Soporte",value:"email_soporte",width:"40%"},{text:"Acciones",value:"action",width:"10%"}],headersTarifas:[{text:"Fecha",value:"fecha",width:"20%"},{text:"Código",value:"codigo",width:"20%"},{text:"Email Soporte",value:"email_soporte",width:"30%"},{text:"Tarifa",value:"tarifa",width:"20%"},{text:"Acciones",value:"action",width:"10%"}],fileinput:null,isFileLoading:!1}},computed:{isFormReadonly(){return this.$store.state.entities.isReadonly},showFormActions(){return!this.$store.state.entities.isReadonly},showNavigationButtons(){return!(this.$store.state.entities.isEdit||this.$store.state.entities.isReadonly)}},methods:{...Object(h["b"])(["_uploadFile"]),validarCorreoElectronico(e){return!(e&&!/^(([^<>()[\]\\.,;:\s@']+(\.[^<>()\\[\]\\.,;:\s@']+)*)|('.+'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e))||"Debe ingresar un correo electrónico válido"},agregarConvenio(){this.$store.state.entities.lstConvenios.push({fecha:_()().format("YYYY-MM-DD"),dias_credito:0,email_soporte:""})},eliminarConvenio(e){this.$store.state.entities.lstConvenios.splice(e,1)},generarCodigoTarifa(){var e=this;let t=0;e.$store.state.entities.lstTarifas.filter(e=>{let o=e.codigo.includes("T")?parseInt(e.codigo.slice(1)):parseInt(e.codigo);t<o&&(t=o)});let o=(parseInt(t)+1).toString().padStart(5,"0");return"T".concat(o)},agregarTarifa(){this.$store.state.entities.lstTarifas.push({fecha:_()().format("YYYY-MM-DD"),codigo:this.generarCodigoTarifa(),email_soporte:"",tarifa:0})},eliminarTarifa(e){this.$store.state.entities.lstTarifas.splice(e,1)},async subirArchivoConvenio(e={}){var t=this;t.fileinput&&(t.isFileLoading=!0,await t._uploadFile(t.fileinput),t.isFileLoading=!1,t.$store.state.files.payPath?(t.$swal({icon:"success",text:"Archivo cargado"}),t.$store.state.entities.lstConvenios.map(o=>(o.id==e.id&&(o["id_path"]=t.$store.state.files.payPath),o))):t.$swal({icon:"error",text:"Comuníquese con el administrador"}))},async subirArchivoTarifa(e={}){var t=this;t.fileinput&&(t.isFileLoading=!0,await t._uploadFile(t.fileinput),t.isFileLoading=!1,t.$store.state.files.payPath?(t.$swal({icon:"success",text:"Archivo cargado"}),t.$store.state.entities.lstTarifas.map(o=>(o.id==e.id&&(o["id_path"]=t.$store.state.files.payPath),o))):t.$swal({icon:"error",text:"Comuníquese con el administrador"}))},validarFormulario(){var e=this;let t=!0;e.$store.state.entities.lstConvenios.length>0&&(e.$refs.formProv_convenios.validate()||(t=!1));let o=!0;e.$store.state.entities.lstTarifas.length>0&&(e.$refs.formProv_tarifas.validate()||(o=!1)),t&&o&&(e.$store.state.entities.stepper=4)}},watch:{"$store.state.entities.isStep3Valid":{handler(e){e||(this.$refs.formProv_convenios.validate(),this.$refs.formProv_tarifas.validate())},immediate:!0},"$store.state.entities.lstConvenios":{handler(e){e[0]&&(this.$store.state.entities.proveedor.convenioActual=e[0])},deep:!0}}},x=b,g=(o("80c2"),o("2877")),C=Object(g["a"])(x,f,v,!1,null,null,null);t["a"]=C.exports}}]);