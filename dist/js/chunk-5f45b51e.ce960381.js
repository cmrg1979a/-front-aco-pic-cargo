(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f45b51e"],{"17b3":function(e,t,i){},"891e":function(e,t,i){"use strict";i("17b3");var a=i("9d26"),s=i("dc22"),r=i("a9ad"),o=i("de2c"),n=i("7560"),l=i("58df");t["a"]=Object(l["a"])(r["a"],Object(o["a"])({onVisible:["init"]}),n["a"]).extend({name:"v-pagination",directives:{Resize:s["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:e=>e%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return{"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled,...this.themeClasses}},items(){const e=parseInt(this.totalVisible,10);if(0===e||isNaN(this.length)||this.length>Number.MAX_SAFE_INTEGER)return[];const t=Math.min(Math.max(0,e)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=t)return this.range(1,this.length);const i=t%2===0?1:0,a=Math.floor(t/2),s=this.length-a+1+i;if(this.value>a&&this.value<s){const e=1,t=this.length,s=this.value-a+2,r=this.value+a-2-i,o=s-1===e+1?2:"...",n=r+1===t-1?r+1:"...";return[1,o,...this.range(s,r),n,this.length]}if(this.value===a){const e=this.value+a-1-i;return[...this.range(1,e),"...",this.length]}if(this.value===s){const e=this.value-a+1;return[1,"...",...this.range(e,this.length)]}return[...this.range(1,a),"...",...this.range(s,this.length)]}},watch:{value(){this.init()}},beforeMount(){this.init()},methods:{init(){this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout(()=>this.selected=this.value,100)},onResize(){const e=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((e-96)/42)},next(e){e.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(e){e.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(e,t){const i=[];e=e>0?e:1;for(let a=e;a<=t;a++)i.push(a);return i},genIcon(e,t,i,s,r){return e("li",[e("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":i},attrs:{disabled:i,type:"button","aria-label":r},on:i?{}:{click:s}},[e(a["a"],[t])])])},genItem(e,t){const i=t===this.value&&(this.color||"primary"),a=t===this.value,s=a?this.currentPageAriaLabel:this.pageAriaLabel;return e("button",this.setBackgroundColor(i,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":t===this.value},attrs:{type:"button","aria-current":a,"aria-label":this.$vuetify.lang.t(s,t)},on:{click:()=>this.$emit("input",t)}}),[t.toString()])},genItems(e){return this.items.map((t,i)=>e("li",{key:i},[isNaN(Number(t))?e("span",{class:"v-pagination__more"},[t.toString()]):this.genItem(e,t)]))},genList(e,t){return e("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},t)}},render(e){const t=[this.genIcon(e,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(e),this.genIcon(e,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return e("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(e,t)])}})},"8fcb":function(e,t,i){"use strict";i.r(t);var a=i("8336"),s=i("b0af"),r=i("99d9"),o=i("62ad"),n=i("8fea"),l=i("169a"),c=i("ce7e"),p=i("cd55"),u=i("49e2"),d=i("c865"),h=i("0393"),g=i("4bd4"),m=i("891e"),v=i("67b6"),b=i("43a6"),f=i("1f4f"),y=i("2fa4"),C=i("8654"),$=i("a844"),x=(i("e9f5"),i("910d"),function(){var e=this,t=e._self._c;return t(s["a"],{attrs:{fluid:""}},[t(h["a"],{staticClass:"my-1 condensed",attrs:{hover:""}},[t(p["a"],[t(d["a"],[e._v(" Notas Principales ")]),t(u["a"],[t(n["a"],{attrs:{headers:e.headers,items:e.$store.state.pricing.opcionCostos[e.$store.state.pricing.page-1].listNotasQuote.filter(e=>1==e.estado&&!e.statusincluye&&!e.statusnoincluye),"hide-default-footer":"",dense:"","disable-sort":"","items-per-page":-1},scopedSlots:e._u([{key:"item",fn:function(i){return[t("tr",[t("td",{staticClass:"indexTblClass"},[e._v(e._s(i.index+1))]),t("td",{staticClass:"btnDescriptionClass"},[t($["a"],{attrs:{"hide-details":"",dense:"",rows:"1","auto-grow":""},model:{value:i.item.descripcion,callback:function(t){e.$set(i.item,"descripcion",t)},expression:"row.item.descripcion"}})],1)])]}}])})],1)],1)],1),t(c["a"]),t(h["a"],{staticClass:"my-1 condensed",attrs:{hover:""}},[t(p["a"],[t(d["a"],[e._v(" Se incluye ")]),t(u["a"],[t(n["a"],{attrs:{headers:e.headers,items:e.lstSeIncluye,"hide-default-footer":"",dense:"","items-per-page":-1,"disable-sort":""},scopedSlots:e._u([{key:"item",fn:function(i){return[t("tr",[t("td",{staticClass:"indexTblClass"},[e._v(e._s(i.index+1))]),t("td",{staticClass:"btnDescriptionClass"},[t($["a"],{attrs:{readonly:"","hide-details":"",dense:"",rows:"1","auto-grow":""},model:{value:i.item.namegroupservice,callback:function(t){e.$set(i.item,"namegroupservice",t)},expression:"row.item.namegroupservice"}})],1)])]}}])})],1)],1)],1),t(c["a"]),t(h["a"],{staticClass:"my-1 condensed",attrs:{hover:""}},[t(p["a"],[t(d["a"],[e._v(" No se incluye ")]),t(u["a"],[t(n["a"],{attrs:{headers:e.headers,items:e.lstNoIncluye,"hide-default-footer":"",dense:"","items-per-page":-1,"disable-sort":""},scopedSlots:e._u([{key:"item",fn:function(i){return[t("tr",[t("td",{staticClass:"indexTblClass"},[e._v(e._s(i.index+1))]),t("td",{staticClass:"btnDescriptionClass"},[t($["a"],{attrs:{readonly:"","hide-details":"",dense:"",rows:"1","auto-grow":""},model:{value:i.item.namegroupservice,callback:function(t){e.$set(i.item,"namegroupservice",t)},expression:"row.item.namegroupservice"}})],1)])]}}])})],1)],1)],1),t(o["a"],{staticClass:"derecha",attrs:{cols:"12"}},[[t("div",{staticClass:"text-center"},[t(m["a"],{attrs:{length:e.opcionesSeleccionadas.length,circle:""},model:{value:e.$store.state.pricing.page,callback:function(t){e.$set(e.$store.state.pricing,"page",t)},expression:"$store.state.pricing.page"}})],1)]],2),t(r["a"],[t(y["a"]),t(a["a"],{staticClass:"mx-1",attrs:{color:"info",small:""},on:{click:function(t){return e.abrirModalCambioHeader()}}},[e._v(" Imprimir Cotizacion ")])],1),t(l["a"],{attrs:{scrollable:"",persistent:"",width:"50%"},model:{value:e.dialogCambioNombreSecciones,callback:function(t){e.dialogCambioNombreSecciones=t},expression:"dialogCambioNombreSecciones"}},[t(s["a"],[t(r["d"],[e._v(" Secciones de los costos ")]),t(r["c"],[t(f["a"],[t("thead",[t("tr",[t("th",[e._v("Código")]),t("th",[e._v("Nombre")])])]),t("tbody",e._l(e.$store.state.pricing.namesection,(function(i,a){return t("tr",{key:a},[t("td",[e._v(e._s(i.codigo))]),t("td",[t(C["a"],{model:{value:i.name,callback:function(t){e.$set(i,"name",t)},expression:"tipocosto.name"}})],1)])})),0)])],1),t(r["a"],[t(a["a"],{staticClass:"mx-1",attrs:{color:"success"},on:{click:function(t){return e.abrirModalTipoReporte()}}},[e._v("Aceptar")]),t(a["a"],{staticClass:"mx-1",attrs:{color:"warning"},on:{click:function(t){e.dialogCambioNombreSecciones=!e.dialogCambioNombreSecciones}}},[e._v("Cerrar")])],1)],1)],1),e.previewFlag?t(l["a"],{attrs:{"max-width":"40%"},model:{value:e.previewFlag,callback:function(t){e.previewFlag=t},expression:"previewFlag"}},[t(s["a"],{staticClass:"py-5",attrs:{color:""}},[t(r["d"],{attrs:{"primary-title":""}},[t("p",[e._v("TIPO DE REPORTE")]),t("p",{staticClass:"red--text"},[e._v(" Si necesita cambiar el tipo de reporte, lo debe realizar desde el editar ")])]),t(r["c"],[t(g["a"],{ref:"frmReporte"},[t(b["a"],{attrs:{column:"",rules:[e=>!!e||"Dato requerido"],disabled:""},model:{value:e.$store.state.pricing.tiporeporte,callback:function(t){e.$set(e.$store.state.pricing,"tiporeporte",t)},expression:"$store.state.pricing.tiporeporte"}},[t(v["a"],{attrs:{label:"Costo detallado por cada item",color:"red darken-3",value:"DETALLE"}}),t(v["a"],{attrs:{label:"Totales por servicios",color:"indigo darken-3",value:"TOTAL"}}),t(v["a"],{attrs:{label:"Reporte total general sin desglose",color:"orange darken-3",value:"AGRUPADO"}})],1)],1)],1),t(r["a"],[t(y["a"]),t(a["a"],{attrs:{color:"primary",text:""},on:{click:e.generar}},[e._v(" Aceptar ")]),t(a["a"],{attrs:{color:"red",text:""},on:{click:function(t){e.previewFlag=!1}}},[e._v(" Cancelar ")])],1)],1)],1):e._e()],1)}),w=[],_=(i("ab43"),i("a732"),i("2f62")),S=i("3d20"),k=i.n(S),N={data(){return{headers:[{value:"index",text:"#"},{value:"description",text:"Descripción",align:"center"}],previewFlag:!1,tiporeporte:"",page:1,dialogCambioNombreSecciones:!1,opcionesSeleccionadas:[{listNotasQuote:[]}]}},mounted(){(this.opcionesSeleccionadas=this.$store.state.pricing.opcionCostos.some(e=>!!e.selected))&&(this.opcionesSeleccionadas=this.$store.state.pricing.opcionCostos.filter(e=>!!e.selected))},methods:{...Object(_["b"])(["registrarQuote","generarReporte","obtenerDatosEmpresa"]),abrirModalTipoReporte(){this.tiporeporte="",this.dialogCambioNombreSecciones=!1,this.previewFlag=!0},abrirModalCambioHeader(){k.a.fire({icon:"question",width:1e3,html:"<h1> ¿Desea cambiar el nombre de la secciones?. Recuerde que  este cambio se verá reflejado solo en la cotización(pdf) </h1>",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,confirmButtonText:"<h1>Si cambiar</h1>",showCancelButton:!0,showDenyButton:!0,cancelButtonText:"<h1>No cambiar<h1>",denyButtonText:"<h1>Cerrar<h1>"}).then(e=>{e.isConfirmed&&(this.dialogCambioNombreSecciones=!0),e.isDismissed&&this.abrirModalTipoReporte()})},async generar(){this.$store.state.spiner=!0,this.previewFlag=!1,await this.obtenerDatosEmpresa();for(let e=0;e<this.$store.state.pricing.opcionCostos.length;e++)k.a.fire({icon:"info",text:"Se está generando el (los) pdf.",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,timerProgressBar:!0,timer:null,didOpen:()=>{k.a.showLoading()}}),1==this.$store.state.pricing.opcionCostos[e].selected&&await this.generarReporte({tipo:this.$store.state.pricing.tiporeporte,nro_propuesta:this.$store.state.pricing.opcionCostos[e].nro_propuesta}).catch(e=>{console.error(e)});k.a.close(),this.$store.state.spiner=!1}},computed:{lstSeIncluye(){let e=this.$store.state.pricing.listServices.filter(e=>1==e.status),t=this.opcionesSeleccionadas[this.$store.state.pricing.page-1].listNotasQuote.filter(e=>1==e.estado&&1==e.statusincluye);t=t.map(e=>({...e,service:e.descripcion,namegroupservice:e.descripcion}));let i=[...e,...t];return i},lstNoIncluye(){let e=this.$store.state.pricing.listServices.filter(e=>0==e.status),t=this.opcionesSeleccionadas[this.$store.state.pricing.page-1].listNotasQuote.filter(e=>1==e.estado&&1==e.statusnoincluye);t=t.map(e=>({...e,service:e.descripcion,namegroupservice:e.descripcion}));let i=[...e,...t];return i}}},I=N,L=i("2877"),A=Object(L["a"])(I,x,w,!1,null,null,null);t["default"]=A.exports}}]);