(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0efcef"],{"9a4e":function(e,t,s){"use strict";s.r(t);var a=s("8336"),o=s("b0af"),r=s("99d9"),i=s("4bd4"),l=s("132d"),n=s("67b6"),d=s("43a6"),c=s("2fa4"),g=s("b73d"),b=s("8654"),$=function(){var e=this,t=e._self._c;return t(o["a"],[t(r["d"],{attrs:{"primary-title":""}},[e._v(" "+e._s(e.getName())+" "),t(c["a"]),t(a["a"],{attrs:{icon:"",color:"default"},on:{click:function(t){e.$store.state.begend.drawer=!e.$store.state.begend.drawer}}},[t(l["a"],[e._v("mdi-close")])],1)],1),"filter"==e.$store.state.begend.tipo?t(r["c"],[t("div",{staticClass:"col-12 py-1"},[t(b["a"],{attrs:{label:"Código",clearable:"ver"!=e.$store.state.begend.tipo},model:{value:e.$store.state.begend.filtros.code,callback:function(t){e.$set(e.$store.state.begend.filtros,"code",t)},expression:"$store.state.begend.filtros.code"}})],1),t("div",{staticClass:"col-12 py-1"},[t(b["a"],{attrs:{label:"Nombre",clearable:"ver"!=e.$store.state.begend.tipo},model:{value:e.$store.state.begend.filtros.name,callback:function(t){e.$set(e.$store.state.begend.filtros,"name",t)},expression:"$store.state.begend.filtros.name"}})],1),t("div",{staticClass:"col-12 py-1"},[t(b["a"],{attrs:{label:"Descripción",clearable:"ver"!=e.$store.state.begend.tipo},model:{value:e.$store.state.begend.filtros.description,callback:function(t){e.$set(e.$store.state.begend.filtros,"description",t)},expression:"$store.state.begend.filtros.description"}})],1),t("div",{staticClass:"col-12 py-1"},[t(b["a"],{attrs:{label:"Posición (Orden)",type:"number",step:"1",clearable:"ver"!=e.$store.state.begend.tipo},model:{value:e.$store.state.begend.filtros.position,callback:function(t){e.$set(e.$store.state.begend.filtros,"position",t)},expression:"$store.state.begend.filtros.position"}})],1),t("div",{staticClass:"col-12 py-1"},[t(b["a"],{attrs:{label:"Color",clearable:"ver"!=e.$store.state.begend.tipo},model:{value:e.$store.state.begend.filtros.color,callback:function(t){e.$set(e.$store.state.begend.filtros,"color",t)},expression:"$store.state.begend.filtros.color"}})],1),t("div",{staticClass:"col-12 py-1"},[t("span",[e._v(" Estado")]),t(d["a"],{attrs:{row:"",dense:""},model:{value:e.$store.state.begend.filtros.status,callback:function(t){e.$set(e.$store.state.begend.filtros,"status",t)},expression:"$store.state.begend.filtros.status"}},[t(n["a"],{attrs:{label:"Activo",color:"green",value:"1"}}),t(n["a"],{attrs:{label:"Inactivo",color:"red",value:"0"}}),t(n["a"],{attrs:{label:"Todos",color:"blue",value:"null"}})],1)],1)]):t(r["c"],[t(i["a"],{ref:"frmDML"},[t("div",{staticClass:"col-12 py-1"},[t(b["a"],{attrs:{readonly:"nuevo"!=e.$store.state.begend.tipo,label:"Código (*)",rules:[e=>!!e||"Dato Requerido",e=>e&&e.length<4||"El código no puede exceder los 3 caracteres."]},model:{value:e.$store.state.begend.model.code,callback:function(t){e.$set(e.$store.state.begend.model,"code",t)},expression:"$store.state.begend.model.code"}})],1),t("div",{staticClass:"col-12 py-1"},[t(b["a"],{attrs:{readonly:"ver"==e.$store.state.begend.tipo,label:"Nombre (*)",rules:[e=>!!e||"Dato Requerido",e=>e&&e.length<50||"El nombre no puede exceder los 50 caracteres."]},model:{value:e.$store.state.begend.model.name,callback:function(t){e.$set(e.$store.state.begend.model,"name",t)},expression:"$store.state.begend.model.name"}})],1),t("div",{staticClass:"col-12 py-1"},[t(b["a"],{attrs:{readonly:"ver"==e.$store.state.begend.tipo,label:"Descripción",clearable:"ver"!=e.$store.state.begend.tipo,rules:[e=>!e||e.length<50||"La descripción no puede exceder los 50 caracteres."]},model:{value:e.$store.state.begend.model.description,callback:function(t){e.$set(e.$store.state.begend.model,"description",t)},expression:"$store.state.begend.model.description"}})],1),t("div",{staticClass:"col-12 py-1"},[t(b["a"],{attrs:{type:"number",step:"1",readonly:"ver"==e.$store.state.begend.tipo,label:"Posición (Orden)  (*)",clearable:"ver"!=e.$store.state.begend.tipo,rules:[e=>!!e||"Dato Requerido"],"error-messages":e.errPosition},on:{blur:function(t){return e.validate()}},model:{value:e.$store.state.begend.model.position,callback:function(t){e.$set(e.$store.state.begend.model,"position",t)},expression:"$store.state.begend.model.position"}})],1),t("div",{staticClass:"col-12 py-1"},[t(b["a"],{attrs:{readonly:"ver"==e.$store.state.begend.tipo,label:"Color",clearable:"ver"!=e.$store.state.begend.tipo},model:{value:e.$store.state.begend.model.color,callback:function(t){e.$set(e.$store.state.begend.model,"color",t)},expression:"$store.state.begend.model.color"}})],1),t("div",{staticClass:"col-12 py-1"},[t("span",[e._v(" Estado")]),t(g["a"],{attrs:{readonly:"ver"==e.$store.state.begend.tipo,label:"Estado: "+(e.$store.state.begend.model.status?"Activo":"Inactivo"),color:"success"},model:{value:e.$store.state.begend.model.status,callback:function(t){e.$set(e.$store.state.begend.model,"status",t)},expression:"$store.state.begend.model.status"}})],1)])],1),t(r["a"],[t(c["a"]),"filter"==e.$store.state.begend.tipo?t(a["a"],{staticClass:"mx-1",attrs:{color:"success",loading:e.loading},on:{click:function(t){return e.Filtrar()}}},[e._v("Aceptar")]):e._e(),"filter"==e.$store.state.begend.tipo?t(a["a"],{staticClass:"mx-1",attrs:{color:"default",loading:e.loading},on:{click:function(t){return e.Limpiar()}}},[e._v("Limpiar")]):e._e(),"filter"!=e.$store.state.begend.tipo&&"ver"!=e.$store.state.begend.tipo?t(a["a"],{staticClass:"mx-1",attrs:{color:"success",loading:e.loading},on:{click:function(t){return e.Aceptar()}}},[e._v("Aceptar")]):e._e(),t(a["a"],{staticClass:"mx-1",attrs:{color:"warning",loading:e.loading},on:{click:function(t){e.$store.state.begend.drawer=!e.$store.state.begend.drawer}}},[e._v("Cerrar")])],1)],1)},p=[],u=s("2f62"),m={data(){return{loading:!1,loadingEstado:!1,loadingCity:!1,model:"",errPosition:""}},methods:{...Object(u["b"])(["GetListBegend","_getPais","_getState","_getCity","setBegend","ActualizarBegend","getValidatePositionBegend","getValidatePositionActualizarBegend"]),getName(){return"ver"==this.$store.state.begend.tipo?`Categoria ${this.model.name} – Modo Vista`:"nuevo"==this.$store.state.begend.tipo?"Nueva Categoría":"editar"==this.$store.state.begend.tipo?"Modificar Categoría: "+this.model.name:"filter"==this.$store.state.begend.tipo?"Filtrar Registros":void 0},async Filtrar(){this.loading=!0,await this.GetListBegend(),this.loading=!1,this.$store.state.begend.drawer=!this.$store.state.begend.drawer},async Limpiar(){this.$store.state.begend.filtros={id:"",id_pais:"",code:"",name:"",description:"",status:"1",id_state:""},this.loading=!0,await this.GetListBegend(),this.loading=!1,this.$store.state.begend.drawer=!this.$store.state.begend.drawer},async Aceptar(){"nuevo"==this.$store.state.begend.tipo&&(this.loading=!0,setTimeout(async()=>{this.$refs.frmDML.validate()?(this.loading=!0,await this.setBegend(),await this.GetListBegend(),this.loading=!1):this.loading=!1},1e3)),"editar"==this.$store.state.begend.tipo&&(this.loading=!0,setTimeout(async()=>{this.$refs.frmDML.validate()&&!this.errPosition?(await this.ActualizarBegend(),await this.GetListBegend(),this.loading=!1):this.loading=!1},1e3)),"ver"==this.$store.state.begend.tipo&&(this.$store.state.begend.drawer=!this.$store.state.begend.drawer)},async validate(){if(this.errPosition="","nuevo"==this.$store.state.begend.tipo){let e=await this.getValidatePositionBegend();this.errPosition=e.mensaje,e.estadoflag&&(this.$store.state.begend.model.position="")}if("editar"==this.$store.state.begend.tipo){let e=await this.getValidatePositionActualizarBegend();this.errPosition=e.mensaje,e.estadoflag&&(this.$store.state.begend.model.position="")}}},computed:{drawer:{get(){return this.$store.state.begend.drawer},set(e){return this.$store.state.begend.drawer=drawer}}},watch:{drawer(){this.model={...this.$store.state.begend.model},this.$refs.frmDML.resetValidation(),this.errPosition=""}}},v=m,f=s("2877"),h=Object(f["a"])(v,$,p,!1,null,null,null);t["default"]=h.exports}}]);