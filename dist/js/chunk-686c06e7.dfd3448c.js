(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-686c06e7"],{"2db4":function(t,e,s){"use strict";s("ca71");var a=s("8dd9"),i=s("a9ad"),o=s("7560"),r=s("f2e7"),l=s("fe6c"),n=s("58df"),u=s("80d2"),c=s("d9bd");e["a"]=Object(n["a"])(a["a"],i["a"],r["a"],Object(l["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:t=>"string"===typeof t||!1===t},vertical:Boolean},data:()=>({activeTimeout:-1}),computed:{classes(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground(){return!this.text&&!this.outlined},isDark(){return this.hasBackground?!this.light:o["a"].options.computed.isDark.call(this)},styles(){if(this.absolute||!this.app)return{};const{bar:t,bottom:e,footer:s,insetFooter:a,left:i,right:o,top:r}=this.$vuetify.application;return{paddingBottom:Object(u["i"])(e+s+a),paddingLeft:Object(u["i"])(i),paddingRight:Object(u["i"])(o),paddingTop:Object(u["i"])(t+r)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted(){this.isActive&&this.setTimeout()},created(){this.$attrs.hasOwnProperty("auto-height")&&Object(c["e"])("auto-height",this),0==this.timeout&&Object(c["d"])('timeout="0"',"-1",this)},methods:{genActions(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(u["t"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent(){return this.$createElement("div",{staticClass:"v-snack__content",class:{[this.contentClass]:!0},attrs:{role:"status","aria-live":"polite"}},[Object(u["t"])(this)])},genWrapper(){const t=this.hasBackground?this.setBackgroundColor:this.setTextColor,e=t(this.color,{staticClass:"v-snack__wrapper",class:a["a"].options.computed.classes.call(this),style:a["a"].options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{pointerenter:()=>window.clearTimeout(this.activeTimeout),pointerleave:this.setTimeout}});return this.$createElement("div",e,[this.genContent(),this.genActions()])},genTransition(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout(){window.clearTimeout(this.activeTimeout);const t=Number(this.timeout);this.isActive&&![0,-1].includes(t)&&(this.activeTimeout=window.setTimeout(()=>{this.isActive=!1},t))}},render(t){return t("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},"497b":function(t,e,s){"use strict";s.r(e);var a=s("c6a6"),i=s("8336"),o=s("b0af"),r=s("ac7c"),l=s("62ad"),n=s("8fea"),u=s("4bd4"),c=s("132d"),d=s("67b6"),m=s("43a6"),h=s("0fd9"),p=s("2db4"),$=s("e0c7"),v=s("b73d"),b=s("71a3"),f=s("c671"),g=s("fe57"),_=s("aac8"),k=s("9a96"),y=s("8654"),x=(s("e9f5"),s("910d"),function(){var t=this,e=t._self._c;return t.mostrarflag?e(o["a"],{staticClass:"cardDatos"},[e(g["a"],{attrs:{"background-color":"teal darken-4",grow:"",dark:"","icons-and-text":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(k["a"]),e(b["a"],{attrs:{href:"#datos"}},[t._v(" Datos del Usuario ")]),e(b["a"],{attrs:{href:"#posicion"}},[t._v(" Módulos a Usar ")])],1),e(_["a"],{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(f["a"],{staticClass:"px-5 items",attrs:{value:"datos"}},[e(u["a"],{ref:"frmDatos"},[e(h["a"]),e(h["a"],{attrs:{"align-sm-center":""}},[e(l["a"],{attrs:{cols:"4"}},[e(a["a"],{attrs:{items:t.$store.state.itemsDocumentsPais,"item-text":"description","item-value":"id",label:"Tipo de Documento (*)",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.$store.state.user.model.id_document,callback:function(e){t.$set(t.$store.state.user.model,"id_document",e)},expression:"$store.state.user.model.id_document"}})],1),e(l["a"],{attrs:{cols:"4"}},[e(y["a"],{attrs:{label:"Documento (*)",id:"id"},model:{value:t.$store.state.user.model.document,callback:function(e){t.$set(t.$store.state.user.model,"document",e)},expression:"$store.state.user.model.document"}})],1)],1),e(h["a"],[e(l["a"],{attrs:{cols:"4"}},[e(y["a"],{attrs:{label:"Nombres (*)",readonly:"",id:"id"},model:{value:t.$store.state.user.model.names,callback:function(e){t.$set(t.$store.state.user.model,"names",e)},expression:"$store.state.user.model.names"}})],1),e(l["a"],{attrs:{cols:"4"}},[e(y["a"],{attrs:{label:"Apellido Paternos (*)",readonly:"",id:"id"},model:{value:t.$store.state.user.model.surname,callback:function(e){t.$set(t.$store.state.user.model,"surname",e)},expression:"$store.state.user.model.surname"}})],1),e(l["a"],{attrs:{cols:"4"}},[e(y["a"],{attrs:{label:"Apellido Maternos (*)",readonly:"",id:"id"},model:{value:t.$store.state.user.model.second_surname,callback:function(e){t.$set(t.$store.state.user.model,"second_surname",e)},expression:"$store.state.user.model.second_surname"}})],1),e(l["a"],{attrs:{cols:"4"}},[e(y["a"],{attrs:{label:"Teléfono (*)",rules:[t=>!!t||"Dato Requerido"],id:"id"},model:{value:t.$store.state.user.model.phone,callback:function(e){t.$set(t.$store.state.user.model,"phone",e)},expression:"$store.state.user.model.phone"}})],1),e(l["a"],{attrs:{cols:"4"}},[e(y["a"],{attrs:{label:"Correo (*)",id:"id",disabled:""},model:{value:t.$store.state.user.model.email,callback:function(e){t.$set(t.$store.state.user.model,"email",e)},expression:"$store.state.user.model.email"}})],1),e(l["a"],{attrs:{cols:"4"}},[e(y["a"],{attrs:{type:"date",label:"Fecha Nacimiento",id:"id"},model:{value:t.$store.state.user.model.birthday,callback:function(e){t.$set(t.$store.state.user.model,"birthday",e)},expression:"$store.state.user.model.birthday"}})],1)],1),e(h["a"],[e(l["a"],{attrs:{cols:"4"}},[e(a["a"],{attrs:{items:t.$store.state.itemsSex,"item-text":"name","item-value":"id",label:"Sexo (*)",rules:[t=>!!t||"Dato Requerido"],"item-disabled":t=>1!=t.status},model:{value:t.$store.state.user.model.id_sex,callback:function(e){t.$set(t.$store.state.user.model,"id_sex",e)},expression:"$store.state.user.model.id_sex"}})],1),e(l["a"],{attrs:{cols:"4"}},[e(a["a"],{attrs:{label:"Pais (*)",items:t.$store.state.itemsPais,"item-text":"name","item-value":"id","item-disabled":t=>1!=t.status,rules:[t=>!!t||"Dato Requerido"]},on:{change:function(e){return t.ObtenerEstados(t.$store.state.user.model.id_pais)}},model:{value:t.$store.state.user.model.id_pais,callback:function(e){t.$set(t.$store.state.user.model,"id_pais",e)},expression:"$store.state.user.model.id_pais"}})],1),t.$store.state.user.model.id_pais?e(l["a"],{attrs:{cols:"4"}},[e(a["a"],{attrs:{label:"Estado (Región) (*)",items:t.$store.state.itemsState,"item-text":"name","item-value":"id",loading:t.loadingEstado,"item-disabled":t=>1!=t.status},on:{change:function(e){return t.ObtenerCity(t.$store.state.user.model.id_state)}},model:{value:t.$store.state.user.model.id_state,callback:function(e){t.$set(t.$store.state.user.model,"id_state",e)},expression:"$store.state.user.model.id_state"}})],1):t._e(),t.$store.state.user.model.id_state?e(l["a"],{attrs:{cols:"4"}},[e(a["a"],{attrs:{label:"Ciudad (*)",items:t.$store.state.itemsCity,"item-text":"name","item-value":"id",loading:t.loadingEstado,"item-disabled":t=>1!=t.status},on:{change:function(e){return t.ObtenerDistrito(t.$store.state.user.model.id_city)}},model:{value:t.$store.state.user.model.id_city,callback:function(e){t.$set(t.$store.state.user.model,"id_city",e)},expression:"$store.state.user.model.id_city"}})],1):t._e(),t.$store.state.user.model.id_city?e(l["a"],{attrs:{cols:"4"}},[e(a["a"],{attrs:{label:"Distritos (*)",items:t.$store.state.itemsTown,"item-text":"name","item-value":"id",loading:t.loadingDistrito,"item-disabled":t=>1!=t.status},model:{value:t.$store.state.user.model.id_town,callback:function(e){t.$set(t.$store.state.user.model,"id_town",e)},expression:"$store.state.user.model.id_town"}})],1):t._e(),e(l["a"],{attrs:{cols:"4"}},[e(y["a"],{attrs:{label:"Dirección (*)",id:"id"},model:{value:t.$store.state.user.model.address,callback:function(e){t.$set(t.$store.state.user.model,"address",e)},expression:"$store.state.user.model.address"}})],1),e(l["a"],{attrs:{cols:"4"}},[e(r["a"],{attrs:{label:"Cambiar clave"},model:{value:t.$store.state.user.model.cambiarClave,callback:function(e){t.$set(t.$store.state.user.model,"cambiarClave",e)},expression:"$store.state.user.model.cambiarClave"}})],1),t.$store.state.user.model.cambiarClave?e(l["a"],{attrs:{cols:"4"}},[e(y["a"],{attrs:{type:t.espassword?"password":"text ","append-icon":t.espassword?"mdi-eye-off":"mdi-eye",rules:[t=>!!t||"Dato Requerido"],"error-messages":t.errorClave},on:{"click:append":function(e){t.espassword=!t.espassword}},model:{value:t.$store.state.user.model.clave,callback:function(e){t.$set(t.$store.state.user.model,"clave",e)},expression:"$store.state.user.model.clave"}})],1):t._e(),t.$store.state.user.model.cambiarClave?e(l["a"],{attrs:{cols:"4"}},[e(y["a"],{attrs:{type:t.espassword?"password":"text ","append-icon":t.espassword?"mdi-eye-off":"mdi-eye",rules:[t=>!!t||"Dato Requerido"],"error-messages":t.errorClave},on:{"click:append":function(e){t.espassword=!t.espassword}},model:{value:t.$store.state.user.model.confirmclave,callback:function(e){t.$set(t.$store.state.user.model,"confirmclave",e)},expression:"$store.state.user.model.confirmclave"}})],1):t._e(),e(l["a"],{attrs:{cols:"12"}},[t._v(" Activo/ Inactivo "),e(v["a"],{attrs:{label:1==t.$store.state.user.model.status?"Activo":"Inactivo"},model:{value:t.$store.state.user.model.status,callback:function(e){t.$set(t.$store.state.user.model,"status",e)},expression:"$store.state.user.model.status"}})],1)],1)],1)],1),e(f["a"],{staticClass:"px-5 items",attrs:{value:"posicion"}},[e(u["a"],{ref:"frmPosicion"},[e(h["a"],[e(l["a"],{staticClass:"my-auto",attrs:{cols:"4"}},[e(a["a"],{attrs:{items:t.$store.state.position.lstPosition,"item-text":"name","item-value":"id","return-object":"",label:"Posición",placeholder:"Posición",rules:[t=>!!t||"Dato Requerido"],"error-messages":t.errPosition,"item-disabled":t=>!t.estado},model:{value:t.itemPositon,callback:function(e){t.itemPositon=e},expression:"itemPositon"}})],1),e(l["a"],{staticClass:"my-auto",attrs:{cols:"4"}},[e(i["a"],{attrs:{small:"",color:"success"},on:{click:function(e){return t.agregarPosicion()}}},[t._v("Agregar")])],1)],1)],1),e(h["a"],[t.mostrarposicionesflag?e(l["a"],{attrs:{cols:"12"}},[e(n["a"],{attrs:{headers:t.headersPosition,items:t.$store.state.user.positions.filter(t=>!!t.status),"item-key":"id",loading:"true"},scopedSlots:t._u([{key:"item.action",fn:function({index:s}){return[e(i["a"],{attrs:{icon:"",color:"red"},on:{click:function(e){return t.eliminarPosition(s)}}},[e(c["a"],[t._v("mdi-delete")])],1)]}}],null,!0)})],1):t._e(),e(l["a"],{attrs:{cols:"12"}},[e(l["a"],{attrs:{cols:"12"}},[e("p",{staticClass:"py-2"},[t._v("Departamento")]),e(m["a"],{attrs:{rules:[t=>!!t||"Dato Requerido"],column:""},model:{value:t.$store.state.user.model.departamento,callback:function(e){t.$set(t.$store.state.user.model,"departamento",e)},expression:"$store.state.user.model.departamento"}},[e(d["a"],{attrs:{label:"Pricing",value:1}}),e(d["a"],{attrs:{label:"Operativo",value:2}})],1)],1),e(l["a"],{attrs:{cols:"12"}},[e("p",{staticClass:"justify"},[t._v("** Nota Importante **")])]),e(l["a"],{attrs:{cols:"12"}},[e($["a"],[e("p",{staticClass:"justify"},[t._v(" Está acción permitirá al usuario ajustar los montos dentro de la liquidación de costos operativos (Control de Gastos). Es necesario porque, aunque inicialmente se cotizan ciertos valores, pueden surgir pequeños ajustes durante la operación que requieren modificación ")])])],1)],1)],1)],1),e(f["a"],{staticClass:"px-5 py-5 items",attrs:{value:"sucursal"}},[e(u["a"],{ref:"frmSucursal"},[e(h["a"],[e(l["a"],{staticClass:"my-auto",attrs:{cols:"4"}},[e(a["a"],{attrs:{items:t.$store.state.securitys.lstSucursal,"item-text":"trade_name","item-value":"id",dense:"",placeholder:"Sucursal",label:"Sucursal",rules:[t=>!!t||"Dato Requerido"],"return-object":"","error-messages":t.errSucursal,"item-disabled":t=>!t.status},model:{value:t.itemSucursal,callback:function(e){t.itemSucursal=e},expression:"itemSucursal"}})],1),e(l["a"],{staticClass:"my-auto",attrs:{cols:"4"}},[e(i["a"],{attrs:{small:"",color:"success"},on:{click:function(e){return t.agregarSucursal()}}},[t._v("Agregar")])],1)],1)],1),e(h["a"],[t.mostrarsucursal?e(l["a"],{attrs:{cols:"12"}},[e(n["a"],{attrs:{headers:t.headersSucursal,items:t.$store.state.user.sucursales.filter(t=>!!t.status),"item-key":"id",loading:"true"},scopedSlots:t._u([{key:"item.action",fn:function({index:s}){return[e(i["a"],{attrs:{icon:"",color:"red"},on:{click:function(e){return t.eliminarbranch(s)}}},[e(c["a"],[t._v("mdi-delete")])],1)]}}],null,!0)})],1):t._e()],1)],1)],1),e(i["a"],{staticClass:"mt-10",attrs:{block:"",color:"success",dark:""},on:{click:function(e){return t.guardarUsuario()}}},[t._v(" Guardar ")]),e(p["a"],{attrs:{outlined:"",vertical:"",color:"info"},scopedSlots:t._u([{key:"action",fn:function({attrs:s}){return[e(i["a"],t._b({attrs:{text:"",color:"red"},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}],null,!1,546981281),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" El departamento, define como se comportará el usuario para el llendo de montos (Pricing u Operaciones) , en el CONTROL DE GASTOS ")])],1):t._e()}),w=[],C=(s("14d9"),s("a732"),s("2f62")),P=s("3d20"),S=s.n(P),D={data(){return{tab:"datos",headersPosition:[{text:"Código",value:"code"},{text:"Posición",value:"name"},{text:"Acción",value:"action"}],headersSucursal:[{text:"Documento",value:"document"},{text:"Nombre",value:"trade_name"},{text:"Acción",value:"action"}],errorClave:"",itemPositon:"",errPosition:"",errUsers:"",errEmail:"",itemSucursal:"",errSucursal:"",loadingEstado:!1,loadingCity:!1,loadingDistrito:!1,snackbar:!1,mostrarposicionesflag:!0,mostrarsucursal:!0,mostrarflag:!1,cambiarClave:!0,espassword:!0}},async mounted(){this.$store.state.user.model.id=this.$route.params.id,this.$store.state.spiner=!0,await this.GetVerUsers(),await this._getDocumentsPais(),await this._getPais(),await this._getSex(),await this.cargarPosition(),await this.CargarBranch(),await this._getState(this.$store.state.user.model.id_pais),await this._getCity(this.$store.state.user.model.id_state),await this._getTown(this.$store.state.user.model.id_city),this.$store.state.spiner=!1,this.mostrarflag=!0},methods:{...Object(C["b"])(["_getDocumentsPais","_getPais","_getSex","cargarPosition","CargarBranch","_getState","_getCity","_getTown","validateUserUsuario","validateDocumentUsuario","validateEmailUsuario","GetVerUsers","ActualizarUsers"]),async validarUser(){this.errUsers="",this.$store.state.spiner=!0;let t=await this.validateUserUsuario();1==t.estadoflag&&(this.errUsers=t.mensaje,this.$store.state.user.model.users=""),this.$store.state.spiner=!1},async validarEmail(){this.errEmail="",this.$store.state.spiner=!0;let t=await this.validateEmailUsuario();1==t.estadoflag&&(this.errEmail=t.mensaje,this.$store.state.user.model.email=""),this.$store.state.spiner=!1},async validarDocument(){if(this.$store.state.user.model.id_document&&this.$store.state.user.model.document){this.$store.state.spiner=!0;let t=await this.validateDocumentUsuario();this.$store.state.spiner=!1,1==t.estadoflag&&S.a.fire({icon:"question",title:"Pregunta",text:t.mensaje,allowEnterKey:!1,allowOutsideClick:!1,allowEnterKey:!1,confirmButtonText:"Si",cancelButtonText:"No",showCancelButton:!0,cancelButtonColor:"red",confirmButtonColor:"green"}).then(async e=>{e.isConfirmed&&(this.$store.state.spiner=!0,this.$store.state.user.model.id_entitie=t.data[0].id_entitie,this.$store.state.user.model.address=t.data[0].address,this.$store.state.user.model.birthday=t.data[0].birthday,this.$store.state.user.model.estadoflag=t.data[0].estadoflag,this.$store.state.user.model.id_city=t.data[0].id_city,this.$store.state.user.model.id_pais=t.data[0].id_pais,this.$store.state.user.model.id_sex=t.data[0].id_sex,this.$store.state.user.model.id_state=t.data[0].id_state,this.$store.state.user.model.id_town=t.data[0].id_town,this.$store.state.user.model.names=t.data[0].names,this.$store.state.user.model.second_surname=t.data[0].second_surname,this.$store.state.user.model.socialprincipal=t.data[0].socialprincipal,this.$store.state.user.model.socialsecundary=t.data[0].socialsecundary,this.$store.state.user.model.surname=t.data[0].surname,await this._getState(t.data[0].id_pais),await this._getCity(t.data[0].id_state),await this._getTown(t.data[0].id_city),this.$store.state.spiner=!1),e.isDismissed&&(this.$store.state.user.model.document="")}),this.$store.state.spiner=!1}},async agregarSucursal(){this.errSucursal="",this.$refs.frmSucursal.validate()&&(this.$store.state.user.sucursales.some(t=>t.id_branch==this.itemSucursal.id)?this.$store.state.user.sucursales.some(t=>t.id_branch==this.itemSucursal.id&&!t.status)?this.$store.state.user.sucursales.filter(t=>t.id_branch==this.itemSucursal.id&&!t.status)[0].status=!0:this.errSucursal="La sucursal ya se encuentra asignada.":this.$store.state.user.sucursales.push(this.itemSucursal),this.mostrarsucursal=!1,this.mostrarsucursal=!0)},async agregarPosicion(){this.errPosition="",this.$refs.frmPosicion.validate()&&(this.$store.state.user.positions.some(t=>t.id_position==this.itemPositon.id)?this.$store.state.user.positions.some(t=>t.id_position==this.itemPositon.id&&!t.status)?this.$store.state.user.positions.filter(t=>t.id_position==this.itemPositon.id)[0].status=!0:this.errPosition="La posición ya se encuentra asignada.":(this.itemPositon.id_position=this.itemPositon.id,this.itemPositon.status=this.itemPositon.estado,this.$store.state.user.positions.push(this.itemPositon))),this.mostrarposicionesflag=!1,this.mostrarposicionesflag=!0},async ObtenerEstados(t){this.loadingEstado=!0,await this._getState(t),this.loadingEstado=!1},async ObtenerCity(t){this.loadingCity=!0,await this._getCity(t),this.loadingCity=!1},async ObtenerDistrito(t){this.loadingDistrito=!0,await this._getTown(t),this.loadingDistrito=!1},eliminarPosition(t){this.$store.state.user.positions[t].status=!1,this.mostrarposicionesflag=!1,this.mostrarposicionesflag=!0},eliminarbranch(t){this.$store.state.user.lstSucursal[t].status=!1,this.mostrarsucursal=!1,this.mostrarsucursal=!0},async guardarUsuario(){if(console.log(this.$store.state.itemsDocumentsPais),this.$refs.frmDatos.validate()){if(0==this.$store.state.user.positions.filter(t=>!!t.status).length)return this.errPosition="Es necesario asignar al menos una Position, al usuario",this.tab="posicion",!1;if(0==this.$store.state.user.sucursales.filter(t=>!!t.status).length)return this.errSucursal="Es necesario asignar al menos una Sucursal, al usuario",this.tab="sucursal",!1;if(this.$store.state.user.model.clave!=this.$store.state.user.model.confirmclave)return this.errorClave="Las claves no coinciden",!1;await this.ActualizarUsers()}else this.tab="datos"}}},T=D,E=(s("74bd"),s("2877")),O=Object(E["a"])(T,x,w,!1,null,"73b3ee11",null);e["default"]=O.exports},"74bd":function(t,e,s){"use strict";s("b556")},b556:function(t,e,s){},ca71:function(t,e,s){}}]);