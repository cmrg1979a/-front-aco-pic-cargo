(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8a5a53fa"],{"213a":function(t,a,e){"use strict";e.r(a);var s=e("c6a6"),i=e("8336"),n=e("b0af"),r=e("99d9"),o=e("62ad"),d=e("a523"),l=e("8fea"),c=e("169a"),u=e("4bd4"),p=e("132d"),m=e("0fd9"),h=e("b974"),$=e("1f4f"),f=e("2fa4"),g=e("8654"),P=function(){var t=this,a=t._self._c;return a(d["a"],{attrs:{fluid:""}},[a(n["a"],{attrs:{elevation:"0"}},[a(r["d"],{attrs:{"primary-title":""}},[a("center",[t._v("Datos de la Carga")])],1),a(r["c"],[a(u["a"],{ref:"frmPuerto"},[a(m["a"],[a(o["a"],{attrs:{cols:"6"}},[a(s["a"],{staticClass:"my-1",attrs:{label:"Puerto Origen",outlined:"",dense:"",items:t.getPuertoOrigen(),"item-text":"name","item-value":"id_port",readonly:""},model:{value:t.$store.state.aduana.datosPrincipales.idorigen,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"idorigen",a)},expression:"$store.state.aduana.datosPrincipales.idorigen"}})],1),a(o["a"],{attrs:{cols:"6"}},[a(s["a"],{staticClass:"my-1",attrs:{label:"Puerto Destino",outlined:"",dense:"",items:t.getPuertoDestino(),"item-text":"name","item-value":"id_port",readonly:""},model:{value:t.$store.state.aduana.datosPrincipales.iddestino,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"iddestino",a)},expression:"$store.state.aduana.datosPrincipales.iddestino"}})],1),t.mostrarComboPercepcionAduana()?a(o["a"],{staticClass:"py-1",attrs:{cols:"6"}},[a(s["a"],{staticClass:"my-1",attrs:{label:"Primera o Segunda Importación",readonly:"",outlined:"",dense:"",rules:[t=>!!t||"Dato requerido"],items:t.$store.state.masterusuarios.lstPercepcionAduana,"item-text":"descripcion","item-value":"id"},model:{value:t.$store.state.aduana.datosPrincipales.id_percepcionaduana,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"id_percepcionaduana",a)},expression:"\n                $store.state.aduana.datosPrincipales.id_percepcionaduana\n              "}})],1):t._e()],1)],1),t.isFCL()?a(m["a"],[a(o["a"],{attrs:{cols:"12",align:"right"}}),a(o["a"],{attrs:{cols:"12"}},[a(l["a"],{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.$store.state.aduana.datosPrincipales.containers},scopedSlots:t._u([{key:"item.action",fn:function(e){return[a(i["a"],{attrs:{icon:"",color:"red",dark:""},on:{click:function(a){return t.eliminarContainer({index:e.index})}}},[a(p["a"],[t._v("mdi-delete")])],1)]}},{key:"item.number",fn:function(a){return[t._v(" "+t._s(a.index+1)+" ")]}}],null,!0)})],1)],1):a(m["a"],[a(o["a"],{attrs:{cols:"12"}},[a($["a"],{staticClass:"elevation-1 my-2",attrs:{dense:""}},[a("thead",{staticClass:"teal lighten-2 white--text"},[a("tr",[a("th",[t._v("Cant. Bultos")]),a("th",[t._v("Peso")]),a("th",[t._v("Volumen")])])]),a("tbody",[a("tr",[a("td",[t._v(" "+t._s(t.$store.state.aduana.datosPrincipales.numerobultos)+" ")]),a("td",[t._v(t._s(t.$store.state.aduana.datosPrincipales.peso))]),a("td",[t._v(t._s(t.$store.state.aduana.datosPrincipales.volumen))])])])])],1)],1)],1)],1),a(c["a"],{attrs:{scrollable:"",persistent:"","max-width":"30%",transition:"dialog-transition"},model:{value:t.dialogConteiner,callback:function(a){t.dialogConteiner=a},expression:"dialogConteiner"}},[a(n["a"],[a(r["d"],{attrs:{"primary-title":""}},[t._v(" Añadir Contenedor ")]),a(r["c"],[a(u["a"],{ref:"frmContainer"},[a(h["a"],{attrs:{items:t.$store.state.itemsContainers,label:"Container","item-text":"name","item-value":"id",rules:[t=>!!t||"Dato Requerido"],"error-messages":t.err,"return-object":""},model:{value:t.containers.container,callback:function(a){t.$set(t.containers,"container",a)},expression:"containers.container"}}),a(g["a"],{attrs:{name:"Cantidad",label:"Cantidad",type:"number",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.containers.cantidad,callback:function(a){t.$set(t.containers,"cantidad",a)},expression:"containers.cantidad"}})],1)],1),a(r["a"],[a(f["a"]),a(i["a"],{attrs:{color:"success"},on:{click:function(a){return t.guardarContainer()}}},[t._v("Aceptar")]),a(i["a"],{attrs:{color:"red",dark:""},on:{click:function(a){t.dialogConteiner=!t.dialogConteiner}}},[t._v(" Cancelar ")])],1)],1)],1)],1)},v=[],C=(e("14d9"),e("e9f5"),e("910d"),e("a732"),e("2f62")),b=e("3d20"),_=e.n(b),x={name:"DatosCargaComponent",data(){return{headers:[{text:"",value:"action"},{text:"#",value:"number"},{text:"Tipo Contendor",value:"description"},{text:"Cantidad",value:"cantidad"}],dialogConteiner:!1,numerobultos:"",volumen:"",peso:"",err:"",containers:{container:"",cantidad:""}}},async mounted(){await this._getContainers()},methods:{...Object(C["b"])(["_getContainers","getItemsServices","getMultiplicador"]),"añadirCarga"(){this.err="",this.numerobultos>0&&this.volumen>0&&this.peso>0?(this.$store.state.aduana.datosPrincipales.numerobultos=this.numerobultos,this.$store.state.aduana.datosPrincipales.volumen=this.volumen,this.$store.state.aduana.datosPrincipales.peso=this.peso):this.err="Datos requerido y mayor que cero"},guardarContainer(){this.err="",this.$refs.frmContainer.validate()&&(0==this.$store.state.aduana.datosPrincipales.containers.filter(t=>t.id==this.containers.container.id).length?(this.$store.state.aduana.datosPrincipales.containers.push({id:this.containers.container.id,description:this.containers.container.name,cantidad:this.containers.cantidad}),this.dialogConteiner=!1,this.containers={container:"",cantidad:""}):this.err="Contenedor ya se encuentra en la lista")},eliminarContainer({index:t=null}){this.$store.state.aduana.datosPrincipales.containers.splice(t,1)},async aceptar(){let t=!0;this.$refs.frmPuerto.validate()&&("FCL"==this.$store.state.aduana.datosPrincipales.idtipocarga.code&&0==this.$store.state.aduana.datosPrincipales.containers.length&&(_.a.fire({icon:"error",title:"Aviso",text:"Se necesita al menos un contenedor"}),t=!1),"FCL"!=this.$store.state.aduana.datosPrincipales.idtipocarga.code&&(this.numerobultos||this.volumen||this.peso||(_.a.fire({icon:"error",title:"Aviso",text:"Se necesita los datos de la carga"}),t=!1)),t&&(this.$store.state.spiner=!0,await this.getItemsServices(),await this.getMultiplicador(),this.$store.state.spiner=!1,this.$store.state.aduana.step3=!0))},getPuertoOrigen(){let t=[];if(this.$store.state.aduana.datosPrincipales.iddestino){var a=this.$store.state.aduana.listPortEnd.filter(t=>t.id_port==this.$store.state.aduana.datosPrincipales.iddestino)[0];t=this.$store.state.aduana.listPortBegin.filter(t=>t.id_port!=a)}else t=this.$store.state.aduana.listPortBegin;return t},getPuertoDestino(){let t=[];if(this.$store.state.aduana.datosPrincipales.idorigen){var a=this.$store.state.aduana.listPortBegin.filter(t=>t.id_port==this.$store.state.aduana.datosPrincipales.idorigen)[0].id_port;t=this.$store.state.aduana.listPortEnd.filter(t=>t.id_port!=a)}else t=this.$store.state.aduana.listPortEnd;return t},isFCL(){let t=this.$store.state.aduana.datosPrincipales.idtipocarga,a=this.$store.state.aduana.listShipment.filter(a=>a.id==t)[0].code,e="FCL"==a;return e},mostrarComboPercepcionAduana(){let t=9589==JSON.parse(sessionStorage.getItem("iso_pais"));return t&&this.$store.state.aduana.listModality.some(t=>t.id==this.$store.state.aduana.datosPrincipales.idsentido&&"I"==t.code)}}},y=x,k=(e("5ea6"),e("2877")),w=Object(k["a"])(y,P,v,!1,null,null,null);a["default"]=w.exports},"5ea6":function(t,a,e){"use strict";e("6c32")},"6c32":function(t,a,e){}}]);