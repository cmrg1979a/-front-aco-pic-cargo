(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46616d5c"],{"4a2c":function(t,e,i){},"7f86":function(t,e,i){"use strict";i.r(e);var a=i("c6a6"),s=i("8336"),r=i("b0af"),n=i("99d9"),o=i("62ad"),c=i("a523"),l=i("8fea"),d=i("169a"),p=i("4bd4"),u=i("132d"),g=i("0fd9"),m=i("b974"),h=i("1f4f"),f=i("2fa4"),$=i("8654"),P=function(){var t=this,e=t._self._c;return e(c["a"],{attrs:{fluid:""}},[e(r["a"],{attrs:{elevation:"0"}},[e(n["d"],{attrs:{"primary-title":""}},[e("center",[t._v("Datos de la Carga")])],1),e(n["c"],[e(p["a"],{ref:"frmPuerto"},[e(g["a"],[e(o["a"],{attrs:{cols:"12",lg:"6",xl:"6"}},[e(a["a"],{staticClass:"my-1",attrs:{label:"Puerto Origen",outlined:"",dense:"",items:t.getPuertoOrigen(),"item-text":"name","item-value":"id_port",readonly:""},model:{value:t.$store.state.pricing.datosPrincipales.idorigen,callback:function(e){t.$set(t.$store.state.pricing.datosPrincipales,"idorigen",e)},expression:"$store.state.pricing.datosPrincipales.idorigen"}})],1),e(o["a"],{attrs:{cols:"12",lg:"6",xl:"6"}},[e(a["a"],{staticClass:"my-1",attrs:{label:"Puerto Destino",outlined:"",dense:"",items:t.getPuertoDestino(),"item-text":"name","item-value":"id_port",readonly:""},model:{value:t.$store.state.pricing.datosPrincipales.iddestino,callback:function(e){t.$set(t.$store.state.pricing.datosPrincipales,"iddestino",e)},expression:"$store.state.pricing.datosPrincipales.iddestino"}})],1),t.mostrarComboPercepcionAduana()?e(o["a"],{staticClass:"py-1",attrs:{cols:"12",lg:"6",xl:"6"}},[e(a["a"],{staticClass:"my-1",attrs:{label:"Primera o Segunda Importación",readonly:"",outlined:"",dense:"",rules:[t=>!!t||"Dato requerido"],items:t.$store.state.masterusuarios.lstPercepcionAduana,"item-text":"descripcion","item-value":"id"},model:{value:t.$store.state.pricing.datosPrincipales.id_percepcionaduana,callback:function(e){t.$set(t.$store.state.pricing.datosPrincipales,"id_percepcionaduana",e)},expression:"\n                $store.state.pricing.datosPrincipales.id_percepcionaduana\n              "}})],1):t._e()],1)],1),t.isFCL()?e(g["a"],[e(o["a"],{attrs:{cols:"12",align:"right"}}),e(o["a"],{attrs:{cols:"12"}},[e(l["a"],{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.$store.state.pricing.datosPrincipales.containers},scopedSlots:t._u([{key:"item.action",fn:function(i){return[e(s["a"],{attrs:{icon:"",color:"red",dark:""},on:{click:function(e){return t.eliminarContainer({index:i.index})}}},[e(u["a"],[t._v("mdi-delete")])],1)]}},{key:"item.number",fn:function(e){return[t._v(" "+t._s(e.index+1)+" ")]}}],null,!0)})],1)],1):e(g["a"],[e(o["a"],{attrs:{cols:"12"}},[e(h["a"],{staticClass:"elevation-1 my-2",attrs:{dense:""}},[e("thead",{staticClass:"teal lighten-2 white--text"},[e("tr",[e("th",[t._v("Cant. Bultos")]),e("th",[t._v("Peso")]),e("th",[t._v("Volumen")])])]),e("tbody",[e("tr",[e("td",[t._v(" "+t._s(t.$store.state.pricing.datosPrincipales.numerobultos)+" ")]),e("td",[t._v(t._s(t.$store.state.pricing.datosPrincipales.peso))]),e("td",[t._v(t._s(t.$store.state.pricing.datosPrincipales.volumen))])])])])],1)],1)],1)],1),e(d["a"],{attrs:{scrollable:"",persistent:"","max-width":"30%",transition:"dialog-transition"},model:{value:t.dialogConteiner,callback:function(e){t.dialogConteiner=e},expression:"dialogConteiner"}},[e(r["a"],[e(n["d"],{attrs:{"primary-title":""}},[t._v(" Añadir Contenedor ")]),e(n["c"],[e(p["a"],{ref:"frmContainer"},[e(m["a"],{attrs:{items:t.$store.state.itemsContainers,label:"Container","item-text":"name","item-value":"id",rules:[t=>!!t||"Dato Requerido"],"error-messages":t.err,"return-object":""},model:{value:t.containers.container,callback:function(e){t.$set(t.containers,"container",e)},expression:"containers.container"}}),e($["a"],{attrs:{name:"Cantidad",label:"Cantidad",type:"number",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.containers.cantidad,callback:function(e){t.$set(t.containers,"cantidad",e)},expression:"containers.cantidad"}})],1)],1),e(n["a"],[e(f["a"]),e(s["a"],{attrs:{color:"success"},on:{click:function(e){return t.guardarContainer()}}},[t._v("Aceptar")]),e(s["a"],{attrs:{color:"red",dark:""},on:{click:function(e){t.dialogConteiner=!t.dialogConteiner}}},[t._v(" Cancelar ")])],1)],1)],1)],1)},v=[],C=(i("14d9"),i("e9f5"),i("910d"),i("a732"),i("2f62")),b=i("3d20"),_=i.n(b),x={name:"DatosCargaComponent",data(){return{headers:[{text:"",value:"action"},{text:"#",value:"number"},{text:"Tipo Contendor",value:"description"},{text:"Cantidad",value:"cantidad"}],dialogConteiner:!1,numerobultos:"",volumen:"",peso:"",err:"",containers:{container:"",cantidad:""}}},async mounted(){await this._getContainers()},methods:{...Object(C["b"])(["_getContainers","getItemsServices","getMultiplicador"]),"añadirCarga"(){this.err="",this.numerobultos>0&&this.volumen>0&&this.peso>0?(this.$store.state.pricing.datosPrincipales.numerobultos=this.numerobultos,this.$store.state.pricing.datosPrincipales.volumen=this.volumen,this.$store.state.pricing.datosPrincipales.peso=this.peso):this.err="Datos requerido y mayor que cero"},guardarContainer(){this.err="",this.$refs.frmContainer.validate()&&(0==this.$store.state.pricing.datosPrincipales.containers.filter(t=>t.id==this.containers.container.id).length?(this.$store.state.pricing.datosPrincipales.containers.push({id:this.containers.container.id,description:this.containers.container.name,cantidad:this.containers.cantidad}),this.dialogConteiner=!1,this.containers={container:"",cantidad:""}):this.err="Contenedor ya se encuentra en la lista")},eliminarContainer({index:t=null}){this.$store.state.pricing.datosPrincipales.containers.splice(t,1)},async aceptar(){let t=!0;this.$refs.frmPuerto.validate()&&("FCL"==this.$store.state.pricing.datosPrincipales.idtipocarga.code&&0==this.$store.state.pricing.datosPrincipales.containers.length&&(_.a.fire({icon:"error",title:"Aviso",text:"Se necesita al menos un contenedor"}),t=!1),"FCL"!=this.$store.state.pricing.datosPrincipales.idtipocarga.code&&(this.numerobultos||this.volumen||this.peso||(_.a.fire({icon:"error",title:"Aviso",text:"Se necesita los datos de la carga"}),t=!1)),t&&(this.$store.state.spiner=!0,await this.getItemsServices(),await this.getMultiplicador(),this.$store.state.spiner=!1,this.$store.state.pricing.step3=!0))},getPuertoOrigen(){let t=[];if(this.$store.state.pricing.datosPrincipales.iddestino){var e=this.$store.state.pricing.listPortEnd.filter(t=>t.id_port==this.$store.state.pricing.datosPrincipales.iddestino)[0];t=this.$store.state.pricing.listPortBegin.filter(t=>t.id_port!=e)}else t=this.$store.state.pricing.listPortBegin;return t},getPuertoDestino(){let t=[];if(this.$store.state.pricing.datosPrincipales.idorigen){var e=this.$store.state.pricing.listPortBegin.filter(t=>t.id_port==this.$store.state.pricing.datosPrincipales.idorigen)[0].id_port;t=this.$store.state.pricing.listPortEnd.filter(t=>t.id_port!=e)}else t=this.$store.state.pricing.listPortEnd;return t},isFCL(){let t=this.$store.state.pricing.datosPrincipales.idtipocarga,e=this.$store.state.pricing.listShipment.filter(e=>e.id==t)[0].code,i="FCL"==e;return i},mostrarComboPercepcionAduana(){let t=9589==JSON.parse(sessionStorage.getItem("iso_pais"));return t&&this.$store.state.pricing.listModality.some(t=>t.id==this.$store.state.pricing.datosPrincipales.idsentido&&"I"==t.code)}}},y=x,k=(i("e58f"),i("2877")),w=Object(k["a"])(y,P,v,!1,null,null,null);e["default"]=w.exports},e58f:function(t,e,i){"use strict";i("4a2c")}}]);