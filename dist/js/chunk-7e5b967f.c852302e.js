(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e5b967f"],{"0f54":function(e,t,i){},"190c":function(e,t,i){},"23a0":function(e,t,i){"use strict";var o=i("c6a6"),a=i("8336"),s=i("b0af"),n=i("99d9"),r=i("62ad"),l=i("23a7"),c=i("4bd4"),d=i("0fd9"),u=i("2fa4"),m=i("e0c7"),f=i("8654"),p=function(){var e=this,t=e._self._c;return t(s["a"],[t(n["c"],[t(c["a"],{ref:"formDatosCliente",attrs:{readonly:e.isFormReadonly}},[t(d["a"],[t(r["a"],{attrs:{cols:"12"}},[t(d["a"],[t(r["a"],{attrs:{cols:"12",md:"6"}},[t(o["a"],{attrs:{dense:"",items:e.$store.state.masterusuarios.lstTipoPersona,"item-text":"descripcion","item-value":"id",label:"Persona Natural / Empresa",rules:[e=>!!e||"Dato Requerido"]},on:{change:e.toggleNombre},model:{value:e.$store.state.entities.cliente.id_tipopersona,callback:function(t){e.$set(e.$store.state.entities.cliente,"id_tipopersona",t)},expression:"$store.state.entities.cliente.id_tipopersona"}})],1)],1),t(d["a"],[t(r["a"],{attrs:{cols:"12"}},[t("CustomAutocomplete",{attrs:{items:e.$store.state.entities.lstProveedores_x_nombre,label:e.showNombreCompleto?"Nombre Completo":"Nombre Fiscal",value:e.$store.state.entities.cliente.nombrecompleto,loading:e.isNombreLoading,rules:[e=>!!e||"Dato Requerido"],disabled:!1},on:{search:e.handleNombre,id:e.handleEditarCliente}})],1)],1),t(d["a"],[t(r["a"],{attrs:{cols:"12",md:"6"}},[t(o["a"],{attrs:{dense:"",items:e.$store.state.masterusuarios.lstTipoTransaccion,"item-text":"descripcion","item-value":"id",label:"Nacional / Extranjero",rules:[e=>!!e||"Dato Requerido"]},model:{value:e.$store.state.entities.cliente.id_tipotransaccion,callback:function(t){e.$set(e.$store.state.entities.cliente,"id_tipotransaccion",t)},expression:"$store.state.entities.cliente.id_tipotransaccion"}})],1)],1),t(d["a"],[t(r["a"],{attrs:{cols:"12",md:"6"}},[t(o["a"],{attrs:{dense:"",items:e.$store.state.itemsDocumentsPais,"item-text":"description","item-value":"id",label:"Tipo de Documento Fiscal"},model:{value:e.$store.state.entities.cliente.id_tipodocumento,callback:function(t){e.$set(e.$store.state.entities.cliente,"id_tipodocumento",t)},expression:"$store.state.entities.cliente.id_tipodocumento"}})],1),t(r["a"],{attrs:{cols:"12",md:"6"}},[t("CustomAutocomplete",{attrs:{items:e.$store.state.entities.lstProveedores_x_documento,label:"Nro De Documento",value:e.$store.state.entities.cliente.nro_documento,loading:e.isDocumentoLoading,disabled:e.isNroDocumentoDisabled},on:{search:e.handleDocumento,id:e.handleEditarCliente}})],1)],1),t(d["a"],[t(r["a"],{attrs:{cols:"12",md:"6"}},[t(o["a"],{attrs:{dense:"","item-text":"name","item-value":"id",items:e.$store.state.itemsPais,label:"País",rules:[e=>!!e||"Dato Requerido"]},on:{change:function(t){return e._getState(e.$store.state.entities.cliente.id_pais)}},model:{value:e.$store.state.entities.cliente.id_pais,callback:function(t){e.$set(e.$store.state.entities.cliente,"id_pais",t)},expression:"$store.state.entities.cliente.id_pais"}})],1),t(r["a"],{attrs:{cols:"12",md:"6"}},[t(o["a"],{attrs:{dense:"",items:e.$store.state.itemsState,"item-text":"name","item-value":"id",label:"Región / Estado"},model:{value:e.$store.state.entities.cliente.id_ciudad,callback:function(t){e.$set(e.$store.state.entities.cliente,"id_ciudad",t)},expression:"$store.state.entities.cliente.id_ciudad"}})],1)],1),t(d["a"],[t(r["a"],{attrs:{cols:"12"}},[t(f["a"],{attrs:{dense:"",label:"Dirección"},model:{value:e.$store.state.entities.cliente.direccion,callback:function(t){e.$set(e.$store.state.entities.cliente,"direccion",t)},expression:"$store.state.entities.cliente.direccion"}})],1)],1),t(d["a"],[t(r["a"],{attrs:{cols:"12"}},[t(f["a"],{attrs:{dense:"",label:"Correo Electrónico",rules:[t=>e.validarCorreoElectronico(t)],"error-messages":e.correoErrors},model:{value:e.$store.state.entities.cliente.emailaddress,callback:function(t){e.$set(e.$store.state.entities.cliente,"emailaddress",t)},expression:"$store.state.entities.cliente.emailaddress"}})],1)],1),t(m["a"],{staticClass:"px-0"},[e._v(" Convenio Actual "),t(u["a"]),e.showFormActions?t(l["a"],{staticClass:"customFile",attrs:{accept:".xlsx,.xls,.doc,.docx,.ppt,.pptx,.txt,.pdf,.gif,.jpg,.jpeg,.png",label:"Adjuntar Archivo","hide-input":""},on:{change:e.subirArchivoConvenio},model:{value:e.fileinput,callback:function(t){e.fileinput=t},expression:"fileinput"}}):e._e()],1),t(d["a"],{staticClass:"pl-5"},[t(r["a"],{attrs:{cols:"12",md:"4"}},[t(f["a"],{attrs:{dense:"",type:"number",suffix:"días",label:"Días de Crédito para el Pago",rules:[e=>e>=0||"Es necesario que ponga un número entero positivo"]},on:{change:e.validarConvenioActual},model:{value:e.$store.state.entities.cliente.convenioActual.dias_credito,callback:function(t){e.$set(e.$store.state.entities.cliente.convenioActual,"dias_credito",t)},expression:"\n                  $store.state.entities.cliente.convenioActual.dias_credito\n                "}})],1),t(r["a"],{attrs:{cols:"12",md:"4"}},[t(f["a"],{attrs:{dense:"",type:"date",label:"Fecha Convenio"},on:{change:e.validarConvenioActual},model:{value:e.$store.state.entities.cliente.convenioActual.fecha,callback:function(t){e.$set(e.$store.state.entities.cliente.convenioActual,"fecha",t)},expression:"$store.state.entities.cliente.convenioActual.fecha"}})],1),t(r["a"],{attrs:{cols:"12",md:"4"}},[t(f["a"],{attrs:{dense:"",label:"Email Soporte",rules:[t=>e.validarCorreoElectronico(t)],"error-messages":e.correoConvenioActualErrors},on:{change:e.validarConvenioActual},model:{value:e.$store.state.entities.cliente.convenioActual.email_soporte,callback:function(t){e.$set(e.$store.state.entities.cliente.convenioActual,"email_soporte",t)},expression:"\n                  $store.state.entities.cliente.convenioActual.email_soporte\n                "}})],1)],1),t("h2",{staticClass:"my-2"},[e._v("Teléfono Principal")]),t(d["a"],{staticClass:"pl-5"},[t(r["a"],{attrs:{cols:"12",md:"6"}},[t(o["a"],{attrs:{dense:"",items:e.$store.state.masterusuarios.lstTipoTelefono,"item-text":"descripcion","item-value":"id",label:"Tipo de Teléfono","error-messages":e.$store.state.entities.cliente.telefonoActual.id_tipotelefono?"":"Dato Requerido"},on:{change:e.validarTelefonoActual},model:{value:e.$store.state.entities.cliente.telefonoActual.id_tipotelefono,callback:function(t){e.$set(e.$store.state.entities.cliente.telefonoActual,"id_tipotelefono",t)},expression:"\n                  $store.state.entities.cliente.telefonoActual.id_tipotelefono\n                "}})],1),t(r["a"],{attrs:{cols:"12",md:"6"}},[t(f["a"],{attrs:{dense:"",label:"Teléfono","error-messages":e.$store.state.entities.cliente.telefonoActual.telefono?"":"Dato Requerido"},on:{change:e.validarTelefonoActual},model:{value:e.$store.state.entities.cliente.telefonoActual.telefono,callback:function(t){e.$set(e.$store.state.entities.cliente.telefonoActual,"telefono",t)},expression:"\n                  $store.state.entities.cliente.telefonoActual.telefono\n                "}})],1)],1),t("h2",{staticClass:"my-2"},[e._v("Telefono Adicional")]),t(d["a"],{staticClass:"pl-5"},[t(r["a"],{attrs:{cols:"12",md:"4"}},[t(f["a"],{attrs:{dense:"",label:"Nombre"},on:{change:e.validarContactoActual},model:{value:e.$store.state.entities.cliente.contactoActual.nombre,callback:function(t){e.$set(e.$store.state.entities.cliente.contactoActual,"nombre",t)},expression:"$store.state.entities.cliente.contactoActual.nombre"}})],1),t(r["a"],{attrs:{cols:"12",md:"4"}},[t(o["a"],{attrs:{dense:"",items:e.$store.state.masterusuarios.lstTipoTelefono,"item-text":"descripcion","item-value":"id",label:"Tipo de Teléfono"},on:{change:e.validarContactoActual},model:{value:e.$store.state.entities.cliente.contactoActual.id_tipotelefono,callback:function(t){e.$set(e.$store.state.entities.cliente.contactoActual,"id_tipotelefono",t)},expression:"\n                  $store.state.entities.cliente.contactoActual.id_tipotelefono\n                "}})],1),t(r["a"],{attrs:{cols:"12",md:"4"}},[t(f["a"],{attrs:{dense:"",label:"Teléfono"},on:{change:e.validarContactoActual},model:{value:e.$store.state.entities.cliente.contactoActual.telefono,callback:function(t){e.$set(e.$store.state.entities.cliente.contactoActual,"telefono",t)},expression:"\n                  $store.state.entities.cliente.contactoActual.telefono\n                "}})],1)],1),t(d["a"],[t(r["a"],{attrs:{cols:"12"}},[t(f["a"],{attrs:{dense:"",textarea:"",label:"Comentarios / Notas Importantes"},model:{value:e.$store.state.entities.cliente.notas,callback:function(t){e.$set(e.$store.state.entities.cliente,"notas",t)},expression:"$store.state.entities.cliente.notas"}})],1)],1)],1)],1)],1)],1),e.showNavigationButtons?t(n["a"],[t(a["a"],{staticClass:"ml-auto",attrs:{color:"primary"},on:{click:e.validarFormulario}},[e._v("Agregar Más")])],1):e._e()],1)},h=[],v=(i("14d9"),i("e9f5"),i("910d"),i("f665"),i("ab43"),i("2f62")),$=i("338c"),g={name:"SeccionCliente",components:{CustomAutocomplete:$["a"]},props:{isPricing:{type:Boolean,default:!1}},data(){return{showNombreCompleto:!0,telefonoErrors:"",correoErrors:"",correoConvenioActualErrors:"",isAutocompleteLoading:!1,fileinput:null,isFileLoading:!1,isNombreLoading:!1,isDocumentoLoading:!1}},computed:{isNroDocumentoDisabled(){return!this.$store.state.entities.cliente.id_tipodocumento},isFormReadonly(){return this.$store.state.entities.isReadonly},showFormActions(){return!this.$store.state.entities.isReadonly},showNavigationButtons(){return!(this.$store.state.entities.isEdit||this.$store.state.entities.isReadonly)}},methods:{...Object(v["b"])(["_getState","cargarClientes","validarNombreCliente","validarDocumentoCliente","_uploadFile"]),setDocumentoFiscalByDefault(e=""){var t=this;const i=t.getIDTipoDocumento(e);i&&(t.$store.state.entities.cliente.id_tipodocumento=i)},getIDTipoDocumento(e=""){var t=this,i=null;const o=t.$store.state.itemsDocumentsPais.find(t=>t.name.toUpperCase()==e.toUpperCase());return o&&(i=o.id),i},toggleNombre(){var e=this;const t=e.$store.state.masterusuarios.lstTipoPersona.find(t=>t.id==e.$store.state.entities.cliente.id_tipopersona);t&&("Persona Natural"==t.descripcion?(e.showNombreCompleto=!0,e.setDocumentoFiscalByDefault("DNI")):"Empresa"==t.descripcion&&(e.showNombreCompleto=!1,e.setDocumentoFiscalByDefault("RUC")))},async handleNombre(e){var t=this;t.$store.state.entities.lstProveedores_x_nombre=[],t.$store.state.entities.cliente.nombrecompleto=e,t.$store.state.entities.cliente.nombrecompleto&&(t.isNombreLoading=!0,await this.validarNombreCliente(),t.isNombreLoading=!1)},async handleDocumento(e){var t=this;t.$store.state.entities.lstProveedores_x_documento=[],t.$store.state.entities.cliente.nro_documento=e,t.$store.state.entities.cliente.nro_documento&&(t.isDocumentoLoading=!0,await this.validarDocumentoCliente(),t.isDocumentoLoading=!1)},async handleEditarCliente(e){e&&(this.isPricing?this.$swal({icon:"question",html:"<b>¿Desea cargar los datos del cliente seleccionado?</b>",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then(t=>{if(t.isConfirmed){let t=this.$store.state.entities.lstProveedores_x_nombre.filter(t=>t.id==e)[0];this.$store.state.pricing.datosPrincipales.id_entitie=t.id,this.$store.state.pricing.datosPrincipales.nombre=t.nombrecompleto,this.$store.state.pricing.datosPrincipales.telefono=t.telefono,this.$store.state.modalEntitie=!1,this.$store.state.registroClienteFlag=!this.$store.state.registroClienteFlag}}):this.$swal({icon:"question",html:"<b>¿Desea cargar los datos del cliente seleccionado?</b>",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then(t=>{t.isConfirmed&&(this.$router.push({name:"editarCliente",params:{id:e}}),setTimeout(()=>window.location.reload(),10))}))},validarCorreoElectronico(e){return!(e&&!/^(([^<>()[\]\\.,;:\s@']+(\.[^<>()\\[\]\\.,;:\s@']+)*)|('.+'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e))||"Debe ingresar un correo electrónico válido"},validarConvenioActual(){var e=this;const{convenioActual:t}=e.$store.state.entities.cliente;t.dias_credito>0&&(t.fecha?-1===e.$store.state.entities.lstConvenios.indexOf(t)&&e.$store.state.entities.lstConvenios.push(t):e.$swal({icon:"info",text:"Si desea agregar como convenio actual, es necesario llenar la fecha del convenio"}))},validarTelefonoActual(){var e=this;const{telefonoActual:t}=e.$store.state.entities.cliente;if(t.id_tipotelefono&&t.telefono){const i=e.$store.state.entities.lstTelefonos.findIndex(e=>e.id_tipotelefono==t.id_tipotelefono&&e.telefono==t.telefono);-1===i&&e.$store.state.entities.lstTelefonos.push(t)}},validarContactoActual(){var e=this;const{contactoActual:t}=e.$store.state.entities.cliente;if(t.nombre&&t.id_tipotelefono&&t.telefono){const i=e.$store.state.entities.lstContactos.findIndex(e=>e.nombre==t.nombre&&e.id_tipotelefono==t.id_tipotelefono&&e.telefono==t.telefono);-1===i&&e.$store.state.entities.lstContactos.push(t)}},async subirArchivoConvenio(){var e=this;e.fileinput&&(e.isFileLoading=!0,await e._uploadFile(e.fileinput),e.isFileLoading=!1,e.$store.state.files.payPath?(e.$swal({icon:"success",text:"Archivo cargado"}),e.$store.state.entities.lstConvenios.map(t=>(t.id==e.$store.state.entities.cliente.convenioActual.id&&(t["id_path"]=e.$store.state.files.payPath),t))):e.$swal({icon:"error",text:"Comuníquese con el administrador"}))},validarFormulario(){var e=this;e.$refs.formDatosCliente.validate()&&(e.validarConvenioActual(),e.validarTelefonoActual(),e.validarContactoActual(),e.$store.state.entities.stepper=2)}},async mounted(){await this.cargarClientes()},watch:{"$store.state.entities.isStep1Valid":{handler(e){e||this.$refs.formDatosCliente.validate()},immediate:!0}},isPricing(){console.log("isPricing",this.isPricing)}},_=g,b=(i("e4dd"),i("2877")),x=Object(b["a"])(_,p,h,!1,null,null,null);t["a"]=x.exports},"25b1":function(e,t,i){},"338c":function(e,t,i){"use strict";var o=i("8860"),a=i("da13"),s=i("5d23"),n=i("1baa"),r=i("8654"),l=i("a293"),c=function(){var e=this,t=e._self._c;return t("div",{directives:[{def:l["a"],name:"click-outside",rawName:"v-click-outside",value:e.clickOutsideList,expression:"clickOutsideList"}],staticClass:"customAutocomplete-container"},[t(r["a"],{attrs:{dense:"",label:e.label,loading:e.loading,rules:e.rules,disabled:e.disabled},on:{focus:e.showList},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t(o["a"],{directives:[{name:"show",rawName:"v-show",value:e.showOptionsList,expression:"showOptionsList"}],staticClass:"customAutocomplete elevation-1",attrs:{dense:""}},[e._l(e.items,(function(i,o){return e.items.length>0&&!e.loading?[t(n["a"],[t(a["a"],{key:o,on:{click:function(t){return e.selectItem(i.id)}}},[t(s["a"],[t(s["c"],[e._v(" "+e._s(i.telefono?i.nombrecompleto.concat(" - ",i.telefono):i.nombrecompleto)+" ")])],1)],1)],1)]:e._e()}))],2)],1)},d=[],u={name:"CustomAutocomplete",props:{items:Array,loading:Boolean,label:String,value:String,rules:Array,disabled:Boolean},data(){return{showOptionsList:!0}},computed:{search:{get(){return this.value},set(e){this.$emit("search",e)}}},methods:{showList(e){this.showOptionsList=!0},hideList(e){this.showOptionsList=!1},clickOutsideList(){this.hideList()},selectItem(e){this.$emit("id",e)}}},m=u,f=(i("cbe1"),i("2877")),p=Object(f["a"])(m,c,d,!1,null,null,null);t["a"]=p.exports},"7b3c":function(e,t,i){"use strict";var o=i("c6a6"),a=i("8336"),s=i("b0af"),n=i("99d9"),r=i("62ad"),l=i("8fea"),c=i("4bd4"),d=i("132d"),u=i("0fd9"),m=i("e0c7"),f=i("8654"),p=function(){var e=this,t=e._self._c;return t(s["a"],[t(n["c"],{staticClass:"px-2"},[t(m["a"],{staticClass:"px-0"},[t("b",[e._v("Información Bancaria")]),e.showFormActions?[t(a["a"],{staticClass:"ml-auto",attrs:{color:"primary",rounded:"",small:""},on:{click:function(t){return e.agregarCuentaBancaria()}}},[e._v("Agregar Cuenta")])]:e._e()],2),t(u["a"],[t(r["a"],{attrs:{cols:"12"}},[t(c["a"],{ref:"formInformacionBancaria",attrs:{readonly:e.isFormReadonly}},[t(l["a"],{staticClass:"elevation-5",attrs:{headers:e.isInternacional()?e.headersInformacionBancaria2:e.headersInformacionBancaria1,items:e.$store.state.entities.lstInformacionBancaria,"item-key":"index","disable-sort":""},scopedSlots:e._u([{key:"item.nrocuenta",fn:function({item:i}){return[t(f["a"],{attrs:{rules:[e=>!!e||"Dato Requerido"],placeholder:"Nro Cuenta"},model:{value:i.nro_cuenta,callback:function(t){e.$set(i,"nro_cuenta",t)},expression:"item.nro_cuenta"}})]}},{key:"item.cci",fn:function({item:i}){return[t(f["a"],{attrs:{rules:[e=>!!e||"Dato Requerido"],placeholder:"CCI"},model:{value:i.cci,callback:function(t){e.$set(i,"cci",t)},expression:"item.cci"}})]}},{key:"item.banco",fn:function({item:i}){return[t(o["a"],{attrs:{items:e.$store.state.bank.list,"item-text":"name","item-value":"id",placeholder:"Bancos",rules:[e=>!!e||"Dato Requerido"]},model:{value:i.id_banco,callback:function(t){e.$set(i,"id_banco",t)},expression:"item.id_banco"}})]}},{key:"item.moneda",fn:function({item:i}){return[t(o["a"],{attrs:{items:e.$store.state.coins.itemsCoinsList,"item-text":"acronym","item-value":"id",placeholder:"Monedas",rules:[e=>!!e||"Dato Requerido"]},model:{value:i.id_coins,callback:function(t){e.$set(i,"id_coins",t)},expression:"item.id_coins"}})]}},{key:"item.swift",fn:function({item:i}){return[t(f["a"],{attrs:{placeholder:"Nro swift",rules:[e=>!!e||"Dato Requerido"]},model:{value:i.nro_swift,callback:function(t){e.$set(i,"nro_swift",t)},expression:"item.nro_swift"}})]}},{key:"item.intermediario",fn:function({item:i}){return[t(o["a"],{attrs:{items:e.$store.state.bank.list,"item-text":"name","item-value":"id",placeholder:"Bancos",rules:[e=>!!e||"Dato Requerido"]},model:{value:i.id_intermediario,callback:function(t){e.$set(i,"id_intermediario",t)},expression:"item.id_intermediario"}})]}},{key:"item.cuenta_intermediario",fn:function({item:i}){return[t(f["a"],{attrs:{placeholder:"Cuenta Intermediario",rules:[e=>!!e||"Dato Requerido"]},model:{value:i.nro_cuenta_intermediario,callback:function(t){e.$set(i,"nro_cuenta_intermediario",t)},expression:"item.nro_cuenta_intermediario"}})]}},e.showFormActions?{key:"item.action",fn:function({item:i,index:o}){return[t(a["a"],{attrs:{color:"red",icon:""},on:{click:function(t){return e.eliminarInformacionBancaria(o)}}},[t(d["a"],[e._v(" mdi-delete")])],1)]}}:null],null,!0)})],1)],1)],1)],1),e.showNavigationButtons?t(n["a"],[t(a["a"],{attrs:{color:"primary"},on:{click:function(t){e.$store.state.entities.stepper--}}},[e._v("Regresar")]),t(a["a"],{staticClass:"ml-auto",attrs:{color:"primary"},on:{click:e.validarFormulario}},[e._v("Continuar")])],1):e._e()],1)},h=[],v=(i("14d9"),i("e9f5"),i("a732"),i("2f62")),$={name:"SeccionInformacionBancaria",data(){return{headersInformacionBancaria1:[{text:"Nro de Cuenta",value:"nrocuenta"},{text:"CCI",value:"cci"},{text:"Banco",value:"banco"},{text:"Moneda",value:"moneda"},{text:"Acciones",value:"action"}],headersInformacionBancaria2:[{text:"Nro de Cuenta",value:"nrocuenta"},{text:"CCI",value:"cci"},{text:"Banco",value:"banco"},{text:"Moneda",value:"moneda"},{text:"Nro. de Swift",value:"swift"},{text:"Banco Intermediario",value:"intermediario"},{text:"Nro Cuenta de Banco Intermediario",value:"cuenta_intermediario"},{text:"Acciones",value:"action"}]}},computed:{isFormReadonly(){return this.$store.state.entities.isReadonly},showFormActions(){return!this.$store.state.entities.isReadonly},showNavigationButtons(){return!(this.$store.state.entities.isEdit||this.$store.state.entities.isReadonly)}},methods:{...Object(v["b"])([]),isInternacional(){let e=this.$store.state.masterusuarios.lstTipoTransaccion.some(e=>"02"==e.codigo&&e.id==this.$store.state.entities.cliente.id_tipotransaccion);return e},agregarCuentaBancaria(){this.$store.state.entities.lstInformacionBancaria.push({nro_cuenta:"",cci:"",id_banco:"",id_coins:"",nro_swift:"",id_intermediario:"",nro_cuenta_intermediario:""})},eliminarInformacionBancaria(e){this.$store.state.entities.lstInformacionBancaria.splice(e,1)},validarFormulario(){var e=this;let t=!0;e.$store.state.entities.lstInformacionBancaria.length>0&&(e.$refs.formInformacionBancaria.validate()||(t=!1)),t&&(e.$store.state.entities.stepper=5)}},watch:{"$store.state.entities.isStep4Valid":{handler(e){e||this.$refs.formInformacionBancaria.validate()},immediate:!0}}},g=$,_=i("2877"),b=Object(_["a"])(g,p,h,!1,null,null,null);t["a"]=b.exports},"92b1":function(e,t,i){"use strict";var o=i("c6a6"),a=i("8336"),s=i("b0af"),n=i("99d9"),r=i("62ad"),l=i("8fea"),c=i("4bd4"),d=i("132d"),u=i("0fd9"),m=i("e0c7"),f=i("8654"),p=(i("e9f5"),i("910d"),function(){var e=this,t=e._self._c;return t(s["a"],[t(n["c"],{staticClass:"px-2"},[t(m["a"],{staticClass:"px-0"},[t("b",[e._v("Teléfonos Proveedor")]),e.showFormActions?[t(a["a"],{staticClass:"ml-auto",attrs:{color:"primary",rounded:"",small:""},on:{click:function(t){return e.agregarTelefono()}}},[e._v("Agregar Teléfono")])]:e._e()],2),t(u["a"],[t(r["a"],{attrs:{cols:"12"}},[t(c["a"],{ref:"formTelefonos",attrs:{readonly:e.isFormReadonly}},[t(l["a"],{staticClass:"elevation-5",attrs:{headers:e.headersTelefonos,items:e.$store.state.entities.lstTelefonos,"item-key":"index","disable-sort":""},scopedSlots:e._u([{key:"item.id_tipotelefono",fn:function({item:i}){return[t(o["a"],{attrs:{items:e.$store.state.masterusuarios.lstTipoTelefono,"item-text":"descripcion","item-value":"id",rules:[e=>!!e||"Dato Requerido"]},model:{value:i.id_tipotelefono,callback:function(t){e.$set(i,"id_tipotelefono",t)},expression:"item.id_tipotelefono"}})]}},{key:"item.nro_telefono",fn:function({item:i}){return[t(f["a"],{attrs:{prefix:"+",rules:[e=>!!e||"Dato Requerido",e=>/^\d+$/.test(e)||"Formato de teléfono incorrecto"]},model:{value:i.telefono,callback:function(t){e.$set(i,"telefono",t)},expression:"item.telefono"}})]}},e.showFormActions?{key:"item.action",fn:function({item:i,index:o}){return[t(a["a"],{attrs:{icon:"",color:"red"},on:{click:function(t){return e.eliminarTelefono(o)}}},[t(d["a"],[e._v("mdi-delete")])],1)]}}:null],null,!0)})],1)],1)],1),t("br"),t(m["a"],{staticClass:"px-0"},[t("b",[e._v("Contactos")]),e.showFormActions?[t(a["a"],{staticClass:"ml-auto",attrs:{color:"primary",rounded:"",small:""},on:{click:function(t){return e.agregarContacto()}}},[e._v("Agregar Contacto")])]:e._e()],2),t(u["a"],[t(r["a"],{attrs:{cols:"12"}},[t(c["a"],{ref:"formContactos",attrs:{readonly:e.isFormReadonly}},[t(l["a"],{staticClass:"elevation-5",attrs:{headers:e.headersContactos,items:e.$store.state.entities.lstContactos,"item-key":"index"},scopedSlots:e._u([{key:"item.nombre",fn:function({item:i}){return[t(f["a"],{attrs:{rules:[e=>!!e||"Dato Requerido"],"error-messages":i.errornombre},model:{value:i.nombre,callback:function(t){e.$set(i,"nombre",t)},expression:"item.nombre"}})]}},{key:"item.id_tipotelefono",fn:function({item:i}){return[t(o["a"],{attrs:{items:e.$store.state.masterusuarios.lstTipoTelefono,"item-text":"descripcion","item-value":"id",rules:[e=>!!e||"Dato Requerido"],"error-messages":i.errorTipoTelf},model:{value:i.id_tipotelefono,callback:function(t){e.$set(i,"id_tipotelefono",t)},expression:"item.id_tipotelefono"}})]}},{key:"item.nro_telefono",fn:function({item:i}){return[t(f["a"],{attrs:{prefix:"+",rules:[e=>!!e||"Dato Requerido",e=>/^\d+$/.test(e)||"Formato de teléfono incorrecto"],"error-messages":i.errorTelefono},model:{value:i.telefono,callback:function(t){e.$set(i,"telefono",t)},expression:"item.telefono"}})]}},e.showFormActions?{key:"item.action",fn:function({item:i,index:o}){return[t(a["a"],{attrs:{icon:"",color:"red"},on:{click:function(t){return e.eliminarContacto(o)}}},[t(d["a"],[e._v("mdi-delete")])],1)]}}:null],null,!0)})],1),t(m["a"],{staticClass:"px-0"},[t("b",[e._v("Emails")]),e.showFormActions?[t(a["a"],{staticClass:"ml-auto",attrs:{color:"primary",rounded:"",small:""},on:{click:function(t){return e.agregarEmail()}}},[e._v("Agregar Email")])]:e._e()],2),t(u["a"],[t(r["a"],{attrs:{cols:"12"}},[t(c["a"],{ref:"formProv_email",attrs:{readonly:e.isFormReadonly}},[t(l["a"],{staticClass:"elevation-5",attrs:{headers:e.headersEmails,items:e.$store.state.entities.lstEmails.filter(e=>!!e&&e.estado),"item-key":"index"},scopedSlots:e._u([{key:"item.description",fn:function({item:i}){return[t(f["a"],{attrs:{rules:[e=>!!e||"Dato Requerido"],"error-messages":i.errornombre},model:{value:i.description,callback:function(t){e.$set(i,"description",t)},expression:"item.description"}})]}},{key:"item.email",fn:function({item:i}){return[t(f["a"],{attrs:{rules:[e=>!!e||"Dato Requerido",e=>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e)||"Email no válido"],"error-messages":i.errornombre},model:{value:i.email,callback:function(t){e.$set(i,"email",t)},expression:"item.email"}})]}},e.showFormActions?{key:"item.action",fn:function({item:i,index:o}){return[t(a["a"],{attrs:{icon:"",color:"red"},on:{click:function(t){return e.eliminarEmail(i)}}},[t(d["a"],[e._v("mdi-delete")])],1)]}}:null],null,!0)})],1)],1)],1)],1)],1)],1),e.showNavigationButtons?t(n["a"],[t(a["a"],{attrs:{color:"primary"},on:{click:function(t){e.$store.state.entities.stepper--}}},[e._v("Regresar")]),t(a["a"],{staticClass:"ml-auto",attrs:{color:"primary"},on:{click:e.validarFormulario}},[e._v("Continuar")])],1):e._e()],1)}),h=[],v=(i("14d9"),i("2f62")),$=i("3d20"),g=i.n($),_={name:"SeccionTelefonos",data(){return{headersTelefonos:[{text:"Tipo de Teléfono",value:"id_tipotelefono",width:"35%"},{text:"Nro Teléfono",value:"nro_telefono",width:"50%"},{text:"Acciones",value:"action",width:"15%"}],headersContactos:[{text:"Nombres",value:"nombre",width:"35%"},{text:"Tipo de Teléfono",value:"id_tipotelefono",width:"25%"},{text:"Nro Teléfono",value:"nro_telefono",width:"25%"},{text:"Acciones",value:"action",width:"15%"}],headersEmails:[{text:"Descripción",value:"description",width:"35%"},{text:"Email",value:"email",width:"25%"},{text:"Acciones",value:"action",width:"15%"}]}},computed:{isFormReadonly(){return this.$store.state.entities.isReadonly},showFormActions(){return!this.$store.state.entities.isReadonly},showNavigationButtons(){return!(this.$store.state.entities.isEdit||this.$store.state.entities.isReadonly)}},methods:{...Object(v["b"])([]),agregarTelefono(){this.$store.state.entities.lstTelefonos.push({id_tipotelefono:"",telefono:""})},eliminarTelefono(e){this.$store.state.entities.lstTelefonos.splice(e,1)},agregarContacto(){this.$store.state.entities.lstContactos.push({nombre:"",id_tipotelefono:"",telefono:""})},eliminarContacto(e){this.$store.state.entities.lstContactos.splice(e,1)},validarFormulario(){var e=this;let t=!0;0!==e.$store.state.entities.lstTelefonos.length&&0!==e.$store.state.entities.lstContactos.length||(g.a.fire({icon:"error",text:"Para avanzar al paso 3, es necesario agregar al menos un teléfono y un contacto"}),t=!1),e.$refs.formTelefonos.validate()||(t=!1),e.$refs.formContactos.validate()||(t=!1),t&&(e.$store.state.entities.stepper=3)},agregarEmail(){this.$store.state.entities.lstEmails.push({id:null,description:"",email:"",estado:!0})},eliminarEmail(e){e.estado=!1}},watch:{"$store.state.entities.isStep2Valid":{handler(e){e||(this.$refs.formTelefonos.validate(),this.$refs.formContactos.validate())},immediate:!0},"$store.state.entities.lstTelefonos":{handler(e){e[0]&&(this.$store.state.entities.cliente.telefonoActual=e[0])},deep:!0},"$store.state.entities.lstContactos":{handler(e){e[0]&&(this.$store.state.entities.cliente.contactoActual=e[0])},deep:!0}}},b=_,x=i("2877"),C=Object(x["a"])(b,p,h,!1,null,null,null);t["a"]=C.exports},c17a:function(e,t,i){"use strict";i("0f54")},c403:function(e,t,i){"use strict";var o=i("8336"),a=i("b0af"),s=i("99d9"),n=i("62ad"),r=i("8fea"),l=i("169a"),c=i("4bd4"),d=i("132d"),u=i("0fd9"),m=i("2fa4"),f=i("e0c7"),p=i("8654"),h=function(){var e=this,t=e._self._c;return t("div",[t(a["a"],[t(s["c"],{staticClass:"px-2"},[t(f["a"],{staticClass:"px-0"},[t("b",[e._v("Shippers")]),e.showFormActions?[t(o["a"],{staticClass:"ml-auto",attrs:{color:"primary",rounded:"",small:""},on:{click:e.mostrarDialogShippers}},[e._v("AGREGAR SHIPPER")])]:e._e()],2),t(u["a"],[t(n["a"],{attrs:{cols:"12"}},[t(c["a"],{ref:"formShippers",attrs:{readonly:e.isFormReadonly}},[t(r["a"],{staticClass:"elevation-5",attrs:{headers:e.headersShippers,items:e.$store.state.entities.lstShippers,"item-key":"index","disable-sort":""},scopedSlots:e._u([{key:"item.correlativo",fn:function({item:t,index:i}){return[e._v(" PR-"+e._s(t.correlativo)+" ")]}},e.showFormActions?{key:"item.action",fn:function({item:i,index:a}){return[t(o["a"],{attrs:{icon:"",color:"red"},on:{click:function(t){return e.eliminarShipper(a)}}},[t(d["a"],[e._v("mdi-delete")])],1)]}}:null],null,!0)})],1)],1)],1)],1),e.showNavigationButtons?t(s["a"],[t(o["a"],{attrs:{color:"primary"},on:{click:function(t){e.$store.state.entities.stepper--}}},[e._v("Regresar")]),t(o["a"],{staticClass:"ml-auto",attrs:{color:"primary"},on:{click:e.validarFormulario}},[e._v("Continuar")])],1):e._e()],1),t(l["a"],{attrs:{scrollable:"",persistent:"","max-width":"60%",transition:"dialog-transition"},model:{value:e.dialogShippers,callback:function(t){e.dialogShippers=t},expression:"dialogShippers"}},[t(a["a"],[t(s["d"],{attrs:{"primary-title":""}},[e._v(" Seleccionar Shipper ")]),t(s["c"],{staticClass:"pt-2"},[t(p["a"],{attrs:{label:"Buscar",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t(r["a"],{staticClass:"elevation-1",attrs:{headers:e.headersProveedoresRolShipper,items:e.$store.state.itemsProveedorRolShipper,"fixed-header":"","item-key":"id",search:e.search,loading:e.loading},on:{"click:row":e.seleccionarShippers}})],1),t(s["a"],[t(m["a"]),t(o["a"],{attrs:{rounded:"",color:"success"},on:{click:e.aceptar}},[e._v("Aceptar")]),t(o["a"],{attrs:{rounded:"",color:"error"},on:{click:e.cancelar}},[e._v("Cancelar")])],1)],1)],1)],1)},v=[],$=(i("14d9"),i("e9f5"),i("910d"),i("ab43"),i("2f62")),g={name:"SeccionShippers",data(){return{loading:!1,headersShippers:[{text:"Código",value:"correlativo",width:"20%"},{text:"Shipper",value:"nombrecompleto",width:"40%"},{text:"Producto que vende",value:"producto",width:"30%"},{text:"Acciones",value:"action",width:"10%"}],headersProveedoresRolShipper:[{text:"Razón Social/Nombre Comercial",value:"namelong",width:"35%"},{text:"Teléfono",value:"telefono",width:"30%"},{text:"Producto que vende",value:"producto",width:"35%"}],search:"",dialogShippers:!1,lstSelectedShippers:[]}},computed:{isFormReadonly(){return this.$store.state.entities.isReadonly},showFormActions(){return!this.$store.state.entities.isReadonly},showNavigationButtons(){return!(this.$store.state.entities.isEdit||this.$store.state.entities.isReadonly)}},methods:{...Object($["b"])(["_getProveedorRolShipper"]),async mostrarDialogShippers(){var e=this;e.dialogShippers=!e.dialogShippers,e.loading=!0,await e._getProveedorRolShipper(),e.loading=!1},seleccionarShippers(e,t){var i=this;-1==i.lstSelectedShippers.indexOf(e)?(t.select(!0),i.lstSelectedShippers.push(e)):(t.select(!1),i.lstSelectedShippers=i.lstSelectedShippers.filter(t=>t.id!=e.id))},eliminarShipper(e){this.$store.state.entities.lstShippers.splice(e,1)},aceptar(){var e=this;e.lstSelectedShippers.length&&(e.lstSelectedShippers.map(t=>{e.$store.state.entities.lstShippers.filter(e=>e.id_shipper==t.id).length||e.$store.state.entities.lstShippers.push({id_shipper:t.id,correlativo:t.correlativo,nombrecompleto:t.namelong,producto:t.producto})}),e.lstSelectedShippers.length=0),e.dialogShippers=!e.dialogShippers},cancelar(){this.lstSelectedShippers.length=0,this.dialogShippers=!this.dialogShippers},validarFormulario(){var e=this;let t=!0;e.$store.state.entities.lstShippers.length>0&&(e.$refs.formShippers.validate()||(t=!1)),t&&(e.$store.state.entities.stepper=6)}}},_=g,b=(i("f9da"),i("2877")),x=Object(b["a"])(_,h,v,!1,null,null,null);t["a"]=x.exports},c835:function(e,t,i){"use strict";var o=i("c6a6"),a=i("8336"),s=i("b0af"),n=i("99d9"),r=i("62ad"),l=i("4bd4"),c=i("0fd9"),d=i("8654"),u=function(){var e=this,t=e._self._c;return t(s["a"],[t(n["d"],[e._v("Datos para rótulos en la entrega del producto")]),t(n["c"],[t(l["a"],{ref:"formInformacionEntrega",attrs:{readonly:e.isFormReadonly}},[t(c["a"],[t(r["a"],{attrs:{cols:"12",md:"6"}},[t(d["a"],{attrs:{dense:"",label:"Destinatario"},model:{value:e.$store.state.entities.informacionEntrega.destinatario,callback:function(t){e.$set(e.$store.state.entities.informacionEntrega,"destinatario",t)},expression:"$store.state.entities.informacionEntrega.destinatario"}})],1),t(r["a"],{attrs:{cols:"12",md:"6"}},[t(d["a"],{attrs:{dense:"",label:"DNI O RUC"},model:{value:e.$store.state.entities.informacionEntrega.dni_destinatario,callback:function(t){e.$set(e.$store.state.entities.informacionEntrega,"dni_destinatario",t)},expression:"\n              $store.state.entities.informacionEntrega.dni_destinatario\n            "}})],1)],1),t(c["a"],[t(r["a"],{attrs:{cols:"12",md:"6"}},[t(d["a"],{attrs:{dense:"",label:"Persona que recoge"},model:{value:e.$store.state.entities.informacionEntrega.receptor,callback:function(t){e.$set(e.$store.state.entities.informacionEntrega,"receptor",t)},expression:"$store.state.entities.informacionEntrega.receptor"}})],1),t(r["a"],{attrs:{cols:"12",md:"6"}},[t(d["a"],{attrs:{dense:"",label:"DNI"},model:{value:e.$store.state.entities.informacionEntrega.dni_receptor,callback:function(t){e.$set(e.$store.state.entities.informacionEntrega,"dni_receptor",t)},expression:"$store.state.entities.informacionEntrega.dni_receptor"}})],1)],1),t(c["a"],[t(r["a"],{attrs:{cols:"12",md:"6"}},[t(o["a"],{attrs:{dense:"",items:e.$store.state.itemsState,"item-text":"name","item-value":"id",label:"Departamento"},on:{change:function(t){return e._getCity(e.$store.state.entities.informacionEntrega.id_departamento)}},model:{value:e.$store.state.entities.informacionEntrega.id_departamento,callback:function(t){e.$set(e.$store.state.entities.informacionEntrega,"id_departamento",t)},expression:"$store.state.entities.informacionEntrega.id_departamento"}})],1)],1),t(c["a"],[t(r["a"],{attrs:{cols:"12",md:"6"}},[t(o["a"],{attrs:{dense:"",items:e.$store.state.itemsCity,"item-text":"name","item-value":"id",label:"Provincia"},on:{change:function(t){return e._getTown(e.$store.state.entities.informacionEntrega.id_provincia)}},model:{value:e.$store.state.entities.informacionEntrega.id_provincia,callback:function(t){e.$set(e.$store.state.entities.informacionEntrega,"id_provincia",t)},expression:"$store.state.entities.informacionEntrega.id_provincia"}})],1)],1),t(c["a"],[t(r["a"],{attrs:{cols:"12",md:"6"}},[t(o["a"],{attrs:{dense:"",items:e.$store.state.itemsTown,"item-text":"name","item-value":"id",label:"Distrito"},model:{value:e.$store.state.entities.informacionEntrega.id_distrito,callback:function(t){e.$set(e.$store.state.entities.informacionEntrega,"id_distrito",t)},expression:"$store.state.entities.informacionEntrega.id_distrito"}})],1)],1),t(c["a"],[t(r["a"],{attrs:{cols:"12",md:"6"}},[t(d["a"],{attrs:{dense:"",label:"Agencia"},model:{value:e.$store.state.entities.informacionEntrega.agencia,callback:function(t){e.$set(e.$store.state.entities.informacionEntrega,"agencia",t)},expression:"$store.state.entities.informacionEntrega.agencia"}})],1),t(r["a"],{attrs:{cols:"12",md:"6"}},[t(d["a"],{attrs:{dense:"",label:"Celular",rules:[t=>e.validarTelefono(t)]},model:{value:e.$store.state.entities.informacionEntrega.celular_agencia,callback:function(t){e.$set(e.$store.state.entities.informacionEntrega,"celular_agencia",t)},expression:"$store.state.entities.informacionEntrega.celular_agencia"}})],1)],1),t(c["a"],[t(r["a"],{attrs:{cols:"12",md:"6"}},[t(d["a"],{attrs:{dense:"",label:"Cliente",readonly:""},model:{value:e.$store.state.entities.cliente.nombrecompleto,callback:function(t){e.$set(e.$store.state.entities.cliente,"nombrecompleto",t)},expression:"$store.state.entities.cliente.nombrecompleto"}})],1)],1)],1)],1),e.showNavigationButtons?t(n["a"],[t(a["a"],{attrs:{color:"primary"},on:{click:function(t){e.$store.state.entities.stepper--}}},[e._v("Regresar")])],1):e._e()],1)},m=[],f=i("2f62"),p={name:"SeccionInformacionEntrega",data(){return{}},computed:{isFormReadonly(){return this.$store.state.entities.isReadonly},showFormActions(){return!this.$store.state.entities.isReadonly},showNavigationButtons(){return!(this.$store.state.entities.isEdit||this.$store.state.entities.isReadonly)}},methods:{...Object(f["b"])(["_getCity","_getTown"]),validarTelefono(e){return!(e&&!/^\+?\d+$/.test(e))||"Debe ingresar un teléfono válido"}}},h=p,v=i("2877"),$=Object(v["a"])(h,u,m,!1,null,null,null);t["a"]=$.exports},cbe1:function(e,t,i){"use strict";i("25b1")},e482:function(e,t,i){},e4dd:function(e,t,i){"use strict";i("e482")},f472:function(e,t,i){"use strict";var o=i("8336"),a=i("b0af"),s=i("99d9"),n=i("62ad"),r=i("8fea"),l=i("23a7"),c=i("4bd4"),d=i("132d"),u=i("0fd9"),m=i("e0c7"),f=i("8654"),p=function(){var e=this,t=e._self._c;return t(a["a"],[t(s["c"],{staticClass:"px-2"},[t(m["a"],{staticClass:"px-0"},[t("b",[e._v("Convenios")]),e.showFormActions?[t(o["a"],{staticClass:"ml-auto",attrs:{color:"primary",rounded:"",small:""},on:{click:function(t){return e.agregarConvenio()}}},[e._v("AGREGAR CONVENIO")])]:e._e()],2),t(u["a"],[t(n["a"],{attrs:{cols:"12"}},[t(c["a"],{ref:"formConvenios",attrs:{readonly:e.isFormReadonly}},[t(r["a"],{staticClass:"elevation-5",attrs:{headers:e.headersConvenios,items:e.$store.state.entities.lstConvenios,"item-key":"index","disable-sort":""},scopedSlots:e._u([{key:"item.fecha",fn:function({item:i}){return[t(f["a"],{attrs:{type:"date",rules:[e=>!!e||"Dato Requerido"]},model:{value:i.fecha,callback:function(t){e.$set(i,"fecha",t)},expression:"item.fecha"}})]}},{key:"item.dias_credito",fn:function({item:i}){return[t(f["a"],{attrs:{type:"number",suffix:"días",rules:[e=>e>=0||"Es necesario que ponga un número entero positivo"]},model:{value:i.dias_credito,callback:function(t){e.$set(i,"dias_credito",t)},expression:"item.dias_credito"}})]}},{key:"item.email_soporte",fn:function({item:i}){return[t("div",{staticClass:"d-flex"},[t(f["a"],{attrs:{rules:[t=>e.validarCorreoElectronico(t)]},model:{value:i.email_soporte,callback:function(t){e.$set(i,"email_soporte",t)},expression:"item.email_soporte"}}),e.showFormActions?t(l["a"],{staticClass:"customFile",attrs:{accept:".xlsx,.xls,.doc,.docx,.ppt,.pptx,.txt,.pdf,.gif,.jpg,.jpeg,.png",label:"Adjuntar Archivo","hide-input":""},on:{change:function(t){return e.subirArchivoConvenio(i)}},model:{value:e.fileinput,callback:function(t){e.fileinput=t},expression:"fileinput"}}):e._e()],1)]}},e.showFormActions?{key:"item.action",fn:function({item:i,index:a}){return[t(o["a"],{attrs:{icon:"",color:"red"},on:{click:function(t){return e.eliminarConvenio(a)}}},[t(d["a"],[e._v("mdi-delete")])],1)]}}:null],null,!0)})],1)],1)],1),t("br"),t(m["a"],{staticClass:"px-0"},[t("b",[e._v("Tarifas")]),e.showFormActions?[t(o["a"],{staticClass:"ml-auto",attrs:{color:"primary",rounded:"",small:""},on:{click:function(t){return e.agregarTarifa()}}},[e._v("AGREGAR TARIFA")])]:e._e()],2),t(u["a"],[t(n["a"],{attrs:{cols:"12"}},[t(c["a"],{ref:"formTarifas",attrs:{readonly:e.isFormReadonly}},[t(r["a"],{staticClass:"elevation-5",attrs:{headers:e.headersTarifas,items:e.$store.state.entities.lstTarifas,"item-key":"index","disable-sort":""},scopedSlots:e._u([{key:"item.fecha",fn:function({item:i}){return[t(f["a"],{attrs:{type:"date",rules:[e=>!!e||"Dato Requerido"]},model:{value:i.fecha,callback:function(t){e.$set(i,"fecha",t)},expression:"item.fecha"}})]}},{key:"item.codigo",fn:function({item:i}){return[t(f["a"],{attrs:{rules:[e=>!!e||"Dato Requerido"]},model:{value:i.codigo,callback:function(t){e.$set(i,"codigo",t)},expression:"item.codigo"}})]}},{key:"item.email_soporte",fn:function({item:i}){return[t("div",{staticClass:"d-flex"},[t(f["a"],{attrs:{rules:[t=>e.validarCorreoElectronico(t)]},model:{value:i.email_soporte,callback:function(t){e.$set(i,"email_soporte",t)},expression:"item.email_soporte"}}),e.showFormActions?t(l["a"],{staticClass:"customFile",attrs:{accept:".xlsx,.xls,.doc,.docx,.ppt,.pptx,.txt,.pdf,.gif,.jpg,.jpeg,.png",label:"Adjuntar Archivo","hide-input":""},on:{change:function(t){return e.subirArchivoTarifa(i)}},model:{value:e.fileinput,callback:function(t){e.fileinput=t},expression:"fileinput"}}):e._e()],1)]}},{key:"item.tarifa",fn:function({item:i}){return[t(f["a"],{model:{value:i.tarifa,callback:function(t){e.$set(i,"tarifa",t)},expression:"item.tarifa"}})]}},e.showFormActions?{key:"item.action",fn:function({item:i,index:a}){return[t(o["a"],{attrs:{icon:"",color:"red"},on:{click:function(t){return e.eliminarTarifa(a)}}},[t(d["a"],[e._v("mdi-delete")])],1)]}}:null],null,!0)})],1)],1)],1)],1),e.showNavigationButtons?t(s["a"],[t(o["a"],{attrs:{color:"primary"},on:{click:function(t){e.$store.state.entities.stepper--}}},[e._v("Regresar")]),t(o["a"],{staticClass:"ml-auto",attrs:{color:"primary"},on:{click:e.validarFormulario}},[e._v("Continuar")])],1):e._e()],1)},h=[],v=(i("14d9"),i("e9f5"),i("910d"),i("ab43"),i("2f62")),$=i("c1df"),g=i.n($),_={name:"SeccionConvenios",data(){return{headersConvenios:[{text:"Fecha",value:"fecha",width:"20%"},{text:"Días para Crédito",value:"dias_credito",width:"30%"},{text:"Email Soporte",value:"email_soporte",width:"40%"},{text:"Acciones",value:"action",width:"10%"}],headersTarifas:[{text:"Fecha",value:"fecha",width:"20%"},{text:"Código",value:"codigo",width:"20%"},{text:"Email Soporte",value:"email_soporte",width:"30%"},{text:"Tarifa",value:"tarifa",width:"20%"},{text:"Acciones",value:"action",width:"10%"}],fileinput:null,isFileLoading:!1}},computed:{isFormReadonly(){return this.$store.state.entities.isReadonly},showFormActions(){return!this.$store.state.entities.isReadonly},showNavigationButtons(){return!(this.$store.state.entities.isEdit||this.$store.state.entities.isReadonly)}},methods:{...Object(v["b"])(["_uploadFile"]),validarCorreoElectronico(e){return!(e&&!/^(([^<>()[\]\\.,;:\s@']+(\.[^<>()\\[\]\\.,;:\s@']+)*)|('.+'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e))||"Debe ingresar un correo electrónico válido"},agregarConvenio(){this.$store.state.entities.lstConvenios.push({fecha:g()().format("YYYY-MM-DD"),dias_credito:0,email_soporte:"",id_path:""})},eliminarConvenio(e){this.$store.state.entities.lstConvenios.splice(e,1)},generarCodigoTarifa(){var e=this;let t=0;e.$store.state.entities.lstTarifas.filter(e=>{let i=e.codigo.includes("T")?parseInt(e.codigo.slice(1)):parseInt(e.codigo);t<i&&(t=i)});let i=(parseInt(t)+1).toString().padStart(5,"0");return"T".concat(i)},agregarTarifa(){this.$store.state.entities.lstTarifas.push({fecha:g()().format("YYYY-MM-DD"),codigo:this.generarCodigoTarifa(),email_soporte:"",tarifa:0,id_path:""})},eliminarTarifa(e){this.$store.state.entities.lstTarifas.splice(e,1)},async subirArchivoConvenio(e={}){var t=this;t.fileinput&&(t.isFileLoading=!0,await t._uploadFile(t.fileinput),t.isFileLoading=!1,t.$store.state.files.payPath?(t.$swal({icon:"success",text:"Archivo cargado"}),t.$store.state.entities.lstConvenios.map(i=>(i.id==e.id&&(i["id_path"]=t.$store.state.files.payPath),i))):t.$swal({icon:"error",text:"Comuníquese con el administrador"}))},async subirArchivoTarifa(e={}){var t=this;t.fileinput&&(t.isFileLoading=!0,await t._uploadFile(t.fileinput),t.isFileLoading=!1,t.$store.state.files.payPath?(t.$swal({icon:"success",text:"Archivo cargado"}),t.$store.state.entities.lstTarifas.map(i=>(i.id==e.id&&(i["id_path"]=t.$store.state.files.payPath),i))):t.$swal({icon:"error",text:"Comuníquese con el administrador"}))},validarFormulario(){var e=this;let t=!0;e.$store.state.entities.lstConvenios.length>0&&(e.$refs.formConvenios.validate()||(t=!1));let i=!0;e.$store.state.entities.lstTarifas.length>0&&(e.$refs.formTarifas.validate()||(i=!1)),t&&i&&(e.$store.state.entities.stepper=4)}},watch:{"$store.state.entities.isStep3Valid":{handler(e){e||(this.$refs.formConvenios.validate(),this.$refs.formTarifas.validate())},immediate:!0},"$store.state.entities.lstConvenios":{handler(e){e[0]&&(this.$store.state.entities.cliente.convenioActual=e[0])},deep:!0}}},b=_,x=(i("c17a"),i("2877")),C=Object(x["a"])(b,p,h,!1,null,null,null);t["a"]=C.exports},f9da:function(e,t,i){"use strict";i("190c")}}]);