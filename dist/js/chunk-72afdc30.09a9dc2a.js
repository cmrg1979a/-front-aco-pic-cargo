(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72afdc30"],{"0e8f":function(t,a,e){"use strict";e("20f6");var s=e("e8f2");a["a"]=Object(s["a"])("flex")},"17b3":function(t,a,e){},"1a55":function(t,a,e){"use strict";e("7691")},2733:function(t,a,e){"use strict";var s=e("c6a6"),i=e("8336"),o=e("b0af"),r=e("99d9"),n=e("62ad"),l=e("a523"),c=e("8fea"),d=e("169a"),u=e("0e8f"),p=e("4bd4"),h=e("132d"),m=e("0fd9"),g=e("b974"),f=e("1f4f"),v=e("2fa4"),$=e("8654"),C=function(){var t=this,a=t._self._c;return a(l["a"],{staticClass:"pa-0",attrs:{fluid:""}},[a(o["a"],{attrs:{elevation:"0"}},[a(r["d"],{attrs:{"primary-title":""}},[t._v(" Datos de la Carga ")]),a(r["c"],[a(p["a"],{ref:"frmPuerto"},[a(m["a"],[a(n["a"],{staticClass:"py-1",attrs:{cols:"12",lg:"6",xl:"6"}},[a(s["a"],{staticClass:"my-1",attrs:{label:"Puerto Origen",outlined:"",dense:"",rules:[t=>!!t||"Dato requerido"],items:t.$store.state.aduana.listPortBegin,"item-text":"name","item-value":"id_port"},on:{"update:search-input":t.recargarPuertoOrigen},model:{value:t.$store.state.aduana.datosPrincipales.idorigen,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"idorigen",a)},expression:"$store.state.aduana.datosPrincipales.idorigen"}})],1),a(n["a"],{staticClass:"py-1",attrs:{cols:"12",lg:"6",xl:"6"}},[a(s["a"],{staticClass:"my-1",attrs:{label:"Puerto Destino",outlined:"",dense:"",rules:[t=>!!t||"Dato requerido"],items:t.$store.state.aduana.listPortEnd,"item-text":"name","item-value":"id_port"},on:{"update:search-input":t.recargarPuertoDestino},model:{value:t.$store.state.aduana.datosPrincipales.iddestino,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"iddestino",a)},expression:"$store.state.aduana.datosPrincipales.iddestino"}})],1),t.mostrarComboPercepcionAduana()?a(n["a"],{staticClass:"py-1",attrs:{cols:"12",lg:"6",xl:"6"}},[a(s["a"],{staticClass:"my-1",attrs:{label:"Primera o Segunda Importación",outlined:"",dense:"",rules:[t=>!!t||"Dato requerido"],items:t.$store.state.masterusuarios.lstPercepcionAduana,"item-text":"descripcion","item-value":"id"},on:{change:function(a){return t.cambiarImpuesto()}},model:{value:t.$store.state.aduana.datosPrincipales.id_percepcionaduana,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"id_percepcionaduana",a)},expression:"\n                $store.state.aduana.datosPrincipales.id_percepcionaduana\n              "}})],1):t._e()],1)],1),a(m["a"],[a(n["a"],{staticClass:"center"},[a(h["a"],{attrs:{color:"red"}},[t._v("mdi-arrow-down-left-bold")]),a("b",[t._v("LLENAR ESTOS CAMPOS")]),a(h["a"],{attrs:{color:"red"}},[t._v("mdi-arrow-down-right-bold")])],1)],1),a(p["a"],{ref:"frmDatosCarga"},[t.isFcl?a(m["a"],[a(n["a"],{attrs:{cols:"12",align:"right"}},[a(i["a"],{attrs:{color:"success"},on:{click:function(a){t.dialogConteiner=!t.dialogConteiner}}},[t._v(" Agregar Contenedor ")])],1),a(n["a"],{attrs:{cols:"12"}},[a(c["a"],{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.$store.state.aduana.datosPrincipales.containers},scopedSlots:t._u([{key:"item.action",fn:function(e){return[a(i["a"],{attrs:{icon:"",color:"red",dark:""},on:{click:function(a){return t.eliminarContainer({index:e.index})}}},[a(h["a"],[t._v("mdi-delete")])],1)]}},{key:"item.number",fn:function(a){return[t._v(" "+t._s(a.index+1)+" ")]}}],null,!0)})],1)],1):a(m["a"],[a(n["a"],{attrs:{cols:"12",lg:"4",xl:"4"}},[a($["a"],{attrs:{label:"Número Bultos",outlined:"",dense:"",type:"number",suffix:"uni","error-messages":t.err,step:"1",rules:[t=>!!t||"Dato Requerido",t=>/^-?\d+$/.test(t)||"Debe ser un número entero válido",t=>t>0||"El valor tiene que ser un númro positivo"]},model:{value:t.numerobultos,callback:function(a){t.numerobultos=a},expression:"numerobultos"}})],1),a(n["a"],{attrs:{cols:"12",lg:"4",xl:"4"}},[a($["a"],{attrs:{label:"Volumen",outlined:"",dense:"",type:"number",suffix:"m3",rules:[t=>!!t||"Dato Requerido",t=>t>0||"El valor tiene que ser un númro positivo"]},model:{value:t.volumen,callback:function(a){t.volumen=a},expression:"volumen"}})],1),a(n["a"],{attrs:{cols:"12",lg:"4",xl:"4"}},[a($["a"],{attrs:{label:"Peso",outlined:"",dense:"",type:"number",suffix:"kg",rules:[t=>!!t||"Dato Requerido",t=>t>0||"El valor tiene que ser un númro positivo"]},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.anadirCarga()}},model:{value:t.peso,callback:function(a){t.peso=a},expression:"peso"}})],1),a(n["a"],{attrs:{cols:"12",align:"center"}},[a(i["a"],{staticClass:"mx-1",attrs:{small:"",color:"info"},on:{click:function(a){return t.anadirCarga()}}},[t._v(" AGREGAR ")]),a(i["a"],{staticClass:"mx-1",attrs:{small:"",color:"warning"},on:{click:function(a){t.calculadoraFlag=!t.calculadoraFlag}}},[t._v(" USAR CALCULADORA ")])],1),a(n["a"],{attrs:{cols:"12"}},[a(f["a"],{staticClass:"elevation-1 my-2",attrs:{dense:""}},[a("thead",{staticClass:"teal lighten-2 white--text"},[a("tr",[a("th",[t._v("Cant. Bultos")]),a("th",[t._v("Peso")]),a("th",[t._v("Volumen")])])]),a("tbody",[a("tr",[a("td",[t._v(" "+t._s(t.$store.state.aduana.datosPrincipales.numerobultos)+" ")]),a("td",[t._v(t._s(t.$store.state.aduana.datosPrincipales.peso))]),a("td",[t._v(t._s(t.$store.state.aduana.datosPrincipales.volumen))])])])])],1)],1)],1)],1),t.mostrarContinuarFlag&&t.mostrarBtn?a(r["a"],{staticClass:"mt-auto"},[a(v["a"]),a(i["a"],{attrs:{color:"#3F51B5",small:"",dark:""},on:{click:function(a){return t.aceptar()}}},[t._v(" Continuar Servicios ")])],1):t._e()],1),a(d["a"],{attrs:{scrollable:"",persistent:"","max-width":"30%",transition:"dialog-transition"},model:{value:t.dialogConteiner,callback:function(a){t.dialogConteiner=a},expression:"dialogConteiner"}},[a(o["a"],[a(r["d"],{attrs:{"primary-title":""}},[t._v(" Añadir Contenedor ")]),a(r["c"],[a(p["a"],{ref:"frmContainer"},[a(g["a"],{attrs:{items:t.$store.state.itemsContainers,label:"Container","item-text":"name","item-value":"id",rules:[t=>!!t||"Dato Requerido"],"error-messages":t.err,"return-object":""},model:{value:t.containers.container,callback:function(a){t.$set(t.containers,"container",a)},expression:"containers.container"}}),a($["a"],{attrs:{name:"Cantidad",label:"Cantidad",type:"number",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.containers.cantidad,callback:function(a){t.$set(t.containers,"cantidad",a)},expression:"containers.cantidad"}})],1)],1),a(r["a"],[a(v["a"]),a(i["a"],{attrs:{color:"success"},on:{click:function(a){return t.guardarContainer()}}},[t._v("Aceptar")]),a(i["a"],{attrs:{color:"red",dark:""},on:{click:function(a){t.dialogConteiner=!t.dialogConteiner}}},[t._v(" Cancelar ")])],1)],1)],1),a(d["a"],{attrs:{"max-width":"40%"},model:{value:t.calculadoraFlag,callback:function(a){t.calculadoraFlag=a},expression:"calculadoraFlag"}},[a(o["a"],[a(r["d"],{staticClass:"custom-card-title justify-center"},[a("h3",[t._v("CALCULADORA VOLUMÉTRICA")])]),a(r["c"],[a(l["a"],[a(p["a"],{ref:"calcularPesoFrom"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a(s["a"],{attrs:{dense:"",items:t.unidadesLongitud,label:"Longitud",rules:[t=>!!t||"Dato Requerido.",t=>t>0||"El valor tiene que ser un númro positivo"]},model:{value:t.fromMedidas.idLongitud,callback:function(a){t.$set(t.fromMedidas,"idLongitud",a)},expression:"fromMedidas.idLongitud"}})],1),a("div",{staticClass:"col-4"},[a(s["a"],{attrs:{dense:"",items:t.unidadesPeso,label:"Peso",rules:[t=>!!t||"Dato Requerido."]},model:{value:t.fromMedidas.idpeso,callback:function(a){t.$set(t.fromMedidas,"idpeso",a)},expression:"fromMedidas.idpeso"}})],1),a("div",{staticClass:"col-4"},[a($["a"],{attrs:{type:"number",min:"1",label:"N° Bultos",required:"",dense:"",step:"1",rules:[t=>!!t||"Dato Requerido.",t=>/^-?\d+$/.test(t)||"Debe ser un número entero válido",t=>t>0||"El dato debe ser positivo"]},model:{value:t.fromMedidas.bultos,callback:function(a){t.$set(t.fromMedidas,"bultos",a)},expression:"fromMedidas.bultos"}})],1),a("div",{staticClass:"col-12 t-blue justify-center"},[a("b",[t._v("MEDIDAS POR CADA BULTO")])]),a("div",{staticClass:"col-3"},[a($["a"],{attrs:{type:"text",label:"Largo",required:"",dense:"",rules:[t=>!!t||"Dato Requerido.",t=>t>0||"El valor tiene que ser un númro positivo"],inputmode:"numeric"},model:{value:t.fromMedidas.largo,callback:function(a){t.$set(t.fromMedidas,"largo",a)},expression:"fromMedidas.largo"}})],1),a("div",{staticClass:"col-3"},[a($["a"],{attrs:{type:"text",label:"Ancho",required:"",dense:"",rules:[t=>!!t||"Dato Requerido.",t=>t>0||"El valor tiene que ser un númro positivo"],inputmode:"numeric"},model:{value:t.fromMedidas.ancho,callback:function(a){t.$set(t.fromMedidas,"ancho",a)},expression:"fromMedidas.ancho"}})],1),a("div",{staticClass:"col-3"},[a($["a"],{attrs:{type:"text",label:"Alto",required:"",dense:"",rules:[t=>!!t||"Dato Requerido.",t=>t>0||"El valor tiene que ser un númro positivo"],inputmode:"numeric"},model:{value:t.fromMedidas.alto,callback:function(a){t.$set(t.fromMedidas,"alto",a)},expression:"fromMedidas.alto"}})],1),a("div",{staticClass:"col-3"},[a($["a"],{attrs:{type:"number",min:"0",step:"0.01",label:"Peso X Bulto",required:"",dense:"",rules:[t=>!!t||"Dato Requerido.",t=>t>0||"El valor tiene que ser un númro positivo"]},model:{value:t.fromMedidas.peso,callback:function(a){t.$set(t.fromMedidas,"peso",a)},expression:"fromMedidas.peso"}})],1),a(u["a"],{attrs:{"text-right":""}},[a(i["a"],{staticClass:"me-2 text-white",attrs:{dense:"",small:"",color:"#fb9514",dark:""},on:{click:function(a){return t.calcular()}}},[a("b",[t._v("Calcular")])])],1)],1)]),a("div",{staticClass:"col-12"},[a("span",{staticClass:"mt-2 ma-1 pa-1"},[t._v(" Nota: Los valores de Peso y Volumen serán convertidos automáticamente al sistema MKS (Metros, Kilogramos, segundos) respectivamente. ")]),t.tblMedida.length>0?a(f["a"],{staticClass:"elevation-1",attrs:{dense:""}},[a("thead",{staticClass:"success white--text"},[a("tr",[a("td",[t._v("#")]),a("td",[t._v("Uni(s)")]),a("td",[t._v("Peso (Kg.)")]),a("td",[t._v("Volumen (m "),a("sup",[t._v("3")]),t._v(")")]),a("td")])]),a("tbody",[t._l(t.tblMedida,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[a($["a"],{attrs:{type:"number",outlined:"",solo:"",dense:"","hide-details":""},on:{input:t.recalcularCalculadora},model:{value:e.uni,callback:function(a){t.$set(e,"uni",a)},expression:"medida.uni"}})],1),a("td",[a($["a"],{attrs:{type:"number",outlined:"",solo:"",dense:"","hide-details":""},on:{input:t.recalcularCalculadora},model:{value:e.peso,callback:function(a){t.$set(e,"peso",a)},expression:"medida.peso"}})],1),a("td",[a($["a"],{attrs:{type:"number",outlined:"",solo:"",dense:"","hide-details":""},on:{input:t.recalcularCalculadora},model:{value:e.volumen,callback:function(a){t.$set(e,"volumen",a)},expression:"medida.volumen"}})],1),a("td",[a(i["a"],{staticClass:"ma-0 pa-0",attrs:{dense:"",icon:""}},[a(h["a"],{attrs:{color:"orange darken-4"},on:{click:function(a){return t.borrarFila(s)}}},[t._v("mdi-delete-circle")])],1)],1)])})),a("tr",[a("td",[t._v(t._s(t.tblTotal.descripcion))]),a("td",[t._v(t._s(t.tblTotal.uni))]),a("td",[t._v(t._s(t.tblTotal.peso))]),a("td",[t._v(t._s(t.tblTotal.volumen))])])],2)]):t._e()],1)],1)],1),a(r["a"],[a(v["a"]),a(i["a"],{attrs:{color:"success",dark:"",small:"",disabled:t.tblMedida.length<0},on:{click:function(a){return t.guardarDatosCalculadora()}}},[t._v(" Aceptar ")]),a(i["a"],{attrs:{color:"red white--text",small:""},on:{click:function(a){t.calculadoraFlag=!t.calculadoraFlag}}},[t._v(" Cerrar ")])],1)],1)],1)],1)},b=[],_=(e("14d9"),e("e9f5"),e("910d"),e("7d54"),e("a732"),e("2f62")),x=e("3d20"),P=e.n(x),y=e("54e1"),k={name:"DatosCargaComponent",mixins:[y["a"]],props:{mostrarBtn:{type:Boolean,default:!0},abrirModalContenedorRecargar:{type:Boolean,default:!1}},data(){return{mostrarContinuarFlag:!0,headers:[{text:"",value:"action"},{text:"#",value:"number"},{text:"Tipo Contendor",value:"description"},{text:"Cantidad",value:"cantidad"}],dialogConteiner:!1,numerobultos:"",volumen:"",peso:"",err:"",containers:{container:"",cantidad:""},calculadoraFlag:!1,unidadesLongitud:[{text:"Centimetros",value:1,factor:.01},{text:"Metros",value:2,factor:1},{text:"Pulgadas",value:3,factor:.0254},{text:"Pie",value:4,factor:.3048},{text:"Milímetros",value:5,factor:.001}],unidadesPeso:[{text:"Kilo",value:1,factor:1},{text:"Libra",value:2,factor:.4535},{text:"Tonelada",value:3,factor:1e3}],fromMedidas:{idLongitud:null,idpeso:null,bultos:null,largo:null,ancho:null,alto:null,peso:null},tblMedida:[],tblTotal:{descripcion:null,uni:null,peso:null,volumen:null}}},async mounted(){},computed:{abrirModalContenedor:{get(){return this.$store.state.aduana.abrirModalContenedor}}},watch:{abrirModalContenedorRecargar(){0==this.$store.state.aduana.datosPrincipales.containers.length&&(this.dialogConteiner=!0)},async abrirModalContenedor(){let t=this.$store.state.aduana.listShipment.some(t=>t.id==(this.$store.state.aduana.datosPrincipales.idtipocarga.id?this.$store.state.aduana.datosPrincipales.idtipocarga.id:this.$store.state.aduana.datosPrincipales.idtipocarga)&&"FCL"==t.code);t&&0==this.$store.state.aduana.datosPrincipales.containers.length&&(this.dialogConteiner=!0),t||0!=this.$store.state.aduana.datosPrincipales.numerobultos&&0!=this.$store.state.aduana.datosPrincipales.peso&&0!=this.$store.state.aduana.datosPrincipales.volumen||P.a.fire({icon:"info",title:"Importante",text:"Es necesario llenar los datos, el Nro Bultos, Volumen, Peso."})}},methods:{...Object(_["b"])(["_getContainers","getPortBeginAduana","getPortEndAduana"]),async recargarPuertoOrigen(t){let a="object"===typeof this.$store.state.aduana.datosPrincipales.idtipocarga?this.$store.state.aduana.datosPrincipales.idtipocarga.id:this.$store.state.aduana.datosPrincipales.idtipocarga,e=this.$store.state.aduana.listShipment.filter(t=>t.id==a);await this.getPortBeginAduana({id_transport:e[0].id_transport,id:this.$store.state.aduana.datosPrincipales.idorigen,search:t})},async recargarPuertoDestino(t){let a="object"===typeof this.$store.state.aduana.datosPrincipales.idtipocarga?this.$store.state.aduana.datosPrincipales.idtipocarga.id:this.$store.state.aduana.datosPrincipales.idtipocarga,e=this.$store.state.aduana.listShipment.filter(t=>t.id==a);await this.getPortEndAduana({id_transport:e[0].id_transport,id:this.$store.state.aduana.datosPrincipales.iddestino,search:t})},anadirCarga(){this.$refs.frmDatosCarga.validate()&&(this.$store.state.aduana.datosPrincipales.numerobultos=this.numerobultos,this.$store.state.aduana.datosPrincipales.volumen=this.volumen,this.$store.state.aduana.datosPrincipales.peso=this.peso,this.$refs.frmDatosCarga.reset(),this.$store.state.aduana.actualizarCostosFlag=!this.$store.state.aduana.actualizarCostosFlag)},async guardarContainer(){this.$store.state.aduana.listCostos.length;this.err="",this.$refs.frmContainer.validate()&&(0==this.$store.state.aduana.datosPrincipales.containers.filter(t=>t.id==this.containers.container.id).length?(this.$store.state.aduana.datosPrincipales.containers.push({id_containers:this.containers.container.id,id:this.containers.container.id,description:this.containers.container.name,cantidad:this.containers.cantidad,code:this.containers.container.code}),this.dialogConteiner=!1,this.containers={container:"",cantidad:""},this.$emit("recargarCostos",!1)):this.err="Contenedor ya se encuentra en la lista")},async eliminarContainer({index:t=null}){this.$store.state.aduana.datosPrincipales.containers.splice(t,1),this.$emit("recargarCostos")},async aceptar(){let t=!0;this.$refs.frmPuerto.validate()&&("FCL"==this.$store.state.aduana.datosPrincipales.idtipocarga.code&&0==this.$store.state.aduana.datosPrincipales.containers.length&&(P.a.fire({icon:"error",title:"Aviso",text:"Se necesita al menos un contenedor"}),t=!1),"FCL"!=this.$store.state.aduana.datosPrincipales.idtipocarga.code&&(this.$store.state.aduana.datosPrincipales.numerobultos||this.$store.state.aduana.datosPrincipales.volumen||this.$store.state.aduana.datosPrincipales.peso||(P.a.fire({icon:"error",title:"Aviso",text:"Se necesita los datos de la carga"}),t=!1)),t&&(this.$emit("activarServicios"),this.mostrarContinuarFlag=!1))},calcular(){if(this.$refs.calcularPesoFrom.validate()){let t=this.unidadesLongitud.filter(t=>t.value==this.fromMedidas.idLongitud)[0].factor,a=this.unidadesPeso.filter(t=>t.value==this.fromMedidas.idpeso)[0].factor,e=this.fromMedidas.largo*this.fromMedidas.ancho*this.fromMedidas.alto*Math.pow(t,3),s=a*this.fromMedidas.peso*this.fromMedidas.bultos;this.tblMedida.push({uni:this.fromMedidas.bultos,peso:parseFloat(s).toFixed(2),volumen:parseFloat(this.fromMedidas.bultos*e).toFixed(2)}),this.$nextTick(()=>{this.$refs.calcularPesoFrom.reset(),this.total()})}},total(){this.tblTotal=null;let t=0,a=0,e=0;this.tblMedida.forEach(s=>{t+=parseFloat(s.uni),a+=parseFloat(s.peso),e+=parseFloat(s.volumen)}),this.tblTotal={descripcion:"Total:",uni:t,peso:a,volumen:e}},borrarFila(t){this.tblMedida.splice(t,1),this.total()},guardarDatosCalculadora(){this.$store.state.aduana.datosPrincipales.numerobultos=this.tblTotal.uni,this.$store.state.aduana.datosPrincipales.volumen=this.tblTotal.volumen,this.$store.state.aduana.datosPrincipales.peso=this.tblTotal.peso,this.calculadoraFlag=!1,this.$store.state.aduana.actualizarCostosFlag=!this.$store.state.aduana.actualizarCostosFlag},mostrarComboPercepcionAduana(){let t=9589==JSON.parse(sessionStorage.getItem("iso_pais"));return t&&this.$store.state.aduana.listModality.some(t=>t.id==this.$store.state.aduana.datosPrincipales.idsentido&&"I"==t.code)},cambiarImpuesto(){let t="10";this.$store.state.aduana.listImpuestos.length>0&&(this.$store.state.aduana.listImpuestos.filter(t=>"09"==t.codigo)[0].codigo01="10"),this.$store.state.aduana.datosPrincipales.id_percepcionaduana&&(t=this.$store.state.masterusuarios.lstPercepcionAduana.filter(t=>t.id==this.$store.state.aduana.datosPrincipales.id_percepcionaduana)[0].codigo01,this.$store.state.aduana.listImpuestos.length>0&&(this.$store.state.aduana.listImpuestos.filter(t=>"09"==t.codigo)[0].codigo01="10"));let a=[...this.$store.state.aduana.listImpuestos];a.length>0&&(a.filter(t=>"09"==t.codigo)[0].codigo01=t,this.$store.commit("ACTUALIZAR_IMPUEST",a)),this.$store.state.aduana.opcionCostos.forEach(a=>{a.listImpuestos.length>0&&(a.listImpuestos.filter(t=>"09"==t.codigo)[0].codigo01=t)}),this.$forceUpdate()},recalcularCalculadora(){let t=0,a=0,e=0;this.tblMedida.forEach(s=>{t+=parseFloat(s.uni),a+=parseFloat(s.peso),e+=parseFloat(s.volumen)}),this.tblTotal.uni=parseFloat(t).toFixed(2),this.tblTotal.peso=parseFloat(a).toFixed(2),this.tblTotal.volumen=parseFloat(e).toFixed(2)}},computed:{getPuertoOrigen(){let t=[];if(!this.$store.state.aduana.datosPrincipales.iddestino)return this.$store.state.aduana.listPortBegin;var a=this.$store.state.aduana.listPortEnd.filter(t=>t.id_port==this.$store.state.aduana.datosPrincipales.iddestino)[0].id_port;return t=this.$store.state.aduana.listPortBegin.filter(t=>t.id_port!=a),t},getPuertoDestino(){let t=[];if(this.$store.state.aduana.datosPrincipales.idorigen){var a=this.$store.state.aduana.listPortBegin.filter(t=>t.id_port==this.$store.state.aduana.datosPrincipales.idorigen)[0].id_port;t=this.$store.state.aduana.listPortEnd.filter(t=>t.id_port!=a)}else t=this.$store.state.aduana.listPortEnd;return t},isFcl(){return"object"===typeof this.$store.state.aduana.datosPrincipales.idtipocarga?"FCL"===this.$store.state.aduana.datosPrincipales.idtipocarga.code:"object"!==typeof this.$store.state.aduana.datosPrincipales.idtipocarga&&this.$store.state.aduana.listShipment.some(t=>t.id==this.$store.state.aduana.datosPrincipales.idtipocarga&&"FCL"==t.code)}}},F=k,S=(e("6ce7"),e("2877")),O=Object(S["a"])(F,C,b,!1,null,null,null);a["a"]=O.exports},"34e1":function(t,a,e){"use strict";var s=e("c65b"),i=e("825a"),o=e("46c4"),r=e("35a1");t.exports=function(t,a){a&&"string"===typeof t||i(t);var e=r(t);return o(i(void 0!==e?s(e,t):t))}},"387e":function(t,a,e){"use strict";var s=e("8336"),i=e("b0af"),o=e("99d9"),r=e("62ad"),n=e("8fea"),l=e("169a"),c=e("cd55"),d=e("49e2"),u=e("c865"),p=e("0393"),h=e("4bd4"),m=e("132d"),g=e("891e"),f=e("67b6"),v=e("43a6"),$=e("0fd9"),C=e("1f4f"),b=e("2fa4"),_=e("8654"),x=e("a844"),P=(e("e9f5"),e("910d"),function(){var t=this,a=t._self._c;return this.opcionesSeleccionadas.length>0?a(i["a"],{attrs:{fluid:""}},[a(l["a"],{attrs:{persistent:"","max-width":"30%",transition:"dialog-transition"},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[a(i["a"],[a(o["d"],{attrs:{"primary-title":""}},[t._v(" Registro de nueva nota - Opción "+t._s(t.opcionesSeleccionadas[t.page].nro_propuesta)),a(b["a"]),a(s["a"],{attrs:{icon:"",color:"default"},on:{click:function(a){return t.abrirDialog()}}},[a(m["a"],[t._v("mdi-close")])],1)],1),a(o["c"],[a(h["a"],{ref:"frmNota"},[a(_["a"],{attrs:{label:"Descripción Nota Nueva",id:"id",rules:[t=>!!t||"Dato requerido"]},model:{value:t.descripcion,callback:function(a){t.descripcion=a},expression:"descripcion"}})],1)],1),a(o["a"],[a(b["a"]),a(s["a"],{attrs:{color:"success"},on:{click:t.anidarNota}},[t._v("Agregar Nueva nota")])],1)],1)],1),a($["a"],[a(r["a"],{attrs:{cols:"12"}},[t._v(" Añadir nueva Nota: Opción "+t._s(t.opcionesSeleccionadas[t.page].nro_propuesta)+" "),a(s["a"],{attrs:{icon:"",color:"primary"},on:{click:function(a){t.dialog=!t.dialog}}},[a(m["a"],[t._v("mdi-plus")])],1)],1),a(r["a"],{staticClass:"derecha",attrs:{cols:"12"}},[[a("div",{staticClass:"text-center"},[a(g["a"],{attrs:{length:t.opcionesSeleccionadas.length,circle:""},model:{value:t.$store.state.aduana.page,callback:function(a){t.$set(t.$store.state.aduana,"page",a)},expression:"$store.state.aduana.page"}})],1)]],2),a(r["a"],{attrs:{cols:"12"}},[a(p["a"],{staticClass:"my-1 condensed",attrs:{hover:""}},[a(c["a"],[a(u["a"],[t._v(" Notas Principales ")]),a(d["a"],[a(n["a"],{attrs:{headers:t.headers,items:t.opcionesSeleccionadas[t.$store.state.aduana.page-1].listNotasQuote.filter(t=>1==t.estado&&!t.statusincluye&&!t.statusnoincluye),"hide-default-footer":"",dense:"","disable-sort":"","items-per-page":-1},scopedSlots:t._u([{key:"item",fn:function(e){return[a("tr",[a("td",{staticClass:"indexTblClass"},[t._v(t._s(e.index+1))]),a("td",{staticClass:"btnDescriptionClass"},[a(x["a"],{attrs:{"hide-details":"",dense:"",rows:"1","auto-grow":""},model:{value:e.item.descripcion,callback:function(a){t.$set(e.item,"descripcion",a)},expression:"row.item.descripcion"}})],1),a("td",{staticClass:"btnTblClass"},[a(s["a"],{attrs:{icon:"",color:"red","x-small":""},on:{click:function(t){e.item.estado=0}}},[a(m["a"],[t._v("mdi-delete")])],1)],1)])]}}],null,!1,2238541751)})],1)],1)],1)],1),a(r["a"],{attrs:{cols:"12"}},[a(p["a"],{staticClass:"my-1 condensed",attrs:{hover:""}},[a(c["a"],[a(u["a"],[a("span",{staticClass:"d-inline-flex align-center"},[t._v(" Se incluye "),a(s["a"],{staticClass:"ml-2",attrs:{color:"success","x-small":"",icon:""},on:{click:function(a){return t.abrirDialog({statusincluye:1})}}},[a(m["a"],[t._v("mdi-plus")])],1)],1)]),a(d["a"],[a(n["a"],{attrs:{headers:t.headers,items:t.lstSeIncluye,"hide-default-footer":"",dense:"","items-per-page":-1,"disable-sort":""},scopedSlots:t._u([{key:"item",fn:function(e){return[a("tr",[a("td",{staticClass:"indexTblClass"},[t._v(t._s(e.index+1))]),a("td",{staticClass:"btnDescriptionClass"},[a(x["a"],{attrs:{readonly:"","hide-details":"",dense:"",rows:"1","auto-grow":""},model:{value:e.item.service,callback:function(a){t.$set(e.item,"service",a)},expression:"row.item.service"}})],1)])]}}],null,!1,11825076)})],1)],1)],1)],1),a(p["a"],{staticClass:"my-1 condensed",attrs:{hover:""}},[a(c["a"],[a(u["a"],[a("span",{staticClass:"d-inline-flex align-center"},[t._v(" No Se Incluye "),a(s["a"],{staticClass:"ml-2",attrs:{color:"success","x-small":"",icon:""},on:{click:function(a){return t.abrirDialog({statusnoincluye:1})}}},[a(m["a"],[t._v("mdi-plus")])],1)],1)]),a(d["a"],[a(n["a"],{attrs:{headers:t.headers,items:t.lstNoIncluye,"hide-default-footer":"",dense:"","items-per-page":-1,"disable-sort":""},scopedSlots:t._u([{key:"item",fn:function(e){return[a("tr",[a("td",{staticClass:"indexTblClass"},[t._v(t._s(e.index+1))]),a("td",{staticClass:"btnDescriptionClass"},[a(x["a"],{attrs:{readonly:"","hide-details":"",dense:"",rows:"1","auto-grow":""},model:{value:e.item.service,callback:function(a){t.$set(e.item,"service",a)},expression:"row.item.service"}})],1)])]}}],null,!1,11825076)})],1)],1)],1),a(r["a"],{staticClass:"derecha"},[a(s["a"],{attrs:{color:"#3363A2",dark:""},on:{click:function(a){return t.abrirModalCambioNombreSecciones()}}},[t._v(" PREVIEW COTIZACIÓN(es)")])],1)],1),a(l["a"],{attrs:{scrollable:"",persistent:"",width:"50%"},model:{value:t.dialogCambioNombreSecciones,callback:function(a){t.dialogCambioNombreSecciones=a},expression:"dialogCambioNombreSecciones"}},[a(i["a"],[a(o["d"],[t._v(" Secciones de los costos ")]),a(o["c"],[a(C["a"],[a("thead",[a("tr",[a("th",[t._v("Código")]),a("th",[t._v("Nombre")])])]),a("tbody",t._l(t.$store.state.aduana.namesection,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.codigo))]),a("td",[a(_["a"],{model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"tipocosto.name"}})],1)])})),0)])],1),a(o["a"],[a(s["a"],{staticClass:"mx-1",attrs:{color:"success"},on:{click:function(a){return t.abrirModalTipoReportePreview()}}},[t._v("Aceptar")]),a(s["a"],{staticClass:"mx-1",attrs:{color:"warning"},on:{click:function(a){t.dialogCambioNombreSecciones=!t.dialogCambioNombreSecciones}}},[t._v("Cerrar")])],1)],1)],1),t.imprimirFlag?a(l["a"],{attrs:{"max-width":"40%"},model:{value:t.imprimirFlag,callback:function(a){t.imprimirFlag=a},expression:"imprimirFlag"}},[a(i["a"],{staticClass:"py-5",attrs:{color:""}},[a(o["d"],{attrs:{"primary-title":""}},[t._v(" SELECCIÓN DE TIPO DE REPORTE A IMPRIMIR ")]),a(o["c"],[a(h["a"],{ref:"frmReporte"},[a(v["a"],{attrs:{disabled:"",column:"",rules:[t=>!!t||"Dato requerido"]},model:{value:t.tiporeporte,callback:function(a){t.tiporeporte=a},expression:"tiporeporte"}},[a(f["a"],{attrs:{label:"Costo detallado por cada item",color:"red darken-3",value:"DETALLE"}}),a(f["a"],{attrs:{label:"Totales por servicios",color:"indigo darken-3",value:"TOTAL"}}),a(f["a"],{attrs:{label:"Reporte total general sin desglose",color:"orange darken-3",value:"AGRUPADO"}})],1)],1)],1),a(o["a"],[a(b["a"]),a(s["a"],{attrs:{color:"primary",loading:t.loading,text:""},on:{click:t.generar}},[t._v(" Aceptar ")]),a(s["a"],{attrs:{color:"red",text:""},on:{click:function(a){t.imprimirFlag=!1}}},[t._v(" Cancelar ")])],1)],1)],1):t._e(),t.previewFlag?a(l["a"],{attrs:{"max-width":"40%"},model:{value:t.previewFlag,callback:function(a){t.previewFlag=a},expression:"previewFlag"}},[a(i["a"],{staticClass:"py-5",attrs:{color:""}},[a(o["d"],{attrs:{"primary-title":""}},[t._v(" SELECCIÓN DE TIPO DE REPORTE PARA LA PREVISUALIZACIÓN ")]),a(o["c"],[a(h["a"],{ref:"frmReporte"},[a(v["a"],{attrs:{column:"",rules:[t=>!!t||"Dato requerido"]},model:{value:t.tiporeporte,callback:function(a){t.tiporeporte=a},expression:"tiporeporte"}},[a(f["a"],{attrs:{label:"Costo detallado por cada item",color:"red darken-3",value:"DETALLE"}}),a(f["a"],{attrs:{label:"Totales por servicios",color:"indigo darken-3",value:"TOTAL"}}),a(f["a"],{attrs:{label:"Reporte total general sin desglose",color:"orange darken-3",value:"AGRUPADO"}})],1)],1)],1),a(o["a"],[a(b["a"]),a(s["a"],{attrs:{color:"primary",text:""},on:{click:t.generarPreview}},[t._v(" Aceptar ")]),a(s["a"],{attrs:{color:"red",text:""},on:{click:function(a){t.previewFlag=!1}}},[t._v(" Cancelar ")])],1)],1)],1):t._e(),a(l["a"],{attrs:{scrollable:"",persistent:"","max-width":"80%",transition:"dialog-transition"},model:{value:t.dialogPreview,callback:function(a){t.dialogPreview=a},expression:"dialogPreview"}},[a(i["a"],[a(o["d"],{staticClass:"indigo white--text my-0 py-0",attrs:{dark:""}},[t._v(" PREVISUALIZACIÓN DE LA COTIZACIÓN - NO TIENE NINGÚN VALOR COMERCIAL "),a(b["a"]),a(s["a"],{attrs:{icon:"",color:"white"},on:{click:function(a){t.dialogPreview=!t.dialogPreview}}},[a(m["a"],[t._v("mdi-close")])],1)],1),a(o["c"],[a("previewCotizacion",{attrs:{data:t.predataCotizacion,index:t.pagePrev},on:{cerrar:function(a){t.dialogPreview=a}}})],1),a(o["a"],[[a("div",{staticClass:"text-center"},[a(g["a"],{attrs:{length:t.opcionesSeleccionadas.length,circle:""},model:{value:t.pagePrev,callback:function(a){t.pagePrev=a},expression:"pagePrev"}})],1)],a(b["a"]),a(s["a"],{staticClass:"mx-1",staticStyle:{color:"white !important"},attrs:{color:"#A43542",small:"",disabled:t.$store.state.aduana.bloquearBtnImprimir},on:{click:function(a){return t.abrirModalTipoReporte()}}},[t._v(" Imprimir Cotizacion ")])],2)],1)],1)],1):t._e()}),y=[],k=(e("14d9"),e("ab43"),e("2f62")),F=e("3d20"),S=e.n(F),O={components:{previewCotizacion:()=>e.e("chunk-73b7296e").then(e.bind(null,"2cb4"))},data(){return{dialog:!1,headers:[{value:"index",text:"#"},{value:"description",text:"Descripción",align:"center"}],pagePrev:1,tiporeporte:"",descripcion:"",predataCotizacion:null,dialogPreview:!1,previewFlag:!1,imprimirFlag:!1,loading:!1,dialogCambioNombreSecciones:!1,statusincluye:0,statusnoincluye:0}},mounted(){this.dialog=!1,this.dialogPreview=!1},methods:{...Object(k["b"])(["registrarAduana","getQuote","obtenerDatosEmpresaAduana","generarReporteAduana","crearCarpetaOneDrive","actualizarURLEnElQuote","predataAduana","actualizarQuoteAduana"]),llenarNotasSeleccionadas(){this.opcionesSeleccionadas=this.$store.state.aduana.opcionCostos.filter(t=>!!t.selected)},abrirModalTipoReporte(){this.tiporeporte="",this.dialogPreview=!1,this.previewFlag=!0},abrirModalCambioNombreSecciones(){S.a.fire({icon:"question",width:1e3,html:"<h1> ¿Desea cambiar el nombre de la secciones?. Recuerde que  este cambio se verá reflejado solo en la cotización(pdf) </h1>",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,confirmButtonText:"<h1>Si cambiar</h1>",showCancelButton:!0,showDenyButton:!0,cancelButtonText:"<h1>No cambiar<h1>",denyButtonText:"<h1>Cerrar<h1>"}).then(t=>{t.isConfirmed&&(this.dialogCambioNombreSecciones=!0),t.isDismissed&&this.abrirModalTipoReportePreview()})},abrirDialog({statusincluye:t=0,statusnoincluye:a=0}){this.statusincluye=t,this.statusnoincluye=a,this.dialog=!0},anidarNota(){this.$refs.frmNota.validate()&&this.opcionesSeleccionadas[this.$store.state.aduana.page-1].listNotasQuote.push({descripcion:this.descripcion,estado:1,statusincluye:this.statusincluye,statusnoincluye:this.statusnoincluye}),setTimeout(()=>{this.descripcion="",this.$refs.frmNota.resetValidation()},10),this.dialog=!this.dialog},async generar(){if(this.$store.state.aduana.tiporeporte=this.tiporeporte,this.loading=!0,this.$route.params.id){if(this.$refs.frmReporte.validate()){this.$store.state.spiner=!0,this.imprimirFlag=!1,await this.actualizarQuoteAduana(),await this.obtenerDatosEmpresaAduana();for(let t=0;t<this.$store.state.aduana.opcionCostos.length;t++)S.a.fire({icon:"info",text:"Se está generando el (los) pdf.",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,timerProgressBar:!0,timer:null,didOpen:()=>{S.a.showLoading()}}),1==this.$store.state.aduana.opcionCostos[t].selected&&await this.generarReporteAduana({tipo:this.$store.state.aduana.tiporeporte,nro_propuesta:this.$store.state.aduana.opcionCostos[t].nro_propuesta}).catch(t=>{console.error(t)});S.a.close(),this.$router.push({name:"VerAduana",params:{id:this.$store.state.aduana.id}}),this.$store.state.spiner=!1}}else if(this.$refs.frmReporte.validate()&&(this.$store.state.spiner=!0,await this.registrarAduana({fullflag:!0}).catch(t=>{console.log(t)}),this.$store.state.aduana.nro_quote)){this.$store.state.spiner=!1;await this.obtenerDatosEmpresaAduana().catch(t=>{console.log(t)});for(let t=0;t<this.$store.state.aduana.opcionCostos.length;t++)1==this.$store.state.aduana.opcionCostos[t].selected&&await this.generarReporteAduana({tipo:this.tiporeporte,nro_propuesta:this.$store.state.aduana.opcionCostos[t].nro_propuesta}).catch(t=>{console.log(t)});this.loadingTable=!1,this.loading=!1,this.$store.state.spiner=!1;JSON.parse(sessionStorage.getItem("dataUser"))[0].id_branch;console.log(this.$store.state.aduana.id),this.$router.push({name:"VerAduana",params:{id:this.$store.state.aduana.id}})}},abrirModalTipoReporte(){this.imprimirFlag=!0},abrirModalTipoReportePreview(){this.tiporeporte="",this.previewFlag=!0,this.dialogCambioNombreSecciones=!1,this.$store.state.aduana.bloquearBtnImprimir=!1},async generarPreview(){this.$refs.frmReporte.validate()&&(this.$store.state.spiner=!0,this.previewFlag=!1,await this.obtenerDatosEmpresaAduana(),this.predataCotizacion=await this.predataAduana({tipo:this.tiporeporte}),this.$store.state.spiner=!1,this.dialogPreview=!0)}},computed:{opcionesSeleccionadas(){return this.$store.state.aduana.opcionCostos.filter(t=>!!t.selected)},actualizarNotas:{get(){return this.$store.state.aduana.actualizarNotas},set(t){return this.$store.state.aduana.actualizarNotas=actualizarNotas}},page(){return this.$store.state.aduana.page-1},items(){return console.log(this.opcionesSeleccionadas[this.page]),this.opcionesSeleccionadas[this.page].listNotasQuote.filter(t=>1==t.estado)},lstSeIncluye(){let t=this.$store.state.aduana.listServices.filter(t=>1==t.status),a=this.opcionesSeleccionadas[this.$store.state.aduana.page-1].listNotasQuote.filter(t=>1==t.estado&&1==t.statusincluye);a=a.map(t=>({...t,service:t.descripcion}));let e=[...t,...a];return e},lstNoIncluye(){let t=this.$store.state.aduana.listServices.filter(t=>0==t.status),a=this.opcionesSeleccionadas[this.$store.state.aduana.page-1].listNotasQuote.filter(t=>1==t.estado&&1==t.statusnoincluye);a=a.map(t=>({...t,service:t.descripcion}));let e=[...t,...a];return e}},watch:{actualizarNotas(){this.llenarNotasSeleccionadas()}}},M=O,w=(e("785b"),e("2877")),A=Object(w["a"])(M,P,y,!1,null,"44fa9c6c",null);a["a"]=A.exports},3939:function(t,a,e){"use strict";e("4e7a")},"4e7a":function(t,a,e){},"5d85":function(t,a,e){"use strict";var s=e("8336"),i=e("b0af"),o=e("99d9"),r=e("ac7c"),n=e("62ad"),l=e("169a"),c=e("132d"),d=e("0fd9"),u=e("b974"),p=e("2fa4"),h=e("e0c7"),m=e("8654"),g=(e("e9f5"),e("910d"),function(){var t=this,a=t._self._c;return a(i["a"],{attrs:{elevation:"0"}},[t.dialog?a(l["a"],{attrs:{"max-width":"30%"},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[a(i["a"],[a(o["d"],{attrs:{"primary-title":""}},[t._v(" Nuevo Servicio ")]),a(o["c"],[a(u["a"],{attrs:{items:t.$store.state.aduana.begEndList,"item-text":"name","item-value":"id",label:"Categoria..."},model:{value:t.servicio.id_begend,callback:function(a){t.$set(t.servicio,"id_begend",a)},expression:"servicio.id_begend"}}),a(m["a"],{attrs:{label:"Descripción"},model:{value:t.servicio.service,callback:function(a){t.$set(t.servicio,"service",a)},expression:"servicio.service"}})],1),a(o["a"],[a(p["a"]),a(s["a"],{attrs:{color:"success"},on:{click:function(a){return t.guardarServicio()}}},[t._v("Guardar")]),a(s["a"],{attrs:{color:"red",dark:""},on:{click:function(a){t.dialog=!t.dialog}}},[t._v("Cancelar")])],1)],1)],1):t._e(),a(o["d"],{attrs:{"primary-title":""}},[t._v(" SERVICIOS A REALIZAR: "),a(s["a"],{attrs:{icon:"",color:"primary"},on:{click:function(a){t.dialog=!t.dialog}}},[a(c["a"],[t._v("mdi-plus")])],1)],1),a(h["a"],{staticClass:"mt-0"},[a("h4",[t._v("Desmarque los servicios que NO desea utilizar.")])]),a(o["c"],[a(d["a"],[a(n["a"],{attrs:{cols:"3"}},[a("h4",{staticClass:"mb-2"},[t._v("ORIGEN")]),t._l(t.$store.state.aduana.listServices.filter(t=>"OR"==t.codebegend),(function(e){return a(r["a"],{key:e.id,attrs:{dense:""},on:{change:function(a){return t.showConfirmationDialog(e)}},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" "+t._s(e.service)+" ")]},proxy:!0}],null,!0),model:{value:e.status,callback:function(a){t.$set(e,"status",a)},expression:"service.status"}})}))],2),a(n["a"],{attrs:{cols:"3"}},[a("h4",{staticClass:"mb-2"},[t._v("FLETE")]),t._l(t.$store.state.aduana.listServices.filter(t=>"FL"==t.codebegend),(function(e){return a(r["a"],{key:e.id,attrs:{dense:""},on:{change:function(a){return t.showConfirmationDialog(e)}},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" "+t._s(e.service)+" ")]},proxy:!0}],null,!0),model:{value:e.status,callback:function(a){t.$set(e,"status",a)},expression:"service.status"}})}))],2),a(n["a"],{attrs:{cols:"3"}},[a("h4",{staticClass:"mb-2"},[t._v("DESTINO")]),t._l(t.$store.state.aduana.listServices.filter(t=>"DE"==t.codebegend),(function(e){return a(r["a"],{key:e.id,attrs:{dense:""},on:{change:function(a){return t.showConfirmationDialog(e)}},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" "+t._s(e.service)+" ")]},proxy:!0}],null,!0),model:{value:e.status,callback:function(a){t.$set(e,"status",a)},expression:"service.status"}})}))],2),a(n["a"],{attrs:{cols:"3"}},[a("h4",{staticClass:"mb-2"},[t._v("OPCIONAL")]),t._l(t.$store.state.aduana.listServices.filter(t=>"OP"==t.codebegend),(function(e){return a(r["a"],{key:e.id,attrs:{dense:""},on:{change:function(a){return t.showConfirmationDialog(e)}},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" "+t._s(e.service)+" ")]},proxy:!0}],null,!0),model:{value:e.status,callback:function(a){t.$set(e,"status",a)},expression:"service.status"}})})),a(m["a"],{attrs:{prefix:"$","error-messages":t.$store.state.aduana.errorValorMercancia,label:"Valor de la mercancia",type:"number",step:"0.10",min:"0",placeholder:"Valor de la mercancia...",autocomplete:"off",dense:"",rules:[t=>!!t||"Dato Requerido",t=>/^(?!0\d+|\d*e)\d*(?:\.\d+)?$/.test(t)||"Debe ser un número real entero positivo"]},on:{input:function(a){return t.recargarCostos()},blur:function(a){return t.recargarCostos()}},model:{value:t.$store.state.aduana.datosPrincipales.amount,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"amount",a)},expression:"$store.state.aduana.datosPrincipales.amount"}}),a(m["a"],{attrs:{label:"Descripción de carga",placeholder:"Descripción de carga",autocomplete:"off",dense:""},model:{value:t.$store.state.aduana.datosPrincipales.descripcioncarga,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"descripcioncarga",a)},expression:"$store.state.aduana.datosPrincipales.descripcioncarga"}})],2),t.mostrarContinuarFlag&&t.mostrarBtn?a(n["a"],{staticClass:"my-0 py-0 align-right",staticStyle:{"text-align":"right !important"},attrs:{cols:"12"}},[a(s["a"],{attrs:{color:"#3F51B5",dark:"",small:""},on:{click:function(a){return t.continuarLlenadoCostos()}}},[t._v("Continuar Llenado Costos")])],1):t._e()],1)],1)],1)}),f=[],v=(e("14d9"),e("a732"),e("3d20"),e("2f62")),$={props:{mostrarBtn:{type:Boolean,default:!0}},data(){return{dialog:!1,mostrarContinuarFlag:!0,servicio:{codebegend:"OP",id_begend:"0",service:"",status:!0}}},methods:{...Object(v["b"])(["getItemsServices","getImpuestos","getItemsServicesDetails","getBegEndList"]),guardarServicio(){let t=this.$store.state.aduana.begEndList.filter(t=>t.id==this.servicio.id_begend)[0].code;this.servicio.codebegend=t,this.$store.state.aduana.listServices.push(this.servicio),this.dialog=!1,this.servicio={codebegend:"OP",id_begend:"0",service:"",status:!0}},recargarCostos(){this.$store.state.aduana.errorValorMercancia="",this.$store.state.aduana.actualizarCostosFlag=!this.$store.state.aduana.actualizarCostosFlag},esImportacion(){return this.$store.state.aduana.listModality.some(t=>t.id==this.$store.state.aduana.datosPrincipales.idsentido&&"I"==t.code)},continuarLlenadoCostos(){if(!this.$store.state.aduana.datosPrincipales.amount||this.$store.state.aduana.datosPrincipales.amount<=0)return this.$store.state.aduana.errorValorMercancia="Datos Requeridos y mayor que 0",!1;this.$emit("activarLlenadoCostos"),this.mostrarContinuarFlag=!1},showConfirmationDialog(t){this.$emit("recargarCostos")}}},C=$,b=e("2877"),_=Object(b["a"])(C,g,f,!1,null,null,null);a["a"]=_.exports},"6ce7":function(t,a,e){"use strict";e("f6d0")},7691:function(t,a,e){},"785b":function(t,a,e){"use strict";e("f3d7")},"796d":function(t,a,e){"use strict";var s=e("23e7"),i=e("c65b"),o=e("59ed"),r=e("825a"),n=e("46c4"),l=e("34e1"),c=e("c5cc"),d=e("2a62"),u=e("c430"),p=c((function(){var t,a,e=this.iterator,s=this.mapper;while(1){if(a=this.inner)try{if(t=r(i(a.next,a.iterator)),!t.done)return t.value;this.inner=null}catch(o){d(e,"throw",o)}if(t=r(i(this.next,e)),this.done=!!t.done)return;try{this.inner=l(s(t.value,this.counter++),!1)}catch(o){d(e,"throw",o)}}}));s({target:"Iterator",proto:!0,real:!0,forced:u},{flatMap:function(t){return r(this),o(t),new p(n(this),{mapper:t,inner:null})}})},"7cc7":function(t,a,e){"use strict";var s=e("c6a6"),i=e("8336"),o=e("b0af"),r=e("99d9"),n=e("62ad"),l=e("a523"),c=e("8fea"),d=e("169a"),u=e("4bd4"),p=e("132d"),h=e("0fd9"),m=e("2fa4"),g=e("8654"),f=function(){var t=this,a=t._self._c;return a(l["a"],{staticClass:"pa-0",attrs:{fluid:""}},[a(o["a"],{ref:"frmPuerto",attrs:{elevation:"0"}},[a(r["d"],{attrs:{"primary-title":""}},[t._v(" Datos Principales ")]),a(r["c"],[a(u["a"],{ref:"frmDatosPrincipales"},[a(l["a"],[a(h["a"],[a(n["a"],{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a(s["a"],{staticClass:"my-1",attrs:{label:"Tipo de Marketing",outlined:"",dense:"",rules:[t=>!!t||"Dato requerido"],items:t.$store.state.pricing.listMarketing,"item-text":"name","item-value":"id"},model:{value:t.$store.state.aduana.datosPrincipales.id_marketing,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"id_marketing",a)},expression:"$store.state.aduana.datosPrincipales.id_marketing"}}),a(s["a"],{staticClass:"my-0",attrs:{label:"Estado de la cotización",outlined:"",dense:"",rules:[t=>!!t||"Dato requerido"],items:t.$store.state.pricing.listQuoteStatus,"item-text":"name","item-value":"id","item-disabled":t=>1!=t.status},model:{value:t.$store.state.aduana.datosPrincipales.id_status,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"id_status",a)},expression:"$store.state.aduana.datosPrincipales.id_status"}})],1),a(n["a"],{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a(s["a"],{staticClass:"my-0",attrs:{label:"Ejecutivo",outlined:"",dense:"",rules:[t=>!!t||"Dato requerido"],items:t.$store.state.pricing.listEjecutivo,"item-text":"nombrecompleto","item-value":"id","item-key":"id"},model:{value:t.$store.state.aduana.datosPrincipales.id_vendedor,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"id_vendedor",a)},expression:"$store.state.aduana.datosPrincipales.id_vendedor"}})],1),a(n["a"],{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a(s["a"],{staticClass:"my-0",attrs:{label:"Pricing",outlined:"",dense:"",rules:[t=>!!t||"Dato requerido"],items:t.$store.state.pricing.listEjecutivo,"item-text":"nombrecompleto","item-value":"id","item-key":"id"},model:{value:t.$store.state.aduana.datosPrincipales.id_pricing,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"id_pricing",a)},expression:"$store.state.aduana.datosPrincipales.id_pricing"}})],1),a(n["a"],{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a(g["a"],{attrs:{label:"Nombre del cliente",outlined:"",placeholder:"Nombre del cliente","append-icon":"mdi-account-search",rules:[t=>!!t||"El nombre es requerido"],dense:"",required:"",autocomplete:"off",id:"nombre",name:"nombre",readonly:""},on:{"click:append":function(a){return t.abrirModalCliente()},click:function(a){return t.abrirModalCliente()}},model:{value:t.$store.state.aduana.datosPrincipales.nombre,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"nombre",a)},expression:"$store.state.aduana.datosPrincipales.nombre"}})],1),a(n["a"],{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a(g["a"],{attrs:{label:"Teléfono",outlined:"",placeholder:"Teléfono...",dense:"",readonly:""},model:{value:t.$store.state.aduana.datosPrincipales.telefono,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"telefono",a)},expression:"$store.state.aduana.datosPrincipales.telefono"}})],1),a(n["a"],{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a(s["a"],{staticClass:"my-0",attrs:{label:"Sentido",outlined:"",dense:"",rules:[t=>!!t||"Dato requerido"],items:t.$store.state.aduana.listModality,"item-text":"name","item-key":"id","item-value":"id",disabled:!t.EditableFlag},on:{change:function(a){return t.recargarServiciosCostos()}},model:{value:t.$store.state.aduana.datosPrincipales.idsentido,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"idsentido",a)},expression:"$store.state.aduana.datosPrincipales.idsentido"}})],1),a(n["a"],{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a(s["a"],{staticClass:"my-0",attrs:{label:"Tipo de Embarque",outlined:"",dense:"",rules:[t=>!!t||"Dato requerido"],items:t.$store.state.aduana.listShipment,"item-text":"embarque","item-key":"id","item-value":"id","return-object":"",disabled:!t.EditableFlag},on:{change:function(a){return t.recargarServiciosCostos()}},model:{value:t.$store.state.aduana.datosPrincipales.idtipocarga,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"idtipocarga",a)},expression:"$store.state.aduana.datosPrincipales.idtipocarga"}})],1),a(n["a"],{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a(s["a"],{staticClass:"my-0",attrs:{label:"Incoterms",outlined:"",dense:"",rules:[t=>!!t||"Dato requerido"],items:t.incoterms,"item-text":"text","item-key":"id","item-value":"id"},on:{change:function(a){return t.recargarServiciosCostos()}},scopedSlots:t._u([{key:"selection",fn:function(a){return[t._v(" "+t._s(a.item.name)+" - "+t._s(a.item.description)+" ")]}}]),model:{value:t.$store.state.aduana.datosPrincipales.idincoterms,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"idincoterms",a)},expression:"$store.state.aduana.datosPrincipales.idincoterms"}})],1),a(n["a"],{staticClass:"my-0 py-0",attrs:{cols:"12"}},[t.mostrarProveedorFlag?a(g["a"],{attrs:{name:"name",label:"Nombre del proveedor",id:"id",dense:"",outlined:""},model:{value:t.$store.state.aduana.datosPrincipales.proveedor,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"proveedor",a)},expression:"$store.state.aduana.datosPrincipales.proveedor"}}):t._e()],1),a(n["a"],{staticClass:"my-0 py-0",attrs:{cols:"12"}},[t.mostrarProveedorFlag?a(g["a"],{attrs:{name:"Teléfono",label:"Teléfono del proveedor",dense:"",outlined:"",rules:[t=>!(""!==t&&!/^\+?\d+$/.test(t))||"Formato de teléfono no válido"]},model:{value:t.$store.state.aduana.datosPrincipales.telefonoproveedor,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"telefonoproveedor",a)},expression:"\n                  $store.state.aduana.datosPrincipales.telefonoproveedor\n                "}}):t._e()],1),a(n["a"],{staticClass:"my-0 py-0",attrs:{cols:"12"}},[t.mostrarProveedorFlag?a(g["a"],{attrs:{name:"name",label:"Dirección del proveedor",id:"id",dense:"",outlined:""},model:{value:t.$store.state.aduana.datosPrincipales.direccionproveedor,callback:function(a){t.$set(t.$store.state.aduana.datosPrincipales,"direccionproveedor",a)},expression:"\n                  $store.state.aduana.datosPrincipales.direccionproveedor\n                "}}):t._e()],1),t.mostrarContinuarFlag&&t.mostrarBtn?a(n["a"],{staticClass:"my-0 py-0 align-right",attrs:{cols:"12"}},[a(i["a"],{attrs:{color:"#3F51B5",dark:"",small:""},on:{click:function(a){return t.continuarDatosCarga()}}},[t._v("Continuar Datos Carga")])],1):t._e()],1)],1)],1)],1)],1),a(d["a"],{attrs:{"max-width":"80%"},model:{value:t.buscarClienteDialog,callback:function(a){t.buscarClienteDialog=a},expression:"buscarClienteDialog"}},[a(o["a"],[a(r["d"],[t._v("Buscar Cliente"),a(m["a"]),a(i["a"],{attrs:{color:"success",small:""},on:{click:t.registrarNuevoCliente}},[t._v(" Nuevo Cliente ")])],1),a(r["c"],[a(l["a"],[a(h["a"],[a(n["a"],{attrs:{cols:"12"}},[a(g["a"],{attrs:{label:"Buscar..."},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1),a(n["a"],{attrs:{cols:"12"}},[a(c["a"],{attrs:{headers:t.headers,items:t.$store.state.itemsEntities,search:t.search,"item-key":"index",loading:0==t.$store.state.itemsEntities.length,"loading-text":"Buscando Clientes..."},on:{"dblclick:row":t.guardarCliente},scopedSlots:t._u([{key:"item.action",fn:function({item:e}){return[a(i["a"],{attrs:{small:"",color:"success"},on:{click:function(a){return t.guardarCliente(null,{item:e})}}},[t._v(" Seleccionar "),a(p["a"],{staticClass:"mx-2"},[t._v("mdi-account-plus")])],1)]}}],null,!0)})],1)],1)],1)],1)],1)],1)],1)},v=[],$=(e("14d9"),e("e9f5"),e("910d"),e("2f62")),C=e("3d20"),b=e.n(C),_={props:{mostrarBtn:{type:Boolean,default:!0},EditableFlag:{type:Boolean,default:!0}},data(){return{search:"",buscarClienteDialog:!1,mostrarContinuarFlag:!0,headers:[{text:"Documento",value:"document"},{text:"Nombres (s)",value:"nombrecompleto"},{text:"Teléfono",value:"phone"},{value:"action"}],mostrar:!1}},async mounted(){this.$refs.frmDatosPrincipales.resetValidation()},methods:{...Object($["b"])(["getMarketingList","getQuoteStatus","getShipment","getIncoterms","_getEntitiesCliente","getCargarEjecutivo"]),registrarNuevoCliente(){this.$store.state.modalEntitie=!0},abrirModalCliente(){this.buscarClienteDialog=!0,this.$store.state.itemsEntities=[],this._getEntitiesCliente()},guardarCliente(t,{item:a}){a.phone||b.a.fire({icon:"warning",title:"¡Advertencia!",text:"El cliente seleccionado no tiene un número de teléfono registrado. Por favor, seleccione otro cliente o puede actualizar luego en el fichero de cliente."}),this.$store.state.aduana.datosPrincipales.id_entitie=a.id,this.$store.state.aduana.datosPrincipales.nombre=a.nombrecompleto,this.$store.state.aduana.datosPrincipales.telefono=a.phone,this.buscarClienteDialog=!1},continuarDatosCarga(){this.$refs.frmDatosPrincipales.validate()&&(this.$emit("activarDatosCarga",!0),this.mostrarContinuarFlag=!1)},recargarServiciosCostos(){this.$store.state.aduana.datosPrincipales.idsentido&&this.$store.state.aduana.datosPrincipales.idincoterms&&0!==Object.keys(this.$store.state.aduana.datosPrincipales.idtipocarga)&&(console.log("recargarServiciosCostos"),this.$emit("recargarServiciosCostos",!0))}},computed:{...Object($["c"])(["registroClienteFlag",""]),incoterms(){let t=[];return[...this.$store.state.aduana.listIncoterms].forEach(a=>{a.text=a.name+" - "+a.description,t.push(a)}),t},mostrarProveedorFlag(){let t=this.$store.state.aduana.listIncoterms.filter(t=>t.id==this.$store.state.aduana.datosPrincipales.idincoterms&&"EXW"==t.name);return t.length>0}},watch:{async registroClienteFlag(){if(this.$store.state.spiner=!0,await this._getEntitiesCliente(),this.$store.state.spiner=!1,console.log("llegó"),this.$store.state.entities.id){let t=this.$store.state.itemsEntities.filter(t=>t.id==this.$store.state.entities.id)[0];console.log("cliente",t),this.$store.state.aduana.datosPrincipales.id_entitie=t.id,this.$store.state.aduana.datosPrincipales.nombre=t.nombrecompleto,this.$store.state.aduana.datosPrincipales.telefono=t.phone}this.buscarClienteDialog=!1}}},x=_,P=(e("e690"),e("2877")),y=Object(P["a"])(x,f,v,!1,null,"8ddfdf0c",null);a["a"]=y.exports},"7e82":function(t,a,e){"use strict";var s=e("8336"),i=e("b0af"),o=e("62ad"),r=e("a523"),n=e("4bd4"),l=e("891e"),c=e("0fd9"),d=e("2fa4"),u=e("8654"),p=(e("e9f5"),e("910d"),function(){var t=this,a=t._self._c;return a(r["a"],{attrs:{fluid:""}},[t.$store.state.aduana.llenadoCostos?a(i["a"],{staticClass:"px-5"},[a("h1",[t._v(" OPCIÓN COSTOS "+t._s(t.$store.state.aduana.opcionCostos[t.$store.state.aduana.index].nro_propuesta)+" ")]),a(n["a"],{ref:"frmDatosOpcion"},[a(c["a"],[a(o["a"],{attrs:{cols:"2"}},[a(u["a"],{attrs:{type:"date",name:"Fecha Validez de la Opción "+(t.$store.state.aduana.index+1),label:"Fecha Validez de la Opción "+(t.$store.state.aduana.index+1),rules:[t=>!!t||"Dato Requerido",a=>t.isDateValid(a)||"La fecha debe ser mayor que hoy."]},model:{value:t.$store.state.aduana.opcionCostos[t.$store.state.aduana.index].date_end,callback:function(a){t.$set(t.$store.state.aduana.opcionCostos[t.$store.state.aduana.index],"date_end",a)},expression:"\n              $store.state.aduana.opcionCostos[$store.state.aduana.index]\n                .date_end\n            "}})],1),a(o["a"],{attrs:{cols:"2"}},[a(u["a"],{attrs:{type:"number",name:"Tiempo en tránsito de la Opción "+(t.$store.state.aduana.index+1),label:"Tiempo en tránsito de la Opción "+(t.$store.state.aduana.index+1),rules:[t=>!!t||"Dato Requerido",t=>t>0||"El valor tiene que ser positivo."]},model:{value:t.$store.state.aduana.opcionCostos[t.$store.state.aduana.index].tiempo_transito,callback:function(a){t.$set(t.$store.state.aduana.opcionCostos[t.$store.state.aduana.index],"tiempo_transito",a)},expression:"\n              $store.state.aduana.opcionCostos[$store.state.aduana.index]\n                .tiempo_transito\n            "}})],1),a(o["a"],{attrs:{cols:"8"}},[t.btnIngresarCostos?a(s["a"],{staticClass:"mx-1 btn-ingresarcostos",attrs:{color:"#3363A2","x-large":"",dark:""},on:{click:function(a){return t.pasarLlenadoCostos()}}},[t._v(" INGRESAR COSTOS OPCIÓN "+t._s(t.$store.state.aduana.index+1)+" ")]):t._e(),t.$store.state.aduana.index>0&&t.btnIngresarCostos?a(s["a"],{staticClass:"mx-1",attrs:{color:"red","x-large":"",dark:""},on:{click:function(a){return t.cancelarLlenadoCostos()}}},[t._v(" CANCELAR ")]):t._e()],1)],1)],1),t.mostrarCostos?a(r["a"],{attrs:{fluid:""}},[a(c["a"],[a(o["a"],{attrs:{cols:"12"}},[a("CostosComponent",{attrs:{valores:t.$store.state.aduana.opcionCostos[t.$store.state.aduana.index].listCostos.filter(t=>1==t.esopcionflag),amount:t.$store.state.aduana.datosPrincipales.amount,index:""}})],1),a(o["a"],{staticClass:"derecha",attrs:{cols:"12"}},[a(d["a"]),t.$store.state.aduana.mostrarGuardarCostos?a(s["a"],{attrs:{color:"#3363A2",dark:""},on:{click:function(a){return t.agregarNuevoCostoIrAVentas()}}},[t._v("GUARDAR COSTOS OPCIÓN "+t._s(t.$store.state.aduana.index+1))]):t._e()],1)],1)],1):t._e()],1):a(i["a"],{staticClass:"px-5"},[a("h1",[t._v(" OPCIÓN COSTOS "+t._s(t.opcionesSeleccionadas[t.$store.state.aduana.page-1].nro_propuesta)+" ")]),a(c["a"],[a(o["a"],{attrs:{cols:"4"}},[a(u["a"],{attrs:{type:"date",name:"Fecha Validez de la Opción "+t.opcionesSeleccionadas[t.$store.state.aduana.page-1].nro_propuesta,label:"Fecha Validez de la Opción "+t.opcionesSeleccionadas[t.$store.state.aduana.page-1].nro_propuesta,rules:[t=>!!t||"Dato Requerido",a=>t.isDateValid(a)||"La fecha debe ser mayor que hoy."]},model:{value:t.opcionesSeleccionadas[t.$store.state.aduana.page-1].date_end,callback:function(a){t.$set(t.opcionesSeleccionadas[t.$store.state.aduana.page-1],"date_end",a)},expression:"\n            opcionesSeleccionadas[$store.state.aduana.page - 1].date_end\n          "}})],1),a(o["a"],{attrs:{cols:"4"}},[a(u["a"],{attrs:{type:"number",name:"Tiempo en tránsito de la Opción "+t.opcionesSeleccionadas[t.$store.state.aduana.page-1].nro_propuesta,label:"Tiempo en tránsito de la Opción "+t.opcionesSeleccionadas[t.$store.state.aduana.page-1].nro_propuesta,rules:[t=>!!t||"Dato Requerido",t=>t>0||"El valor tiene que ser positivo."]},model:{value:t.opcionesSeleccionadas[t.$store.state.aduana.page-1].tiempo_transito,callback:function(a){t.$set(t.opcionesSeleccionadas[t.$store.state.aduana.page-1],"tiempo_transito",a)},expression:"\n            opcionesSeleccionadas[$store.state.aduana.page - 1]\n              .tiempo_transito\n          "}})],1),a(o["a"],{staticClass:"derecha",attrs:{cols:"12"}},[[a("div",{staticClass:"text-center"},[a(l["a"],{attrs:{length:t.opcionesSeleccionadas.length,circle:""},model:{value:t.$store.state.aduana.page,callback:function(a){t.$set(t.$store.state.aduana,"page",a)},expression:"$store.state.aduana.page"}})],1)]],2),a(o["a"],{attrs:{cols:"12"}},[a(c["a"],[a(o["a"],{attrs:{cols:"12",lg:"6",xl:"6"}},[a("CostosComponent",{attrs:{valores:t.opcionesSeleccionadas[t.$store.state.aduana.page-1].listCostos.filter(t=>1==t.esopcionflag),actualizarCostosFlag:t.$store.state.aduana.actualizarCostosFlag,amount:t.$store.state.aduana.datosPrincipales.amount,index:t.$store.state.aduana.page}})],1),a(o["a"],{attrs:{cols:"12",lg:"6",xl:"6"}},[a("VentasComponent",{attrs:{valores:t.opcionesSeleccionadas[t.$store.state.aduana.page-1].listCostos.filter(t=>1==t.esventaflag),amount:t.$store.state.aduana.datosPrincipales.amount}})],1),t.mostrarContinuarVentas&&t.mostrarBtn?a(o["a"],{staticClass:"derecha",attrs:{cols:"12"}},[a(s["a"],{attrs:{color:"#3363A2",dark:""},on:{click:t.activarImpuesto}},[t._v(" Continuar Impuesto ")])],1):t._e()],1)],1),t.mostrarImpuestos&&t.mostrarImpuestosEditar?a(o["a"],{attrs:{cols:"6",id:"cmpImpuesto"}},[t.mostrarImpuestos&&t.mostrarImpuestosEditar?a("center",[a("h3",[t._v("Impuestos de Aduana")])]):t._e(),t.mostrarImpuestos&&t.mostrarImpuestosEditar?a("ImpuestosComponent",{staticClass:"col-12",attrs:{index:t.$store.state.aduana.opcionCostos[t.$store.state.aduana.index].nro_propuesta,amount:t.$store.state.aduana.datosPrincipales.amount,impuestos:t.opcionesSeleccionadas[t.$store.state.aduana.page-1].listImpuestos}}):t._e()],1):t._e(),a(o["a"],{attrs:{cols:"12"}},[a(c["a"],[a(o["a"],{staticClass:"izquierda",attrs:{cols:"4"}},[t.$store.state.aduana.opcionCostos.length>1&&t.mostrarBtn?a(s["a"],{attrs:{color:"default"},on:{click:function(a){return t.irAComparativa()}}},[t._v("Regresar a la comparativa")]):t._e()],1),t.mostrarBotonIrANotas?a(o["a"],{staticClass:"derecha"},[a(s["a"],{attrs:{color:"success"},on:{click:function(a){return t.irANotas()}}},[t._v("IR A NOTAS DE COSTOS")])],1):t._e()],1)],1)],1)],1)],1)}),h=[],m=(e("14d9"),e("7d54"),e("ab43"),e("a732"),e("c1df")),g=e.n(m),f=e("3d20"),v=e.n(f),$={props:{mostrarBtn:{type:Boolean,default:!0},mostrarImpuestosEditar:{type:Boolean,default:!1},indexCostos:{type:Number}},components:{CostosComponent:()=>Promise.all([e.e("chunk-cd92fa2e"),e.e("chunk-46de8d57")]).then(e.bind(null,"4797")),VentasComponent:()=>e.e("chunk-b171b1fc").then(e.bind(null,"d95e")),ImpuestosComponent:()=>e.e("chunk-2d229265").then(e.bind(null,"dbe6"))},data(){return{mostrarCostos:!1,mostrarVentasFlag:!1,btnIngresarCostos:!0,mostrarContinuarVentas:!0,mostrarBtnContinuarNotas:!1}},mounted(){this.llenadoCostos||(this.opcionesSeleccionadas=this.$store.state.aduana.opcionCostos.filter(t=>!!t.selected))},methods:{irAComparativa(){this.$store.state.aduana.tab=3,this.$store.state.aduana.actualizarComparativa=!this.$store.state.aduana.actualizarComparativa},pasarLlenadoCostos(){this.$refs.frmDatosOpcion.validate()&&(this.btnIngresarCostos=!1,this.mostrarCostos=!0)},cancelarLlenadoCostos(){this.$store.state.aduana.opcionCostos.splice(-1,1),this.$store.state.aduana.index=this.$store.state.aduana.index-1,this.btnIngresarCostos=!1,this.mostrarCostos=!0,setTimeout(()=>{this.$store.state.aduana.cancelarLlenadoNuevaOpcion=!this.$store.state.aduana.cancelarLlenadoNuevaOpcion},100)},agregarNuevoCostoIrAVentas(){0==this.$store.state.aduana.index&&v.a.fire({icon:"question",width:1e3,html:"<h1>¿Desea agregar una nueva opción para los costos o ir la venta al Cliente Final?</h1>",allowEnterKey:!1,allowOutsideClick:!1,allowEnterKey:!1,allowOutsideClick:!1,confirmButtonColor:"green",denyButtonColor:"#3363A2",confirmButtonText:`<h1>Agregar Costos - Opcion ${this.$store.state.aduana.index+2}</h1> `,denyButtonText:"<h1>Ir a la venta del cliente final</h1>",showDenyButton:!0,showCancelButton:!1,showCloseButton:!0}).then(t=>{if(t.isConfirmed){let t=this.$store.state.aduana.index+2;this.$emit("anadirNuevaOpcion",t),this.$store.state.aduana.index=parseInt(this.$store.state.aduana.index)+1,this.mostrarCostos=!1,this.btnIngresarCostos=!0,this.$refs.frmDatosOpcion.resetValidation()}t.isDenied&&(this.$store.state.aduana.opcionCostos[0].selected=1,this.$store.state.aduana.llenadoCostos=!1)}),this.$store.state.aduana.index>0&&v.a.fire({icon:"question",width:1e3,html:"<h1>¿Desea agregar una nueva opción para los costos o ir la venta al Cliente Final?</h1>",allowEnterKey:!1,allowOutsideClick:!1,allowEnterKey:!1,allowOutsideClick:!1,confirmButtonColor:"green",denyButtonColor:"#3363A2",confirmButtonText:`<h1>Agregar Costos - Opcion ${this.$store.state.aduana.index+2} </h1>`,denyButtonText:"<h1>Ir a la comparativa</h1>",showDenyButton:!0,showCancelButton:!1,showCloseButton:!0}).then(t=>{if(t.isConfirmed){let t=this.$store.state.aduana.index+2,a=this.$store.state.aduana.listCostos.map(a=>({...a,nro_propuesta:t})),e=this.$store.state.aduana.listImpuestos.map(a=>({...a,nro_propuesta:t})),s=this.$store.state.aduana.listNotasQuote.map(a=>({...a,nro_propuesta:t}));this.$store.state.aduana.opcionCostos.push({nro_propuesta:this.$store.state.aduana.index+2,date_end:"",tiempo_transito:0,listCostos:a,listImpuestos:e,listNotasQuote:s,selected:!1}),this.$store.state.aduana.index=parseInt(this.$store.state.aduana.index)+1,this.mostrarCostos=!1,this.btnIngresarCostos=!0,this.$refs.frmDatosOpcion.resetValidation()}t.isDenied&&(console.log("ddd"),this.$store.state.aduana.actualizarComparativa=!this.$store.state.aduana.actualizarComparativa,this.$emit("continuarComparativa"))})},activarCosto(){if(this.$refs.frmFecha.validate()){this.$store.state.aduana.costoflag=!0;let t=this.$store.state.aduana.listCostos.filter(t=>1==t.esopcionflag);t.forEach(t=>{let a=this.validateCost({costo:t});t.error=a?"El costo que tiene un valor 0.00.":""})}},activarImpuesto(){this.mostrarContinuarVentas=!1,console.log(this.$store.state.aduana.listServices.some(t=>"15"==t.code_service||15==t.code_service)),this.$store.state.aduana.listServices.some(t=>"15"==t.code_service||15==t.code_service)&&(this.mostrarSeccionImpuestos=!0,this.$nextTick(()=>{const t=document.getElementById("cmpImpuesto");t&&t.scrollIntoView({behavior:"smooth",block:"start"})})),this.mostrarBtnContinuarNotas=!0},irANotas(){this.$store.state.aduana.actualizarNotas=!this.$store.state.aduana.actualizarNotas,this.$store.state.aduana.bloquearBtnImprimir=!1,this.$store.state.aduana.page=1,this.$emit("irANotas")},activarVenta(){this.$store.state.aduana.ventaflag=!0,this.scrollToComponent("ventas-component")},isDateValid(t){if(!t)return!0;const a=g()(t,"YYYY-MM-DD",!0),e=g()();return a.isAfter(e)},validateCost({costo:t}){let a=this.$store.state.aduana.listServices.filter(t=>1==t.status),e=this.$store.state.aduana.listMultiplicador.filter(t=>this.comienzaNoConCaracter(t.text,"%")),s=e.map(t=>t.id),i=a.map(t=>t.id_groupservices);return!(!s.includes(t.id_multiplicador)||!i.includes(t.id_groupservices)||0!=t.costounitario)},comienzaNoConCaracter(t,a){return t.charAt(0).toUpperCase()!==a.toUpperCase()},comienzaConCaracter(t,a){return t.charAt(0).toUpperCase()===a.toUpperCase()},scrollToComponent(t){setTimeout(()=>{const a=document.getElementById(t);a&&a.scrollIntoView({behavior:"smooth",block:"start"})},100)}},computed:{opcionesSeleccionadas(){return this.$store.state.aduana.opcionCostos.filter(t=>!!t.selected)},llenadoCostos:{get(){return this.$store.state.aduana.llenadoCostos},set(t){return this.$store.state.aduana.llenadoCostos=llenadoCostos}},recargarCostoSeleccionados:{get(){return this.$store.state.aduana.recargarCostoSeleccionados},set(t){return this.$store.state.aduana.recargarCostoSeleccionados=recargarCostoSeleccionados}},reset:{get(){return this.$store.state.aduana.reset},set(t){return this.$store.state.aduana.reset=reset}},mostrarImpuestos(){let t=this.$store.state.aduana.listServices.some(t=>(15==t.code_service||"15"==t.code_service)&&1==t.status);return t},mostrarBotonIrANotas(){return this.opcionesSeleccionadas.length==this.$store.state.aduana.page&&this.opcionesSeleccionadas.length>0&&this.mostrarBtnContinuarNotas}},watch:{llenadoCostos(){this.llenadoCostos||(this.opcionesSeleccionadas=this.$store.state.aduana.opcionCostos.filter(t=>!!t.selected),this.$store.state.aduana.page=1)},recargarCostoSeleccionados(){this.opcionesSeleccionadas=this.$store.state.aduana.opcionCostos.filter(t=>!!t.selected),this.$store.state.aduana.page=1},reset(){this.$store.state.aduana.llenadoCostos=!0,this.mostrarCostos=!1,this.mostrarVentasFlag=!1,this.btnIngresarCostos=!0,this.$store.state.aduana.page=1,this.mostrarContinuarVentas=!0,this.mostrarBtnContinuarNotas=!1,this.$store.state.aduana.index=0,this.mostrarContinuarVentas=!0}}},C=$,b=(e("3939"),e("2877")),_=Object(b["a"])(C,p,h,!1,null,"6ddbca2f",null);a["a"]=_.exports},"891e":function(t,a,e){"use strict";e("17b3");var s=e("9d26"),i=e("dc22"),o=e("a9ad"),r=e("de2c"),n=e("7560"),l=e("58df");a["a"]=Object(l["a"])(o["a"],Object(r["a"])({onVisible:["init"]}),n["a"]).extend({name:"v-pagination",directives:{Resize:i["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:t=>t%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return{"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled,...this.themeClasses}},items(){const t=parseInt(this.totalVisible,10);if(0===t||isNaN(this.length)||this.length>Number.MAX_SAFE_INTEGER)return[];const a=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=a)return this.range(1,this.length);const e=a%2===0?1:0,s=Math.floor(a/2),i=this.length-s+1+e;if(this.value>s&&this.value<i){const t=1,a=this.length,i=this.value-s+2,o=this.value+s-2-e,r=i-1===t+1?2:"...",n=o+1===a-1?o+1:"...";return[1,r,...this.range(i,o),n,this.length]}if(this.value===s){const t=this.value+s-1-e;return[...this.range(1,t),"...",this.length]}if(this.value===i){const t=this.value-s+1;return[1,"...",...this.range(t,this.length)]}return[...this.range(1,s),"...",...this.range(i,this.length)]}},watch:{value(){this.init()}},beforeMount(){this.init()},methods:{init(){this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout(()=>this.selected=this.value,100)},onResize(){const t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(t,a){const e=[];t=t>0?t:1;for(let s=t;s<=a;s++)e.push(s);return e},genIcon(t,a,e,i,o){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":e},attrs:{disabled:e,type:"button","aria-label":o},on:e?{}:{click:i}},[t(s["a"],[a])])])},genItem(t,a){const e=a===this.value&&(this.color||"primary"),s=a===this.value,i=s?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(e,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":a===this.value},attrs:{type:"button","aria-current":s,"aria-label":this.$vuetify.lang.t(i,a)},on:{click:()=>this.$emit("input",a)}}),[a.toString()])},genItems(t){return this.items.map((a,e)=>t("li",{key:e},[isNaN(Number(a))?t("span",{class:"v-pagination__more"},[a.toString()]):this.genItem(t,a)]))},genList(t,a){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},a)}},render(t){const a=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,a)])}})},e017:function(t,a,e){"use strict";var s=e("8336"),i=e("ac7c"),o=e("62ad"),r=e("a523"),n=e("0fd9"),l=e("1f4f"),c=function(){var t=this,a=t._self._c;return a(r["a"],{attrs:{fluid:""}},[a("h1",[t._v("Comparativa de Costos")]),a(n["a"],[a(o["a"],{attrs:{cols:"12"}},[a(l["a"],{staticClass:"elevation-1 my-7",attrs:{dense:""}},[a("thead",[a("tr",t._l(t.headers,(function(e,s){return a("th",{key:s,staticClass:"centrado"},[t._v(" "+t._s(e.text)+" ")])})),0)]),a("tbody",t._l(t.opcionesSeleccionadas,(function(e,s){return a("tr",{key:s},[a("td",[t._v("Opción - "+t._s(e.nro_propuesta))]),t.flete?a("td",{staticClass:"centrado"},[t._v(" "+t._s(e.flete)+" ")]):t._e(),t.origen?a("td",{staticClass:"centrado"},[t._v(" "+t._s(e.origen)+" ")]):t._e(),t.local?a("td",{staticClass:"centrado"},[t._v(" "+t._s(e.local)+" ")]):t._e(),t.aduana?a("td",{staticClass:"centrado"},[t._v(" "+t._s(e.aduana)+" ")]):t._e(),t.almacen?a("td",{staticClass:"centrado"},[t._v(" "+t._s(e.almacen)+" ")]):t._e(),t.gastostercero?a("td",{staticClass:"centrado"},[t._v(" "+t._s(e.gastostercero)+" ")]):t._e(),a("td",{staticClass:"totalClass"},[t._v(t._s(e.total))]),a("td",{staticClass:"centrado"},[t._v(t._s(e.tiempo_transito)+" días")]),a("td",[a(i["a"],{staticClass:"mx-auto",attrs:{label:"",disabled:1==t.opcionesSeleccionadas.length},on:{click:function(a){return t.cambiarOpcionSeleccionada(e)}},model:{value:e.selected,callback:function(a){t.$set(e,"selected",a)},expression:"opcion.selected"}})],1)])})),0)])],1),a(o["a"],{staticClass:"izquierda",attrs:{cols:"6"}},[a(s["a"],{attrs:{color:"default"},on:{click:function(a){return t.regregar()}}},[t._v("Anterior")])],1),a(o["a"],{staticClass:"derecha",attrs:{cols:"6"}},[a(s["a"],{attrs:{color:"#3363A2",dark:""},on:{click:function(a){return t.continuar()}}},[t._v("Cotizar Venta final del cliente")])],1)],1)],1)},d=[],u=(e("14d9"),e("e9f5"),e("910d"),e("7d54"),e("a732"),e("54e1")),p=e("3d20"),h=e.n(p),m={mixins:[u["a"]],data(){return{loadingTable:!1,headers:[],opcionesSeleccionadas:[],resumenOpcion:{flete:0,origen:0,gasto:0,aduana:0,almacen:0,gastostercero:0},flete:!1,origen:!1,local:!1,aduana:!1,almacen:!1,gastostercero:!1,totalFleteVentas:0}},async mounted(){this.loadingTable=!1,await this.calcularTotalesOpciones(),setTimeout(async()=>{await this.agregarFilasAlHeader()},120)},methods:{regregar(){h.a.fire({icon:"question",html:`<h1>¿Desea regresar a la OPCIÓN - COSTOS ${this.$store.state.aduana.opcionCostos.length}?<h1>`,confirmButtonColor:"green",showCancelButton:!0,cancelButtonColor:"red",confirmButtonText:"<h1>Si, volver</h2>",cancelButtonText:"<h1>Cancelar</h2>",allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(t=>{t.isConfirmed&&(this.$store.state.aduana.tab=2)})},agregarFilasAlHeader(){this.headers=[{text:"Tarifa de Costos",value:"tarifa"}],this.opcionesSeleccionadas.some(t=>parseFloat(t.flete)>0)&&this.headers.push({text:this.$store.state.aduana.listTipoCostos.filter(t=>"FL"==t.codigo)[0].name,value:"flete"}),this.opcionesSeleccionadas.some(t=>t.flete!=this.currencyFormat(0))&&(this.headers.push({text:this.$store.state.aduana.listTipoCostos.filter(t=>"FL"==t.codigo)[0].name,value:"flete",cellClass:"centrado"}),this.flete=!0),this.opcionesSeleccionadas.some(t=>t.origen!=this.currencyFormat(0))&&(this.headers.push({text:this.$store.state.aduana.listTipoCostos.filter(t=>"OR"==t.codigo)[0].name,value:"origen"}),this.origen=!0),this.opcionesSeleccionadas.some(t=>t.local!=this.currencyFormat(0))&&(this.headers.push({text:this.$store.state.aduana.listTipoCostos.filter(t=>"LO"==t.codigo)[0].name,value:"local"}),this.local=!0),this.opcionesSeleccionadas.some(t=>t.aduana!=this.currencyFormat(0))&&(this.headers.push({text:this.$store.state.aduana.listTipoCostos.filter(t=>"AD"==t.codigo)[0].name,value:"aduana"}),this.aduana=!0),this.opcionesSeleccionadas.some(t=>t.almacen!=this.currencyFormat(0))&&(this.headers.push({text:this.$store.state.aduana.listTipoCostos.filter(t=>"AL"==t.codigo)[0].name,value:"almacen"}),this.almacen=!0),this.opcionesSeleccionadas.some(t=>t.gastostercero!=this.currencyFormat(0))&&(this.headers.push({text:this.$store.state.aduana.listTipoCostos.filter(t=>"GT"==t.codigo)[0].name,value:"gastostercero"}),this.gastostercero=!0),this.headers.push({text:"TOTAL",value:"total"}),this.headers.push({text:"TIEMPO EN TRÁNSITO",value:"tiempo_transito"}),this.headers.push({text:"Usar",value:"selected"})},continuar(){this.$store.state.aduana.opcionCostos.some(t=>t.selected)?h.a.fire({width:1e3,icon:"question",html:`<h1>¿Desea regresar a la OPCIÓN - COSTOS ${this.$store.state.aduana.opcionCostos.length}?</h1>`,confirmButtonColor:"green",showCancelButton:!0,cancelButtonColor:"#4A85D2",confirmButtonText:"<h1>Si, ir a la venta del cliente final</h1>",cancelButtonText:"<h1>Regresar a la comparatirva</h1>",showCloseButton:!0,allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1}).then(t=>{t.isConfirmed&&(this.$emit("irVentaCliente"),this.$store.state.aduana.llenadoCostos=!1,this.$store.state.aduana.recargarCostoSeleccionados=!this.$store.state.aduana.recargarCostoSeleccionados,this.$store.state.aduana.page=1)}):h.a.fire({icon:"warning",text:"Para poder continuar, debe seleccionar al menos una opción de costos.",confirmButtonText:"Entendido"})},async calcularTotalesOpciones(){this.opcionesSeleccionadas=[],this.loadingTable=!0,this.$store.state.aduana.opcionCostos.forEach(t=>{let a=t.listCostos.some(t=>1==t.esopcionflag&&4==t.code_cost)?t.listCostos.filter(t=>1==t.esopcionflag&&4==t.code_cost)[0].id_proveedor:"",e=a?this.$store.state.provedores.filter(t=>t.id==a)[0].namelong:"";setTimeout(async()=>{await this.calcTotales(t.listCostos),t.proveedor=e,t.flete=this.resumenOpcion.flete?this.currencyFormat(this.resumenOpcion.flete):this.currencyFormat(0),t.origen=this.resumenOpcion.origen?this.currencyFormat(this.resumenOpcion.origen):this.currencyFormat(0),t.local=this.resumenOpcion.gasto?this.currencyFormat(this.resumenOpcion.gasto):this.currencyFormat(0),t.aduana=this.resumenOpcion.aduana?this.currencyFormat(this.resumenOpcion.aduana):this.currencyFormat(0),t.almacen=this.resumenOpcion.almacen?this.currencyFormat(this.resumenOpcion.almacen):this.currencyFormat(0),t.gastostercero=this.resumenOpcion.gastostercero?this.currencyFormat(this.resumenOpcion.gastostercero):this.currencyFormat(0),t.total=this.currencyFormat(parseFloat(this.resumenOpcion.flete?this.resumenOpcion.flete:0)+parseFloat(this.resumenOpcion.origen?this.resumenOpcion.origen:0)+parseFloat(this.resumenOpcion.gasto?this.resumenOpcion.gasto:0)+parseFloat(this.resumenOpcion.aduana?this.resumenOpcion.aduana:0)+parseFloat(this.resumenOpcion.almacen?this.resumenOpcion.almacen:0)+parseFloat(this.resumenOpcion.gastostercero?this.resumenOpcion.gastostercero:0)),this.opcionesSeleccionadas.push(t)},100)}),this.loadingTable=!1},async calcTotales(t){await this.calcularTotalesFleteVentas(t),await this.calcularTotalesFlete(t),await this.calcularTotalesNoFlete(t)},calcularTotalesFleteVentas(t){this.totalFleteVentas=0,this.isFlete(t)&&t.filter(t=>1==t.esfleteflag&&1==t.status&&1==t.esventaflag).forEach(t=>{this.isNotPorcentaje(t,t.id_multiplicador)&&(this.totalFleteVentas+=(this.$store.state.aduana.listMultiplicador.filter(a=>a.id==t.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(a=>a.id==t.id_multiplicador)[0].valor:0)*t.costounitario*this.calcularFac(this.$store.state.aduana.listMultiplicador.filter(a=>a.id==t.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(a=>a.id==t.id_multiplicador)[0].code:"N",this.$store.state.aduana.datosPrincipales.volumen,this.$store.state.aduana.datosPrincipales.peso,this.$store.state.aduana.datosPrincipales.containers,this.$store.state.aduana.datosPrincipales.amount))})},calcularTotalesFlete(t){this.totalOption=0,this.resumenOpcion={flete:0,origen:0,gasto:0,aduana:0,almacen:0,gastostercero:0},this.isFlete(t)&&t.filter(t=>1==t.esfleteflag&&1==t.status&&1==t.esopcionflag).forEach(t=>{this.isNotPorcentaje(t,t.id_multiplicador)?this.resumenOpcion.flete+=(this.$store.state.aduana.listMultiplicador.filter(a=>a.id==t.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(a=>a.id==t.id_multiplicador)[0].valor:0)*t.costounitario*this.calcularFac(this.$store.state.aduana.listMultiplicador.filter(a=>a.id==t.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(a=>a.id==t.id_multiplicador)[0].code:"N",this.$store.state.aduana.datosPrincipales.volumen,this.$store.state.aduana.datosPrincipales.peso,this.$store.state.aduana.datosPrincipales.containers,this.$store.state.aduana.datosPrincipales.amount):this.resumenOpcion.flete+=this.calcularValor(this.$store.state.aduana.datosPrincipales.amount,this.totalFleteVentas,this.$store.state.aduana.listMultiplicador.filter(a=>a.id==t.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(a=>a.id==t.id_multiplicador)[0].code:"",this.$store.state.aduana.listMultiplicador.some(a=>a.id==t.id_multiplicador&&(14==a.code||13==a.code||5==a.code))?this.$store.state.aduana.listMultiplicador.some(a=>a.id==t.id_multiplicador&&(14==a.code||13==a.code))?t.cif:t.seguro:0)})},calcularTotalesNoFlete(t){this.resumenOpcion={flete:this.resumenOpcion.flete,origen:0,gasto:0,aduana:0,almacen:0,gastostercero:0},t.filter(t=>1==t.status&&1==t.esopcionflag).forEach(a=>{this.isOrigen(t)&&1==a.esorigenflag&&(this.isNotPorcentaje(a,a.id_multiplicador)?this.resumenOpcion.origen+=(this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador)[0].valor:0)*a.costounitario*this.calcularFac(this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador)[0].code:"N",this.$store.state.aduana.datosPrincipales.volumen,this.$store.state.aduana.datosPrincipales.peso,this.$store.state.aduana.datosPrincipales.containers,this.$store.state.aduana.datosPrincipales.amount):this.resumenOpcion.origen+=this.calcularValor(this.$store.state.aduana.datosPrincipales.amount,this.totalFleteVentas,this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador)[0].code:"",this.$store.state.aduana.listMultiplicador.some(t=>t.id==a.id_multiplicador&&(14==t.code||13==t.code||5==t.code))?this.$store.state.aduana.listMultiplicador.some(t=>t.id==a.id_multiplicador&&(14==t.code||13==t.code))?a.cif:a.seguro:0)),this.isLocal(t)&&a.eslocalflag&&(this.isNotPorcentaje(a,a.id_multiplicador)?this.resumenOpcion.gasto+=(this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador)[0].valor:0)*a.costounitario*this.calcularFac(this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador)[0].code:"N",this.$store.state.aduana.datosPrincipales.volumen,this.$store.state.aduana.datosPrincipales.peso,this.$store.state.aduana.datosPrincipales.containers,this.$store.state.aduana.datosPrincipales.amount):this.resumenOpcion.gasto+=this.calcularValor(this.$store.state.aduana.datosPrincipales.amount,this.totalFleteVentas,this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador)[0].code:"",this.$store.state.aduana.listMultiplicador.some(t=>t.id==a.id_multiplicador&&(14==t.code||13==t.code||5==t.code))?this.$store.state.aduana.listMultiplicador.some(t=>t.id==a.id_multiplicador&&(14==t.code||13==t.code))?a.cif:a.seguro:0)),this.isAduana(t)&&1==a.esaduanaflag&&(this.isNotPorcentaje(a,a.id_multiplicador)?this.resumenOpcion.aduana+=(this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador)[0].valor:0)*a.costounitario*this.calcularFac(this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador)[0].code:"N",this.$store.state.aduana.datosPrincipales.volumen,this.$store.state.aduana.datosPrincipales.peso,this.$store.state.aduana.datosPrincipales.containers,this.$store.state.aduana.datosPrincipales.amount):this.resumenOpcion.aduana+=this.calcularValor(this.$store.state.aduana.datosPrincipales.amount,this.totalFleteVentas,this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador)[0].code:"",this.$store.state.aduana.listMultiplicador.some(t=>t.id==a.id_multiplicador&&(14==t.code||13==t.code||5==t.code))?this.$store.state.aduana.listMultiplicador.some(t=>t.id==a.id_multiplicador&&(14==t.code||13==t.code))?a.cif:a.seguro:0)),this.isAlmacen(t)&&a.esalmacenflag&&(this.isNotPorcentaje(a,a.id_multiplicador)?this.resumenOpcion.almacen+=(this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador)[0].valor:0)*a.costounitario*this.calcularFac(this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador)[0].code:"N",this.$store.state.aduana.datosPrincipales.volumen,this.$store.state.aduana.datosPrincipales.peso,this.$store.state.aduana.datosPrincipales.containers,this.$store.state.aduana.datosPrincipales.amount):this.resumenOpcion.almacen+=this.calcularValor(this.$store.state.aduana.datosPrincipales.amount,this.totalFleteVentas,this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador)[0].code:"",this.$store.state.aduana.listMultiplicador.some(t=>t.id==a.id_multiplicador&&(14==t.code||13==t.code||5==t.code))?this.$store.state.aduana.listMultiplicador.some(t=>t.id==a.id_multiplicador&&(14==t.code||13==t.code))?a.cif:a.seguro:0)),this.isGastosTercero(t)&&a.esgastostercerosflag&&(this.isNotPorcentaje(a,a.id_multiplicador)?this.resumenOpcion.gastostercero+=(this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador)[0].valor:0)*a.costounitario*this.calcularFac(this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador)[0].code:"N",this.$store.state.aduana.datosPrincipales.volumen,this.$store.state.aduana.datosPrincipales.peso,this.$store.state.aduana.datosPrincipales.containers,this.$store.state.aduana.datosPrincipales.amount):this.resumenOpcion.gastostercero+=this.calcularValor(this.$store.state.aduana.datosPrincipales.amount,this.totalFleteVentas,this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador).length>0?this.$store.state.aduana.listMultiplicador.filter(t=>t.id==a.id_multiplicador)[0].code:"",this.$store.state.aduana.listMultiplicador.some(t=>t.id==a.id_multiplicador&&(14==t.code||13==t.code||5==t.code))?this.$store.state.aduana.listMultiplicador.some(t=>t.id==a.id_multiplicador&&(14==t.code||13==t.code))?a.cif:a.seguro:0))})},isFlete(t){let a=t.some(t=>1==t.esfleteflag&&1==t.status);return a},isOrigen(t){let a=t.some(t=>1==t.esorigenflag&&1==t.status);return a},isLocal(t){let a=t.some(t=>1==t.eslocalflag&&1==t.status);return a},isAduana(t){let a=t.some(t=>1==t.esaduanaflag&&1==t.status);return a},isAlmacen(t){let a=t.some(t=>1==t.esalmacenflag&&1==t.status);return a},isGastosTercero(t){let a=t.some(t=>1==t.esgastostercerosflag&&1==t.status);return a},isConfeccion(t){return 33==t},montoConfeccion(t){let a=0;if(33==t.code_cost){let t=this.$store.state.aduana.datosPrincipales.amount,e=parseFloat(t)+parseFloat(this.totalFleteVentas)+.01*(parseFloat(t)+parseFloat(this.totalFleteVentas));e<5e3&&(a=50),e>=5e3&&e<1e4&&(a=80),e>=1e4&&(a=80+parseFloat(.0025*e))}return t.costounitario=parseFloat(a).toFixed(2),this.currencyFormat(a)},isITBM(t){return 38==t},montoITBM(t){let a=0,e=[29,36,41,68];if(38==t.code_cost){let t=data.filter(t=>e.includes(t.code_cost));t.forEach(t=>{a+=parseFloat((this.$store.state.aduana.listMultiplicador.some(a=>a.id==t.id_multiplicador)?this.$store.state.aduana.listMultiplicador.filter(a=>a.id==t.id_multiplicador)[0].valor:0)*t.costounitario*this.calcularFac(this.$store.state.aduana.listMultiplicador.some(a=>a.id==t.id_multiplicador)?this.$store.state.aduana.listMultiplicador.filter(a=>a.id==t.id_multiplicador)[0].code:"N",this.$store.state.aduana.datosPrincipales.volumen,this.$store.state.aduana.datosPrincipales.peso,this.$store.state.aduana.datosPrincipales.containers,this.$store.state.aduana.datosPrincipales.amount))})}return t.costounitario=parseFloat(.07*a).toFixed(2),this.currencyFormat(parseFloat(.07*a).toFixed(2))},isNotaCredito(t){return 69==t},montoNotaCredito(t){let a=0,e=[33];if(69==t.code_cost){let t=data.filter(t=>e.includes(t.code_cost));t.forEach(t=>{a=t.costounitario})}return t.costounitario=-1*parseFloat(.5*a).toFixed(2),this.currencyFormat(-1*parseFloat(.5*a).toFixed(2))},isNotPorcentaje(t,a){let e=[5,13,14],s=this.$store.state.aduana.listMultiplicador.some(t=>t.id==a&&e.includes(t.code));return!s},abrirModal(){this.dialog=!this.dialog,this.limpiar()},cambiarOpcionSeleccionada(t){console.log(t)}},watch:{async actualizarComparativa(){console.log("comparativa"),await this.calcularTotalesOpciones(),setTimeout(async()=>{await this.agregarFilasAlHeader()},1e3)}},computed:{actualizarComparativa:{get(){return this.$store.state.aduana.actualizarComparativa},set(t){return this.$store.state.aduana.actualizarComparativa=actualizarComparativa}}}},g=m,f=(e("1a55"),e("2877")),v=Object(f["a"])(g,c,d,!1,null,"494ef332",null);a["a"]=v.exports},e690:function(t,a,e){"use strict";e("e74f")},e74f:function(t,a,e){},f3d7:function(t,a,e){},f6d0:function(t,a,e){}}]);