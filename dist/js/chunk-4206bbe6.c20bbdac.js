(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4206bbe6"],{"3d77":function(t,s,e){},4085:function(t,s,e){"use strict";e.r(s);var a=e("c6a6"),o=e("8336"),i=e("b0af"),r=e("62ad"),n=e("8fea"),l=e("4bd4"),u=e("0fd9"),d=e("b73d"),c=e("71a3"),m=e("c671"),p=e("fe57"),v=e("aac8"),b=e("9a96"),h=e("8654"),x=function(){var t=this,s=t._self._c;return s(i["a"],{staticClass:"cardDatos"},[s(p["a"],{attrs:{"background-color":"teal darken-4",grow:"",dark:"","icons-and-text":""},model:{value:t.tab,callback:function(s){t.tab=s},expression:"tab"}},[s(b["a"]),s(c["a"],{attrs:{href:"#datos"}},[t._v(" Datos Principales ")]),s(c["a"],{attrs:{href:"#permisos"}},[t._v(" Permisos y Restricciones ")]),s(c["a"],{attrs:{href:"#usuarios"}},[t._v(" Usuarios ")])],1),s(v["a"],{model:{value:t.tab,callback:function(s){t.tab=s},expression:"tab"}},[s(m["a"],{staticClass:"px-5 items",attrs:{value:"datos"}},[s(l["a"],{ref:"frmDatos"},[s(u["a"],[s(r["a"],{attrs:{cols:"12"}},[s(h["a"],{attrs:{label:"Código",readonly:"",id:"id"},model:{value:t.$store.state.position.model.code,callback:function(s){t.$set(t.$store.state.position.model,"code",s)},expression:"$store.state.position.model.code"}})],1),s(r["a"],{attrs:{cols:"12"}},[s(h["a"],{attrs:{label:"Nombre",readonly:"",id:"id"},model:{value:t.$store.state.position.model.name,callback:function(s){t.$set(t.$store.state.position.model,"name",s)},expression:"$store.state.position.model.name"}})],1),s(r["a"],{attrs:{cols:"12"}},[s(h["a"],{attrs:{label:"Descripción",readonly:"",id:"id"},model:{value:t.$store.state.position.model.description,callback:function(s){t.$set(t.$store.state.position.model,"description",s)},expression:"$store.state.position.model.description"}})],1),s(r["a"],{attrs:{cols:"12"}},[s(d["a"],{attrs:{readonly:"",label:"Estado"},model:{value:t.$store.state.position.model.estado,callback:function(s){t.$set(t.$store.state.position.model,"estado",s)},expression:"$store.state.position.model.estado"}})],1)],1)],1)],1),s(m["a"],{staticClass:"px-5 items",attrs:{value:"permisos"}},[s(u["a"],{staticClass:"pa-5"},[s(r["a"],{attrs:{cols:"6"}},[s("p",[t._v("Módulos")]),s(n["a"],{attrs:{headers:t.headersRoles,items:t.$store.state.position.model.modules_position,"item-key":"id"},scopedSlots:t._u([{key:"item.index",fn:function({index:s}){return[t._v(" "+t._s(s+1)+" ")]}}],null,!0)})],1),s(r["a"],{attrs:{cols:"6"}},[s("p",[t._v("Permisos")]),s(n["a"],{attrs:{headers:t.headersRoles,items:t.$store.state.position.model.button_position,"item-key":"id"},scopedSlots:t._u([{key:"item.index",fn:function({index:s}){return[t._v(" "+t._s(s+1)+" ")]}}],null,!0)})],1)],1)],1),s(m["a"],{staticClass:"px-5 items",attrs:{value:"usuarios"}},[s(u["a"],[s(r["a"],{attrs:{cols:"12"}},[s(u["a"],[s(r["a"],{attrs:{cols:"4"}},[s(a["a"],{attrs:{items:t.$store.state.position.lstUsuarioNoAsignado,"item-value":"id","item-text":"users",label:"Usuarios del sistema no asignados","return-object":"","error-messages":t.errUsuario},model:{value:t.user,callback:function(s){t.user=s},expression:"user"}})],1),s(r["a"],{staticClass:"my-auto",attrs:{cols:"8"}},[s(o["a"],{staticClass:"mx-1",attrs:{color:"info"},on:{click:t.asignar}},[t._v("Agregar")]),s(o["a"],{staticClass:"mx-1",attrs:{color:"success",disabled:!t.guardarFlag},on:{click:function(s){return t.actualizarUsuariosPosicion()}}},[t._v("Guardar Cambios")])],1)],1)],1),s(r["a"],{attrs:{cols:"12"}},[s(n["a"],{staticClass:"elevation-1",attrs:{headers:t.headersUsuarios,items:t.$store.state.position.model.user_position,"item-key":"id"},scopedSlots:t._u([{key:"item.index",fn:function({index:s}){return[t._v(" "+t._s(s+1)+" ")]}},{key:"item.estado",fn:function({item:e}){return[s(d["a"],{on:{change:function(s){t.guardarFlag=!0}},model:{value:e.estado,callback:function(s){t.$set(e,"estado",s)},expression:"item.estado"}})]}},{key:"item.departamentos",fn:function({item:s}){return[t._v(" "+t._s("1"==s.departamento?"Pricing":"Operativo")+" ")]}}],null,!0)})],1)],1)],1)],1)],1)},f=[],$=(e("14d9"),e("e9f5"),e("a732"),e("2f62")),_={data(){return{tab:"datos",user:"",errUsuario:"",guardarFlag:!1,headersRoles:[{text:"#",value:"index"},{text:"Nombre",value:"name"},{text:"Si/ No",value:"uso"}],headersRoles:[{text:"#",value:"index"},{text:"Nombre",value:"name"},{text:"Si/ No",value:"uso"}],headersUsuarios:[{text:"#",value:"index"},{text:"Documento",value:"document"},{text:"Nombre",value:"nombrecompleto"},{text:"Usuario",value:"users"},{text:"Teléfono",value:"phone"},{text:"Departamento",value:"departamentos"},{text:"Estado",value:"estado"},{text:"Creación",value:"created_at"},{text:"Última Actualización",value:"updated_at"}]}},async mounted(){this.$store.state.position.model.id=this.$route.params.id,this.$store.state.spiner=!0,await this.verPosition(),await this.cargarUsuarioNoAsignadoPosicion(),this.$store.state.spiner=!1},methods:{...Object($["b"])(["verPosition","cargarUsuarioNoAsignadoPosicion","setPosition"]),asignar(){return this.errUsuario="",this.user?this.$store.state.position.model.user_position.some(t=>t.users==this.user.users)?(this.errUsuario="El usuario ya se encuentra en la lista",!1):(this.$store.state.position.model.user_position.push(this.user),void(this.guardarFlag=!0)):(this.errUsuario="Es necesario seleccionar un usuario.",!1)},async actualizarUsuariosPosicion(){this.errUsuario="",this.$store.state.spiner=!0,await this.setPosition(),await this.verPosition(),await this.cargarUsuarioNoAsignadoPosicion(),this.user="",this.$store.state.spiner=!1}}},g=_,k=(e("5264"),e("2877")),y=Object(k["a"])(g,x,f,!1,null,"2a0b670c",null);s["default"]=y.exports},5264:function(t,s,e){"use strict";e("3d77")}}]);