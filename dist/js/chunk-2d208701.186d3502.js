(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d208701"],{a590:function(t,e,s){"use strict";s.r(e);var o=s("c6a6"),a=s("8336"),i=s("b0af"),r=s("99d9"),l=s("4bd4"),n=s("132d"),d=s("67b6"),c=s("43a6"),w=s("2fa4"),$=s("b73d"),m=s("8654"),u=function(){var t=this,e=t._self._c;return e(i["a"],[e(r["d"],{attrs:{"primary-title":""}},[t._v(" "+t._s(t.getName())+" "),e(w["a"]),e(a["a"],{attrs:{icon:"",color:"default"},on:{click:function(e){t.$store.state.town.drawer=!t.$store.state.town.drawer}}},[e(n["a"],[t._v("mdi-close")])],1)],1),"filter"==t.$store.state.town.tipo?e(r["c"],[e("div",{staticClass:"col-12 py-1"},[e(o["a"],{attrs:{label:"Pais",items:t.$store.state.itemsPais,"item-text":"name","item-value":"id",clearable:"ver"!=t.$store.state.town.tipo},on:{change:function(e){return t.ObtenerEstados(t.$store.state.town.filtros.id_pais)}},model:{value:t.$store.state.town.filtros.id_pais,callback:function(e){t.$set(t.$store.state.town.filtros,"id_pais",e)},expression:"$store.state.town.filtros.id_pais"}})],1),e("div",{staticClass:"col-12 py-1"},[e(o["a"],{attrs:{label:"Estado (Región)",items:t.$store.state.itemsState,"item-text":"name","item-value":"id",clearable:"ver"!=t.$store.state.town.tipo,loading:t.loadingEstado},on:{change:function(e){return t.ObtenerCity(t.$store.state.town.filtros.id_state)}},model:{value:t.$store.state.town.filtros.id_state,callback:function(e){t.$set(t.$store.state.town.filtros,"id_state",e)},expression:"$store.state.town.filtros.id_state"}})],1),e("div",{staticClass:"col-12 py-1"},[e(o["a"],{attrs:{label:"Ciudad",items:t.$store.state.itemsCity,"item-text":"name","item-value":"id",clearable:"ver"!=t.$store.state.town.tipo,loading:t.loadingEstado},model:{value:t.$store.state.town.filtros.id_city,callback:function(e){t.$set(t.$store.state.town.filtros,"id_city",e)},expression:"$store.state.town.filtros.id_city"}})],1),e("div",{staticClass:"col-12 py-1"},[e(m["a"],{attrs:{label:"Código",clearable:"ver"!=t.$store.state.town.tipo},model:{value:t.$store.state.town.filtros.code,callback:function(e){t.$set(t.$store.state.town.filtros,"code",e)},expression:"$store.state.town.filtros.code"}})],1),e("div",{staticClass:"col-12 py-1"},[e(m["a"],{attrs:{label:"Nombre",clearable:"ver"!=t.$store.state.town.tipo},model:{value:t.$store.state.town.filtros.name,callback:function(e){t.$set(t.$store.state.town.filtros,"name",e)},expression:"$store.state.town.filtros.name"}})],1),e("div",{staticClass:"col-12 py-1"},[e(m["a"],{attrs:{label:"Descripción",clearable:"ver"!=t.$store.state.town.tipo},model:{value:t.$store.state.town.filtros.description,callback:function(e){t.$set(t.$store.state.town.filtros,"description",e)},expression:"$store.state.town.filtros.description"}})],1),e("div",{staticClass:"col-12 py-1"},[e("span",[t._v(" Estado")]),e(c["a"],{attrs:{row:"",dense:""},model:{value:t.$store.state.town.filtros.status,callback:function(e){t.$set(t.$store.state.town.filtros,"status",e)},expression:"$store.state.town.filtros.status"}},[e(d["a"],{attrs:{label:"Activo",color:"green",value:"1"}}),e(d["a"],{attrs:{label:"Inactivo",color:"red",value:"0"}}),e(d["a"],{attrs:{label:"Todos",color:"blue",value:"null"}})],1)],1)]):e(r["c"],[e(l["a"],{ref:"frmDML"},[e("div",{staticClass:"col-12 py-1"},[e(o["a"],{attrs:{label:"Pais (*)",items:t.$store.state.itemsPais,readonly:"ver"==t.$store.state.town.tipo,"item-text":"name","item-value":"id",rules:[t=>!!t||"Dato Requerido"],"item-disabled":t=>1!=t.status},on:{change:function(e){return t.ObtenerEstados(t.$store.state.town.model.id_pais)}},model:{value:t.$store.state.town.model.id_pais,callback:function(e){t.$set(t.$store.state.town.model,"id_pais",e)},expression:"$store.state.town.model.id_pais"}})],1),t.$store.state.town.model.id_pais?e("div",{staticClass:"col-12 py-1"},[e(o["a"],{attrs:{label:"Estado (Región) (*)",items:t.$store.state.itemsState,readonly:"ver"==t.$store.state.town.tipo,"item-text":"name","item-value":"id",rules:[t=>!!t||"Dato Requerido"],loading:t.loadingEstado,"item-disabled":t=>1!=t.status},on:{change:function(e){return t.ObtenerCity(t.$store.state.town.model.id_state)}},model:{value:t.$store.state.town.model.id_state,callback:function(e){t.$set(t.$store.state.town.model,"id_state",e)},expression:"$store.state.town.model.id_state"}})],1):t._e(),t.$store.state.town.model.id_state?e("div",{staticClass:"col-12 py-1"},[e(o["a"],{attrs:{label:"Ciudad (*)",items:t.$store.state.itemsCity,readonly:"ver"==t.$store.state.town.tipo,"item-text":"name","item-value":"id",rules:[t=>!!t||"Dato Requerido"],loading:t.loadingCity,"item-disabled":t=>1!=t.status},model:{value:t.$store.state.town.model.id_city,callback:function(e){t.$set(t.$store.state.town.model,"id_city",e)},expression:"$store.state.town.model.id_city"}})],1):t._e(),e("div",{staticClass:"col-12 py-1"},["nuevo"!=t.$store.state.town.tipo?e(m["a"],{attrs:{readonly:"nuevo"!=t.$store.state.town.tipo,label:"Código"},model:{value:t.$store.state.town.model.code,callback:function(e){t.$set(t.$store.state.town.model,"code",e)},expression:"$store.state.town.model.code"}}):t._e()],1),e("div",{staticClass:"col-12 py-1"},[e(m["a"],{attrs:{readonly:"ver"==t.$store.state.town.tipo,label:"Nombre (*)",rules:[t=>!!t||"Dato Requerido",t=>!!t&&t.length<255||"El nombre no puede exceder los 255 caracteres."]},model:{value:t.$store.state.town.model.name,callback:function(e){t.$set(t.$store.state.town.model,"name",e)},expression:"$store.state.town.model.name"}})],1),e("div",{staticClass:"col-12 py-1"},[e(m["a"],{attrs:{readonly:"ver"==t.$store.state.town.tipo,label:"Descripción (*)",clearable:"ver"!=t.$store.state.town.tipo,rules:[t=>!!t||"Dato Requerido",t=>!!t&&t.length<255||"El nombre no puede exceder los 255 caracteres."]},model:{value:t.$store.state.town.model.description,callback:function(e){t.$set(t.$store.state.town.model,"description",e)},expression:"$store.state.town.model.description"}})],1),e("div",{staticClass:"col-12 py-1"},[e("span",[t._v(" Estado")]),e($["a"],{attrs:{readonly:"ver"==t.$store.state.town.tipo,label:"Estado: "+(t.$store.state.town.model.status?"Activo":"Inactivo"),color:"success"},model:{value:t.$store.state.town.model.status,callback:function(e){t.$set(t.$store.state.town.model,"status",e)},expression:"$store.state.town.model.status"}})],1)])],1),e(r["a"],[e(w["a"]),"filter"==t.$store.state.town.tipo?e(a["a"],{staticClass:"mx-1",attrs:{color:"success",loading:t.loading},on:{click:function(e){return t.Filtrar()}}},[t._v("Aceptar")]):t._e(),"filter"==t.$store.state.town.tipo?e(a["a"],{staticClass:"mx-1",attrs:{color:"default",loading:t.loading},on:{click:function(e){return t.Limpiar()}}},[t._v("Limpiar")]):t._e(),"filter"!=t.$store.state.town.tipo&&"ver"!=t.$store.state.town.tipo?e(a["a"],{staticClass:"mx-1",attrs:{color:"success",loading:t.loading},on:{click:function(e){return t.Aceptar()}}},[t._v("Aceptar")]):t._e(),e(a["a"],{staticClass:"mx-1",attrs:{color:"warning",loading:t.loading},on:{click:function(e){t.$store.state.town.drawer=!t.$store.state.town.drawer}}},[t._v("Cerrar")])],1)],1)},p=[],v=s("2f62"),f={data(){return{loading:!1,loadingEstado:!1,loadingCity:!1,model:""}},methods:{...Object(v["b"])(["GetListTown","_getPais","_getState","_getCity","setTown","ActualizarTown"]),getName(){return"ver"==this.$store.state.town.tipo?`Distrito ${this.model.name} – Modo Vista`:"nuevo"==this.$store.state.town.tipo?"Nuevo distrito":"editar"==this.$store.state.town.tipo?"Modificar Distrito: "+this.model.name:"filter"==this.$store.state.town.tipo?"Filtrar Registros":void 0},async ObtenerEstados(t){this.loadingEstado=!0,await this._getState(t),this.$store.state.town.model.id_state="",this.$store.state.town.model.id_city="",this.loadingEstado=!1},async ObtenerCity(t){this.loadingCity=!0,await this._getCity(t),this.$store.state.town.model.id_city="",this.loadingCity=!1},async Filtrar(){this.loading=!0,await this.GetListTown(),this.loading=!1,this.$store.state.town.drawer=!this.$store.state.town.drawer},async Limpiar(){this.$store.state.town.filtros={id:"",id_pais:"",code:"",name:"",description:"",status:"1",id_state:""},this.loading=!0,await this.GetListTown(),this.loading=!1,this.$store.state.town.drawer=!this.$store.state.town.drawer},async Aceptar(){"nuevo"==this.$store.state.town.tipo&&this.$refs.frmDML.validate()&&(this.loading=!0,await this.setTown(),await this.GetListTown(),this.loading=!1),"editar"==this.$store.state.town.tipo&&(this.loading=!0,this.$refs.frmDML.validate()&&(await this.ActualizarTown(),await this.GetListTown()),this.loading=!1),"ver"==this.$store.state.town.tipo&&(this.$store.state.town.drawer=!this.$store.state.town.drawer)}},computed:{drawer:{get(){return this.$store.state.town.drawer},set(t){return this.$store.state.town.drawer=drawer}}},watch:{drawer(){this.model={...this.$store.state.town.model},this.$refs.frmDML.resetValidation()}}},b=f,h=s("2877"),g=Object(h["a"])(b,u,p,!1,null,null,null);e["default"]=g.exports}}]);