(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bce74"],{"2a5d":function(s,e,t){"use strict";t.r(e);var o=t("c6a6"),r=t("8336"),a=t("b0af"),i=t("99d9"),l=t("ac7c"),n=t("4bd4"),u=t("132d"),c=t("67b6"),d=t("43a6"),g=t("2fa4"),b=t("b73d"),$=t("8654"),p=function(){var s=this,e=s._self._c;return e(a["a"],[e(i["d"],{attrs:{"primary-title":""}},[s._v(" "+s._s(s.getName())+" "),e(g["a"]),e(r["a"],{attrs:{icon:"",color:"default"},on:{click:function(e){s.$store.state.subingreso.drawer=!s.$store.state.subingreso.drawer}}},[e(u["a"],[s._v("mdi-close")])],1)],1),"filter"==s.$store.state.subingreso.tipo?e(i["c"],[e("div",{staticClass:"col-12 py-1"},[e(o["a"],{attrs:{label:"Tipo de Ingreso",items:s.$store.state.ingresos.list,"item-text":"descripcion","item-value":"id"},model:{value:s.$store.state.subingreso.filtros.id_ingreso,callback:function(e){s.$set(s.$store.state.subingreso.filtros,"id_ingreso",e)},expression:"$store.state.subingreso.filtros.id_ingreso"}})],1),e("div",{staticClass:"col-12 py-1"},[e($["a"],{attrs:{label:"Código",clearable:"ver"!=s.$store.state.subingreso.tipo},model:{value:s.$store.state.subingreso.filtros.code,callback:function(e){s.$set(s.$store.state.subingreso.filtros,"code",e)},expression:"$store.state.subingreso.filtros.code"}})],1),e("div",{staticClass:"col-12 py-1"},[e($["a"],{attrs:{label:"Descripción",clearable:"ver"!=s.$store.state.subingreso.tipo},model:{value:s.$store.state.subingreso.filtros.description,callback:function(e){s.$set(s.$store.state.subingreso.filtros,"description",e)},expression:"$store.state.subingreso.filtros.description"}})],1),e("div",{staticClass:"col-12 py-1"},[e("span",[s._v(" Se calcula en reportes")]),e(d["a"],{attrs:{row:"",dense:""},model:{value:s.$store.state.subingreso.filtros.calculoflag,callback:function(e){s.$set(s.$store.state.subingreso.filtros,"calculoflag",e)},expression:"$store.state.subingreso.filtros.calculoflag"}},[e(c["a"],{attrs:{label:"Si",color:"green",value:!0}}),e(c["a"],{attrs:{label:"No",color:"red",value:!1}}),e(c["a"],{attrs:{label:"Todos",color:"blue",value:"null"}})],1)],1),e("div",{staticClass:"col-12 py-1"},[e("span",[s._v(" Se muestra en reportes")]),e(d["a"],{attrs:{row:"",dense:""},model:{value:s.$store.state.subingreso.filtros.mostrarflag,callback:function(e){s.$set(s.$store.state.subingreso.filtros,"mostrarflag",e)},expression:"$store.state.subingreso.filtros.mostrarflag"}},[e(c["a"],{attrs:{label:"Si",color:"green",value:!0}}),e(c["a"],{attrs:{label:"No",color:"red",value:!1}}),e(c["a"],{attrs:{label:"Todos",color:"blue",value:"null"}})],1)],1),e("div",{staticClass:"col-12 py-1"},[e("span",[s._v(" Estado")]),e(d["a"],{attrs:{row:"",dense:""},model:{value:s.$store.state.subingreso.filtros.status,callback:function(e){s.$set(s.$store.state.subingreso.filtros,"status",e)},expression:"$store.state.subingreso.filtros.status"}},[e(c["a"],{attrs:{label:"Activo",color:"green",value:!0}}),e(c["a"],{attrs:{label:"Inactivo",color:"red",value:!1}}),e(c["a"],{attrs:{label:"Todos",color:"blue",value:"null"}})],1)],1)]):e(i["c"],[e(n["a"],{ref:"frmDML"},[e("div",{staticClass:"col-12 py-1"},[e(o["a"],{attrs:{label:"Tipo de Ingreso (*)",items:s.$store.state.ingresos.list,"item-text":"descripcion","item-value":"id",rules:[s=>!!s||"Dato Requerido"],readonly:"ver"==s.$store.state.subingreso.tipo,"item-disabled":s=>1!=s.status},model:{value:s.$store.state.subingreso.model.id_ingreso,callback:function(e){s.$set(s.$store.state.subingreso.model,"id_ingreso",e)},expression:"$store.state.subingreso.model.id_ingreso"}})],1),e("div",{staticClass:"col-12 py-1"},[e($["a"],{attrs:{readonly:"nuevo"!=s.$store.state.subingreso.tipo,label:"Código (*)","error-messages":s.err,rules:[s=>!!s||"Dato Requerido",s=>(!!s&&s.length)<5||"El codigo no puede exceder los 5 caracteres."]},on:{blur:function(e){return s.validateCodigo()}},model:{value:s.$store.state.subingreso.model.code,callback:function(e){s.$set(s.$store.state.subingreso.model,"code",e)},expression:"$store.state.subingreso.model.code"}})],1),e("div",{staticClass:"col-12 py-1"},[e($["a"],{attrs:{readonly:"ver"==s.$store.state.subingreso.tipo,label:"Descripción (*)",clearable:"ver"!=s.$store.state.subingreso.tipo,rules:[s=>!!s||"Dato Requerido",s=>!!s&&s.length<255||"La descripción no puede exceder los 255 caracteres."]},model:{value:s.$store.state.subingreso.model.description,callback:function(e){s.$set(s.$store.state.subingreso.model,"description",e)},expression:"$store.state.subingreso.model.description"}})],1),e("div",{staticClass:"col-12 py-1"},[e(l["a"],{attrs:{label:"Se calcula en Reportes"},model:{value:s.$store.state.subingreso.model.calculoflag,callback:function(e){s.$set(s.$store.state.subingreso.model,"calculoflag",e)},expression:"$store.state.subingreso.model.calculoflag"}})],1),e("div",{staticClass:"col-12 py-1"},[e(l["a"],{attrs:{label:"Se Muestra en Reportes"},model:{value:s.$store.state.subingreso.model.mostrarflag,callback:function(e){s.$set(s.$store.state.subingreso.model,"mostrarflag",e)},expression:"$store.state.subingreso.model.mostrarflag"}})],1),e("div",{staticClass:"col-12 py-1"},[e("span",[s._v(" Estado")]),e(b["a"],{attrs:{readonly:"ver"==s.$store.state.subingreso.tipo,label:"Estado: "+(s.$store.state.subingreso.model.status?"Activo":"Inactivo"),color:"success"},model:{value:s.$store.state.subingreso.model.status,callback:function(e){s.$set(s.$store.state.subingreso.model,"status",e)},expression:"$store.state.subingreso.model.status"}})],1)])],1),e(i["a"],[e(g["a"]),"filter"==s.$store.state.subingreso.tipo?e(r["a"],{staticClass:"mx-1",attrs:{color:"success",loading:s.loading},on:{click:function(e){return s.Filtrar()}}},[s._v("Aceptar")]):s._e(),"filter"==s.$store.state.subingreso.tipo?e(r["a"],{staticClass:"mx-1",attrs:{color:"default",loading:s.loading},on:{click:function(e){return s.Limpiar()}}},[s._v("Limpiar")]):s._e(),"filter"!=s.$store.state.subingreso.tipo&&"ver"!=s.$store.state.subingreso.tipo?e(r["a"],{staticClass:"mx-1",attrs:{color:"success",loading:s.loading},on:{click:function(e){return s.Aceptar()}}},[s._v("Aceptar")]):s._e(),e(r["a"],{staticClass:"mx-1",attrs:{color:"warning",loading:s.loading},on:{click:function(e){s.$store.state.subingreso.drawer=!s.$store.state.subingreso.drawer}}},[s._v("Cerrar")])],1)],1)},f=[],m=t("2f62"),v={data(){return{loading:!1,loadingEstado:!1,loadingCity:!1,model:"",err:""}},methods:{...Object(m["b"])(["GetListSubIngreso","getValidateCodeSubIngreso","setSubIngreso","ActualizarSubIngreso"]),getName(){return"ver"==this.$store.state.subingreso.tipo?`Tipo de Subingreso ${this.model.description} – Modo Vista`:"nuevo"==this.$store.state.subingreso.tipo?"Nuevo Tipo de Subingreso":"editar"==this.$store.state.subingreso.tipo?"Modificar Tipo de Subingreso: "+this.model.description:"filter"==this.$store.state.subingreso.tipo?"Filtrar Registros":void 0},async Filtrar(){this.loading=!0,await this.GetListSubIngreso(),this.loading=!1,this.$store.state.subingreso.drawer=!this.$store.state.subingreso.drawer},async Limpiar(){this.$store.state.subingreso.filtros={id:"",id_ingreso:"",code:"",description:"",status:!0,id_branch:"",calculoflag:"null",mostrarflag:"null"},this.loading=!0,await this.GetListSubIngreso(),this.loading=!1,this.$store.state.subingreso.drawer=!this.$store.state.subingreso.drawer},async validateCodigo(){if(this.err="","nuevo"==this.$store.state.subingreso.tipo){let s=await this.getValidateCodeSubIngreso();this.err=s.mensaje,s.estadoflag&&(this.$store.state.subingreso.model.code="")}},async Aceptar(){"nuevo"==this.$store.state.subingreso.tipo&&this.$refs.frmDML.validate()&&(this.loading=!0,await this.setSubIngreso(),await this.GetListSubIngreso(),this.loading=!1),"editar"==this.$store.state.subingreso.tipo&&(this.loading=!0,this.$refs.frmDML.validate()&&(await this.ActualizarSubIngreso(),await this.GetListSubIngreso()),this.loading=!1),"ver"==this.$store.state.subingreso.tipo&&(this.$store.state.subingreso.drawer=!this.$store.state.subingreso.drawer)}},computed:{drawer:{get(){return this.$store.state.subingreso.drawer},set(s){return this.$store.state.subingreso.drawer=drawer}}},watch:{drawer(){this.model={...this.$store.state.subingreso.model},this.$refs.frmDML.resetValidation()}}},h=v,w=t("2877"),C=Object(w["a"])(h,p,f,!1,null,"4bb3532e",null);e["default"]=C.exports}}]);