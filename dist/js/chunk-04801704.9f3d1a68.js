(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04801704"],{b42f:function(t,e,a){},d702:function(t,e,a){"use strict";a("b42f")},e7ae:function(t,e,a){"use strict";a.r(e);var o=a("0798"),s=a("c6a6"),i=a("8336"),l=a("b0af"),r=a("99d9"),n=a("62ad"),d=a("8fea"),c=a("169a"),u=a("ce7e"),_=a("4bd4"),p=a("132d"),v=a("0fd9"),m=a("b974"),A=a("1f4f"),f=a("2fa4"),h=a("8654"),E=a("a844"),C=function(){var t=this,e=t._self._c;return e(l["a"],{attrs:{elevation:"5"}},[e(r["d"],[e(h["a"],{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e(f["a"]),e(A["a"],{staticClass:"elevation-5",attrs:{dense:""}},[e("thead",[e("tr",[e("th",[t._v("Dia")]),e("th",[t._v("Nuevos")]),e("th",[t._v("Recurente")])])]),e("tbody",t._l(t.itemResumen,(function(a,o){return e("tr",{key:o},[e("td",[t._v(t._s(t.getFecha(a.day)))]),e("td",[t._v(t._s(a.new))]),e("td",[t._v(t._s(a.recurrente))])])})),0)]),e(f["a"]),e(i["a"],{attrs:{color:"green",text:"",loading:t.loading},on:{click:function(e){return t.exportar()}}},[t._v("Exportar")])],1),e(r["c"],[e(u["a"]),e(d["a"],{staticClass:"elevation-5",attrs:{dense:"",headers:t.headers,items:t.$store.state.calculadoras.listUser,search:t.search,"single-expand":t.singleExpand,"show-expand":"",expanded:t.expanded,"item-key":"index","multi-sort":""},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"item.accion",fn:function({item:a}){return[e(i["a"],{attrs:{"x-small":"",icon:"",color:"primary"},on:{click:function(e){return t.openCall(a)}}},[e(p["a"],[t._v("mdi-phone")])],1),e(i["a"],{attrs:{"x-small":"",icon:"",color:"info"},on:{click:function(e){return t.openHistoryCall(a)}}},[e(p["a"],[t._v("mdi-clipboard-text-clock")])],1)]}},{key:"expanded-item",fn:function({item:a}){return[e("td",{staticClass:"px-3",attrs:{colspan:t.headers.length}},[e(A["a"],[e("thead",[e("tr",[e("th",[t._v("Acción")]),e("th",[t._v("Token")]),e("th",[t._v("Tipo Carga")]),e("th",[t._v("Fecha Registro")]),e("th",[t._v("Peso")]),e("th",[t._v("Volumen")]),e("th",[t._v("Valor Mercancia")]),e("th",[t._v("Contenedor(s)")])])]),e("tbody",t._l(a.list_cotizacion,(function(o,s){return e("tr",{key:s},[e("td",[o.esfcl?e(i["a"],{attrs:{icon:"",color:"primary"},on:{click:function(e){return t.obtenerFCL(o.reporte_token,a)}}},[e(p["a"],[t._v("mdi-eye")])],1):t._e(),o.eslcl?e(i["a"],{attrs:{icon:"",color:"success"},on:{click:function(e){return t.obtenerLCL(o.reporte_token,a)}}},[e(p["a"],[t._v("mdi-eye")])],1):t._e(),o.esaereo?e(i["a"],{attrs:{icon:"",color:"info"},on:{click:function(e){return t.obtenerAEREO(o.reporte_token,a)}}},[e(p["a"],[t._v("mdi-eye")])],1):t._e()],1),e("td",[t._v(t._s(o.reporte_token))]),e("td",[t._v(t._s(o.reporte_tipo_carga))]),e("td",[t._v(" "+t._s(t.obtener_fecha(o.reporte_datecreation))+" ")]),e("td",[t._v(t._s(o.reporte_peso))]),e("td",[t._v(t._s(o.reporte_volumen))]),e("td",[t._v(t._s(o.reporte_input_valor_mercancia))]),e("td",t._l(o.reporte_contenedores,(function(a){return e("p",{key:a},[t._v(" Tipo Contenedor: "+t._s(a.contenedor)+" Cantidad: "+t._s(a.cant_contenedor)+" ")])})),0)])})),0)])],1)]}}],null,!0)})],1),e(c["a"],{attrs:{scrollable:"",persistent:"",overlay:!1,"max-width":"50%",transition:"dialog-transition"},model:{value:t.dialogCalls,callback:function(e){t.dialogCalls=e},expression:"dialogCalls"}},[e(l["a"],[e(r["d"],{attrs:{"primary-title":""}},[t._v(" Registro de Llamadas : "+t._s(t.user.usuario_nombre)+" - "+t._s(t.user.usuario_telefono)+" - "+t._s(t.user.usuario_email)+" "),e(f["a"]),e(i["a"],{attrs:{icon:"",color:"default",text:""},on:{click:function(e){t.dialogCalls=!t.dialogCalls}}},[e(p["a"],[t._v("mdi-close")])],1)],1),e(r["c"],[e(_["a"],{ref:"frmCall"},[e(m["a"],{attrs:{items:t.$store.state.calculadoras.cboStatus,label:"Estado de la llamada","item-text":"status_description","item-value":"status_id",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.call.statuscall,callback:function(e){t.$set(t.call,"statuscall",e)},expression:"call.statuscall"}}),e(h["a"],{attrs:{id:"txtfecha",label:"Fecha y Hora",type:"datetime-local",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.call.date,callback:function(e){t.$set(t.call,"date",e)},expression:"call.date"}}),e(E["a"],{attrs:{label:"Comentario",rules:[t=>!!t||"Dato Requerido"]},model:{value:t.call.comentario,callback:function(e){t.$set(t.call,"comentario",e)},expression:"call.comentario"}}),e(s["a"],{attrs:{items:t.$store.state.pricing.listEjecutivo,label:"Ejecutivo.",dense:"",search:"","item-text":"name","item-value":"id_entitie",rules:[t=>!!t||"Dato Requerido"],"return-object":""},model:{value:t.call.identities,callback:function(e){t.$set(t.call,"identities",e)},expression:"call.identities"}})],1)],1),e(r["a"],[e(f["a"]),e(i["a"],{attrs:{color:"success",text:""},on:{click:function(e){return t.registrarLlamada()}}},[t._v(" Registrar ")]),e(i["a"],{attrs:{color:"warning",text:""},on:{click:function(e){t.dialogCalls=!t.dialogCalls}}},[t._v("Cancelar")])],1)],1)],1),e(c["a"],{attrs:{scrollable:"",overlay:!1,"max-width":"70%",transition:"dialog-transition"},model:{value:t.dialogCallHistory,callback:function(e){t.dialogCallHistory=e},expression:"dialogCallHistory"}},[e(l["a"],[e(r["d"],{attrs:{"primary-title":""}},[t._v(" Registro de Llamadas : "+t._s(t.user.usuario_nombre)+" - "+t._s(t.user.usuario_telefono)+" - "+t._s(t.user.usuario_email)+" "),e(f["a"]),e(i["a"],{attrs:{icon:"",color:"default"},on:{click:function(e){t.dialogCallHistory=!t.dialogCallHistory}}},[e(p["a"],[t._v("mdi-close")])],1)],1),e(r["c"],[e(d["a"],{staticClass:"elevation-1",attrs:{headers:t.headersCall,items:t.calls,"item-key":"id",loading:"true"}})],1)],1)],1),e(c["a"],{attrs:{scrollable:"",persistent:"",overlay:!1,"max-width":"90%",transition:"dialog-transition"},model:{value:t.dialogCotizacion,callback:function(e){t.dialogCotizacion=e},expression:"dialogCotizacion"}},[e(l["a"],[e(r["d"],{attrs:{"primary-title":""}},[e("h1",[t._v(t._s(t.title))]),e(f["a"]),e(i["a"],{attrs:{icon:"",color:"default"},on:{click:function(e){t.dialogCotizacion=!t.dialogCotizacion}}},[e(p["a"],[t._v("mdi-close")])],1)],1),e(r["c"],[e(o["a"],{attrs:{color:"#2A3B4D",dark:"",border:"start"}},[t._v(" INFORMACIÓN DE LA CARGA ")]),e(v["a"],[e(n["a"],{attrs:{cols:"6"}},[e("ul",[e("li",[t._v("Transporte:"+t._s(t.datos.tipo))]),e("li",[t._v(" Ruta Origen: "+t._s(t.datos.flete[0]?t.datos.flete[0].detalles_calculos.pais_origen+" - "+t.datos.flete[0].detalles_calculos.puerto_origen:"")+" ")]),e("li",[t._v(" Ruta Destino: "+t._s(t.datos.flete[0]?t.datos.flete[0].detalles_calculos.pais_destino+" - "+t.datos.flete[0].detalles_calculos.puerto_destino:"")+" ")]),e("li",[t._v(" Contenido de carga : "+t._s(t.datos.flete[0]?"Maritimo - Completo"===t.datos.tipo?t.conver_conten(t.datos.flete):t.datos.flete[0].input_cantidad_bultos+" Bultos, "+t.datos.flete[0].input_peso+" Kl, "+t.datos.flete[0].input_volumen+" M3 ":"")+" ")]),e("li",[t._v(" Gastos portuarios: "+t._s(t.datos.flete[0]?t.datos.flete[0].input_calcular_gastos_y_almacen_aduanero?" SI":" NO":"")+" ")])])]),e(n["a"],{attrs:{cols:"6"}},[e("ul",[e("li",[t._v(" Valor Mercancia: "+t._s(t.datos.flete[0]?t.datos.flete[0].input_calcular_inpuestos_y_permisos?t.datos.flete[0].input_valor_mercancia:" NO COTIZADO":"")+" ")]),e("li",[t._v(" Servicios / Impuestos de Aduana: "+t._s(t.datos.flete[0]?t.datos.flete[0].input_calcular_inpuestos_y_permisos?" SI":" NO":"")+" ")]),e("li",[t._v(" Transporte a Domicilio: "+t._s(t.datos.flete[0]?t.datos.flete[0].input_calcular_transporte?" SI":" NO":"")+" ")]),e("li",[t._v(" Seguro de Mercancia: "+t._s(t.datos.flete[0]?t.datos.flete[0].input_calcular_seguro_mercancia?" SI":" NO":"")+" ")]),e("li",[t._v("Naviera / Agente: "+t._s(t.datos.naviera))]),e("li",[t._v(" "+t._s(t.datos.flete[0]?t.datos.flete[0].input_ha_cotizado?" Segunda Importación":" Primera Importación":"")+" ")])])])],1),e(u["a"]),e(o["a"],{attrs:{color:"#2A3B4D",dark:"",border:"start"}},[t._v(" GANANCIA ")]),e(A["a"],[e("thead",[e("tr",[e("th",[t._v("ITEM")]),e("th",[t._v("SUB ITEM")]),e("th",[t._v("DETALLES")]),e("th",[t._v("PROFIT")]),e("th",[t._v("IGV")]),e("th",[t._v("PROFIT+IGV")])])]),e("tbody",[t._l(t.datos.servicioLogistico,(function(a){return e("tr",{key:a},[e("th",{attrs:{scope:"row"}},[t._v(t._s(a.tipo))]),e("td",[t._v(t._s(a.nombre))]),e("td",[t._v(t._s(a.detalles))]),e("td",[t._v(t._s(a.valor.toFixed(2)))]),e("td"),e("td")])})),e("tr",[e("th",{attrs:{scope:"row"}},[t._v("--")]),e("td",[t._v("--")]),e("td",[t._v("TOTAL")]),e("td",[t._v(" "+t._s(t.datos.servicioLogisticoTotal[0]?t.datos.servicioLogisticoTotal[0].toFixed(2):0)+" ")]),e("td",[t._v(" "+t._s(t.datos.flete[0]&&"PERU"==t.datos.flete[0].detalles_calculos.pais_destino&&t.datos.totalIGVCostos>0?(t.datos.Serviciologis[0]/3*2*.18).toFixed(2):"n/a")+" ")]),e("td",[t._v(" "+t._s(t.datos.flete[0]&&"PERU"==t.datos.flete[0].detalles_calculos.pais_destino&&t.datos.totalIGVCostos>0?(t.datos.Serviciologis[0]/3*2*.18+t.datos.servicioLogisticoTotal[0]).toFixed(2):"n/a")+" ")])])],2)]),e(u["a"]),e(o["a"],{attrs:{color:"#2A3B4D",dark:"",border:""}},[e("h1",[t._v("VENTA")])]),e(A["a"],[e("thead",[e("tr",[e("th",[t._v("ITEM")]),e("th",[t._v("VALOR")]),e("th",[t._v("IGV")]),e("th",[t._v("VALOR+IGV")])])]),e("tbody",[t._l(t.datos.venta,(function(a){return e("tr",{key:a},[e("th",{attrs:{scope:"row"}},[t._v(t._s(a.tipo))]),e("td",[t._v(t._s(a.valor.toFixed(2)))]),e("td",[t._v(" "+t._s(t.datos.flete[0].detalles_calculos?t.igv(a,t.datos.flete[0].detalles_calculos.pais_destino,t.datos.totalIGVCostos):0)+" ")]),e("td",[t._v(" "+t._s(t.datos.flete[0].detalles_calculos?t.igvMasTotal(a,t.datos.flete[0].detalles_calculos.pais_destino,t.datos.totalIGVCostos):0)+" ")])])})),e("tr",[e("th",{attrs:{scope:"row"}},[t._v("TOTAL:")]),e("td",[t._v(" "+t._s(t.datos.totalVenta?t.datos.totalVenta:0)+" ")]),e("td",[t._v(" "+t._s(t.datos.flete[0]?t.totalGeneralMasIGVGanancias(t.datos.servicioLogisticoTotal[0],t.datos.totalIGVCostos,t.datos.flete[0].detalles_calculos.pais_destino,t.datos.totalIGVCostos):0)+" ")]),e("td",[t._v(" "+t._s(t.datos.flete[0]?t.totalGeneralMasIgvVEnta(t.datos.servicioLogisticoTotal[0],t.datos.totalIGVFleteCostos,t.datos.flete[0].detalles_calculos.pais_destino,t.datos.totalIGVCostos,t.datos.totalVenta):0)+" ")])])],2)]),e(u["a"]),e(o["a"],{attrs:{color:"#2A3B4D",dark:"",border:""}},[e("h1",[t._v("COSTOS")])]),e(A["a"],[e("thead",[e("tr",[e("th",[t._v("ITEM")]),e("th",[t._v("SUB ITEM")]),e("th",[t._v("TOTAL")]),e("th",[t._v("--")]),e("th",[t._v("IGV")]),e("th",[t._v("--")]),e("th",[t._v("TOTAL+IGV")]),e("th",[t._v("DETALLES")])])]),e("tbody",[t._l(t.datos.flete,(function(a){return e("tr",{key:a},[e("th",{attrs:{scope:"row"}},[t._v(t._s(a.nombre))]),e("td",[t._v(t._s(a.nombre))]),e("td",[t._v(t._s(a.valor.toFixed(2)))]),e("td",[t._v("--")]),e("td",[t._v("n/a")]),e("td",[t._v("--")]),e("td",[t._v(t._s(a.valor.toFixed(2)))]),e("td",[t._v(t._s(a.detalles))])])})),t._l(t.datos.desgloseValues,(function(a){return e("tr",{key:a},[e("th",{attrs:{scope:"row"}},[t._v(t._s(a.tipo))]),e("td",[t._v(t._s(a.nombre))]),e("td",[t._v(t._s(a.valor.toFixed(2)))]),e("td",[t._v("--")]),e("td",[t._v(" "+t._s(t.datos.flete[0]?t.igv(a,t.datos.flete[0].detalles_calculos.pais_destino,t.datos.totalIGVCostos):0)+" ")]),e("td",[t._v("--")]),e("td",[t._v(" "+t._s(t.igvMasTotal(a,t.datos.flete[0].detalles_calculos.pais_destino,t.datos.totalIGVCostos))+" ")]),e("td",[t._v(t._s(a.detalles))])])})),e("tr",[e("td",{attrs:{colspan:"2"}},[t._v("TOTAL")]),e("td",[t._v(t._s(Number(t.datos.desgloseTotal).toFixed(2)))]),e("td",[t._v("--")]),e("td",[t._v(" "+t._s(t.datos.flete[0]?t.totalGeneralCostos(t.datos.totalIGVCostos,t.datos.flete[0].detalles_calculos.pais_destino):0)+" ")]),e("td",[t._v("--")]),e("td",[t._v(" "+t._s(t.datos.flete[0]?t.totalGeneralCostos(t.datos.totalIGVFleteCostos,t.datos.flete[0].detalles_calculos.pais_destino):0)+" ")]),e("td",[t._v("--")])])],2)]),e(u["a"]),e(o["a"],{attrs:{color:"#2A3B4D",dark:"",border:""}},[e("h1",[t._v("IMPUESTOS DE ADUANA")])]),e(A["a"],[e("thead",[e("tr",[e("th",[t._v("TIPO")]),e("th",[t._v("IMPUESTOS BAJOS")]),e("th",[t._v("IMPUESTOS MEDIOS")]),e("th",[t._v("IMPUESTOS ALTOS")])])]),e("tbody",[e("tr",[e("th",{attrs:{scope:"row"}},[t._v("Percepciones 1era vez")]),e("td",[t._v(t._s(t.datos.impuestosBajos[0]))]),e("td",[t._v(t._s(t.datos.impuestosMedios[0]))]),e("td",[t._v(t._s(t.datos.impuestosAltos[0]))])]),e("tr",[e("th",{attrs:{scope:"row"}},[t._v("ISC")]),e("td",[t._v(t._s(t.datos.impuestosBajos[1]))]),e("td",[t._v(t._s(t.datos.impuestosMedios[1]))]),e("td",[t._v(t._s(t.datos.impuestosAltos[1]))])]),e("tr",[e("th",{attrs:{scope:"row"}},[t._v("IPM")]),e("td",[t._v(t._s(t.datos.impuestosBajos[2]))]),e("td",[t._v(t._s(t.datos.impuestosMedios[2]))]),e("td",[t._v(t._s(t.datos.impuestosAltos[2]))])]),e("tr",[e("th",{attrs:{scope:"row"}},[t._v("IGV")]),e("td",[t._v(t._s(t.datos.impuestosBajos[3]))]),e("td",[t._v(t._s(t.datos.impuestosMedios[3]))]),e("td",[t._v(t._s(t.datos.impuestosAltos[3]))])]),e("tr",[e("th",{attrs:{scope:"row"}},[t._v("AD valorem")]),e("td",[t._v(t._s(t.datos.impuestosBajos[4]))]),e("td",[t._v(t._s(t.datos.impuestosMedios[4]))]),e("td",[t._v(t._s(t.datos.impuestosAltos[4]))])]),e("tr",[e("th",{attrs:{scope:"row"}},[t._v("TOTAL")]),e("td",[t._v(" "+t._s(t.datos.impuestosBajosTotal[0]>0?"$ "+t.datos.impuestosBajosTotal[0]:"No cotizado")+" ")]),e("td",[t._v(" "+t._s(t.datos.impuestosMediosTotal[0]>0?"$ "+t.datos.impuestosMediosTotal[0]:"No cotizado")+" ")]),e("td",[t._v(" "+t._s(t.datos.impuestosAltosTotal[0]>0?"$ "+t.datos.impuestosAltosTotal[0]:"No cotizado")+" ")])])])]),e(u["a"])],1),e(r["a"])],1)],1)],1)},O=[],I=(a("14d9"),a("13d5"),a("e9f5"),a("910d"),a("7d54"),a("ab43"),a("9485"),a("2f62")),S=a("c1df"),T=a.n(S),g=a("54e1"),M={mixins:[g["a"]],data(){return{dialogCotizacion:!1,expanded:[],singleExpand:!1,search:"",dialogCalls:!1,dialogCallHistory:!1,loading:!1,title:"",costos:[],headersResumen:[{text:"Dia",value:"day"},{text:"Nuevos",value:"new"},{text:"Recurente",value:"recurrente"}],itemResumen:[],headers:[{text:"Acciones",value:"accion"},{text:"Fecha Última Actualizacion",value:"usuario_updated"},{text:"Cliente",value:"usuario_nombre"},{text:"Correo",value:"usuario_email"},{text:"Teléfono",value:"usuario_telefono"},{text:"Estatus Última Llamada",value:"status_description"},{text:"Último comentario",value:"usuario_ultimo_comentario"},{text:"Ejecutivo comentario",value:"usuario_entities_name"},{text:"Modo de Registro",value:"usuario_origen"},{text:"",value:"data-table-expand"}],headersCall:[{text:"Acciones",value:"action"},{text:"Fecha Registro",value:"date"},{text:"Comentario",value:"comentario"},{text:"Estado",value:"estado"}],user:{usuario_nombre:"",usuario_email:""},call:{iduser:"",statuscall:"",isuser:"",date:"",comentario:"",fecha:new Date,identities:JSON.parse(sessionStorage.getItem("dataUser"))[0].id_entitie},calls:[],datos:{desgloseKey:[],desglose:!1,desgloseValues:[],desgloseValuesCostos:[],resumen:[],show:!1,flete:[],impuestosBajos:[],totalVenta:[],impuestosMedios:[],impuestosAltos:[],honorarios:[],servicioLogistico:[],Serviciologis:[],impuestosAltosTotal:[],impuestosBajosTotal:[],impuestosMediosTotal:[],servicioLogisticoTotal:[],venta:[],token:[],tipo:[],totalIGVFleteCostos:[],totalIGVCostos:[],activar:!1,cliente:"",contacto:"",correo:"",ejecutivo:"",naviera:[]}}},async mounted(){this.$store.state.spiner=!0,await this.getModulesEntities(),T.a.locale("es");let t=T()(this.fecha).format("YYYY-MM-DDTHH:mm");this.call.date=t,await this.getListUserCalc(),await this.getCboStatus(),this.calcResumen();let e=0;this.$store.state.calculadoras.listUser.forEach(t=>{t.index=e,e++}),this.$store.state.spiner=!1},methods:{...Object(I["b"])(["getListUserCalc","ExportarListUser","getCboStatus","SetCall","GetCotFCL","GetCotLCL","GetCotAereo","GetCotFCLResumen","GetCotLCLResumen","GetCotAereoResumen","getModulesEntities"]),getFecha(t){return T.a.locale("es"),T()(t).format("YYYY-MMM-DD")},async exportar(){this.loading=!0,await this.ExportarListUser(),this.loading=!1},openCall(t){this.user=t;let e=T()(this.fecha).format("YYYY-MM-DDTHH:mm");this.call.date=e,this.dialogCalls=!0},async registrarLlamada(){if(this.$refs.frmCall.validate()){let t={iduser:this.user.usuario_id,statuscall:this.call.statuscall,isuser:this.user.usuario_system,date:T()(this.call.date).format("YYYY-MM-DD HH:mm"),comentario:this.call.comentario,identities:this.call.identities.id_entitie?this.call.identities.name:`${JSON.parse(sessionStorage.getItem("dataUser"))[0].surname} ${JSON.parse(sessionStorage.getItem("dataUser"))[0].second_surname} ${JSON.parse(sessionStorage.getItem("dataUser"))[0].names}`};this.$store.state.overlay=!0,await this.SetCall(t),await this.getListUserCalc(),this.call={iduser:"",statuscall:"",isuser:"",date:"",comentario:"",fecha:new Date},this.dialogCalls=!1,this.$store.state.overlay=!1}},calcResumen(){let t=[],e=T()(new Date).format("YYYY-MM-DD");if(this.$store.state.calculadoras.listUser.length>0)while(t.length<=1)this.$store.state.calculadoras.listUser.filter(t=>T()(t.usuario_creacion).format("YYYY-MM-DD")==e||T()(t.usuario_updated).format("YYYY-MM-DD")==e).length>0&&t.push({day:e}),e=T()(e).subtract(1,"days").format("YYYY-MM-DD");t.forEach(t=>{t.new=this.$store.state.calculadoras.listUser.filter(e=>T()(e.usuario_creacion).format("YYYY-MM-DD")==t.day&&1==e.list_cotizacion.length).length,t.recurrente=this.$store.state.calculadoras.listUser.filter(e=>T()(e.usuario_creacion).format("YYYY-MM-DD")==t.day&&1!=e.list_cotizacion.length).length}),this.itemResumen=t},openHistoryCall(t){this.user=t,this.calls=t.list_call,this.dialogCallHistory=!0},clickRow(t,e){if(e.isExpanded){const e=this.expanded.findIndex(e=>e===t);this.expanded.splice(e,1)}else this.expanded.push(t)},obtener_fecha(t){return T.a.locale("es"),T()(t).format("YYYY-MMM-DD HH:mm")},async obtenerFCL(t,e){this.title="Número de cotización:"+t+"-FCL. Cliente: "+e.usuario_nombre;let a="Maritimo - Completo";await this.GetCotFCL(t),await this.GetCotFCLResumen(t),await this.calculoPrincpipal("FLETE MARÍTIMO",a),await this.calculo(a),this.dialogCotizacion=!0},async obtenerLCL(t,e){this.title="Número de cotización:"+t+"-LCL. Cliente: "+e.usuario_nombre;let a="Maritimo - Compartido";await this.GetCotLCL(t),await this.GetCotLCLResumen(t),await this.calculoPrincpipal("FLETE MARÍTIMO",a),await this.calculo(a),this.dialogCotizacion=!0},async obtenerAEREO(t,e){this.title="Número de cotización:"+t+"-AEREO. Cliente: "+e.usuario_nombre;let a="Aereo";await this.GetCotAereo(t),await this.GetCotAereoResumen(t),await this.getModulesEntities(),await this.calculoPrincpipal("FLETE AÉREO",a),await this.calculo(a),this.dialogCotizacion=!0},calculo(t){let e=this.$store.state.calculadoras.datosresumen,a=e.filter((function(t){if("IMPUESTOS DE ADUANA BAJOS"==t.tipo)return t})).map((function(t){return t.valor.toFixed(2)})),o=e.filter((function(t){if("IMPUESTOS DE ADUANA MEDIOS"==t.tipo)return t})).map((function(t){return t.valor.toFixed(2)})),s=e.filter((function(t){if("IMPUESTOS DE ADUANA ALTOS"==t.tipo)return t})).map((function(t){return t.valor.toFixed(2)}));var i;let l=e.filter((function(t){if("SERVICIO LOGÍSTICO"==t.tipo||"GANANCIA - SERVICIO LOGÍSTICO"==t.tipo)return t})).map((function(t){return t.valor.toFixed(2)}));i=l.length>1?l.reduce((function(t,e){return[+t+ +e]})).map((function(t){return t.toFixed(2)})):l;let r=e.filter((function(t){if("IMPUESTOS DE ADUANA BAJOS"!==t.tipo&&"IMPUESTOS DE ADUANA ALTOS"!==t.tipo&&"IMPUESTOS DE ADUANA MEDIOS"!==t.tipo)return t}));this.datos.impuestosAltosTotal=s,this.datos.impuestosMediosTotal=o,this.datos.impuestosBajosTotal=a,this.datos.Serviciologis=i,this.datos.venta=r,this.datos.tipo=t},calculoPrincpipal(t,e){let a,o,s=this.$store.state.calculadoras.datos,i=s.filter((function(e){if(e.tipo==t)return e})).filter((function(t){if(t.valor>0)return t})),l=s.filter((function(t){return"IMPUESTOS DE ADUANA BAJOS"==t.tipo&&t})).map((function(t){return!1!==t?t.valor.toFixed(2):t})),r=s.filter((function(t){return"IMPUESTOS DE ADUANA MEDIOS"==t.tipo&&t})).map((function(t){return!1!==t?t.valor.toFixed(2):t})),n=s.filter((function(t){return"IMPUESTOS DE ADUANA ALTOS"==t.tipo&&t})).map((function(t){return!1!==t?t.valor.toFixed(2):t})),d=s.filter((function(t){return"TRANSPORTE DE MERCANCÍA"==t.tipo&&t})),c=s.filter((function(t){return"TRÁMITES Y HONORARIOS DE AGENCIA DE ADUANA"==t.tipo&&t})),u=s.filter((function(t){return"SEGURO DE MERCANCÍA SUGERIDO"==t.tipo&&t})),_=s.filter((function(t){return("SERVICIO LOGÍSTICO"==t.tipo||"GANANCIA - SERVICIO LOGÍSTICO"==t.tipo||"Ganancia"==t.detalles)&&t})),p=s.filter((function(e){if("IMPUESTOS DE ADUANA BAJOS"!==e.tipo&&"IMPUESTOS DE ADUANA ALTOS"!==e.tipo&&"IMPUESTOS DE ADUANA MEDIOS"!==e.tipo&&e.tipo!==t&&"SERVICIO LOGÍSTICO"!==e.tipo&&"GANANCIA - SERVICIO LOGÍSTICO"!==e.tipo&&"Ganancia"!==e.detalles&&"TRÁMITES Y HONORARIOS DE AGENCIA DE ADUANA"!==e.tipo&&e.valor>0)return e})),v=s.filter((function(e){if("IMPUESTOS DE ADUANA BAJOS"!==e.tipo&&"IMPUESTOS DE ADUANA ALTOS"!==e.tipo&&"IMPUESTOS DE ADUANA MEDIOS"!==e.tipo&&e.tipo!==t&&"SERVICIO LOGÍSTICO"!==e.tipo&&"GANANCIA - SERVICIO LOGÍSTICO"!==e.tipo&&"Ganancia"!==e.detalles&&0!==e.valor)return e}));switch(i[0].detalles_calculos.pais_destino){case"PERU":a=s.filter((function(e){if("IMPUESTOS DE ADUANA BAJOS"!==e.tipo&&"IMPUESTOS DE ADUANA ALTOS"!==e.tipo&&"IMPUESTOS DE ADUANA MEDIOS"!==e.tipo&&"SERVICIO LOGÍSTICO"!==e.tipo&&"GANANCIA - SERVICIO LOGÍSTICO"!==e.tipo&&e.tipo!==t&&"FLETE"!==e.tipo&&"Ganancia"!==e.detalles&&"THCD"!==e.tipo&&"TCHD DOCUMENTACION"!==e.tipo&&"SEGURO DE MERCANCÍA SUGERIDO"!==e.tipo&&e.valor>0)return e})),o=[0],a.length>1&&(o=a.map((function(t){return(.18*t.valor).toFixed(2)})).reduce((function(t,e){return[+t+ +e]})).map((function(t){return t.toFixed(2)})));break;case"PANAMA":a=s.filter((function(t){if(("PORT CHARGES"==t.tipo||"MANEJOS"==t.tipo)&&t.valor>0)return t})),o=[0],a.length>1&&(o=a.map((function(t){return(.07*t.valor).toFixed(2)})).reduce((function(t,e){return[+t+ +e]})).map((function(t){return t.toFixed(2)})));break;case"VENEZUELA":o=[0];break;default:}let m=s.filter((function(t){if("IMPUESTOS DE ADUANA BAJOS"!==t.tipo&&"IMPUESTOS DE ADUANA ALTOS"!==t.tipo&&"IMPUESTOS DE ADUANA MEDIOS"!==t.tipo&&"SERVICIO LOGÍSTICO"!==t.tipo&&"GANANCIA - SERVICIO LOGÍSTICO"!==t.tipo&&"Ganancia"!==t.detalles&&t.valor>0)return t})).map((function(t){return t.valor.toFixed(2)})).reduce((function(t,e){return[+t+ +e]})),A=s.filter((function(t){if("SERVICIO LOGÍSTICO"==t.tipo||"GANANCIA - SERVICIO LOGÍSTICO"==t.tipo||"Ganancia"==t.detalles)return t})).map((function(t){return t.valor}));var f;f=A.length>1?A.reduce((function(t,e){return[+t+ +e]})):A;let h=Number(m[0])+Number(o[0]);var E,C=Number(f[0])+Number(m[0]);switch(e){case"Maritimo - Completo":E=i[0].detalles_calculos.naviera;break;case"Maritimo - Compartido":E=i[0].detalles_calculos.agentes_lcl_nombre;break;case"Aereo":E=i[0].detalles_calculos.agentes_aereo_nombre;break;default:}this.datos.desgloseValues=v,this.datos.desgloseValuesCostos=p,this.datos.show=!0,this.datos.flete=i,this.datos.impuestosAltos=n,this.datos.impuestosMedios=r,this.datos.impuestosBajos=l,this.datos.servicioLogistico=_,this.datos.transporte=d,this.datos.seguro=u,this.datos.honorarios=c,this.datos.naviera=E,this.datos.totalIGVFleteCostos=h.toFixed(2),this.datos.totalIGVCostos=o[0],this.datos.servicioLogisticoTotal=f,this.datos.desgloseTotal=m[0],this.datos.totalVenta=C},igv(t,e,a){var o;switch(e){case"PERU":o="THCD"!=t.tipo&&"TCHD DOCUMENTACION"!=t.tipo&&"SEGURO DE MERCANCÍA SUGERIDO"!=t.tipo&&"FLETE"!=t.tipo&&"FLETE MARÍTIMO"!=t.tipo&&"FLETE AÉREO"!=t.tipo&&a>0?"SERVICIO LOGÍSTICO"==t.tipo||"GANANCIA - SERVICIO LOGÍSTICO"==t.tipo?(t.valor/3*2*.18).toFixed(2):(.18*t.valor).toFixed(2):"n/a";break;case"PANAMA":o="PORT CHARGES"==t.tipo||"MANEJOS"==t.tipo&&a>0?(.07*t.valor).toFixed(2):"n/a";break;case"VENEZUELA":o="n/a";break;default:}return o},igvMasTotal(t,e,a){var o;switch(e){case"PERU":o="THCD"!=t.tipo&&"TCHD DOCUMENTACION"!=t.tipo&&"SEGURO DE MERCANCÍA SUGERIDO"!=t.tipo&&"FLETE"!=t.tipo&&"FLETE MARÍTIMO"!=t.tipo&&"FLETE AÉREO"!=t.tipo&&a>0?"SERVICIO LOGÍSTICO"==t.tipo||"GANANCIA - SERVICIO LOGÍSTICO"==t.tipo?(t.valor/3*2*.18+t.valor).toFixed(2):(1.18*t.valor).toFixed(2):t.valor;break;case"PANAMA":o="PORT CHARGES"==t.tipo||"MANEJOS"==t.tipo&&a>0?(.07*t.valor+t.valor).toFixed(2):t.valor;break;case"VENEZUELA":o=t.valor;break;default:}return o},totalGeneralCostos(t,e){var a;switch(e){case"PERU":a=t;break;case"PANAMA":a=t;break;case"VENEZUELA":a="";break;default:}return a},totalGeneralMasIGVGanancias(t,e,a,o){var s;switch(a){case"PERU":s=o>0?(Number(t)/3*2*.18+Number(e)).toFixed(2):"n/a";break;case"PANAMA":s=o>0?Number(e).toFixed(2):"n/a";break;case"VENEZUELA":s="n/a";break;default:}return s},totalGeneralMasIgvVEnta(t,e,a,o,s){var i;switch(a){case"PERU":i=o>0?(Number(e)+Number(t/3*2*.18+t)).toFixed(2):"n/a";break;case"PANAMA":i=o>0?(Number(s)+Number(o)).toFixed(2):"n/a";break;case"VENEZUELA":i="n/a";break;default:}return i},conver_conten(t){for(var e=" ",a=t[0].input_contenedores,o=0;o<a.length;o++)switch(a[o][0]){case 1:e+=a[o][1]+"*20' STD, ";break;case 2:e+=a[o][1]+"*40' STD, ";break;case 3:e+=a[o][1]+"*40' HC, ";break;case 4:e+=a[o][1]+"*40' NOR";break;default:}return e}}},D=M,N=(a("d702"),a("2877")),b=Object(N["a"])(D,C,O,!1,null,"67cf5f4c",null);e["default"]=b.exports}}]);